url,markdown
https://tickets.dominodatalab.com/,"[![DOMINO SUPPORT Help Center home page](//theme.zdassets.com/theme_assets/365104/31739e5eee2339b15c93a351322644d452b5acc1.png)](/hc/en-us ""Home"")

[Sign in](/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us&locale=en-us ""Opens a dialog"")

# Welcome to Domino Support!

## How can we help?

# Browse Help Topics

[

### How-to Guides

User guidance in all of Domino's product areas



](https://tickets.dominodatalab.com/hc/en-us/categories/360000081143)

[

### Domino Administration

Resources for Domino Administrators



](https://tickets.dominodatalab.com/hc/en-us/categories/360000081666)

[

### FAQ

Answers to the most commonly asked questions



](https://tickets.dominodatalab.com/hc/en-us/categories/360000081183)

[

### Troubleshooting

Errors or other issues with Domino? Start here



](https://tickets.dominodatalab.com/hc/en-us/categories/360000081163)

[

### Additional Resources

Documentation, Training, and other Resources



](https://tickets.dominodatalab.com/hc/en-us/categories/21803876812948)

[

### Support Policies & Procedures

Our Scope, Policies, and how to get the most out of your support ticket



](https://tickets.dominodatalab.com/hc/en-us/categories/360006023012)

### Latest Alerts

NEW - Information: RunC / Buildkit Vulnerabilities

 > 

  
**_Domino will ship an updated version of buildkit and runc in Domino 5.9.2 in early March, 2024. Below are specific details around CVE’s associated with ""[Leaky Vessels](https://snyk.io/blog/leaky-vessels-docker-runc-container-breakout-vulnerabilities/)"" and applicability to Domino:_**  
  
**CVE-2024-21626:**  
  
This has two potential areas of applicability : The Domino application, and the underlying infrastructure running Domino workloads.  
  
Domino application : Domino version 5.9.1 and earlier ships with a vulnerable version of runc. However, due to container isolation and configuration, the Domino application is not vulnerable as the Domino runc executable is not exposed to users.  
  
Customer infrastructure running Domino workloads : Domino workloads may be vulnerable via authenticated Domino users running malicious or untrusted workloads. Customers should evaluate their infrastructure running Domino workloads and patch runc within their deployments as fixes become available from their infrastructure vendors.  
  
**CVE-2024-23651:**  
  
Domino version 5.9.1 and earlier ships with a vulnerable version of buildkit. However, as configured Domino is not affected by this CVE, as Domino does not support running multiple buildkits at the same time.  
  
**CVE-2024-23652:**  
  
Domino version 5.9.1 and earlier ships with a vulnerable version of buildkit. Domino has evaluated this vulnerability via assessing our defense in depth around application and container isolation. We have scored the risk to be ‘Medium’ with a CVSS v3.1 score of 5.4. Domino recommends customers upgrade to Domino version 5.9.2 or later when it is made available.  
  
**CVE-2024-23653:**  
  
Domino version 5.9.1 and earlier ships with a vulnerable version of buildkit. However, Domino is not vulnerable; Domino does not expose access to the methods necessary to exploit this vulnerability.

Notice: Known Issue When Restarting Dispatcher In Versions 5.3 thru 5.6.1

 > 

Domino has recently identified an issue that exists in versions 5.3+ where in certain scenarios restarting the dispatcher can have unintended consequences to running executions(jobs, workspaces, apps, etc). At this time we would like to ensure that you are aware that the potential for service disruption exists. We recommend that before any dispatcher restart, system users should be notified of a maintenance window taking place.

Notice: End-of-Life For Domino Versions Up To 4.6.x after June 2023

 > 

Domino product versions 1.x-4.6.x will reach official **End-of-Life as of June 30, 2023**. “End of Life” signifies the date after which an upgrade will be required for continued Support (Support tickets and technical inquiries will no longer be accepted for the version/release that has surpassed End-of-Life). More details are available on this [public knowledge base page](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies).

Notice: Issue with RStudio Package Installs

 > 

We have identified an issue that prevents R Studio packages from installing in the Domino console as of June 2023. The default mirror (previously hard coded) has been deprecated. [Please see this knowledge base article for available solutions.](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364/)

# Popular Articles and Documents

[Revert a Project | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/fcd594/revert-a-project/ ""Revert a Project | Domino Data Lab"")

Revert a Project ... In Domino you can revert individual projects to earlier versions and still preserve changes made to other projects. ... Revert to an earlier version of a Project ... Go to the project whose files you want to revert. ... In the...

SourceDomino Documentation Product Versionlatest

[Resolve merge conflicts | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/27e04d/resolve-merge-conflicts/ ""Resolve merge conflicts | Domino Data Lab"")

Resolve merge conflicts ... Resolve merge conflicts ... Merge conflicts occur when changes are made to the same line of a file, or when one person edits a file and another person deletes the same file. ... They can also happen when you push multip...

SourceDomino Documentation Product Versionlatest

[Resolve conflicts manually | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/b51a09/resolve-conflicts-manually/ ""Resolve conflicts manually | Domino Data Lab"")

If you are working in a Git-based project and sync some files, you might run into a merge conflict. ... When this occurs, the File Conflicts window opens. ... Select Resolve Manually to resolve conflicts by the filename. ... For each file in confl...

SourceDomino Documentation Product Versionlatest

[Revert a file | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/029c37/revert-a-file/ ""Revert a file | Domino Data Lab"")

In Domino, you can revert individual files to earlier versions. ... This is useful when you want to revert to an earlier version of a file but preserve changes made in other files in the project. ... Revert to an earlier version of a file ... Open...

SourceDomino Documentation Product Versionlatest

[Revert Projects and files | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/b8a061/revert-projects-and-files/ ""Revert Projects and files | Domino Data Lab"")

Revert Projects and files ... Revert Projects and files ... In Domino you can revert projects or individual files back to an earlier version. ... This encourages experimentation and new problem-solving methodologies by removing the overhead that y...

SourceDomino Documentation Product Versionlatest

[Manage Project files | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/afea00/manage-project-files/ ""Manage Project files | Domino Data Lab"")

Manage Project files ... Upload files to Domino ... If you must upload files larger than 550MB, you have to use alternate methods because of limitations to the application. ... Compare file revisions ... You can compare files to see the changes th...

SourceDomino Documentation Product Versionlatest

[Upload files to Domino | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/7a0fee/upload-files-to-domino/ ""Upload files to Domino | Domino Data Lab"")

Upload files to Domino ... Domino limits the size of a file that can be uploaded through the Web application to 550MB. ... You can drag and drop files that are less than this limit into Domino. ... The following are the ways to upload files larger...

SourceDomino Documentation Product Versionlatest

[Export files as Python or R package | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/c5fe4e/export-files-as-python-or-r-package/ ""Export files as Python or R package | Domino Data Lab"")

Export files as Python or R package ... If you organize the files in a project as an installable package, then you can choose to export it as such. ... When another project imports this project, Domino will automatically install the package at run...

SourceDomino Documentation Product Versionlatest

[Exclude Project files from sync | Domino Data Lab](https://docs.dominodatalab.com/en/latest/user_guide/bfeeae/exclude-project-files-from-sync/ ""Exclude Project files from sync | Domino Data Lab"")

Exclude Project files from sync ... You can ignore files in your project which excludes them from the domino sync operation. ... This includes if you sync from your local machine (with the CLI or R package, or sync at the end of a run or during a ...

SourceDomino Documentation Product Versionlatest

Results per page

*   9

Results 1-9 of 45,497

[More...](https://tickets.dominodatalab.com/hc/en-us/search#sort=relevancy)"
https://tickets.dominodatalab.com/hc/en-us/requests/new,"Description

Please enter the details of your request. A member of our support staff will respond as soon as possible.

Business Impact \-

|| Critical - There is a system-wide outage in your production deployment preventing many users from working on Domino, or there is a significant risk of data loss. || Major - A major documented feature has stopped working || Moderate - A feature is no longer working and it's slowing you down || Limited - You have a question about how to do something"
https://tickets.dominodatalab.com/hc/en-us/requests,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/categories/360006023012-Domino-Support-Service-Information,"## Domino Support Service Information

Information about Domino Support services, procedures, and policies."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/categories/360000081143,"## [Workspaces](https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces)

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)

[See all 59 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces)

## [Environments](https://tickets.dominodatalab.com/hc/en-us/sections/360000203363-Environments)

*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [Add R as a kernel to Jupyter & Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)
*   [FAQ: What is the workspace environment?](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)

[See all 38 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203363-Environments)

## [Apps](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps)

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)

[See all 44 articles](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps)

## [Models/Model APIs](https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs)

*   [How to increase the maximum number of Model API Instances for a single Model API?](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)

[See all 29 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs)

## [Jobs](https://tickets.dominodatalab.com/hc/en-us/sections/23509125171604-Jobs)

*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)

[See all 16 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23509125171604-Jobs)

## [Projects](https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects)

*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [Importing and Merging Tags](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags)
*   [Editing and Deleting Tags in Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher)
*   [Adding Project Tags Using Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher)
*   [Downloading audit logs that has project permission changes.](https://tickets.dominodatalab.com/hc/en-us/articles/20495926267924-Downloading-audit-logs-that-has-project-permission-changes)
*   [Understanding SSH Keys](https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys)

[See all 42 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects)

## [Launchers](https://tickets.dominodatalab.com/hc/en-us/sections/21773764089620-Launchers)

*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)
*   [Populating the path from the project files in Domino Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher)

## [Git Integration](https://tickets.dominodatalab.com/hc/en-us/sections/23509058167572-Git-Integration)

*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)
*   [Can the Git repo that a Domino Git backed project is based on be changed?](https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)
*   [How to use requirements.txt file for git based projects](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)

[See all 11 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23509058167572-Git-Integration)

## [Rest API](https://tickets.dominodatalab.com/hc/en-us/sections/23509059993492-Rest-API)

*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)

[See all 13 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23509059993492-Rest-API)

## [Domino CLI](https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI)

*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Installing the Domino CLI in a Workspace or with batch job](https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)
*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI)
*   [CLI issue - Snapshot failed during domino upload-dataset](https://tickets.dominodatalab.com/hc/en-us/articles/10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset)

[See all 16 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI)

## [Distributed Compute](https://tickets.dominodatalab.com/hc/en-us/sections/23509049012628-Distributed-Compute)

*   [Basic notebook which tests on-demand Spark functionality.](https://tickets.dominodatalab.com/hc/en-us/articles/20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/articles/7578337152276-Spark-Examples-needed)
*   [Multiple Spark Applications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360061144471-Multiple-Spark-Applications-in-Domino)
*   [Managing Dependencies](https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)

## [Collaborating](https://tickets.dominodatalab.com/hc/en-us/sections/23508980659348-Collaborating)

*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own)

## [Working with Data](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data)

*   [Copying data to & from a dataset within a Domino workspace terminal](https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)

[See all 26 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data)"
https://tickets.dominodatalab.com/hc/en-us/categories/360000081666,"## [Admin Toolkit](https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit)

*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)

[See all 7 articles](https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit)

## [Configuration](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration)

*   [My new central configuration option does not seem to have taken effect.](https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)

[See all 28 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration)

## [Grafana](https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana)

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/articles/19030813568020-Grafana-Alerting-Cluster-Autoscaler)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)

[See all 10 articles](https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana)

## [Administering Domino](https://tickets.dominodatalab.com/hc/en-us/sections/23737942871188-Administering-Domino)

*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [How to disable the new user welcome email](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email)
*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)
*   [Measures of collaboration v4.3+](https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3)

## [Authentication](https://tickets.dominodatalab.com/hc/en-us/sections/23340069783572-Authentication)

*   [Removing User Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/19903455705876-Removing-User-Two-Factor-Authentication)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)

[See all 10 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23340069783572-Authentication)

## [Resource Management](https://tickets.dominodatalab.com/hc/en-us/sections/360000206726-Resource-Management)

*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [Connecting to Domino Model Monitor (DMM) Redis](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604-Connecting-to-Domino-Model-Monitor-DMM-Redis)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)
*   [Update your domino.yaml with resource updates to persist across runs of the installer.](https://tickets.dominodatalab.com/hc/en-us/articles/17466471934228-Update-your-domino-yaml-with-resource-updates-to-persist-across-runs-of-the-installer)
*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)

[See all 23 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206726-Resource-Management)

## [Environment Management](https://tickets.dominodatalab.com/hc/en-us/sections/360000206646-Environment-Management)

*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)

[See all 14 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206646-Environment-Management)

## [User Management](https://tickets.dominodatalab.com/hc/en-us/sections/360000206666-User-Management)

*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [Practitioner role not visible for Data Analyst users](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users)
*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [Adding members in the Organization via Admin Access](https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access)
*   [How do I create an organization in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/17116162101012-How-do-I-create-an-organization-in-Domino)

[See all 32 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206666-User-Management)

## [Maintenance](https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance)

*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)

[See all 33 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance)

## [Security and Privacy](https://tickets.dominodatalab.com/hc/en-us/sections/360000203503-Security-and-Privacy)

*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process)

## [Infrastructure and Kubernetes](https://tickets.dominodatalab.com/hc/en-us/sections/23339918993940-Infrastructure-and-Kubernetes)

*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [Workspaces not scaling up nodes and stuck in 'Assigning' stage](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [Image Cache Agent Continually restarts](https://tickets.dominodatalab.com/hc/en-us/articles/17381749347732-Image-Cache-Agent-Continually-restarts)
*   [Postgres slave in a crashloopbackoff](https://tickets.dominodatalab.com/hc/en-us/articles/17034955220628-Postgres-slave-in-a-crashloopbackoff)

[See all 38 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23339918993940-Infrastructure-and-Kubernetes)

## [Upgrade Issues](https://tickets.dominodatalab.com/hc/en-us/sections/23739081938452-Upgrade-Issues)

*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)
*   [Upgrade fails with errors about statefulsets](https://tickets.dominodatalab.com/hc/en-us/articles/12633059560084-Upgrade-fails-with-errors-about-statefulsets)
*   [During an upgrade, Ingress errors are seen and the installation stops](https://tickets.dominodatalab.com/hc/en-us/articles/12632440069268-During-an-upgrade-Ingress-errors-are-seen-and-the-installation-stops)
*   [During an upgrade, a secret is missing (rabbitmq-ha.forge)](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)
*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x)

[See all 10 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23739081938452-Upgrade-Issues)"
https://tickets.dominodatalab.com/hc/en-us/categories/360000081163,"## [Projects](https://tickets.dominodatalab.com/hc/en-us/sections/23726798950292-Projects)

*   [Copying a Github Git-Based Project](https://tickets.dominodatalab.com/hc/en-us/articles/24965080287508-Copying-a-Github-Git-Based-Project)
*   [Empty folder reappears even after adding folder name to .dominoignore file](https://tickets.dominodatalab.com/hc/en-us/articles/21381473406484-Empty-folder-reappears-even-after-adding-folder-name-to-dominoignore-file)
*   [Project transfer appears to be disabled](https://tickets.dominodatalab.com/hc/en-us/articles/20149279681684-Project-transfer-appears-to-be-disabled)
*   [Project overview page not displaying markdown tables correctly](https://tickets.dominodatalab.com/hc/en-us/articles/19299961876372-Project-overview-page-not-displaying-markdown-tables-correctly)
*   [Unable to update Notification Preferences of an Org for a Project owned by you | Versions 5.3 to 5.6](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6)
*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties)

[See all 14 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23726798950292-Projects)

## [Workspaces](https://tickets.dominodatalab.com/hc/en-us/sections/360000206706-Workspaces)

*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Files reported as not synced on workspace startup despite being synced before](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before)
*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory)
*   [Workspace link in Idle Workspace Detected email notification leads to 404](https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404)
*   [Mount error(13): Permission denied when starting a workspace with an external data volume](https://tickets.dominodatalab.com/hc/en-us/articles/24430317256852-Mount-error-13-Permission-denied-when-starting-a-workspace-with-an-external-data-volume)

[See all 110 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206706-Workspaces)

## [Environments](https://tickets.dominodatalab.com/hc/en-us/sections/360000203443-Environments)

*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/articles/4406492054036-ERROR-Could-not-install-packages-due-to-an-EnvironmentError-Errno-13-Permission-denied)
*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/articles/24742262426516-Rstudio-no-longer-installed-by-default-in-DSE-GPU-environments)
*   [Cannot select compute environment after making changes to it when starting my workspace](https://tickets.dominodatalab.com/hc/en-us/articles/21777698963732-Cannot-select-compute-environment-after-making-changes-to-it-when-starting-my-workspace)
*   [""Cannot archive environment. Project count that use this environment is <number>"" message when trying to archive old environment that does not appear to have any projects using it](https://tickets.dominodatalab.com/hc/en-us/articles/21050737140372--Cannot-archive-environment-Project-count-that-use-this-environment-is-number-message-when-trying-to-archive-old-environment-that-does-not-appear-to-have-any-projects-using-it)
*   [JupyterLab workspace fails to start with 'Failed with exit code: 1'](https://tickets.dominodatalab.com/hc/en-us/articles/20215089569812-JupyterLab-workspace-fails-to-start-with-Failed-with-exit-code-1)
*   [How to fully rebuild a custom environment and eliminate a cached package or dependency issue from a previous failed build version](https://tickets.dominodatalab.com/hc/en-us/articles/19930845192724-How-to-fully-rebuild-a-custom-environment-and-eliminate-a-cached-package-or-dependency-issue-from-a-previous-failed-build-version)

[See all 62 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203443-Environments)

## [Apps](https://tickets.dominodatalab.com/hc/en-us/sections/21799671323796-Apps)

*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)
*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)
*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)

[See all 15 articles](https://tickets.dominodatalab.com/hc/en-us/sections/21799671323796-Apps)

## [Runs](https://tickets.dominodatalab.com/hc/en-us/sections/360000206686-Runs)

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)

[See all 26 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206686-Runs)

## [Model APIs](https://tickets.dominodatalab.com/hc/en-us/sections/21773627201044-Model-APIs)

*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs)
*   [“ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_'” when trying to deploy a model as a REST API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint)
*   [500 Error when building Model API](https://tickets.dominodatalab.com/hc/en-us/articles/22608847470228-500-Error-when-building-Model-API)
*   [User is unable to publish new version of a model API, 500 Error](https://tickets.dominodatalab.com/hc/en-us/articles/20290053946900-User-is-unable-to-publish-new-version-of-a-model-API-500-Error)
*   [Getting 500 error when trying to launch a model](https://tickets.dominodatalab.com/hc/en-us/articles/19571120182804-Getting-500-error-when-trying-to-launch-a-model)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

[See all 29 articles](https://tickets.dominodatalab.com/hc/en-us/sections/21773627201044-Model-APIs)

## [Launchers](https://tickets.dominodatalab.com/hc/en-us/sections/21773790799764-Launchers)

*   [Launcher User receives 403 error when attempting to access Input or Ouput files](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files)

## [Rest API](https://tickets.dominodatalab.com/hc/en-us/sections/23511520451476-Rest-API)

*   [DMM file uploads fail with HTTP 500 errors using the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/21113648873492-DMM-file-uploads-fail-with-HTTP-500-errors-using-the-REST-API)
*   [I keep getting a 415 Error (Unsupported media type) when I call Domino's REST API. What am I doing wrong?](https://tickets.dominodatalab.com/hc/en-us/articles/15131705931284-I-keep-getting-a-415-Error-Unsupported-media-type-when-I-call-Domino-s-REST-API-What-am-I-doing-wrong)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage)

## [Git Integration](https://tickets.dominodatalab.com/hc/en-us/sections/23535103518484-Git-Integration)

*   [User unable to view Git Based Project with 500 Internal Server Error](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error)
*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion)
*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project)
*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo)
*   [Unable to clone or establish an ssh connection with your remote git](https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git)
*   [Git pod backup failures](https://tickets.dominodatalab.com/hc/en-us/articles/14395398330260-Git-pod-backup-failures)

[See all 19 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23535103518484-Git-Integration)

## [Data Sources & Datasets](https://tickets.dominodatalab.com/hc/en-us/sections/4402660372628-Data-Sources-Datasets)

*   [Unable to delete Datasets or create dataset snapshots - stuck on ""Pending"" status](https://tickets.dominodatalab.com/hc/en-us/articles/22635450024724-Unable-to-delete-Datasets-or-create-dataset-snapshots-stuck-on-Pending-status)
*   [Special Character issue on viewing the files through dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23868866269204-Special-Character-issue-on-viewing-the-files-through-dataset-viewer)
*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset)
*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source)
*   [Cannot delete dataset files and folders even when there are no invalid characters in the files/folders names](https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names)

[See all 14 articles](https://tickets.dominodatalab.com/hc/en-us/sections/4402660372628-Data-Sources-Datasets)

## [Models](https://tickets.dominodatalab.com/hc/en-us/sections/23340095867540-Models)

*   [Model monitoring: Feature request to un-register ground truth](https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth)
*   [Models registered via the MLflow API are not displaying under Models registry page.](https://tickets.dominodatalab.com/hc/en-us/articles/23144866032660-Models-registered-via-the-MLflow-API-are-not-displaying-under-Models-registry-page)
*   [“Failed to register. Datasource not found.” error when trying to register ground truth data in Domino Model Monitor (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/21382105898132--Failed-to-register-Datasource-not-found-error-when-trying-to-register-ground-truth-data-in-Domino-Model-Monitor-DMM)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [Error “Security not valid for any requirement” when trying to configure a model for Domino Model Monitoring (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM)

[See all 9 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23340095867540-Models)

## [Distributed Compute](https://tickets.dominodatalab.com/hc/en-us/sections/23509225985556-Distributed-Compute)

*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server)
*   [Troubleshooting a disabled Dask/Spark web UI](https://tickets.dominodatalab.com/hc/en-us/articles/12650946650004-Troubleshooting-a-disabled-Dask-Spark-web-UI)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/articles/9870437581972-Workspaces-with-Spark-clusters-suddenly-fail-during-assigning-no-endpoints-available-for-service-distributed-compute-operator-webhook-server)
*   [After starting a Spark on-demand cluster new executions are stuck in ""Assigning""](https://tickets.dominodatalab.com/hc/en-us/articles/8246411880212-After-starting-a-Spark-on-demand-cluster-new-executions-are-stuck-in-Assigning)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace)
*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers)

[See all 7 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23509225985556-Distributed-Compute)

## [Authentication](https://tickets.dominodatalab.com/hc/en-us/sections/23339791816596-Authentication)

*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/articles/9261784517140-500-Internal-Server-Error-when-user-tries-to-login-to-Domino-UI-after-upgrade-to-5-1-from-4-6)
*   [Turning off two-factor authentication on your account](https://tickets.dominodatalab.com/hc/en-us/articles/15330360352276-Turning-off-two-factor-authentication-on-your-account)
*   [Unexpected error when authenticating with Identity provider, duplicate key value violates unique constraint constraint\_40](https://tickets.dominodatalab.com/hc/en-us/articles/15157219903252-Unexpected-error-when-authenticating-with-Identity-provider-duplicate-key-value-violates-unique-constraint-constraint-40)
*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)

[See all 13 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23339791816596-Authentication)

## [CLI](https://tickets.dominodatalab.com/hc/en-us/sections/23508941198996-CLI)

*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)
*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command)
*   [Unexpected error: Error while parsing marker file](https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file)
*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine)
*   [Error when using the CLI to create a project owned by an organization](https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config)

[See all 19 articles](https://tickets.dominodatalab.com/hc/en-us/sections/23508941198996-CLI)"
https://tickets.dominodatalab.com/hc/en-us/categories/360000081183,"## [FAQ](https://tickets.dominodatalab.com/hc/en-us/sections/360000203463-FAQ)

*   [Why can't I see the hardware tier I was expecting to see in my project?](https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions)
*   [Can you help me collect Kubernetes logs?](https://tickets.dominodatalab.com/hc/en-us/articles/13791329664532-Can-you-help-me-collect-Kubernetes-logs)
*   [Why is Domino showing up my in my project's commit history?](https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history)
*   [How large is my Compute Environment image?](https://tickets.dominodatalab.com/hc/en-us/articles/12738102426004-How-large-is-my-Compute-Environment-image)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean)

[See all 28 articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203463-FAQ)

## [Announcements](https://tickets.dominodatalab.com/hc/en-us/sections/360003086132-Announcements)

*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)"
https://tickets.dominodatalab.com/hc/en-us/categories/21803876812948,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies,"![](https://tickets.dominodatalab.com/system/photos/360980763491/profile.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies/subscription.html ""Opens a sign-in dialog"")

The following page provides information related to the lifecycle of each Domino product release. Timelines for both Product Patching and Technical Support are covered. Please note that a separate policy exists for customers operating version 3.x or earlier (see below).

## **Table of Contents**

*   [Domino Versions: Naming Conventions and Version Types](#h_01FBQD7XRHAB5P534PYE036PDR)
*   [General Policies For Latest Versions (4.x and Later)](#h_01FBQD8F6S3M2D4D6KH85GAGZT)
*   [Policy Applicability For Customers Operating Domino 3.x Or Earlier](#h_01FBQDH58J1NQXB0XH5MQE19EX)
    *   [Policies for Versions 3.x and Earlier](#h_01FBQDHESZNADPXPKS6BFP31YP)
*   [Upcoming End of Patching/End of Life Dates](#h_01FBQDHESZNADPXPKS6BFP31YP)

## **Domino Versions: Naming Conventions and Version Types**

Domino’s product versions follow a common Semantic Version ([SemVer](https://semver.org/)) numbering scheme, “**Ma.Mi.Pa**”, where:

*   **Ma** – Is a **major** version that contains new features, fixes, and possibly support for new platforms or technologies 
*   **Mi** – Is a **minor** release that contains a limited number of fixes, and possibly support for new platforms

*   **NOTE about backward compatibility:** In relation to core product functionality, MINOR releases are backward compatible with earlier releases of the same MAJOR version. For example, version 4.6.x is backward compatible with version 4.5.x. _FYI, in versions 5.x and later, UI and API features subject to deprecation will display ""Warning"" messages before deprecation actually occurs (in a future release)._

*   **Pa** – Is a **patch** level release that is focused on security updates and critical bug fixes

**Version numbering - Example**: Version 4.5.1 on the 4.x MAJOR code line, and is MINOR release 4.5. 4.5.**_1_** is the latest, patched release of that version.

## **General Policies For Latest Versions (4.x and Later)**

The following policies apply to all major and minor versions of Domino _starting with version 4.x_. **NOTE:** For customers migrating from earlier versions of Domino (3.x or earlier), see the section below entitled “Information and Policies For Customers Operating Domino 3.x Or Earlier (as of 2021)”.

**Versions 4.x and Later: End of Patching and End of Support Policies**

|     |     |     |
| --- | --- | --- |
| **Policy** | **End of Patching (EOP)** | **End of Life (EOL)** |
| **Definition** | The date after which no additional vulnerability patches or code maintenance will be provided for a release. | **Support:** End of Life signifies the date after which Support tickets and technical inquiries will no longer be accepted for a release (an upgrade will be required for continued Support)<br><br>**Monitoring:** If you receive application monitoring and proactive site reliability services from Domino, those services will no longer be offered when a product version reaches End of Life. To resume monitoring, operations, incident response, and site reliability services, you will need to upgrade to a supported version. |
| **Timelines** | **LATEST MAJOR RELEASE:** Security patches will be supplied on a scheduled basis for the latest release. <br><br>**PREVIOUS SEQUENTIAL MAJOR RELEASE (**_Example: if 5.x is the latest MAJOR release, 4.x is the previous sequential MAJOR release_**):** for the previous sequential major release, patches will be provided on a limited basis, as needed, per Domino’s existing standards\*\*.<br><br>The patching timeline for the previous sequential MAJOR release lasts until either: the release date of the _next+1_ major release (e.g. EOP for 4.x is the release date of 6.0)<br><br>\-OR-<br><br>_A minimum of 12 months since the GA date of the previous sequential MAJOR release_<br><br>(whichever is later)<br><br>\*\*If you wish to request a patch for an earlier release, please contact your Domino Customer Success Manager. | *   **For the MOST RECENT version of a previous release:** 18 months after the release date of the next major release (example: 4.6.x is the last version of 4.x, EOL for 4.6.x is 18 months after the release date of 5.0)<br>*   **For all other versions of a previous release:** 12 months after the release date of the next major release (example: EOL for 4.4.x is 12 months after the release date of 5.0) |
| **Patch Scope: Additional Details** | **NOTE:** Patches are ONLY applied to the most recent minor version for each major release. For example, if a patch is necessary for release 5.9 (the latest in the 5.x major code line), 5.8 and older are not patched. See also: note about backward compatibility in section entitled: “Domino Versions: Naming Conventions and Version Types” |     |

## **Policy Applicability For Customers Operating Domino 3.x and Earlier**

The following section addresses frequently asked questions for customers still operating earlier Domino versions, who are interested in migrating to a later version. Information covered here includes both expected effort and policy implications.

_**Question 1.0:** If I am still on 3.x when 5.x is released, what will migration mean for me? Do I go to some version of 4.x and then to 5.x…?_

*   **Answer:** You can migrate directly to the latest version _without_ installing intermediary steps/versions.

_**Question 1.1:**_ _Do I go directly to 5.x and how much more work will that be?_

*   **Answer:** Yes, you will go to the latest version directly. Standard practice has been to deploy/install the (target) environments to the current GA release.  Domino intends to minimize any extra steps required to migrate from an earlier version to 5.x (although we cannot offer a guarantee, Domino is making reduction in effort a priority).

_**Question 2.0:** I just finished migrating to 4.x. What does the effort to go to 5.x look like? Is it another big project?_

*   **Answer:** For customers who are already on 4.X (or recently migrated to 4.X), they can perform an in-place upgrade to receive Domino 5.X.  In-place upgrades, depending on the number of environments, and depending on the skills and resources available, can take anywhere from 2 to 6 hours per environment. Please refer to the section on this page entitled ""[_Domino Versions: Naming Conventions and Version Types_](#h_01FBQD7XRHAB5P534PYE036PDR)"" for information about compatibility.

_**Question 3.0:** Can you give me visibility into what I will gain and what migration impacts I might have, especially incompatibilities?_

*   **Answer:** There will be benefits in both functionality/features, and stability when upgrading to a newer version. We are constantly planning updates in both of these categories. Specific gains will be dependent on the features released on the (Target) Domino version. Please click the “Release Notes” link on our [Docs site](https://docs.dominodatalab.com/) for more information. Regarding backward compatibility:  going forward, Domino Engineering and Product teams are prioritizing the avoidance of incompatibilities. Please refer to the section on this page entitled ""[_Domino Versions: Naming Conventions and Version Types_](#h_01FBQD7XRHAB5P534PYE036PDR)"" for information about compatibility.

### **Policies for Versions 3.x and Earlier**

|     |     |     |
| --- | --- | --- |
| **Policy** | **End of Patching (EOP)** | **End of Life (EOL)** |
| **Definition** | The date after which no additional  vulnerability patches or code  maintenance will be provided for a  release. | **Support:** End of Life signifies the date after which Support tickets and technical inquiries will no longer be accepted for a release (an upgrade will be required for continued Support)<br><br>**Monitoring:** If you receive application monitoring and proactive site reliability services from Domino, those services will no longer be offered when a product version reaches End of Life. To resume monitoring, operations, incident response, and site reliability services, you will need to upgrade to a supported version. |
| **Timeline** | Upon the release date of major  version 5.x, no further patches will be provided for versions before 4.x.<br><br>*   If you have questions or concerns about these policies, please contact your Domino Customer Success Manager | As of 12/31/2022, Domino will no longer   field Support requests for Domino 3.x or   earlier.<br><br>*   If you have questions or concerns about these policies, please contact your Domino Customer Success Manager |

## **Upcoming End of Patching/End of Life Dates (as of September 2022)**

|     |     |     |
| --- | --- | --- |
| **Version** | **End of Patching (EOP)** | **End of Life (EOL)** |
| 1.x-3.6.x | _Expired_ | December 2022 |
| 4.0.x-4.5.x | _Expired_ | December 2022 |
| 4.6.x | Upon release of version 6.0 | June 2023 |

### Related articles

*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTrDHcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBg%3D%3D--7af3a2da72532f4f6f3b0f386bdc30b04c8ae8b2)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTrDHcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kH--efe0124ffc1f607b02904c572ca91f1babbfc803)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTrDHcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpCA%3D%3D--5268f6068a6a33baaff0c4666521f81b2dcf80c3)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJclZtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTrDHcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjUyNjg3MS1FcnJvci13aGVuLXN0YXJ0aW5nLXdvcmtzcGFjZS1Dcml0aWNhbC1lcnJvci1pbi1ydW4tZmlsZWNhY2hlLXBhdGgtZG9lcy1ub3QtZXhpc3QGOwhUOglyYW5raQk%3D--c436f39c886629c877b9d46570b96b1ea0837a56)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRrIOmBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTrDHcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzYyMTI3MzE4NTExNTYtTmV3LUFXUy1HUFUtbm9kZXMtYXV0b3NjYWxlLWJ1dC1mYWlsLXRvLWdldC1hZGRlZC10by1LdWJlcm5ldGVzLWNsdXN0ZXIGOwhUOglyYW5raQo%3D--36877584893a620663e4946b8e8149d47d5c9958)"
https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364/,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023/subscription.html ""Opens a sign-in dialog"")

## Issue

I can no longer install packages after June 2023.

The Console will not let me install software (but I can do it in the Terminal)

The cran repo seems to fail while installing packages

_Also - R Studio is rebranding to Posit in 2023, see their announcement here:_

[https://posit.co/blog/rstudio-is-becoming-posit](https://posit.co/blog/rstudio-is-becoming-posit)

My use case no longer works unless I specify an upstream repository but I don't want to manually change every installation line in my code:

\# This no longer works:  
RUN R --no-save -e ""install.packages(c('Seurat', 'SingleR', 'celldex'))""  
\# I needed to change it to  
RUN R --no-save -e ""install.packages(c('Seurat', 'SingleR', 'celldex'), repos = '[https://cloud.r-project.org](https://cloud.r-project.org/)')""

## Workaround (**temporary**)

You can change the repositories temporarily inside a Domino RStudio workspace by following the instructions below. Please note that this configuration change must be done every time a workspace is created or restarted.

You can view the current default CRAN mirror to check if it’s set to the old or the new URL:

\> getOption(""repos"")  
                           CRAN  
""https://cran.us.r-project.org"" 

This is the old URL. To change the default mirror, use the following:

\> options(repos = c(CRAN=""https://cloud.r-project.org/""))

Here is an example of updating the default CARN repo to [https://cloud.r-project.org](https://cloud.r-project.org/) and installing an example package aidar.

## Resolution (**permanent**)

Change the default installation path to the 'cloud' URL. This snippet will modify your Environment and replace the out-dated default mirror. Add to the Dockerfile and rebuild your Environment.

USER ubuntu  
\# Update default CRAN mirror  
RUN sed -i 's/cran.us.r-project.org/cloud.r-project.org/g' /home/ubuntu/.Rprofile

## Applies to

Likely to apply to all R Studio Environments/Workspaces and Apps - up to Domino 5.7.

The default CRAN mirror that Domino was using previously ([https://cran.us.r-project.org](https://cran.us.r-project.org/ ""https://cran.us.r-project.org"")) has recently stopped working, which means you may experience trouble installing packages. To fix this, the default CRAN mirror should be set to `https://cloud.r-project.org/`. This change has been incorporated in Domino version 5.7

### Recently viewed articles

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQY%3D--4907d547898e5549e5cae27dd9ba84696be458ee)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQc%3D--30014ccc26acbaa4ffc61a6e53a6291a47301f78)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQg%3D--6ecb364536da3b4abec56837b493a4447083a8b1)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--139421020a2593657ed610b3de1113f21d17740e)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kK--fad5e02d90cbcea0fb2286d21151183fd2d8e74b)"
https://tickets.dominodatalab.com/hc/en-us/search,"Result linksAlways open results in new window

Results filtering expressions

Create

[?](https://www.coveo.com/go?dest=adminhelp70&lcid=9&context=10006)

Issue: ... Some scheduled jobs and workspaces can intermittently fail. ... For Domino 5.0.x, 5.1.x, 5.2.x, this error can appear even after applying the Mongo DB fix for all users in this article: After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...: ......

ZD Record TypeArticle ZD Number10544348106388

Created ByViv Houghton SourceZendesk Articles and Tickets File TypeHTML File

Nucleus services were manually restarted by an Admin, but ClusterStatus page is NOT listing healthy, and the Dataplane Agent crashloops with errors in its pod logs: ... Root Cause: ... There is a complex renewal and rotation mechanism for credentials involving Vault for communication between Nucl...

ZD Record TypeArticle ZD Number12665978564756

Created ByGreg Hudson SourceZendesk Articles and Tickets File TypeHTML File

Symptoms in the UI will be that Compute Environment builds never leave queued. ... A kubernetes admin will note that the logs from the hephaestus-manager pod will include the error: ... X509: certificate has expired or is not yet valid ... This failure will require intervention from an admin with...

ZD Record TypeArticle ZD Number16506164540820

Created ByDaniel Stern SourceZendesk Articles and Tickets File TypeHTML File

Issue: ... If you are unable to delete a workspace that appears Stopped and see a message like ""Workspace cannot be deleted from current state"", it likely means that the mongo collections that record the status of a workspace and workspace session did not correctly receive all of the information ...

ZD Record TypeArticle ZD Number18178291744532

Created ByAshley Bridges SourceZendesk Articles and Tickets File TypeHTML File

Can I upgrade Python 3.10 with security patches or fixes? ... I have DSE 5.3 up to 5.7 and would like Python 3.10 ... Solutions to the above ... There is an option to re-install Miniconda to a release more suitable to your purpose. ... Please find included the Dockerfile which will work for Domin...

ZD Record TypeArticle ZD Number19423266573588

Created ByBjorn Robertsson SourceZendesk Articles and Tickets File TypeHTML File

Revert a Project ... In Domino you can revert individual projects to earlier versions and still preserve changes made to other projects. ... Revert to an earlier version of a Project ... Go to the project whose files you want to revert. ... In the navigation bar, click Code. ... The Commit menu l...

Product Versionlatest SourceDomino Documentation LanguageEnglish File TypeHTML File

Resolve merge conflicts ... Resolve merge conflicts ... Merge conflicts occur when changes are made to the same line of a file, or when one person edits a file and another person deletes the same file. ... They can also happen when you push multiple commits. ... You can resolve merge conflicts in...

Product Versionlatest SourceDomino Documentation LanguageEnglish File TypeHTML File

If you are working in a Git-based project and sync some files, you might run into a merge conflict. ... When this occurs, the File Conflicts window opens. ... Select Resolve Manually to resolve conflicts by the filename. ... For each file in conflict, you can Mark as resolved, Use my changes or U...

Product Versionlatest SourceDomino Documentation LanguageEnglish File TypeHTML File

In Domino, you can revert individual files to earlier versions. ... This is useful when you want to revert to an earlier version of a file but preserve changes made in other files in the project. ... Revert to an earlier version of a file ... Open the project that contains the file in Domino. ......

Product Versionlatest SourceDomino Documentation LanguageEnglish File TypeHTML File

Revert Projects and files ... Revert Projects and files ... In Domino you can revert projects or individual files back to an earlier version. ... This encourages experimentation and new problem-solving methodologies by removing the overhead that you encounter when recovering from failed experiments.

Product Versionlatest SourceDomino Documentation LanguageEnglish File TypeHTML File"
https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures,"## **Before You Contact Domino Support**

Domino customers are often able to resolve their technical issues simply by using our **[Knowledge Base](https://tickets.dominodatalab.com/hc/en-us/search#sort=relevancy)**. Prior to contacting Domino Support, we recommend using it to perform a search. Your issue may have previously been investigated on behalf of another user, and a known solution may exist. Our Knowledge Base is a **_single search interface_** that allows you to find content in **_numerous information sources_**, including:

*   Domino's official **[Product Documentation](https://tickets.dominodatalab.com/hc/en-us/search#sort=relevancy&f:@source=[Domino%20Documentation])**
*   Domino's extensive list of **[Product Articles](https://tickets.dominodatalab.com/hc/en-us/search#sort=relevancy&f:@source=[Zendesk%20Articles%20and%20Tickets])** (covering troubleshooting, best practices, and how-to's)
*   Domino's **[Corporate Website](https://tickets.dominodatalab.com/hc/en-us/search#sort=relevancy&f:@source=[Domino%20Corporate%20Website])**
*   Other useful sources for product troubleshooting, like our [**Admin Toolkit Documentation**](https://tickets.dominodatalab.com/hc/en-us/search#sort=relevancy&f:@source=[Admin%20Toolkit%20Documents])

There is also a ""[Troubleshooting Basics](https://docs.dominodatalab.com/en/latest/admin_guide/741fc7/troubleshooting-basics/)"" section of our official documentation, which provides helpful tips in the following categories:

*   [Basic Domino health](https://docs.dominodatalab.com/en/latest/admin_guide/db0568/basic-domino-health/) \- describes the basic troubleshooting steps and useful tools that cover the overall Domino platform health.
*   [Connectivity and latency](https://docs.dominodatalab.com/en/latest/admin_guide/44c8d9/connectivity-and-latency-issues/) \- provides useful steps to troubleshoot connectivity and latency.
    
*   [Workspaces and jobs issues](https://docs.dominodatalab.com/en/latest/admin_guide/4482de/workspaces-and-jobs-issues/) \- describes the useful steps to troubleshoot workspace, jobs, execution related issues.
    
*   [Compute environment build issues](https://docs.dominodatalab.com/en/latest/admin_guide/16d1e2/compute-environment-build-issues/) \- contains helpful information to help troubleshoot compute environment build issues.
    
*   [Model API issues](https://docs.dominodatalab.com/en/latest/admin_guide/d0b4a6/model-api-issues/) \- troubleshooting model API publishing issues.
    
*   [Distributed model monitoring issues](https://docs.dominodatalab.com/en/latest/admin_guide/b4c15f/distributed-model-monitoring-issues/) \- tips to troubleshoot distributed model monitoring (DMM) issues.
    
*   [Data sources issues](https://docs.dominodatalab.com/en/latest/admin_guide/8b645f/data-sources-issues/) \- describes useful steps to troubleshoot Domino data source issues.
    

**_If you still need to contact Domino for support_**, please provide the following information, so we can assist you as quickly as possible:

#### **Clearly Define the Issue**

Describe your issue and symptoms in clearly and thoroughly. Be as precise as possible in your explanation. Outline the steps used to reproduce the issue as well as any steps you have already tried to resolve it.

#### **Provide Background**

Answers to the following questions will help us address your quickly:

*   What Domino product and version are you running?
*   What steps led to the issue?
*   Can you reproduce the issue? What steps do you follow to reproduce it?
*   Have any changes been applied to your deployment recently that could have triggered the issue?
*   What error messages did you see when the problem occurred?

#### **Collect Available Diagnostic/Troubleshooting Details**

Inclusion of diagnostic information in your ticket submission, such as log files, [Support bundles](https://docs.dominodatalab.com/en/latest/get_help/support_bundle.html), etc., will often help our Support Engineers identify the cause of an issue. Please provide as much of this information as possible. 

#### **Assign a Business Impact Level**

When submitting a ticket, please assign a Business Impact level based on the estimated business priority of the reported issue _(not available when submitting a ticket via email)_. This will help us understand the impact of the problem on your organization so we can prioritize and respond appropriately.

## **How to Contact Domino Support**

If you do need to submit a ticket with Domino Support, please be sure to include the following information:

*   Your name
*   Your organization name
*   Email address
*   Related product and version information
*   A detailed issue description, relevant logs, attachments, screenshots, [Support bundles](https://docs.dominodatalab.com/en/latest/get_help/support_bundle.html), etc.
*   Related information explaining the technical and business impact of the issue on your organization

#### **Submitting Tickets through the Domino Product UI (fastest)**

You can submit tickets via the “Support” button found on the lower-right portion of all pages in the Domino web UI.

_![2021-04-05_17-47-48.png](https://tickets.dominodatalab.com/hc/article_attachments/360092601512)_

**_Image A. The Support button in the Domino UI_**

_![2021-04-05_17-48-16.png](https://tickets.dominodatalab.com/hc/article_attachments/360092579231)_

**_Image B. The Support dialog that appears when clicking the Support button._**

#### **Submitting Tickets through the Web**

You may submit your ticket by going to [https://tickets.dominodatalab.com](https://tickets.dominodatalab.com/). Like the “Support” button within our product, this method of submission ensures the accuracy of the information you submit and allows for complete tracking of the ticket, with related comments and attachments. 

#### **Other ways to Contact Domino Support**

Domino Support can also be reached via email, at [support@dominodatalab.com](mailto:support@dominodatalab.com). _NOTE: this is NOT recommended if you are experiencing a Critical issue during non-business hours. See “After Hours Support” below._

#### **After Hours Support**

During Domino designated holidays and weekends, Domino Support is available via the web for customers experiencing production outages or critical issues (see “Service Level Agreement”). **_Email submissions_** _will_ **_not_** _allow you to specify a business impact of “Critical”, so please use either the “Support” button seen in your Domino product, or_ [_https://tickets.dominodatalab.com_](https://tickets.dominodatalab.com/) _to submit a ticket if you require assistance during non-business hours._  We will use commercially reasonable efforts to contact you within two hours of when you submit your ticket (see “Service Level Agreement”). If the issue you are reporting is not designated as “Critical”, we will respond to you on the next business day. 

## **How Domino Support Handles Requests**

All tickets submitted to Domino Support are logged into our ticketing system. Once logged, they are assigned a unique number and routed to a Domino Support Engineer.  This number can be used to reference your ticket through our support website. In addition, this number should be used when contacting Domino regarding your ticket. The assigned Domino Support engineer will research your issue and respond with advice or additional questions to resolve your problem as quickly as possible.  Our Support team will often work together, and with members of the Domino Product Engineering team, to resolve your issue. 

### **Q & A: When does Domino Support mark a ticket as “Solved?”**

*   Domino Support’s goal is always to provide complete and thorough resolution for any reported issue or question in the timeliest possible manner.
*   **Option to re-open tickets:** if/when your ticket’s status is updated to “Solved,” you (the customer contact) may reopen it automatically by simply adding a new comment to the ticket. _This is possible for a 30-day period after the ticket is initially marked as “Solved.” After 30 days in “Solved” status, the ticket will be locked. If you still require follow-up after 30 days, please log a new ticket, and we will investigate it._
*   **Question:** _What does it mean when Domino Support updates the status of a ticket to “Solved?”_
    *   Domino Support has provided an appropriate solution to a reported issue or response to an inquiry
    *   Domino Support has requested additional information from the customer contact in order to continue the investigation, but has received no updates for an extended period. NOTE: Tickets where more information is required from the customer contact are initially placed into “Awaiting your reply” or “Pending” status in our Customer Portal. You can track the status of your tickets [here](https://tickets.dominodatalab.com/hc/en-us/requests).
    *   Domino Support has a) forwarded a customer’s request to another appropriate Domino group to help address it, b) received acknowledgement from that group that they will continue discussions with the customer, and c) informed the customer of next steps. Examples of such scenarios include customization requests sent to our Customer Success/Professional Services teams.

*   **Answer:** Domino Support only marks tickets as “Solved” if _one_  of the following has occurred:

### **Tickets linked to Product Defects or Feature Requests**

**NOTE:** _The following information applies to tickets filed with Domino Support on or after_ September 1, 2022

*   9/1/22: Domino Support now provides its customers with the ability to track the status of Product Defects and Feature Requests they have logged through our ticketing system.
    *   Tickets in “Open” status are still under investigation and development by our Support and Product Teams
    *   Tickets are placed in “Solved” status when a substantive update has been shared with the customer contact (either a fix has been confirmed in a specific release, or an alternate solution has been provided)
*   Defects and Feature Requests can be tracked [here](https://tickets.dominodatalab.com/hc/en-us/requests), only if the following are true:
    *   The issue was logged as a ticket with Domino Support, and received a specific Ticket Number (tracking number)
    *   The issue was logged on or after September 1, 2022

[![Portal_Filters.png](https://tickets.dominodatalab.com/hc/article_attachments/9155061374484)](https://tickets.dominodatalab.com/hc/en-us/requests)

**_Image C. Screenshot: [Ticket/Request Tracking page](https://tickets.dominodatalab.com/hc/en-us/requests) with filters for:_** **_a) ticket status and b) ticket category (All tickets, Product Defects, Feature Requests)_**

## **If Further Attention Is Required**

If at any time you feel that you are not receiving a level of service that meets your expectations, you may ask to have your ticket escalated or ask to be contacted by Domino Support Management. You can request escalation via a ticket comment, or a live conversation with your assigned ticket owner. Any customer-requested escalation receives direct management attention and consideration."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Frequests%2Fnew&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage,"## Scope of Support Coverage

![](https://tickets.dominodatalab.com/system/photos/360980763491/profile.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage/subscription.html ""Opens a sign-in dialog"")

## **Scope of Service**

The following information relates to the Support services Domino bundles with our customer/user licenses, at no additional cost, via Domino Support’s Customer Portal ([https://tickets.dominodatalab.com](https://tickets.dominodatalab.com/), [support@dominodatalab.com](mailto:support@dominodatalab.com), and the “Support” button embedded in Domino products).

Domino Support provides world-class Technical Support and an outstanding customer experience by ensuring timely, thorough resolution to the issues we investigate. We maintain a constant feedback loop with consumers of our services, acting quickly and frequently on their input to achieve continuous improvement.

Domino Support’s area of expertise is in core Domino products. We maintain very high standards for customer satisfaction and responsiveness when investigating product-related issues on behalf of our customers. Please see the information below for details.

Domino Support provides support for:

*   Usage of our core products
*   Diagnosis of issues within our core products
*   Configuration of core product features

Domino Support does not provide expertise related to:

*   Modified installers or deployment packages
*   Building custom environments and dependency resolution
*   Product customizations or code development
*   System or network design (for systems and networks not owned by Domino)
    *   Customers on Domino Cloud may escalate issues to Domino Cloud Operations through Domino Support
*   Implementation of development or security policies/practices
*   Undocumented product features or functionality
*   Beta releases, release candidates, or feature previews
*   Training modules
*   Untested platforms

This applies to the commercial releases of Domino products, including Domino Workbench and Domino Model Monitor

### **Domino APIs: Scope of Coverage**

In addition to the information above, the following information applies to Domino Support's service coverage for our APIs (example: REST, Model API).

Domino Support offers the following assistance for APIs:

*   Confirmation that Domino’s proprietary methods and inputs return results as expected, based on our product documentation

Domino Support does not provide assistance for:

*   Customers’ scripts, code, application, customized system configuration, or issues that result from conflicts therein

### Recently viewed articles

*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwIONVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpBg%3D%3D--a03ae9eee224ed513166f68f1ef7a8742d17f8f9)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwIONVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBw%3D%3D--5e890b8f57a02a38a20a68ac8deeb63d9e21deb3)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN97QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwIONVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODU5MS1TdXBwb3J0LURlZmluaXRpb25zBjsIVDoJcmFua2kI--56854fb2c392e6dc2b6bbc35cc3cbf305a57eaae)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwIONVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQk%3D--c0cd59e5467dcac51e9aaf00a9b514f5dbc0fe38)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwIONVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCg%3D%3D--270541ba9eccf6d73da69f9a21044b9745316f3a)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fcategories%2F360006023012-Domino-Support-Service-Information&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [How to submit a Support request](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Sharing Files With The Domino Team](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team)
*   [Support Maintenance Exhibit: Terms and Conditions](https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions)
*   [Conda Terms of Service (TOS) change.](https://tickets.dominodatalab.com/hc/en-us/articles/360059163431-Conda-Terms-of-Service-TOS-change)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/articles/360032174331-Support-Site-Sign-In-Please-Verify-Your-Email)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures)

## Service Level Agreement

![](https://tickets.dominodatalab.com/system/photos/360980763491/profile.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement/subscription.html ""Opens a sign-in dialog"")

**Note:** the following information describes our standard Support Service Level Agreement. Some Customers have established different service level agreements as part of their tailored contracts. Please refer to your organization’s agreement on file with Domino for further details.

**Response time SLAs** are based on 1) ticket priority and 2) selected service level (Essential, Premium, or Enterprise) in the applicable order form. 

**Response Times:** Domino will respond to requests from our Customers for Support within the following response time frames. 

|     |     |     |     |
| --- | --- | --- | --- |
|     | **Service Level** |     |     |
| **Priority Code** | **Essential Support SLA** | **Premium Support SLA** | **Enterprise Support SLA** |
| Urgent | Within 2<br><br>business days | Within 2 hours | Within 1 hour |
| High | Within 4 business hours | Within 4 business hours |
| Normal | Within 2<br><br>business days | Within 1<br><br>business day |
| Low |
| **Support Service Hours**<br><br>Live Support <br><br>(based on time & issue submitted) | 7 AM–6 PM,<br><br>business days | Urgent/Critical: 24x7x365<br><br>High/Normal/Low: During Domino Business Hours | Urgent/Critical: 24x7x365<br><br>High/Normal/Low: During Domino Business Hours |
| **Support Contact Limits** | 5   | Unlimited | Unlimited |

## **Domino Business Hours/Business Days**

*   Domino Support’s business hours are Sunday 6 PM US Pacific time to Friday 6 PM US Pacific time, excluding company holidays (unless otherwise agreed to by Domino with Customer in writing).
*   Weekend and holiday coverage is provided for tickets meeting ALL of the following conditions:
    1.  The Customer has purchased _Premium_ or _Enterprise_ Support for their Domino subscription
    2.  The Priority is specified as “Urgent” or the Business Impact is specified as “Critical” on the ticket

### Recently viewed articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN97QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPd8QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODU5MS1TdXBwb3J0LURlZmluaXRpb25zBjsIVDoJcmFua2kG--b5b8596783b6a590cb40ffd67b69ae19c048d50b)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPd8QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kH--df7e1a505ef3498ca00d3dac104cca2ba04237c0)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPd8QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQg%3D--dbe2c8368eea5efe3c35ae2975b969c765082a08)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPd8QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpCQ%3D%3D--9e1ef395087241ef4561a707932c417d8b55f049)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRrIOmBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPd8QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzYyMTI3MzE4NTExNTYtTmV3LUFXUy1HUFUtbm9kZXMtYXV0b3NjYWxlLWJ1dC1mYWlsLXRvLWdldC1hZGRlZC10by1LdWJlcm5ldGVzLWNsdXN0ZXIGOwhUOglyYW5raQo%3D--3a7e8811e22d344464c09167c4f1dd740ddca112)"
https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request,"![](https://tickets.dominodatalab.com/system/photos/378958666/yaniv_-_picture_from_Zendesk.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request/subscription.html ""Opens a sign-in dialog"")

## How to contact Domino Support

_**For full information, please see [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151)**_

### 1\. Submit tickets through the Domino Product UI (fastest)

You can submit tickets via the “Support” button found on the lower-right portion of all pages in the Domino web UI.

![Support_button_in_Domino_UI.png](https://tickets.dominodatalab.com/hc/article_attachments/15635511871252)

### 2) Submit tickets through the Web

You may submit your ticket by going to [https://tickets.dominodatalab.com](https://tickets.dominodatalab.com/). Like the “Support” button within our product, this method of submission ensures the accuracy of the information you submit and allows for complete tracking of the ticket, with related comments and attachments. 

#### **3) Other ways to contact Domino Support**

Domino Support can also be reached via email, at [support@dominodatalab.com](mailto:support@dominodatalab.com). _NOTE: this is NOT recommended if you are experiencing a Critical issue during non-business hours. See “After Hours Support” below._

#### **After Hours Support**

During Domino designated holidays and weekends, Domino Support is available via the web for customers experiencing production outages or critical issues (see “Service Level Agreement”). **_Email submissions_** _will_ **_not_** _allow you to specify a business impact of “Critical”, so please use either the “Support” button seen in your Domino product, or_ [_https://tickets.dominodatalab.com_](https://tickets.dominodatalab.com/) _to submit a ticket if you require assistance during non-business hours._  We will use commercially reasonable efforts to contact you within two hours of when you submit your ticket (see “Service Level Agreement”). If the issue you are reporting is not designated as “Critical”, we will respond to you on the next business day. 

#### **Include the following information in your ticket**

*   Your name
*   Your organization name
*   Email address
*   Related product and version information
*   A detailed issue description, relevant logs, attachments, screenshots, [Support bundles](https://docs.dominodatalab.com/en/latest/get_help/support_bundle.html), etc.
*   Related information explaining the technical and business impact of the issue on your organization

### Recently viewed articles

*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpBg%3D%3D--6861967085f95da64c42dd4f820afc6c9a14981d)
*   [Domino Datasets: Feature request to be able to mount datasets to Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ66c4DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzE1NjM2NDk4MjA2ODY4LURvbWluby1EYXRhc2V0cy1GZWF0dXJlLXJlcXVlc3QtdG8tYmUtYWJsZS10by1tb3VudC1kYXRhc2V0cy10by1Nb2RlbC1BUElzBjsIVDoJcmFua2kH--0d234140cd561ec207979fd4c28494d21e3bc719)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQg%3D--8d999024ead5cab490f729ca32b4e94e54a95ae7)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kJ--cc018f3f4f9082e8e8944e91d450b7166050a85b)
*   [Unable to register a Model Monitor that uses a file from S3 Datasource](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS12Q7lBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzUzODE4NDMxNzA1ODAtVW5hYmxlLXRvLXJlZ2lzdGVyLWEtTW9kZWwtTW9uaXRvci10aGF0LXVzZXMtYS1maWxlLWZyb20tUzMtRGF0YXNvdXJjZQY7CFQ6CXJhbmtpCg%3D%3D--2e71e8a7e0dcc95e3681b2ec12521f58c004ea08)"
https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [How to submit a Support request](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Sharing Files With The Domino Team](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team)
*   [Support Maintenance Exhibit: Terms and Conditions](https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions)
*   [Conda Terms of Service (TOS) change.](https://tickets.dominodatalab.com/hc/en-us/articles/360059163431-Conda-Terms-of-Service-TOS-change)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/articles/360032174331-Support-Site-Sign-In-Please-Verify-Your-Email)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures)

## Support Definitions

![](https://tickets.dominodatalab.com/system/photos/360980763491/profile.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions/subscription.html ""Opens a sign-in dialog"")

## **Priority Codes**

The following definitions apply to the **_technical_** impact of an issue, as assessed by Domino once the issue has been submitted.

*   **Urgent** (See “Critical” in our standard legacy MSA/contract)  - An “Urgent” priority is given to an issue encountered in an environment that renders the Domino product inoperable, or substantially degrades the performance thereof, or adversely affects Customer’s business operations, or causes financial liability due to operational or informational deficiency. 
*   **High** (See “High” in our standard legacy MSA/contract) - A “High” priority is given to an issue that is not adversely affecting Customer’s business operations or causing financial liability, but has no viable workaround, and is repeatedly affecting Customer’s usage of the Domino product, or negatively affecting data integrity, or degrading performance of the Domino product.
*   **Normal** (See “Standard” in our standard legacy MSA/contract) - A “Normal” priority is given to an issue which does not significantly impact Customer’s operation or use of the Domino product.
*   **Low** - A “Low” priority is given to questions that don’t relate to the disruption of core Domino product functionality. These may include “how-to” questions, especially those related to unique workflows or requirements

## **Business Impact Levels**

The following definitions apply to our available “Business Impact” levels. “Business Impact” is set by the Customer contact when submitting a ticket (only available via the “Support” button in the Domino application, or by submitting a ticket via [https://tickets.dominodatalab.com](https://tickets.dominodatalab.com/); “Business Impact” cannot be set via email).

*   **Critical** \- There is a system-wide outage in your production deployment, preventing multiple users from working on Domino, or if there is a significant risk of data loss 
*   **Major** - A commonly used, documented feature has stopped working in your Domino deployment, and the loss of functionality is significantly impairing your usage of the product
*   **Moderate** - A minor feature is no longer working and it's reducing the usability of the Domino product
*   **Limited** \- You have a question about how to do something in Domino

## **Ticket Statuses**

*   **New** \- ticket was recently submitted, and is awaiting assignment to a Domino Support Engineer
*   **Open** \- ticket or latest update is under investigation by Domino Support
*   **Pending** - ticket requires more input from Customer contact/requestor. Please post a comment when the requested information is available.
*   **Solved** - either a) a solution has been provided to the ticket/issue, or b) following a “Pending” status (signaling a request for information from the Customer contact/requestor), two or more weeks have elapsed with no further input; NOTE: a ticket can be re-opened by simply responding to the ticket email thread, or by posting a new comment on the ticket via our [Customer Portal](https://tickets.dominodatalab.com/)
*   **On Hold** - issue requires longer-term resolution, ex: via a defect fix in a future version, or new feature
*   **Closed** - issue was previously “Solved”, and is now officially closed.

## **Business Hours/Business Days**

*   Domino Support’s business hours are Sunday 6 PM US Pacific time to Friday 6 PM US Pacific time, excluding company holidays (unless otherwise agreed to by Domino in writing). Weekend and holiday coverage is provided for tickets meeting ALL of the following conditions:
    *   The customer has purchased a subscription to **_Premium_** or **_Enterprise_** Support
    *   The Priority is specified as “Urgent” or the Business Impact is specified as “Critical.”

## **Support Contacts**

|     |     |     |
| --- | --- | --- |
| **Essential Support** <br><br>**Contact Limit** | **Premium Support** <br><br>**Contact Limit** | **Enterprise Support** <br><br>**Contact Limit** |
| 5   | Unlimited | Unlimited |

*   Customers who select “Essential  Support” as their service level will be allowed a _maximum of FIVE Support Contacts_.
*   A “Support Contact” is one named individual (not a distribution list) within the Customer’s organization who is enabled to log tickets directly with Domino Support. This individual should be familiar with Domino’s product, and able to act as a member of a “center of excellence” within the Customer’s organization. This “center of excellence” will be capable of addressing questions related to Domino products from other individuals within the Customer’s organization before escalating to Domino Support. 
*   All inquiries from Customer personnel NOT listed as “Support Contacts” will be routed to the Customer’s Support Contacts or “center of excellence.” 
*   PREMIUM and ENTERPRISE Support levels offer UNLIMITED Support Contacts, therefore all end users can interact _directly_ with Domino Support.

## **Designated Support Advocate**

Customers who elect to purchase **Enterprise Support** will be assigned a “Designated Support Advocate (“DSA”). A DSA is a highly skilled and experienced Technical Support Professional. DSAs provide a personalized and responsive level of support that can help avoid downtime, improve productivity, and achieve business goals.

### Scope of DSA services:

*   The DSA will attend Customer meetings remotely as requested (up to 2 hours per week).
*   The DSA will ensure technical issues are triaged and resolved as quickly as possible.
*   The assigned DSA will assist in the triaging of incoming tickets conforming to the defined scope of service for Domino Support, specifically related to core product functionality, as defined [on this page](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage). Issues outside of this scope will be referred by the DSA to other parties for further investigation as appropriate, including the account’s assigned Solution Engineer, Solution Architect, Sales Engineer, Customer Success Manager (“CSM”), or Customer Administrator.
*   The DSA will assist in coordinating tasks with other parties who perform work outside of contractual Support scope (Professional Services, CS Engineering, Customer administrators, etc.).
*   Support Analytics: The Designated Support Advocate will provide reporting on open tickets, tickets resolved, and any dependencies. Identified ticket themes will be raised with the CSM and/or Professional Services to provide suggestions and improvements.
*   The DSA will ensure a continuous flow of communication between internal parties and the Customer.
*   The DSA will  advocate for Customer’s requests within the product and engineering teams.

### Limitations of DSA services:

*   DSA service will be provided exclusively remote.  The parties may agree however, to elect to send a Domino DSA to a Customer site and travel and expenses will be billed to Customer.
*   DSA service is included with Enterprise Support. Customers selecting Premium Support may select to add a DSA as an add-on for an additional fee.
*   Domino reserves the right to change DSA personnel. Should a planned personnel change be necessary, another DSA will be identified by Domino Support Management. A warm handoff between DSAs and Support Management will take place. To the extent possible, Domino Support will provide the Customer with two months’ notice if such a change takes place.
*   When a DSA is out of office, they will relay this information in advance to the Customer and provide time frames. While the assigned DSA is away, if another DSA is available, (s)he will be assigned to the Customer temporarily. Upon the return of the Customer’s assigned DSA, (s)he will resume normal activities.

## **Other Definitions**

*   **Core products** \- “Core products” refers to what is covered in the official Domino product documentation, and all documented features therein (see [https://docs.dominodatalab.com](https://docs.dominodatalab.com/)).
*   **Ticket** - “Ticket” refers to a single submission to Domino Support by a Customer, related to a single issue or problem, assigned a unique ticket number by our ticketing system (_ex: #59999_). This includes product defects and feature requests submitted through Domino Support.
*   **Customer Portal** - “Customer Portal” refers to our ticketing and knowledge management system, [https://tickets.dominodatalab.com/](https://tickets.dominodatalab.com/).

### Recently viewed articles

*   [How to submit a Support request](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN97QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--6b594d526077af18cc8e7bf78ff12cb045d7c9d8)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN97QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBw%3D%3D--20203184a6161592910451333fb423677840d54a)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN97QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpCA%3D%3D--46e2dac4bde22fd7ad7c3716f2f4900da5b37f67)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN97QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQk%3D--aa5ec165c1ad896db893256f50db5daf72f345e6)
*   [Why does my workspace keep getting shut down?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT083YBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN97QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzcxNzc2MjAtV2h5LWRvZXMtbXktd29ya3NwYWNlLWtlZXAtZ2V0dGluZy1zaHV0LWRvd24GOwhUOglyYW5raQo%3D--307fc713a76e933631a4f1e470210e91890ee8b4)"
https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own)

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

Please follow these steps to get notification when others add collaborators to projects you own

*   Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507465477012)

*   Navigate to the ""Account Setting Page"" after logging in.

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507459724564)

*   Go to the ""User's Page.""

![Screen_Shot_2022-07-26_at_2.01.29_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507459725844)

*   Locate the notification

![Screen_Shot_2022-09-27_at_10.31.53_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9647679906708)

*   Change the Collaboration & Sharing (Notify me when others add collaborators to projects I own) to check, and the changes will be saved automatically

![Screen_Shot_2022-09-27_at_10.34.29_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9647626123796)

**You're All Set.**

### Recently viewed articles

*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [How to submit a Support request](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)

### Related articles

*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSoSa%2FHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRCZoTGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzYzNTUxOTc0NzA4NjgtSG93LXRvLWV4Y2x1ZGUtYXR0YWNobWVudHMtZnJvbS10aGUtRG9taW5vLXJ1bi1ub3RpZmljYXRpb24tZW1haWxzBjsIVDoJcmFua2kG--25c4ec7ae205d30cb0e0647e22b056f8c8e90752)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRSg0w3DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRCZoTGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzE1NjMwNjY5NjY0Nzg4LUhvdy10by1jcmVhdGUtYS10ZXN0LU1vZGVsLUFQSS11c2luZy10aGUtc2FtcGxlLW1vZGVsLXB5LWZpbGUGOwhUOglyYW5raQc%3D--48f81eea1692ed9fa4d8fafe808b917362b9ebf0)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSbF2erCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRCZoTGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy8xMTczMTI4NTI4NTc4MC1TY2hlZHVsZWQtSm9icy1GZWF0dXJlLXJlcXVlc3QtdG8tbWFrZS1HaXQtUmVmZXJlbmNlLXNlY3Rpb24tYXZhaWxhYmxlLW9uLUdpdC1iYXNlZC1wcm9qZWN0cwY7CFQ6CXJhbmtpCA%3D%3D--086b075e4275a8e2bf1fd5290806a9f0a6a4b799)"
https://tickets.dominodatalab.com/hc/en-us/sections/23508980659348-Collaborating,"## Collaborating

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/23508980659348-Collaborating/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/23508980659348-Collaborating/subscription.html?subscribe_to_grandchildren=true)

*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data,"## Working with Data

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal/subscription.html ""Opens a sign-in dialog"")

**Pre-requisite - Understanding and Using datasets**

Follow the guidelines [here](https://docs.dominodatalab.com/en/latest/user_guide/ba5bad/manage-data-in-domino-datasets/) to understand how to manage data in **datasets** and how to create and use them.

**1\. Terminal access within a workspace**

Ensure that you have a new workspace running with an IDE that has terminal access, **Jupyter, Jupyter Lab, RStudio & VsCode** all have the ability to access a terminal. Access the terminal once the workspace is up.

**2\. Gain root access and copy data**

 **1\. Copy data from workspace terminal to dataset**

sudo su -  
cd <workspace-directory>  
rsync -avP <workspace-source-directory> /domino/dataset/local/<datatsetname>/<dataset-destination-directory>

This **rsync** command copy's the contents of a directory within a workspace defined by  **<workspace-source-directory>** to a dataset destination directory defined above as **<dataset-destination-directory>.** 

 **2. Copy data from dataset to workspace**

sudo su -  
cd /domino/dataset/local/<datatsetname>/<dataset-source-directory>  
rsync -avP <dataset-source-directory> <workspace-destination-directory>  

This **rsync** command copy's the contents of a directory within a dataset defined by **<dataset-source-directory>** to a workspace directory defined **<workspace-destination-directory>**

**3\. Other combinations of copying with rsync (Optional)**

1\. Excluding Multiple Files or Patterns:

rsync -avP --exclude='\*.log' --exclude='\*.tmp' /src/ /dest/

2\. Copying data with delays for bandwidth control

rsync -avP --bwlimit=1000 /src/dir/ /dest/  

3\. Copying multiple files within a directory

rsync -avP /src\_dir/\*.txt /dest/path

4\. Copying files verbosely and preserving permissions, ownership

rsync -rvP /src\_dir/file1.txt /src\_dir/file2.txt /dest

5\. Copying multiple files within a directory: 

rsync -av /src\_dir/\*.txt /dest/path

6\. Copying data over SSH with a specific port:

rsync -avP -e 'ssh -p 4442' user@remote:/src/dir/ /local/dest/  

7\. Dry run simulating an rsync copy, showing what would be copied without actually copying anything.

rsync -avn /src/dir/ /dest/

Notes: 

**rsync man page:** [https://linux.die.net/man/1/rsync](https://linux.die.net/man/1/rsync)

![domino logo.png](https://tickets.dominodatalab.com/hc/article_attachments/19709570419348)

### Recently viewed articles

*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [How to submit a Support request](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)

### Related articles

*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTb1eOCCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdM%2BPVEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzExNTU3Mjg0NDY5NTI0LUhvdy10by11c2UtdGhlLWRvbWluby1DTEktdXBsb2FkLWRhdGFzZXQtY29tbWFuZAY7CFQ6CXJhbmtpBg%3D%3D--e81123c7c976fdc7864174e7852ea68c8084885e)
*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR2ikICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdM%2BPVEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI4MTYyNzYtSG93LWRvLUktbW92ZS1maWxlcy1mcm9tLWEtcHJvamVjdC10by1hLWRhdGFzZXQGOwhUOglyYW5raQc%3D--9a040ba86aa6ebcc7d265b4d95c62d144c5b599a)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdM%2BPVEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQg%3D--963b61e1019b19ef81d7a964857fae7e49e1410f)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdM%2BPVEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--c96cf6388e0888bf2cff9e854264beedfd10b6e3)
*   [""Permission denied"" when trying to access the DMM prediction data logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT6TiPlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdM%2BPVEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzUzODIxODY0MDAyNzYtLVBlcm1pc3Npb24tZGVuaWVkLXdoZW4tdHJ5aW5nLXRvLWFjY2Vzcy10aGUtRE1NLXByZWRpY3Rpb24tZGF0YS1sb2dzBjsIVDoJcmFua2kK--3e71ce940c76970a91f570135fecb5ef57c2c390)"
https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations,"## Data Sources: Changing/Editing Configurations

![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Version:

Version 5.0 and above 

* * *

## **Topic:**

If a user needs to customize his data source to tailor their needs or encounters an error saying they need to edit the port or host name, this article will help show users how to perform the change.

## **Steps:**

**1\. Make sure you are logged in, click on Data on the left side. The main screen will automatically show you a list of Data Source. (\*\*Note: By default, the page will bring you to Data Source, but you will also have an option to navigate to Data Sets)** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/19092425568916)**

**2\. Select your  Data Source and on the next window it will bring you to the main data source config screen.** 

![datasource1.png](https://tickets.dominodatalab.com/hc/article_attachments/19092440425876)

**3\. On the configuration section, click on the edit link and it will now provide you an option to fill in the boxes to change your config.**

**![Screen Shot 2023-09-11 at 1.35.59 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19092379039892)**

**4\. Once satisfied, make sure you select ""SAVE CHANGES"" at the bottom.** 

### **References/Internal Records:**

See:

[Connect A Data Source](https://docs.dominodatalab.com/en/5.3/user_guide/8c7833/connect-a-data-source/)

### Related articles

*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQplEICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSouEtdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0NTE3OTYtV29ya2luZy13aXRoLUdpdC1yZXBvc2l0b3JpZXMtZnJvbS10aGUtd29ya3NwYWNlLWNvbW1hbmQtbGluZQY7CFQ6CXJhbmtpBg%3D%3D--fd565f6c6fc917811ab3033d861b56ff19775bc2)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRNwAjHFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSouEtdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzIzOTQ0NTg5NDk1NTcyLURhdGFzZXRzLVVzYWdlLVJlcG9ydC12aWEtQVBJLWNhbGwGOwhUOglyYW5raQc%3D--34615147b8625a04506f4d5647ef1cb07d457134)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSxKC5dEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSouEtdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5MDkxOTA0MDQ5NTU2LURhdGEtU291cmNlLUhvdy10by1FZGl0LVVzZXItUGVybWlzc2lvbnMGOwhUOglyYW5raQg%3D--b4b61e1b6a0b669eabaac5ac74e2d8d17b483334)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTo%2Bul1CzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSouEtdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzEyNjAxMDY0NjEzOTA4LUNhbi13ZS13cml0ZS1hLWRhdGFmcmFtZS10by1Tbm93Zmxha2UtdXNpbmctdGhlLVNub3dmbGFrZS1EYXRhc291cmNlLURvbWluby1EYXRhLUFQSQY7CFQ6CXJhbmtpCQ%3D%3D--2d2dd39bbc8541487182439b7929e1914ab8de9b)"
https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Version 5.0 Above

* * *

## **Topic:**

In the event that an owner of a data source needs to change access capability, or if a user trying to access a data source encounters a message requiring them to seek access permission or a user already has access to data source but their credentials needs to be added. 

This article details how to change permissions on Data Source and fix the aforementioned issues.  

* * *

## **Steps:**

**1\. Log in to your Deploy**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/19091904041748)**

**2\. Once logged in, click on Data on the left side. The main screen will automatically show you a list of Data Source. (\*\*Note: By default, the page will bring you to Data Source, but you will also have an option to navigate to Data Sets)** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/19091912728084)**

**3\. Next , look for your Data Source. Note: You have the option to filter the data source using the search box on the top right, or sort the columns.**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/19091897497364)**

**4\. On the right side, look for the box that says ""User Permissions"" and click on edit.** 

![permissions1.png](https://tickets.dominodatalab.com/hc/article_attachments/19091960393620)

**5\. You will then see a pop-up window on the next screen. You will have now have the option to ""Update Permissions"". Clicking on the edit link will show a small pop-up box where you can just click on update permissions.. If you are an admin , you will have another option to ""update owner"".**

**You can either set the permissions to ""Everyone"" or ""specific user or organization"" and you are all set.**

**![permissions2.png](https://tickets.dominodatalab.com/hc/article_attachments/19091945213460)**

**![permissions3.png](https://tickets.dominodatalab.com/hc/article_attachments/19091897500180)**

* * *

### **References/Internal Records:**

See: 

[Connect A Data Source](https://docs.dominodatalab.com/en/5.3/user_guide/8c7833/connect-a-data-source/)

### Recently viewed articles

*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSxKC5dEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--81e04958d90ab38baec038520a2e7dd9d317e591)
*   [I've switched to a GPU (or CPU) hardware tier and now my workspace will not leave assigning.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTz1XPTEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSxKC5dEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8xOTU5OTg3OTE3MzAxMi1JLXZlLXN3aXRjaGVkLXRvLWEtR1BVLW9yLUNQVS1oYXJkd2FyZS10aWVyLWFuZC1ub3ctbXktd29ya3NwYWNlLXdpbGwtbm90LWxlYXZlLWFzc2lnbmluZwY7CFQ6CXJhbmtpBw%3D%3D--a6087b5b00f09a1fd5568c787051904bfc9630e3)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTT%2BrQfEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSxKC5dEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzE3NzI4MzY2MzY3NjM2LUlzLXRoZXJlLWEtbWF4aW11bS1saW1pdC10by10aGUtYW1vdW50LW9mLUV4dGVybmFsLURhdGEtVm9sdW1lcy1FRFZzLXlvdS1jYW4taGF2ZQY7CFQ6CXJhbmtpCA%3D%3D--0236a96b8c21b8cfe60506cef289157df72e12cd)"
https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Version 5.0 Above

* * *

## **Topic:**

This will serve as a guide on how to add your own credentials to an already existing Data Source from the DATA launchpad. 

* * *

## **Steps:**

**1\. Log in to your Deploy**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17280501244692)**

**2\. Once logged in, click on Data on the left side . The main screen will automatically show you a list of Data Source. (\*\*Note: By default, the page will bring you to Data Source, but you will also have an option to navigate to Data Sets)** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17280473197588)**

**3\. Next , look for the name of the Data Source you are looking for, and simply click on the name. The next screen will bring you to the DATA SOURCE Settings Page.** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17280484939540)**

**4\. Near the bottom of the page, locate the blue ""ADD CREDENTIALS"" button.** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17280484944532)**

**5\. You will then see a pop-up window in which you would just need to fill in the necessary info.** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17280493416084)**

* * *

## **Notes/Information:**

The retrieval of your access  key ID depends on the DATA Source you are using. Different DATA Sources have different methods of retrieving your access keys, setting Amazon ( see [https://docs.aws.amazon.com/powershell/latest/userguide/pstools-appendix-sign-up.html](https://docs.aws.amazon.com/powershell/latest/userguide/pstools-appendix-sign-up.html)) 

### **References/Internal Records:**

See:

[Connect A Data Source](https://docs.dominodatalab.com/en/5.3/user_guide/8c7833/connect-a-data-source/)

### Recently viewed articles

*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)

### Related articles

*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSoSa%2FHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQerG23DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzYzNTUxOTc0NzA4NjgtSG93LXRvLWV4Y2x1ZGUtYXR0YWNobWVudHMtZnJvbS10aGUtRG9taW5vLXJ1bi1ub3RpZmljYXRpb24tZW1haWxzBjsIVDoJcmFua2kG--d60123a7316e1d87967cf98aaf9c33171d3095bc)
*   [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOdasDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQerG23DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4MDgwMjEwMTItSG93LXRvLURlbGV0ZS1hbi1FbXB0eS1Gb2xkZXItRnJvbS1hLURvbWluby1Qcm9qZWN0BjsIVDoJcmFua2kH--1391f48cb2e899bf43b71a8bf49e56f309cf44a7)
*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCTAIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQerG23DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0NDQ1Mi1EYXRhLUxha2UtdnMtRGF0YS1XYXJlaG91c2UGOwhUOglyYW5raQg%3D--bddc4e8f43f2f793c977bcefadfcd27fe66d4a83)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRNwAjHFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQerG23DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzIzOTQ0NTg5NDk1NTcyLURhdGFzZXRzLVVzYWdlLVJlcG9ydC12aWEtQVBJLWNhbGwGOwhUOglyYW5raQk%3D--d3f39a1a63c164f435cc82f2ce7aa13a1f739bfd)"
https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Version 5.0 Above

* * *

## **Topic:**

This will serve as a guide on how to locate projects associated with a certain Data Source and the management of given Data Source. This is useful in case a user or an admin needs to locate the projects connected to DATA Source before deleting it. They can simply locate the project owners and inform them about the planned removal of Data Source. 

* * *

## **Steps:**

**1\. Log in to your Deploy**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17265881951636)**

**2\. Once logged in, click on Data on the left panel and it will automatically show you a list of Data Source on the right. (\*\*Note: By default, the page will bring you to Data Source, but you will also have an option to navigate to Data Sets)** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17265888753172)**

**3\. Next is to look for the name of the Data Source you are looking for, you can use the filter function on the upper right side of the screen or you sort the table by NAME, DATA STORE, DATA SOURCE OWNER,etc . Once you have the correct Data Source name just simply click on it and it will bring you to the DATA SOURCE Settings Page.** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17265866522388)**

**4\. You will have to click on the ""Dependent Projects"" column on top and it will now show you what are the projects associated with the Data Sources.** 

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17265881958548)**

### **References/Internal Records:**

See:

[Connect A Data Source](https://docs.dominodatalab.com/en/5.3/user_guide/8c7833/connect-a-data-source/)

### Recently viewed articles

*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)

### Related articles

*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuqwwVFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcOQW0DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzIyMDgwNjM5NDMwMTY0LUhvdy10by1maW5kLWRhdGEtbW91bnQtaW5mb3JtYXRpb24tZm9yLXRoZS1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--e180a6ed5e627526edc6515449cac229fde703f2)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTNqnpcEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcOQW0DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzE3OTg5MzgxMDQ5NzQ4LVByb2dyYW1tYXRpY2FsbHktZG93bmxvYWQtYS1wcm9qZWN0LXMtZmlsZXMtYmFzZWQtb24taXRzLWlkLXVzaW5nLVB5dGhvbi1yZXN0LUFQSXMGOwhUOglyYW5raQc%3D--a64c63ebce26f6ee5c32fa86d61da68d8cc8e7c5)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRPY%2BBODToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcOQW0DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzE0NjMyNDIzMjE0OTk2LUNhbi1hLURvbWluby1kYXRhc2V0LWJlLW1vdW50ZWQtYXMtYS1zaGFyZWQtZGF0YXNldC13aGlsZS1hLXNuYXBzaG90cy1pcy1pbi1wcm9ncmVzcwY7CFQ6CXJhbmtpCA%3D%3D--0502d0de156532d04973518b04ad183abe792b9f)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTE4l3IDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcOQW0DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhy9oYy9lbi11cy9hcnRpY2xlcy8xNDA1NDcwODEzNTA2MC1Ib3ctdG8tdmlldy13b3Jrc3BhY2UtcmVzb3VyY2UtdXNhZ2UtYW5kLXN3aXRjaC1oYXJkd2FyZS10aWVycy13aGVuLWhpdHRpbmctbWF4LUNQVS1hbmQtbWVtb3J5LWxpbWl0cwY7CFQ6CXJhbmtpCQ%3D%3D--4ecb3665e30fe8c8156e9226cca970df44830112)"
https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have,"#### _**Version/Environment:**_

5.x

* * *

### _Resolution:_

At this time there are no limits to the amount of External Data Volumes that you can have in a deployment. We have tested up to at least 100+ EDVs without no issues, but there was no known limit above this.

* * *

### **References/Internal Records:**

*   ZD-79281

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This issue affects all versions.

* * *

## **Issue:**

On Git-based projects, when starting a new manual job, there is a **Git Reference** section where you can choose the repository from the dropdown:

![Manual_job_has_Git_Reference.png](https://tickets.dominodatalab.com/hc/article_attachments/11730675888404)

However, when creating a **Scheduled Job,** the **Git Reference** section is not available:  

![Scheduled_Job_does_not_have_Git_Reference.png](https://tickets.dominodatalab.com/hc/article_attachments/11730675871636)

* * *

## **Root Cause:**

Currently, in Git-based projects, the Git Reference feature is only available on ad-hoc (non-scheduled) jobs. 

* * *

## **Notes/Information:**

We currently have a feature request for the option to select Git Reference on scheduled jobs. For reference: DOM-42221. If you find this functionality valuable, please [submit a ticket with Domino Support](https://docs.dominodatalab.com/en/5.3/user_guide/80328c/contact-technical-support/) so that we can ""add your vote"" to this feature request.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)

### Related articles

*   [Clearing Git Cache](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgtyndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0MDI3MTczMDEyLUNsZWFyaW5nLUdpdC1DYWNoZQY7CFQ6CXJhbmtpBg%3D%3D--4f49d568a80491d1dfc9188439c2cfee553517c6)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kH--def2d90da709f2c3593b4c3619f0bf5976914a6b)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQg%3D--b1af484ed0d5dfd71fe611a51de92d8f0bbadc52)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQk%3D--0aecd8ed0ef56f3de1d428f6f373bcfe8cb37045)
*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRCZoTGCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzk2NDg3MTc4NDA5MTYtR2V0LW5vdGlmaWNhdGlvbi13aGVuLW90aGVycy1hZGQtY29sbGFib3JhdG9ycy10by1wcm9qZWN0cy15b3Utb3duBjsIVDoJcmFua2kK--aaf43d7c15234e06ce045cb6279d80a89ac20c5b)"
https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line,"Both Jupyter and RStudio workspaces have command-line tools. You can use these to interact with your repositories with conventional Git commands. Navigate to `/repos` in your command line to find your project’s repositories. Visit the [official Git documentation](https://git-scm.com/docs/gittutorial) to learn more about using Git on the command line.

To open the RStudio command line, click **Tools -> Shell…**

![rstudio-shell.png](https://tickets.dominodatalab.com/hc/article_attachments/7244164566420)

To open the Jupyter command line, from the _Files_ tab click **New -> Terminal**

![jupyter-terminal.png](https://tickets.dominodatalab.com/hc/article_attachments/7244105680532)"
https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects/subscription.html ""Opens a sign-in dialog"")

#### _**Version**_

Domino 4.4.0 and above

## **Issue:**

Before Domino 5.3, GIT based projects do not honor the requirements.txt file located on the GIT repository itself.  At Domino v5.3 and beyond the requirements.txt file in the root directory of your git repository will be honored.  In your Domino workspace this directory translates to [/mnt/code](https://docs.dominodatalab.com/en/latest/user_guide/ccaee6/git-based-project-directory-structure/).

## **Resolution:**

To use the requirements.txt file in a GIT based project, the requirements.txt file must be in the **Code** (/mnt/code) folder of your Domino project for Domino versions 5.3 and beyond.  For older versions, 5.2 and below, the requirements.txt file should be in the **Artifacts** (/mnt/artifacts) folder.

## **Notes/Information:**

[https://docs.dominodatalab.com/en/latest/user\_guide/9c4f82/use-requirements-txt--python-only-/#\_add\_your\_own\_packages](https://docs.dominodatalab.com/en/latest/user_guide/9c4f82/use-requirements-txt--python-only-/#_add_your_own_packages)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)
*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)

### Related articles

*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQKN5rXDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE2MzE5MTY4MDU1ODI4LVdoYXQtb3B0aW9ucy1kby1JLWhhdmUtZm9yLWFkZGluZy1jb2RlLXBhY2thZ2VzLXRvLW15LWV4ZWN1dGlvbnMGOwhUOglyYW5raQY%3D--37d88aa3f238fa0947f412fdec2cf4e092156a57)
*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQc%3D--56c72734894eb3afe716bdf5023783ef413b348a)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQg%3D--afe72edc0a0d63841a2a57f0ab7e106406998ba0)
*   [Packages in the requirements.txt file are not being installed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSA%2BQMHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU1Mjc2ODk1OTI4NTItUGFja2FnZXMtaW4tdGhlLXJlcXVpcmVtZW50cy10eHQtZmlsZS1hcmUtbm90LWJlaW5nLWluc3RhbGxlZAY7CFQ6CXJhbmtpCQ%3D%3D--b157bedef2ea8d97aaff3ce7b949d416b0a08b8b)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kK--ddb9e775198fd32bbfddea9af29c328b7c1acc3a)"
https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key/subscription.html ""Opens a sign-in dialog"")

## Creating credentials

If you are adding a private repository, want to write commits to remote, or are using SSH, you will need to add Git credentials to your Domino account. Domino will use these credentials to authenticate with the service hosting your repository when you start a [Run](https://docs.dominodatalab.com/en/latest/user_guide/4474ab/executions/).

### SSH Key creation

You will need an SSH Private Key to access a repository via SSH. You will need an SSH private key if the URI you want to use to interact with a repository is formatted as:

`<user>@<domain>:<username>/<repository>.git`

SSH access is supported by the following Git services.

*   [GitHub SSH Access](https://help.github.com/articles/connecting-to-github-with-ssh/)
    
*   [GitLab SSH Access](https://docs.gitlab.com/ee/ssh/)
    
*   [Bitbucket SSH Access](https://confluence.atlassian.com/bitbucket/set-up-an-ssh-key-728138079.html)
    

To generate an SSH Key

*   Open Terminal.

*   Paste the text below, substituting in your GitHub email address.
    

$ ssh-keygen -t ed25519 -C ""your\_email@example.com""  
Note: If you are using a legacy system that doesn't support the Ed25519 algorithm, use:  
$ ssh-keygen -t rsa -b 4096 -C ""your\_email@example.com""

This creates a new SSH key, using the provided email as a label.  
Generating public/private ed25519 key pair.

*   When you're prompted to ""Enter a file in which to save the key,"" press Enter. This accepts the default file location.

\> Enter a file in which to save the key (/Users/you/.ssh/id\_ed25519): \[Press enter\]

*   At the prompt, type a secure passphrase. 
    

\> Enter passphrase (empty for no passphrase): \[Type a passphrase\]  
\> Enter same passphrase again: \[Type passphrase again\]

After setting up SSH access with your Git service, you should have both a _public key_ that you provided to the Git service and a _private key_. Use these steps to add the _private key_ to Domino:

1.  Copy your SSH key
    
    From a terminal, `pbcopy < ~/.ssh/id_rsa` is the easiest way to copy the key to your clipboard assuming you set up your key with the standard name and in the standard location.
    
    If you copy the key manually, remember to include the `-----BEGIN OPENSSH PRIVATE KEY-----` and `-----END OPENSSH PRIVATE KEY-----` header and footer.
    
2.  In Domino, click your username at the bottom of the main menu, then click **Account Settings**.
    
3.  Scroll down to the panel labeled _Git Credentials_, then click **Add a New Credential**.
    
4.  In the _Domain_ field, enter the exact domain of the service hosting your repositories, such as **github.com**, **bitbucket.com**, or **your-internal-gitlab-url.com**.
    
5.  For _Authentication Credential Type_, click to select **Private SSH Key**.
    
6.  Paste in your private key. This will be the contents of the private key file that matches the public key you provided to your Git service.
    
7.  If you set up your SSH keys to require a passphrase when used, enter it in the _Passphrase_ field, then click **Add Credential**.
    
8.  You should now see your credential listed in the _Git Credentials_ panel. You can also delete it from this panel if desired.![git-credentials-panel-ssh.png](https://tickets.dominodatalab.com/hc/article_attachments/12494250687892)
    

## Add a repository to a project

1.  Open the project you want to add a repository to, then click **Files** from the left navigation bar.
    
2.  Click to open the **Git Repositories** tab, then click **Add a New Repository**.
    
3.  Enter an optional directory name and the HTTPS or SSH URI of the repository you want to add. The directory name will be the directory in `/repos` that this repository clones into. It defaults to the name of the repository.
    
4.  Use the dropdown menu to choose which branch of the repository you want Domino to check out when it clones this repository into a run or workspace. If you leave this setting at _Use default branch_, Domino will check out the branch specified as default by your Git service, typically `master`. You can also specify a different branch name, tag name, commit ID, or supply a custom Git ref.
    
    ![add-repo-modal.png](https://tickets.dominodatalab.com/hc/article_attachments/12494303881364)
    
5.  Click **Add Repository**.
    

### Recently viewed articles

*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [How to use requirements.txt file for git based projects](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)
*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)

### Related articles

*   [My Domino account doesn't seem to recognize my Github ssh key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRDh0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI2MDY0ODQtTXktRG9taW5vLWFjY291bnQtZG9lc24tdC1zZWVtLXRvLXJlY29nbml6ZS1teS1HaXRodWItc3NoLWtleQY7CFQ6CXJhbmtpBg%3D%3D--a49e81532b66d61ff7ce2b87e88a81692a984b72)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQc%3D--c16e46a3b20410685ff1d1a40a67107f834fe422)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCA%3D%3D--310c906cb1b4c12db1dd73113d7e4abf490ca411)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kJ--d6567988bbfb4a8df1cbfcefaa8bdabfb9c26dad)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQo%3D--2bff98aa41a04e362f444d88563b655fd7d5ef98)"
https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call,"#### _**Version:**_

Domino 5.7~5.10 only tested in this range, but you may have success in some newer and older versions.

## **Issue:**

The Admin >> Data >> Datasets page allows a CSV formatted report to be downloaded of the contents of this page. 

![Screenshot 2024-02-22 at 12.29.05 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/23964650251540)

This article describes how to use a non public API call to pull this report.  **Note that non-public APIs are unsupported and provided as-is.  They are subject to change across Domino versions so be aware this endpoint may change after upgrades.**

## **Notes/Information:**

This API call can be used as below:

```
curl --location 'https://<DOMAIN>/v4/datasetrw/download-usage-report' \--header 'X-Domino-Api-Key: <USER_API_KEY>' \-o dataset-usage-report.csv
```

### **References/Internal Records:**

Domino engineering is reviewing whether this can be moved to a publicly supported API.

*   DOM-54574

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/23944589490452)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509059993492-Rest-API,"## Rest API

*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4408173152276-How-to-generate-a-User-Activity-Report-by-API-call-in-Domino-4-x)
*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/360058494731-Calling-Domino-REST-API-from-Python-Jupyter)
*   [How to add tags to a project using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/360058494291-How-to-add-tags-to-a-project-using-the-Domino-API)"
https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API/subscription.html ""Opens a sign-in dialog"")

In order to use data mounts with the REST API you'll need the volume mount id. There are a few ways you can find the id necessary fro your job. 

If you already know your project id you can find a project's associated data mounts with name and id at this endpoint: 

```
https://<baseurl>/v4/datamount/projects/<project id> 
```

  
For example, in testing the endpoint looked like this: 

```
https://dominotesting.com/v4/datamount/projects/62aa3601c73079282fa27aa6
```

   
Yours will likely look something like this: 

```
https://<base_url>/v4/datamount/projects/<project id> 
```

   
That endpoint will list all the data mounts associated with the project, so you'll need to find the mount in question along with it's ""id"".  
   
   
**If you do not know your project's id, you'll need to find it using these steps:**   
   
Go to this endpoint to find all your projects: 

```
https:/<base_url>/v4/projects
```

   
Find the project in question along with the id. The id is the first item in the json object, but that endpoint will show all the projects you have access to. 

### Recently viewed articles

*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [How to use requirements.txt file for git based projects](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)

### Related articles

*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQLZ8B7EToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuqwwVFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzE5MjIzMjA2NjI4MjQ0LUNvbm5lY3RpbmctdG8tRG9taW5vLU1vZGVsLU1vbml0b3ItRE1NLU1vbmdvREIGOwhUOglyYW5raQY%3D--583b6c173cdc03165f2be8f6976981d67ffd6c28)
*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuqwwVFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--7a93970514b05a6169c283aff21729d41a95915e)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRoXHWYEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuqwwVFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzIxNTQ1NTI0OTQ3MDkyLUhvdy10by11cGRhdGUtVlNDb2RlLXRvLWEtbmV3ZXItdmVyc2lvbi1pbi1Eb21pbm8tNS04LW9yLWhpZ2hlcgY7CFQ6CXJhbmtpCA%3D%3D--e6f6dffda1594982ed50f455c1b90de0f58270f0)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQs2kK8EToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuqwwVFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgy9oYy9lbi11cy9hcnRpY2xlcy8xOTUwMDI3MzExODM1Ni1NZW1iZXJzLW9mLW9yZ2FuaXphdGlvbi1vd25lZC1wcm9qZWN0cy1nZXQtUEVSTUlTU0lPTi1ERU5JRUQtZXJyb3Itd2hlbi10cnlpbmctdG8tbG9nLWV4cGVyaW1lbnRzBjsIVDoJcmFua2kJ--c18ccbc1d60a491455ea5d3919b0af0d508561c2)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ5hXqSEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuqwwVFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzE5MzIwODE4NDQ4Nzg4LUNoZWNraW5nLVByb2plY3QtQVBQLXN0YXR1cy12aWEtdGhlLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCg%3D%3D--204acd8579fb29fc6c632ca9aff79bbcb221813e)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F22080639430164-How-to-find-data-mount-information-for-the-REST-API) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API/subscription.html ""Opens a sign-in dialog"")

**Issue:** A common question from endusers is how they can check the status of a particular Domino App programatically. 

**Solution:** There are various ways to accomplish this. In this example we will  review the options offered by the Domino REST API. There are 2 endpoints which will help you with  this. 

The first one assumes you are already aware of the particular App version you would like to check.

/modelProducts/apps/versions/{appVersionId}

**Example:** 

curl -X GET ""https://<DOMINO\_URL>/v4/modelProducts/apps/versions/64ccd68ae688b24464a5ae14"" -H  
""accept: application/json"" -H ""Authorization: <TRUNCATED>"" -H  
""X-Domino-Api-Key: <TRUNCATED>""

**Response:** 

...TRUNCATED...  
""hardwareTierName"": ""Small"",  
""environmentDetails"": {  
""environmentRevisionId"": ""64ae7a9dc58e1d19e83ed67d"",  
""environmentName"": ""app-files-2"",  
""revisionNumber"": 1  
},  
""appCodeInfo"": {  
""importedGitRepos"": \[\]  
},  
**""status"": ""Running""**  
}

The second option does not require the exact App version, but instead targets the App ID and pulls the status of all of it's versions. 

/modelProducts/{modelProductId}/versions

**Response:**

\[  
{  
""id"": ""64cd025de688b24464a5ae1b"",  
""started"": 1691157085992,  
""duration"": 888,  
""publishingUserId"": ""64119cb896c56b3a2ba59221"",  
""publishingUsername"": ""ddl-g"",  
**""status"": ""Running"",**  
""goalIds"": \[\]  
},  
{  
""id"": ""64ccd68ae688b24464a5ae14"",  
""started"": 1691145866637,  
""duration"": 10959,  
""publishingUserId"": ""64119cb896c56b3a2ba59221"",  
""publishingUsername"": ""ddl-g"",  
**""status"": ""Stopped"",**  
""goalIds"": \[\]  
},

**Note:** Both ""modelProductId"" and ""appVersionId"" can be found in the URL of the App from the Apps page in your project.  

### Recently viewed articles

*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [How to use requirements.txt file for git based projects](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects)

### Related articles

*   [Friendly static links to apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNebKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzkxMS1GcmllbmRseS1zdGF0aWMtbGlua3MtdG8tYXBwcwY7CFQ6CXJhbmtpBg%3D%3D--563e6d8485a202989d32497b209d330e11795e3f)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRklcnkDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE3NDc1MzA4OTcxMTU2LUJyb2tlbi1jc3MtcmVmZXJlbmNlLWJyZWFrcy1HcmFkaW8tQXBwBjsIVDoJcmFua2kH--067f52792c3f71859fc3ff5965dda31c4c7dc7f6)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCA%3D%3D--f42c2db42f6f03cfe3e200e19a4a9d49e0dca793)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--6301077da671bd369a27f6bd2be3ffad71f51ebd)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTibC9rBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzgxNTY5Mzg1NjAwMjAtUHJvZ3JhbW1hdGljYWxseS1jcmVhdGUtYS1kYXRhc2V0LXNuYXBzaG90LXZpYS10aGUtRG9taW5vLVJlc3QtQVBJBjsIVDoJcmFua2kK--453148c7662fd06b4a9cd833c9c42d909e7c1a30)"
https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You need a way to programmatically download all project files using an automated script.

* * *

## **Resolution:**

1\. Download the attached **Download\_project\_files.py** file at the bottom of this article to a new folder where you want to download all your project files to.

2\. In the file, enter these 3 items:

*   Line 5: Your [API key](https://docs.dominodatalab.com/en/latest/api_guide/d982cc/get-api-key/)
*   Line 6: Host name of your Domino deployment without the trailing slash (/), e.g. [https://deploymentname.domino.tech](https://tickets.dominodatalab.com/hc/en-us/articles/%20https://deploymentname.domino.tech)
*   Line 64: Your Project id

3\. Save your changes.

4\. In a terminal, `cd`over to the folder where you want to download all your project files. 

5\. Run `python3 Download_project_files.py`

6\. Check your folder and confirm that the files match those in your Project Files.

* * *

## **Notes/Information:**

### Troubleshooting

**If you get this error:**

`xcrun: error: invalid active developer path (/Library/Developer/CommandLineTools), missing xcrun at: /Library/Developer/CommandLineTools/usr/bin/xcrun`

then install python with `xcode-select --install`

**If you get these errors:** 

`ModuleNotFoundError: No module named 'requests’`

`ModuleNotFoundError: No module named 'domino’`

Then run `pip3 install requests dominodatalab`

**If you get this error:** `<Response [404]>`

Then check your host URL. If there is a trailing slash at the end of the URL, remove it.

**How do I find my Project ID?**

From your **Project** page, right-click to pull up **Chrome** **Inspect** > switch to the **Network** tab > refresh the page> click on **findProjectByOwnerAndName** > copy the value for **""id""** on the first line.

![Get Project ID.png](https://tickets.dominodatalab.com/hc/article_attachments/17991837411732)

### References/Internal Records:

*   PS-9500

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)

### Related articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTNqnpcEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--5429592f4e995fb5c4c7ba774cdaca03bfc2d57d)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR23A3DDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTNqnpcEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE1MTMxNDAyMzM1NzY0LUFQSS1FeGFtcGxlcy1mb3ItRG9taW5vLXMtNS14LVJFU1QtQVBJBjsIVDoJcmFua2kH--a8c3db2c6b62373abd29b30fec9042fa2c4f4962)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTNqnpcEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kI--e6edcbca73fc404d5a9ca685bdff8220783c18d4)
*   [Workspace cannot be deleted from current state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2Fn3aIEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTNqnpcEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzE4MTc4MjkxNzQ0NTMyLVdvcmtzcGFjZS1jYW5ub3QtYmUtZGVsZXRlZC1mcm9tLWN1cnJlbnQtc3RhdGUGOwhUOglyYW5raQk%3D--6914d330b3a59eb91b66df4a33aab53abb530231)
*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTNqnpcEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2NTAzNDE4ODQxODAtSWdub3JpbmctZmlsZXMtYWJvdmUtdGhlLXNhdmUtbGltaXQtb2YtMTAwMDAtZmlsZXMtdXNpbmctZG9taW5vaWdub3JlBjsIVDoJcmFua2kK--3450e757d53fc0ac380b35ed0643b8eda1f37aed)"
https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API/subscription.html ""Opens a sign-in dialog"")

Our updated docs do not include examples for users, so here are a few for users who are struggling to get the REST API to work for them. 

If you haven't already seen our REST API docs,  you can find them here: [https://docs.dominodatalab.com/en/latest/api\_guide/8c929e/rest-api-reference/](https://docs.dominodatalab.com/en/latest/api_guide/8c929e/rest-api-reference/)

When reviewing the REST API docs, please make sure to select the version of Domino that matches your deployment, as shown below: 

![Screenshot_2023-04-24_at_3.50.32_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/15130937338772)

### Example 1: Current User Info

Our fist example we'll do a simple query that returns the users information - this query can be found in the docs [here](https://docs.dominodatalab.com/en/latest/api_guide/8c929e/rest-api-reference/#_getCurrentUser). Please note that we are using Python 3. To test this out please copy and past the below query into a python file titled userAPItest.py: 

import urllib.request

import json

headers = {

 'X-Domino-Api-Key': '<add your Domino API key here'

}

request = urllib.request.Request('<add your deployment url here>/v4/users/self', headers\=headers)

response\_body = urllib.request.urlopen(request).read()

print (response\_body)

Next, add your API key and deployment url as indicated in the code snippet. 

Then, run in your terminal using this command: 

python3 userAPItest.py

You may need to install some packages on your machine to get it to work for you. 

### Example 2: Add a user to an organization

In the this example, we'll add a user to an organization as noted in the docs [here](https://docs.dominodatalab.com/en/latest/api_guide/8c929e/rest-api-reference/#_addUserToOrg). This is a little trickier as you'll need to collect the organization ID, the user ID who you want to add and your Domino deployment url. 

Once you've collected the information, please add it to the query below: 

```
curl -X PUT ""https://<base_url>/api/organizations/v1/organizations/<organization id>/user"" -H ""Content-Type: application/json"" -H 'X-Domino-Api-Key:<API KEY>' -d '{""userId"": ""<user id>"", ""organizationRole"": ""Member""}'
```

 Finally, run it from the terminal on your local machine. 

### Recently viewed articles

*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)

### Related articles

*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR23A3DDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBg%3D%3D--c6025cbd502ccc74142de25ee6524e4d473ea57f)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR23A3DDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBw%3D%3D--e223c9f75bdada48b9aee106d4303adb79ac0e6d)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR23A3DDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzEyOTE2MTg3NTkxMDYwLVN0YXJ0aW5nLWEtam9iLWZyb20tYS1jb21taXQtSWQGOwhUOglyYW5raQg%3D--b545954bd95f189c2594c66a5a1d9493d88ebed8)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR23A3DDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpCQ%3D%3D--6872562893e1acca873c54c2bc9ea34b825fce05)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR23A3DDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpCg%3D%3D--c38e1717d9103c81e87e272cca2952677cdaf1af)"
https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id/subscription.html ""Opens a sign-in dialog"")

## **Case:**

Wanting to start an execution from a particular state of files of a git based project

* * *

## **Resolution:**

This has been tested via swagger : 

The endpoint consumed is `/api/jobs/v1/jobs`

There's 2 parameters which accepts a commit Id as an argument (both part of the json payload). One is through a string attribute and the other via a struct/dict. If you are using the string as per : 

""commitId"": ""44bc860b78d8f1d0f57e4dda69c11fb019e3546c""

It only accepts local commits, you could get those by printing out what master is pointing to or by executing commits\_list() method from the dominodatalab package. These commits always point to the remote master/main branch.

But if you'd want to run it off of a different branch, other than main, then it would be done via the struct as per : 

""mainRepoGitRef"": {  
    ""type"": ""commitId"",  
    ""value"": ""24ba155""  
  }

It accepts commit id from the git provider and also works with the shorter version of the Id.

* * *

### Recently viewed articles

*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)

### Related articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--a7f8c8f159839c5719aad69354b37c5fc64ef128)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kH--27a3f50ffa76cffd15e10e172df180990ebf47f2)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQg%3D--7e35b856e1e697a7d3d35fb204bc9f10b7f92771)
*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAufKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDczMS1DYWxsaW5nLURvbWluby1SRVNULUFQSS1mcm9tLVB5dGhvbi1KdXB5dGVyBjsIVDoJcmFua2kJ--95e317cfc006b61b4a2efcb997372a19ae0c1d93)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTibC9rBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzgxNTY5Mzg1NjAwMjAtUHJvZ3JhbW1hdGljYWxseS1jcmVhdGUtYS1kYXRhc2V0LXNuYXBzaG90LXZpYS10aGUtRG9taW5vLVJlc3QtQVBJBjsIVDoJcmFua2kK--1bad4125e19e9b8577c4b935a82c01662135435e)"
https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

When you tried via the UI to [create a snapshot of a dataset](https://docs.dominodatalab.com/en/latest/user_guide/dbdbff/create-a-snapshot-of-a-dataset/) with a large number of files, the snapshot did not include all the files.

* * *

## **Root Cause:**

The Admin can check if these two settings in the [Central Config](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/) are set too low. Domino limits these because the Amazon Elastic File System (EFS) can be slow and the process of creating a snapshot can be time intensive, especially when there are a large number of files. 

*   **com.cerebro.domino.dataset.maxFileListingLength**: The maximum number of files that will be listed in the snapshot view (default is **1000** files).
*   **com.cerebro.domino.dataset.fileCacheTimeout**: The amount of time to work on getting a listing (default is **2s**).

Increasing these two settings would help with listing all the files correctly in the frontend, which in turn, would make taking the snapshot more accurate. However, please note that there might be a downside to doing so performance-wise.

* * *

## **Resolution:**

For datasets with a large number of files, Domino recommends that you [create the snapshot via the Domino CLI](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#_create_a_snapshot) by running this command:

*   `domino create-snapshot <project-owner>/<project-name>/<dataset-name>`

Notes: 

*   Do not modify the files in the Dataset until the snapshot is done.
*   When you create a snapshot via the CLI, you have more control over specifying the paths to include in the snapshot.
*   In contrast, when you create a snapshot via the UI, the frontend explicitly passes all the file paths (which is why pagination limit is a limiting factor). This was intentional because datasets are mutable and new files/folders could be created by other users while a snapshot is being taken. 

* * *

## **Notes/Information:**

*   See [Install the Domino Command Line (CLI)](https://docs.dominodatalab.com/en/latest/user_guide/e21e55/install-the-domino-command-line-interface--cli-/) for more information.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)

### Related articles

*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQaTAFJBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY5MTA2MjQxNDQwMjAtRW1haWwtbm90aWZpY2F0aW9ucy1hcmUtbm90LXJlY2VpdmVkLXdoZW4tdXNpbmctU0VTLWVtYWlsBjsIVDoJcmFua2kG--1bc7ded294132ca320222da13d17757c553ccea3)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR9iyAFBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MjAwNjczNjAwMjAtRmlyc3QtcnVsZS1vZi1DTEktVHJvdWJsZXNob290aW5nBjsIVDoJcmFua2kH--ad02e79122f8b6762ad09874837c3473a72e1313)
*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGgaTNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDgyMDA3Mi1Eb3dubG9hZGluZy1Eb21pbm8tQ0xJBjsIVDoJcmFua2kI--98ddb905f577950a3b9415c2162c6a01a36f2138)
*   [Environment Variables in SAS](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOC9IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0Mzg3Mi1FbnZpcm9ubWVudC1WYXJpYWJsZXMtaW4tU0FTBjsIVDoJcmFua2kJ--07714e778433896d72e5a22bf539bc4723e76a5c)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCg%3D%3D--0eba1ea0b9b3f3d7fb39b7473c38e6e88262df05)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Testing for this article was done against a Domino 5.2.1 deployment with the same version CLI client.  That said, the notes here should probably still hold in Domino 4.6 and possibly older & newer, as the code here has not changed in some time.

## **Issue:**

The CLI command to upload data to a dataset from your local system is fairly robust and can be used to upload 100GB+ filesets. 

**[domino upload-dataset](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#_upload_folder_to_a_dataset) \[options\] <dataset> <directory> \[token\]**

There are however practical limits to the size of dataset that you will be able to upload.  This article is an effort to do some performance testing with these large size datasets and give some recommendations on the two tune-able parameters for the command, DOMINO\_UPLOAD\_THREADS & DOMINO\_UPLOAD\_CHUNK\_BYTES.

## **Command Usage:**

Let's start with the usage output for the command:

% **domino help upload-dataset**  
Usage: domino upload-dataset \[options\] <dataset> <directory> \[token\]

Upload a directory to a Dataset. The contents of the directory will be a new  
Dataset Read Write Snapshot if --fileUploadSetting is not defined. When  
uploading begins, a token will be provided for the upload session. In the event  
that the upload session is interrupted, the token can be used to resume the  
session.

<dataset>: Dataset in the format: <project-owner>/<project-name>/<dataset-name>  
<directory>: Local directory file path  
\[token\]: Optional token for resuming previous upload session  
Environment Variables: - Set DOMINO\_UPLOAD\_THREADS to adjust the number of  
concurrent uploads (default 8) - Set DOMINO\_UPLOAD\_CHUNK\_BYTES to adjust the  
chunk size (default 3145728)

### General Use Case

The general usage case is to upload the contents of a folder.  As an example let's use the information below to do an upload:

*   Local folder on my laptop: `Users/user/data`
*   My user ID: `user_id`
*   Project to upload to: `project_name`
*   Dataset to upload to: `upload_dataset`

So to do the upload, use the following syntax.

**% domino upload-dataset user\_id/project\_name/upload\_dataset Users/user/data**

### Resuming your upload

If your upload fails at some point, you will get an error similar to the following:

+--------+  
| Error! |  
+--------+  
Snapshot upload failed. You can retry this upload with the following command:  
domino upload-dataset user\_id/project\_name/upload\_dataset /Users/user/data/ **aed75b88-cb1c-4ce3-a06b-05b675c296cf**

This error includes a token for you to resume the upload.  Save this token, if it scrolls off the screen you will need to parse the domino.log file for the token used for your upload.  

To resume your upload use the following syntax:

**% domino upload-dataset user\_id/project\_name/upload\_dataset Users/myuser/data aed75b88-cb1c-4ce3-a06b-05b675c296cf**

### Managing Path Collision

Use the`--fileUploadSetting`option to handle path collisions as follows:

1.  `overwrite`: If a file already exists in the Dataset, the new file overwrites the existing file.
    
2.  `rename`: If a file already exists in the Dataset, the new file is uploaded and renamed with`_1`appended to the filename. For example,`/Users/myUser/data/file.txt`becomes`/Users/myUser/data/file_1.txt`
    
3.  `ignore`: If a file already exists in the Dataset, the new file is ignored.
    

To use this option use the following syntax:

**% domino upload-dataset --fileUploadSetting ignore user\_id/project\_name/upload\_dataset Users/myuser/data** 

Note that the [documentation](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#_upload_folder_to_a_dataset) has improper usage of this option and is being corrected; internal docs ticket: DOCS-1883.

### Fine Tuning

There are two tuning environment variables that can be used to tune the upload speed to a degree.

*   DOMINO\_UPLOAD\_THREADS to adjust the number of concurrent uploads (default 8)
*   DOMINO\_UPLOAD\_CHUNK\_BYTES to adjust the chunk size (default 3145728)

These are environment variables so set them wherever you are running the CLI upload command through whatever method your OS uses to set environment variables.

## Performance

The goal of the performance testing here was to give users some idea of how long an upload might take as they are slower than many might expect given the effort to make them robust.  This can give rise to concerns that something may be broken. 

After quite a bit of testing I found no silver bullet settings to reduce the time that multi gigabyte uploads take.  I'll give the recommendations and then describe my setup, talk about results if you are interested in the gory details.

### Recommendations

*   If you are an average user who uploads the occasional dataset just use the default settings of the thread and chunk size.  You might save some upload time if you find the best settings for your configuration, but you'll spend hours doing testing to find those efficiencies.
*   If you are uploading on a frequent basis you can save 5~15% on your upload times by tuning the chunk and thread parameters. 
*   You may also save a lot more time if you are on better hardware and internal corporate networks.  So upload from the office network to the office network if you can.
*   Uploading from home will likely introduce throttling from your ISP.  I never succeeded in uploading any dataset larger than 12GB on my home network.  Just be aware you may need to limit the size of your uploads and upload your dataset in smaller parts and then reconnect into a single data set within your Domino project.
*   Bigger chunk sizes via  DOMINO\_UPLOAD\_CHUNK\_BYTES was always slower for me, test in your setup, but this was the least effective way to find an efficiency.  The default setting was the best, 3145728 bytes.
*   More threads wasn't always better, test if you want to find the most efficient but my best savings was 4% with 16 threads vs the default of 8 threads.  So if 100GB takes 1000 minutes to upload it might save you 40 minutes or so if you are only gaining 4%.
*   More just an FYI, 1GB took about 10 minutes to upload across an average home wifi connection.  My experience was that this was fairly linear, so 10gb expect 100 minutes or so. 
*   File size/count had some impact, fewer & larger files was faster.  Probably not that surprising, but nearly a 14% improvement between 1GB 1000 files/1mb & 1GB 100 files/10mb.   

### Performance Testing Setup

Platform:

Data resided on M1 mac running Monteray 12.6.1

Data uploaded to Domino v5.2.1 on AWS

CLI client v5.2.1

Network:

Home wifi with avg 25 Mbps upload speeds

Data Sizes:

*   1GB 1000 files @ 1mb 
*   1GB 200 files @ 5.1mb
*   1GB 100 files @ 10mb
*   5GB 100 files @ 10mb
*   10GB 1000 files @ 10mb

Tunable settings:

*   DOMINO\_UPLOAD\_THREADS: Tested this setting at 8/16/24/32 threads
*   DOMINO\_UPLOAD\_CHUNK\_BYTES: Tested this setting at 3145728/6291456/12582912/25165824/50331648 bytes

### Results

I tested 1GB of 1mb/5mb/10mb files with all 4 settings of both the threads & chunks settings.  The best setting for my mac and network was 16 threads, where 8 is default.  The best setting for the chunk size was always the default of 3145728 bytes.

**The shortest time for a 1GB upload:   8 min 43 sec**

DOMINO\_UPLOAD\_THREADS:            16

DOMINO\_UPLOAD\_CHUNK\_BYTES:   3145728 bytes

**Average upload time for 1GB:              10 min 33 sec**  

**Average upload time for 5GB:              45 min 52 sec**

**Average upload time for 10GB:             1 hr 27 min 51 sec**

## Notes:

Internal feature requests exist to improve this command:

DOM-42388 Better functionality for resuming dataset-upload from CLI

DOM-42424 Add progress meter to the CLI upload-dataset command

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)

### Related articles

*   [Upload files to Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8V0GiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYxOTQ0MzkxMjYxNjQtVXBsb2FkLWZpbGVzLXRvLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--9442eb5f32726049a949732748749ce2f4b14d25)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBw%3D%3D--091561a0d25bff788f7d05ef8a98161ed1e57935)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--1e52dfe767fae98e2e9bc335cc892c096cfbb370)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--a106b9ea707375257234156555c10a58e9cfad1b)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kK--d332ac268f2045ea1565ee71a2f0a44dd41d299e)"
https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job/subscription.html ""Opens a sign-in dialog"")

### Issue

I need to install the Domino CLI in a Workspace

I want to install the domino cli, on Linux, automatically

Can I install the Domino CLI on a headless install?

### Resolution

The Linux installer can be run using scripts but you'll need to run it using bash.

From the command line you can install it using:

echo -e ""\\n\\n\\n"" | ./domino-default-unix.sh -c

However, you will need to **install java** **first**, i.e:

apt install openjdk-8-jre-headless

If you get an error on AtkWrapper, comment out:

/etc/java-8-openjdk/accessibility.properties assistive\_technologies line:

sed -i 's/^assistive\_technologies=/#assistive\_technologies=/g' /etc/java-8-openjdk/accessibility.properties

#### From a Dockerfile:

\### Add Domino CLI
RUN apt-get install --yes openjdk-8-jre
RUN wget [https://novo-sce.domino-eval.com/download/client/unix](https://novo-sce.domino-eval.com/download/client/unix) -O /tmp/domino-install-unix.sh 
USER ubuntu
RUN printf 'o\\n\\n\\n\\n' | sh /tmp/domino-install-unix.sh
USER root
RUN ln -s /home/ubuntu/domino/domino /usr/local/bin/domino

### Notice

_**Domino does not formally support the Domino CLI in a headless environment and YMMV**_

### Recently viewed articles

*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)

### Related articles

*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTb1eOCCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTB6rwvCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzExNTU3Mjg0NDY5NTI0LUhvdy10by11c2UtdGhlLWRvbWluby1DTEktdXBsb2FkLWRhdGFzZXQtY29tbWFuZAY7CFQ6CXJhbmtpBg%3D%3D--3bb5aba284e087c3a558a32a7e254bc179867ab9)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTB6rwvCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kH--159a5092ee5ab692dacdd4843e26b439d161d073)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRXt9pTCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTB6rwvCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzExMzU1MjY4MDExOTI0LVdoYXQtZG9lcy1TdWdnZXN0ZWQtYW5kLVBvcHVsYXItUHJvamVjdHMtbWVhbgY7CFQ6CXJhbmtpCA%3D%3D--b6d2130ff412c37357e04df3cc775a3567c217b5)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlBvGXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTB6rwvCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzEwNTQ4MTg4NDcyNzI0LUNMSS1Ib3ctdG8tZG93bmxvYWQtb3V0cHV0LWZpbGVzLWZyb20tYS1qb2ItaW50by15b3VyLWxvY2FsLW1hY2hpbmUtdmlhLXRoZS1Eb21pbm8tQ0xJBjsIVDoJcmFua2kJ--3f01d71d40c281dd8993f77263d4a3237e89fcd1)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTB6rwvCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--2cf1d11ebd96af8dd7d6d7ce16fd0002595c8b61)"
https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI,"#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You can download individual job output files from the **Results** tab of the [Job Details](https://docs.dominodatalab.com/en/latest/user_guide/111eae/view-job-details/) page. To download all the output files related to your job, you can use the Domino Command Line Interface (CLI).

* * *

## **Steps:**

### Part 1: Install and log into the Domino CLI

1. [Install the Domino CLI](https://docs.dominodatalab.com/en/latest/user_guide/e21e55/install-the-domino-command-line-interface--cli-/) using these steps: Your username > **Download CLI** > Run the installer application according to your Operating System (macOS, Windows, Linux).

2\. In the terminal, run the **domino login** command to log into your Domino deployment. 

domino login https://your-domino-url.com

Then enter your username and password.

You'll see output similar to this: 

You need to authorize using CLI with Domino.  
Please go to [https://your-domino-url.com/authorizeCli](https://your-domino-url/authorizeCli) to get your authorization code.  
Please note that you may be required to login.   
Enter the resulting authorization code below.  
Authorization code: 

3\. Copy the URL from the output and paste it into a new tab in your browser. Then copy the authorization code. 

4\. In the terminal, paste in the authorization code. You'll see Login succeeded.

### Part 2: Download the project files to your local machine

5\. Run the **domino get** command to create a folder on your local machine containing your project.

domino get your-project-name

You'll see output similar to this:

Project get complete. Make sure to navigate to your new project folder by running:  
    cd your-project-name  
To run a file on Domino, type:  
    domino run \[command-to-run\]

6\. On your local machine, search for **your-project-name** and confirm that the folder was created. 

7\. Run the **cd** command to change directories and navigate to your new project folder:

cd your-project-name

8\. If it's been a while since you last ran **domino get** and you need to refresh and download the latest copy of your files into your current project folder, run the **domino download** command: 

domino download

9\. On your local machine, confirm that **your-project-name** folder has the latest files.

### Part 3: Download the job results files into your project folder on your local machine

To download the files via CLI for a specific job, you have 2 options to download either via runId or job number. 

10\. In your browser, open the Jobs page and click on a job. 

In this example, the URL for job number 3 is: https://your-domino-url.com/jobs/username/workspacename/6350ba28995b4834a18b5123/results?status=all 

Copy the **runId** from the URL: **6350ba28995b4834a18b5123**

11a. In the terminal, run this command to download the files via runId.

domino download-results <runId>

example:

domino download-results 6350ba28995b4834a18b5123

On your local machine, check that the new folder is created under **your-project-name/results/run-6350ba28995b4834a18b5123**

11b. Or run this command to download the files via run number.

domino download-results <run number> 

example:

domino download-results 3

On your local machine, check that the new folder is created under **your-project-name/results/run-3**

Note: It's expected that the run folder will contain _all_ the files from the run, including the results. This is because each job creates a snapshot of all your files, including any results the code creates or modifies. This includes charts, tables, data files, and serialized model data. All assets are versioned and can be compared across different jobs.

12\. If you want just the run results to be downloaded into your **/results** folder, you can run the **domino download** command with a filter:

domino download-results --filter 'results/\*' 6350ba28995b4834a18b5123

domino download-results --filter 'results/\*' 3

* * *

## **Notes/Information:**

*   [Install the Domino Command Line Interface (CLI)](https://docs.dominodatalab.com/en/3.6/user_guide/e21e55/install-the-domino-command-line-interface--cli-/)
*   [Download Files with the CLI](https://docs.dominodatalab.com/en/3.6/user_guide/8ec1ce/download-files-with-the-cli/)
*   [Get a project from the server onto your computer for the first time](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#to-get-a-project-from-the-server-onto-your-computer-for-the-first-time)
*   [Download the latest version of your files](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#to-download-the-latest-version-of-your-files)

* * *"
https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You can use the [Files page](https://docs.dominodatalab.com/en/latest/user_guide/d95a3c/project-files/) to download individual files from a project. However, if you have a large number of project files, you can use the Domino Command Line Interface (CLI).

* * *

## **Steps:**

### Part 1: Install and log into the Domino CLI

1. [Install the Domino CLI](https://docs.dominodatalab.com/en/latest/user_guide/e21e55/install-the-domino-command-line-interface--cli-/) using these steps: Your username > **Download CLI** > Run the installer application according to your Operating System (macOS, Windows, Linux).

2\. In the terminal, run the **domino login** command to log into your Domino deployment. 

domino login https://your-domino-url.com

Then enter your username and password.

You'll see output similar to this: 

You need to authorize using CLI with Domino.  
Please go to [https://your-domino-url.com/authorizeCli](https://your-domino-url/authorizeCli) to get your authorization code.  
Please note that you may be required to login.   
Enter the resulting authorization code below.  
Authorization code: 

3\. Copy the URL from the output and paste it into a new tab in your browser. Then copy the authorization code. 

4\. In the terminal, paste in the authorization code. You'll see Login succeeded.

### Part 2: Download the project files to your local machine

5\. Run the **domino get** command to create a folder on your local machine containing your project.

domino get your-project-name

You'll see output similar to this:

Project get complete. Make sure to navigate to your new project folder by running:  
    cd your-project-name  
To run a file on Domino, type:  
    domino run \[command-to-run\]

6\. On your local machine, search for **your-project-name** and confirm that the folder was created. 

7\. Run the **cd** command to change directories and navigate to your new project folder:

cd your-project-name

8\. If it's been a while since you last ran **domino get** and you need to refresh and download the latest copy of your files into your current project folder, run the **domino download** command: 

domino download

9\. On your local machine, confirm that **your-project-name** folder has the latest files.

Note: If you've made changes that conflict with changes in the cloud, you'll see both versions of the conflicting file side-by-side. There are two reasons files in the cloud might change: first, your collaborators on a project might have made changes; second, you might have executed a run that produced new output files.

* * *

## **Notes/Information:**

*   [Install the Domino Command Line Interface (CLI)](https://docs.dominodatalab.com/en/3.6/user_guide/e21e55/install-the-domino-command-line-interface--cli-/)
*   [Download Files with the CLI](https://docs.dominodatalab.com/en/3.6/user_guide/8ec1ce/download-files-with-the-cli/)
*   [Get a project from the server onto your computer for the first time](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#to-get-a-project-from-the-server-onto-your-computer-for-the-first-time)
*   [Download the latest version of your files](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#to-download-the-latest-version-of-your-files)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)
*   [Installing the Domino CLI in a Workspace or with batch job](https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)

### Related articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXcGaXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kG--38a973aacf0718739521366fd23f970bd66b76c5)
*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXcGaXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--03f368c37cf1a899f7868803b1a295f6fc36d4c8)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXcGaXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kI--76b4cba8af3ce978cd201b5c74fdaf4c4cecf7a5)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXcGaXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQk%3D--1501cde3dad795a12c2d5130556099cbd3fa2e38)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXcGaXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kK--aeefb4b62851bfa7ad73e3391826c44df15d633b)"
https://tickets.dominodatalab.com/hc/en-us/articles/10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Not relevant

* * *

## **Issue:**

When uploading huge directories via `domino upload-dataset` if the network connection isn't fast or stable enough an error can occur during the CLI command:

+--------+

| Error! |

+--------+

Snapshot upload failed.  You can retry this upload with the following command:  
domino upload-dataset testuser/testproject/testdata /user/ghud/mydirectory 301d95e2-00db-407d-8ebc-6055b68bac17 

* * *

## **Root Cause:**

The underlying root can vary depending on total size, number of files and the size of the largest file in the directory plus the number of hops between hosts, network latency between hosts and other network or connection-specific nuances outside the sphere of Domino's control.

* * *

## **Resolution:**

There are four possible solutions to try.

1.  Work with your network administrations to ensure your system has speedy connections to your https://<your domino instance url>
2.  Toggle two environment variables that can alter the network traffic sent via CLI.  This may require an iterative process of testing various values for improvement since network connections vary from customer to customer.  
    a) Configurable Chunk Size  
    
    1.  Allows chunk size to be configured
    2.  Environment Variable: **DOMINO\_UPLOAD\_CHUNK\_BYTES**
    3.  Default: 3145728 (3 MB)
    4.  Benefit: Tuning based on average file size and network characteristics
    
      
    b) Threading  
    1.  Allows multi-threaded upload
    2.  Environment Variable: **DOMINO\_UPLOAD\_THREADS**
    3.  Default: 8
    4.  Benefit: Allows parallel chunk uploads
3.  Try zipping or tar'ing your directory.  Text will compress greatly, which can make the upload have less data and fewer files to move.  Once uploaded, open a workspace and use `sudo apt-get install unzip` and  
    `unzip file.zip -d destination_folder` or `tar` to unarchive the data you uploaded.
4.  Upload files into the dataset via the Domino UI.  On that page you can upload up to 50GB or 50,000 individual files.  https://docs.dominodatalab.com/en/5.1/user\_guide/0efc5a/update-a-dataset/  and [https://docs.dominodatalab.com/en/5.1/user\_guide/d1a1ae/create-a-dataset/](https://docs.dominodatalab.com/en/5.1/user_guide/d1a1ae/create-a-dataset/)
    
    ![Screen_Shot_2022-10-25_at_1.34.44_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/10346067582612)
    

* * *

## **Notes/Information:**

On Windows use ""export"" to set environment variables, on Mac or Linux use ""set""

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)
*   [Installing the Domino CLI in a Workspace or with batch job](https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files)

### Related articles

*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTb1eOCCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzExNTU3Mjg0NDY5NTI0LUhvdy10by11c2UtdGhlLWRvbWluby1DTEktdXBsb2FkLWRhdGFzZXQtY29tbWFuZAY7CFQ6CXJhbmtpBg%3D%3D--77654946581d06b7ad6dbdf1be6bde6e6176ac23)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpBw%3D%3D--24894d32c2dfdd3b3dcd13190fdfcda6910fe3fe)
*   ['pip install' throws SSL Certificate Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTiv6UIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2MzQyMTAzMjA5MTYtLXBpcC1pbnN0YWxsLXRocm93cy1TU0wtQ2VydGlmaWNhdGUtRXJyb3IGOwhUOglyYW5raQg%3D--86e103242821721dd56effb956829d85a2659dbc)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kJ--5a7d43b62116c811876eb6a085af82756bdfb64d)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--491326b04901e6c151b09ac61e2bf3d3713f933e)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509049012628-Distributed-Compute,"## Distributed Compute

*   [Basic notebook which tests on-demand Spark functionality.](https://tickets.dominodatalab.com/hc/en-us/articles/20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/articles/7578337152276-Spark-Examples-needed)
*   [Multiple Spark Applications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360061144471-Multiple-Spark-Applications-in-Domino)
*   [Managing Dependencies](https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)"
https://tickets.dominodatalab.com/hc/en-us/articles/20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality,"#### _**Version/Environment (if relevant):**_

Any Domino Data Lab version in which you have a compute environment with PySpark and matching spark version in your worker/cluster environment.  

* * *

## **Issue:**

You are using on-demand Spark and want to prove basic functionality.

* * *

## **Resolution:**

The attached .ipynb helps provide examples for connecting to Spark, processing data, and creating a simple model when using on-demand Spark clusters.  When provisioning your on-demand Spark cluster, Domino sets up key default cluster configuration parameters (for example, spark.master, spark.driver.host) to the appropriate cluster URLs so that creating SparkSession or SparkContext with default context will properly connect the cluster to your workspace or job. This will be demonstrated in the attached `WineQualityModel-PySpark.ipynb` notebook.

* * *

## **Notes/Information:**

Upload the .ipynb your project. In data -> domino datasets -> choose your project's local dataset (same name as your project) and upload the wine\_quality.csv file.  Launch a jupyterLab notebook with your spark compute environment and spark cluster/worker environment, set a min number of workers to ""3"". 

### **References/Internal Records:**

https://github.com/dominodatalab/spark-quickstart-winequality

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/7578337152276-Spark-Examples-needed,"### I need to know how to do X in Spark

### Do you have examples how to use prophet with Spark?

### Do you have examples how to use RedShift with Spark?

**Environment**  
This article applies for all Domino platform versions

**Issue**  
End-user support and guidance to provide a few additional functions for Spark.

**Resolution  
**The attachment contains an airflow\_dag.py with several functions demonstrating how to perform various actions with Spark."
https://tickets.dominodatalab.com/hc/en-us/articles/360061144471-Multiple-Spark-Applications-in-Domino,"According to best practices, you should only be running one Spark context in the same Java Virtual Machine (JVM) at a given time. You can either kill or stop an application to have the one in WAITING move into the RUNNING stage or you can launch multiple clusters to trigger independent tasks.

While an admin can set multiple Spark contexts by setting `spark.driver.allowMultipleContexts` to `true` , having multiple spark contexts in the same JVM makes it more unstable, and the crashing of one spark context can affect the other.

Helpful links:  
[https://stackoverflow.com/questions/32827333/spark-multiple-contexts](https://stackoverflow.com/questions/32827333/spark-multiple-contexts)  
[https://medium.com/@achilleus/spark-session-10d0d66d1d24](https://medium.com/@achilleus/spark-session-10d0d66d1d24)"
https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies,"## Managing Dependencies

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies/subscription.html ""Opens a sign-in dialog"")

## Managing dependencies

In a shared Spark cluster, it can be challenging for teams to manage their dependencies (e.g. Python packages or JARs). Installing every dependency that a Spark application may need before it runs and dealing with version conflicts can be complex and time-consuming.

Domino allows you to easily package and manage dependencies as part of your Spark-enabled compute environments. This approach creates the flexibility to manage dependencies for individual projects or workloads without having to deal with the complexity of a shared cluster.

To add a new dependency, add the appropriate statements in the _Docker Instructions_ section of the relevant Spark and execution compute environments.

For example to add numpy you would want to include the following.

RUN pip install numpy

### Recently viewed articles

*   [Basic notebook which tests on-demand Spark functionality.](https://tickets.dominodatalab.com/hc/en-us/articles/20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/articles/7578337152276-Spark-Examples-needed)
*   [CLI issue - Snapshot failed during domino upload-dataset](https://tickets.dominodatalab.com/hc/en-us/articles/10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset)
*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)

### Related articles

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQY%3D--3ce22a7c5c8c46edade7b90c5418039be1c5e27e)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRvyX8JCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzExMDM1OTE0ODkxMTU2LUNvbmRhLVZpcnR1YWwtRW52aXJvbm1lbnRzLWluLUNvbXB1dGUtRW52aXJvbm1lbnRzBjsIVDoJcmFua2kH--2a787e33862a8a8c7904b3d4eb9fcc17d460e96d)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQNGHjkBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzc1NzgzMzcxNTIyNzYtU3BhcmstRXhhbXBsZXMtbmVlZGVkBjsIVDoJcmFua2kI--0e811d7e90c54b145be02b1d72fa08ee8285b854)
*   [Make Dark Theme default in JupyterLab](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSetIkBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTE3OTQwNjgtTWFrZS1EYXJrLVRoZW1lLWRlZmF1bHQtaW4tSnVweXRlckxhYgY7CFQ6CXJhbmtpCQ%3D%3D--a6f14f84243c21d5a03dd72934a0a6209e7d4993)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQPwkHpEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzE5NjkzNTI4Mjg5MDQ0LUFjY2Vzcy1wcm9qZWN0LWZpbGVzLWR1cmluZy1kb2NrZXItYnVpbGQtdXNpbmctRG9ja2VyZmlsZS1JbnN0cnVjdGlvbnMGOwhUOglyYW5raQo%3D--f8564f4c88d4b61cccbe3f1578db76608032a6b3)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark,"![](https://tickets.dominodatalab.com/system/photos/360290850531/IMG_8999.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark/subscription.html ""Opens a sign-in dialog"")

This article is meant for customers who use AWS Glue Catalog as their Metastore for distributed computing and would like to be able to continue using it with Domino. AWS Glue Catalog is a fully managed ETL service that makes it easy to prepare and load data for analytics. This is AWSs version of Apache Hive Metastore, but unfortunately it is not compatible with Spark out of the box so you have to install a special client, AWS Glue Catalog Client for Apache Hive Metastore, to make them compatible. In order to get this client working in Domino, you need to build out two new compute environments: one for your workspace (set in Project Settings) and one for the Spark cluster executors (set in Workspace cluster configs).

[![Screen Shot 2020-07-30 at 2.41.18 PM.png](https://us.v-cdn.net/6031622/uploads/6XGPHXUX3L1X/screen-shot-2020-07-30-at-2-41-18-pm.png)](https://us.v-cdn.net/6031622/uploads/6XGPHXUX3L1X/screen-shot-2020-07-30-at-2-41-18-pm.png)

The diagram above describes how Domino's custom Glue setup compares to Apache Spark’s official releases. The most recent version of Apache Spark is v2.4.6. This release typically ships with JARs for the latest Apache Hadoop v2.7.x, as well as an Apache Spark branch of Apache Hive based off of v1.2.1. In addition, hadoop-aws relies on aws-java-sdk, typically v1.7.x.

The Glue Catalog client provided by AWS, however, introduces two constraints:

1.  It relies on apply a [patch](https://issues.apache.org/jira/browse/HIVE-12679) to Apache Hive to support custom metastore clients.
2.  It requires a much more recent version of aws-java-sdk (v1.11.267+).

The first constraint requires a compilation of Apache Hive with the patch applied and therefore a [custom Spark distribution](https://spark.apache.org/docs/latest/building-spark.html#building-a-runnable-distribution) for use on Domino. The second constraint requires the use of Apache Hadoop v2.9.x+, which depends on AWS Java SDK 1.11.x+.

Below is a Dockerfile ([adapted from here](https://github.com/tinyclues/spark-glue-data-catalog)) to build this custom distribution of Apache Spark. You will need to copy the resulting artifact out of the image when done (/opt/spark/spark.tgz). The image is currently hosted as an artifact in a public S3 bucket.

FROM python:3.6-slim-buster

# ADD REPO FOR JDK
RUN echo ""deb http://ftp.us.debian.org/debian sid main"" >> /etc/apt/sources.list \\
&&  apt-get update \\
&&  mkdir -p /usr/share/man/man1

# INSTALL PACKAGES
RUN apt-get install -y git wget openjdk-8-jdk

# INSTALL MAVEN
ENV MAVEN\_VERSION=3.6.3
RUN cd /opt \\
&&  wget https://downloads.apache.org/maven/maven-3/$MAVEN\_VERSION/binaries/apache-maven-${MAVEN\_VERSION}-bin.tar.gz \\
&&  tar zxvf /opt/apache-maven-${MAVEN\_VERSION}-bin.tar.gz \\
&&  rm apache-maven-${MAVEN\_VERSION}-bin.tar.gz
ENV PATH=/opt/apache-maven-$MAVEN\_VERSION/bin:$PATH


ENV SPARK\_VERSION=2.4.6 
ENV HADOOP\_VERSION=2.9.2
ENV HIVE\_VERSION=1.2.1
ENV AWS\_SDK\_VERSION=1.11.267

# BUILD HIVE FOR HIVE v1
RUN git clone https://github.com/apache/hive.git /opt/hive
WORKDIR /opt/hive
RUN git checkout tags/release-$HIVE\_VERSION -b rel-$HIVE\_VERSION
# Apply patch
RUN wget https://issues.apache.org/jira/secure/attachment/12958417/HIVE-12679.branch-1.2.patch
RUN patch -p0 <HIVE-12679.branch-1.2.patch
# Install fails to fetch this JAR.
RUN wget https://repository.jboss.org/maven2/javax/jms/jms/1.1/jms-1.1.jar
RUN mvn install:install-file -DgroupId=javax.jms -DartifactId=jms -Dversion=1.1 -Dpackaging=jar -Dfile=jms-1.1.jar
# Build Hive
RUN mvn clean install -DskipTests -Phadoop-2
# Related to this issue https://github.com/awslabs/aws-glue-data-catalog-client-for-apache-hive-metastore/pull/14
RUN mkdir -p ~/.m2/repository/org/spark-project
RUN cp -r ~/.m2/repository/org/apache/hive ~/.m2/repository/org/spark-project

# BUILD AWS GLUE DATA CATALOG CLIENT
RUN git clone https://github.com/awslabs/aws-glue-data-catalog-client-for-apache-hive-metastore.git /opt/glue
WORKDIR /opt/glue
RUN sed -i '/<packaging>pom<\\/packaging>/a <dependencies><dependency><groupId>org.apache.hadoop<\\/groupId><artifactId>hadoop-common<\\/artifactId><version>${hadoop.version}<\\/version><scope>provided<\\/scope><\\/dependency><\\/dependencies>' shims/pom.xml
RUN mvn clean package -DskipTests -pl -aws-glue-datacatalog-hive2-client

# BUILD SPARK
RUN git clone https://github.com/apache/spark.git /opt/spark
WORKDIR /opt/spark
RUN git checkout tags/v$SPARK\_VERSION -b v$SPARK\_VERSION
RUN ./dev/make-distribution.sh --name my-custom-spark --pip -Phadoop-${HADOOP\_VERSION%.\*} -Phive -Dhadoop.version=$HADOOP\_VERSION -Dhive.version=$HIVE\_VERSION

# ADD MISSING & BUILT JARS TO SPARK CLASSPATHS + CONFIG
WORKDIR /opt/spark/dist
# Copy missing deps
RUN mvn dependency:get -Dartifact=asm:asm:3.2
RUN mvn dependency:get -Dartifact=commons-codec:commons-codec:1.9
# Copy Glue Client JARs
RUN find /opt/glue -name ""\*.jar"" -exec cp {} jars \\;
# Copy AWS JARs
RUN echo :quit | ./bin/spark-shell --conf spark.jars.packages=org.apache.hadoop:hadoop-aws:$HADOOP\_VERSION,com.amazonaws:aws-java-sdk:$AWS\_SDK\_VERSION 
RUN cp /root/.ivy2/jars/\*.jar jars

# CREATE ARTIFACT
RUN mv /opt/spark/dist /opt/spark/spark
WORKDIR /opt/spark
RUN tar -cvzf spark.tgz spark

You don't need to pull down this image unless you want to store it somewhere custom, otherwise you can pull it from S3 using the code below. To create the environments use these instructions to choose the appropriate base image and add the code to the Dockerfile and/or Pre-Run Script. Note: these environments use the Jupyter Spylon kernel rather than PySpark. If you want to use PySpark you will need to install it in the dockerfile for both environments.

**Workspace Environment**

Base Image: [Domino Analytics Distribution](https://docs.dominodatalab.com/en/4.2/reference/environments/Domino_4_standard_environments.html?) (or base image of your choosing)

Dockerfile:

ENV SPARK\_HOME=/opt/domino/spark
ENV PATH ""$PATH:$SPARK\_HOME/bin""
RUN mkdir /opt/domino
RUN wget -q https://domino-spark.s3.us-east-2.amazonaws.com/spark.tar && \\
    tar -xf spark.tar && \\
    rm spark.tar && \\
    mv spark /opt/domino/spark && \\
    chmod -R 777 /opt/domino/spark/conf && \\
    rm /opt/domino/spark/jars/com.amazonaws\_aws-java-sdk-bundle-1.11.199.jar
RUN pip install spylon-kernel
RUN python -m spylon\_kernel install

Pre-Run Script: Be sure to edit the $AWS\_REGION to match the region you operate in.

export PATH=""$PATH:$SPARK\_HOME/bin""
cat >> $SPARK\_HOME/conf/spark-defaults.conf << EOF
spark.hadoop.aws.region $AWS\_REGION
spark.hadoop.fs.s3a.impl org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.experimental.fadvise random
spark.hadoop.mapreduce.fileoutputcommitter.algorithm.version        2
spark.hadoop.mapreduce.fileoutputcommitter.cleanup-failures.ignored true
spark.hadoop.parquet.enable.summary-metadata false
spark.sql.parquet.mergeSchema                false
spark.sql.parquet.filterPushdown             true
spark.sql.hive.metastorePartitionPruning     true
spark.sql.catalogImplementation              hive
spark.sql.hive.convertMetastoreParquet       false
spark.sql.hive.caseSensitiveInferenceMode    NEVER\_INFER
EOF
cat >> /opt/domino/spark/conf/hive-site.xml <<EOF
<configuration>
    <property>
        <name>hive.metastore.client.factory.class</name>
        <value>com.amazonaws.glue.catalog.metastore.AWSGlueDataCatalogHiveClientFactory</value>
    </property>
</configuration>
EOF

**Executor Environment**

Base Image: [Bitnami Spark Image](https://hub.docker.com/r/bitnami/spark/)

Dockerfile:

USER root
RUN apt-get update && apt-get install -y wget && rm -r /var/lib/apt/lists /var/cache/apt/archives
WORKDIR /opt/bitnami

# Replace Spark
RUN rm -rf spark
RUN wget -q https://domino-spark.s3.us-east-2.amazonaws.com/spark.tar && \\
    tar -xf spark.tar && \\
    rm spark.tar && \\
    chmod -R 777 spark/conf && \\
    rm /opt/bitnami/spark/jars/com.amazonaws\_aws-java-sdk-bundle-1.11.199.jar

# Rerun Bitnami post-install script
WORKDIR /
RUN /opt/bitnami/scripts/spark/postunpack.sh
WORKDIR /opt/bitnami/spark
ENV PATH=""$PATH:$SPARK\_HOME/bin""
USER 1001

## Known Issue:

If you run into an issue accessing data tables in Glue and encounter this error message...

 java.lang.NoClassDefFoundError: org/jets3t/service/S3ServiceException
 at org.apache.hadoop.fs.s3.S3FileSystem.createDefaultStore(S3FileSystem.java:119)

Then replace this line in the Pre-Run Script of your Workspace environment

spark.hadoop.fs.s3a.impl org.apache.hadoop.fs.s3a.S3AFileSystem

with this line

spark.hadoop.fs.s3.impl org.apache.hadoop.fs.s3a.S3AFileSystem

### Related articles

*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kG--cfd6e9cc53432f1b3482db115774e1268a0dd940)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kH--a9c7f38587d1401d2acdd237d7848bd81ac4b42b)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kI--c9682b5951fe5d14a4a9c206c3c093b9d68278da)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQk%3D--0f2e7b9ce08e9fa1be8eb08a642abd5ea53c50d4)
*   [Errors when setting up Spark: ""Java gateway process exited before sending its port number""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3JIoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDkwNDIzMjQtRXJyb3JzLXdoZW4tc2V0dGluZy11cC1TcGFyay1KYXZhLWdhdGV3YXktcHJvY2Vzcy1leGl0ZWQtYmVmb3JlLXNlbmRpbmctaXRzLXBvcnQtbnVtYmVyBjsIVDoJcmFua2kK--3dd3efed8dd8c72f446301bc520e51f952c98510)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: terry.stebbens

When installing Pyspark from Pip, Anaconda or downloading from [https://pypi.org/project/pyspark/](https://pypi.org/project/pyspark/) you will find that it will only work with certain versions of Hadoop (Hadoop 2.7.2 for Pyspark 2.4.3 for example.) If you are using a different version of Hadoop and try to access something like S3 from Spark you will receive errors such as

`Py4JJavaError: An error occurred while calling o69.parquet: java.lang.NoClassDefFoundError: Could not initialize class org.apache.hadoop.fs.s3a.S3AFileSystem at java.lang.Class.forName0(Native Method)`

This despite that fact you see to have the correct JARs in place. The reason for this is that Pyspark is built with a specific version of Hadoop by default. In order to work around this you will need to install the ""no hadoop"" version of Spark, build the Pyspark installation bundle from that, install it, then install the Hadoop core libraries needed and point Pyspark at those libraries.

Below is a dockerfile to do just this using Spark 2.4.3 and Hadoop 2.8.5:

#
# Download Spark 2.4.3 WITHOUT Hadoop.
# Unpack and move to /usr/local and make symlink from /usr/local/spark to specific Spark version
# Build and install Pyspark from this download
#
RUN wget http://archive.apache.org/dist/spark/spark-2.4.3/spark-2.4.3-bin-without-hadoop.tgz && \\
    tar xzvf spark-2.4.3-bin-without-hadoop.tgz && \\
    mv spark-2.4.3-bin-without-hadoop /usr/local/spark-2.4.3 && \\
    ln -s /usr/local/spark-2.4.3 /usr/local/spark && \\
    cd /usr/local/spark/python && \\
    python setup.py sdist && \\
    pip install dist/pyspark-2.4.3.tar.gz

#
# Download core Hadoop 2.8.5
# Unpack and move to /usr/local and make symlink from /usr/local/hadoop to specific Hadoop version
#
RUN wget https://www.apache.org/dist/hadoop/core/hadoop-2.8.5/hadoop-2.8.5.tar.gz && \\
    tar xzvf hadoop-2.8.5.tar.gz && \\
    mv hadoop-2.8.5 /usr/local && \\
    ln -s /usr/local/hadoop-2.8.5 /usr/local/hadoop

#
# Download correct AWS Java SDK for S3 for Hadoop version being used
# and put in Hadoop install location
#
RUN wget https://repo1.maven.org/maven2/com/amazonaws/aws-java-sdk-s3/1.10.6/aws-java-sdk-s3-1.10.6.jar && \\
    mv aws-java-sdk-s3-1.10.6.jar /usr/local/hadoop/share/hadoop/tools/lib/

#
# Set SPARK\_DIST\_CLASSPATH in $SPARK\_HOME/conf/spark-env.sh to point to Hadoop install
#
RUN echo 'export SPARK\_DIST\_CLASSPATH=""/usr/local/hadoop/etc/hadoop:'\\
'/usr/local/hadoop/share/hadoop/common/lib/\*:/usr/local/hadoop/share/hadoop/common/\*:'\\
'/usr/local/hadoop/share/hadoop/hdfs:/usr/local/hadoop/share/hadoop/hdfs/lib/\*:'\\
'/usr/local/hadoop/share/hadoop/hdfs/\*:/usr/local/hadoop/share/hadoop/yarn/lib/\*:'\\
'/usr/local/hadoop/share/hadoop/yarn/\*:/usr/local/hadoop/share/hadoop/mapreduce/lib/\*:'\\
'/usr/local/hadoop/share/hadoop/mapreduce/\*:/contrib/capacity-scheduler/\*.jar:'\\
'/usr/local/hadoop/share/hadoop/tools/lib/\*""' >> /usr/local/spark/conf/spark-env.sh

The key parts of this dockerfile are where the Pyspark package is built and installed:

    cd /usr/local/spark/python && \\
    python setup.py sdist && \\
    pip install dist/pyspark-2.4.3.tar.gz

and ensuring you have the correct AWS S3 SDK JAR to match your Hadoop version:

RUN wget https://repo1.maven.org/maven2/com/amazonaws/aws-java-sdk-s3/1.10.6/aws-java-sdk-s3-1.10.6.jar && \\
    mv aws-java-sdk-s3-1.10.6.jar /usr/local/hadoop/share/hadoop/tools/lib/

To find the correct AWS S3 SDK JAR version you should go to the Maven Repository page for the hadoop-aws.jar file for the Hadoop version you're installing (in the example above this is hadoop-aws-2.8.5jar so the page is [https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.5](https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-aws/2.8.5)) and look at the AWS S3 SDK JAR version in the _Compile Dependencies_ section In this case it is aws-java-sdk-s3-1.10.6.jar.

The `SPARK_DIST_CLASSPATH` is set to your `HADOOP_CLASSPATH` as output by the `hadoop classpath` command.

### Recently viewed articles

*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)

### Related articles

*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpBg%3D%3D--02465616d8c068aa18435a5fefa003349704e103)
*   [Errors when setting up Spark: ""Java gateway process exited before sending its port number""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3JIoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDkwNDIzMjQtRXJyb3JzLXdoZW4tc2V0dGluZy11cC1TcGFyay1KYXZhLWdhdGV3YXktcHJvY2Vzcy1leGl0ZWQtYmVmb3JlLXNlbmRpbmctaXRzLXBvcnQtbnVtYmVyBjsIVDoJcmFua2kH--2aaa1e93867e5aca07af96312a2691407f712902)
*   [How to troubleshoot os error: write error or a broken pipe/socket seen in model api logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRi5HWjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzYxOTk2MTU3MDk3MTYtSG93LXRvLXRyb3VibGVzaG9vdC1vcy1lcnJvci13cml0ZS1lcnJvci1vci1hLWJyb2tlbi1waXBlLXNvY2tldC1zZWVuLWluLW1vZGVsLWFwaS1sb2dzBjsIVDoJcmFua2kI--aa3e0a4bab68b5dcf24af06a3f62e6bd33cbce31)
*   [Multiple Spark Applications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJcNUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE0NDQ3MS1NdWx0aXBsZS1TcGFyay1BcHBsaWNhdGlvbnMtaW4tRG9taW5vBjsIVDoJcmFua2kJ--b7838b692c4a6773c3b79386b32afa461985559b)
*   [How to prevent the permission denied error when running ""pip install"" in a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOOjKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTk3MS1Ib3ctdG8tcHJldmVudC10aGUtcGVybWlzc2lvbi1kZW5pZWQtZXJyb3Itd2hlbi1ydW5uaW5nLXBpcC1pbnN0YWxsLWluLWEtd29ya3NwYWNlBjsIVDoJcmFua2kK--fe73bb4921ffa15669bb9244ac8cf646c08f6b9c)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fcategories%2F360000081143&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces,"## Workspaces

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)
*   [Dash App Development in VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15248715744404-Dash-App-Development-in-VS-Code)
*   [Am I able to use the LabelStudio app within a Domino workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/15133971498004-Am-I-able-to-use-the-LabelStudio-app-within-a-Domino-workspace)
*   [Jupyter Table of Contents extension (toc2) truncates table of contents](https://tickets.dominodatalab.com/hc/en-us/articles/14631323164180-Jupyter-Table-of-Contents-extension-toc2-truncates-table-of-contents)
*   [Why have my files changed in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/14375489752468-Why-have-my-files-changed-in-my-workspace)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)
*   [Workspace startup states in 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/12637142411284-Workspace-startup-states-in-5-x)
*   [Installing R packages from archive](https://tickets.dominodatalab.com/hc/en-us/articles/11199297980180-Installing-R-packages-from-archive)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)
*   [What are XSRF, CORS, CSRF and how to avoid issues in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook)
*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/articles/9650341884180-Ignoring-files-above-the-save-limit-of-10000-files-using-dominoignore)
*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace)
*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/9326048421396-Subprocess-management-in-Jupyter)
*   [Implementing Zeppelin as an IDE in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/9320714654868-Implementing-Zeppelin-as-an-IDE-in-Domino)
*   [For newly created projects, automatically shutdown long-running workspaces after a specified time.](https://tickets.dominodatalab.com/hc/en-us/articles/6647378693652-For-newly-created-projects-automatically-shutdown-long-running-workspaces-after-a-specified-time)
*   [Persisting RStudio Preferences (1.4+)](https://tickets.dominodatalab.com/hc/en-us/articles/6070817298068-Persisting-RStudio-Preferences-1-4)
*   [I need FUSE in my Domino Environment](https://tickets.dominodatalab.com/hc/en-us/articles/5763888478484-I-need-FUSE-in-my-Domino-Environment)
*   [RStudio Memory Usage or Performance improvements](https://tickets.dominodatalab.com/hc/en-us/articles/5762914141076-RStudio-Memory-Usage-or-Performance-improvements)
*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/articles/4413702251284-Auto-Shut-Down-Long-Running-Workspace)
*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above/subscription.html ""Opens a sign-in dialog"")

How to Get Workspace Logs :

Logs from workspaces are the most common requested file from a Domino Support Agent to help you with your troubleshooting. 

Here are the steps on how to get them:

1.   Launch your project and go to the workspace dashboard.![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/360096495011/mceclip0.png)
2.  Click on the “History” Icon on the right side.

![Screen_Shot_2021-09-09_at_12.52.02_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4406540033556/Screen_Shot_2021-09-09_at_12.52.02_AM.png)

3\. You will be then directed to the “Workspace Session” window and would need to select the session you want.          ![](https://lh6.googleusercontent.com/iBH0GKBs6MdXKk11X7qCfJSg_m91mUAiZMlLS6yC5QfHeRU2nXc3-kXmXVvomRuSXp8FK5TkaZGRSN8a1mDoRDCnKaJN9rOB4cfxtbhHfdlQqmyVLhe8SHQRNgEuRIOTQ3rUHaY7)                             

4\. Once you select the desired session it will bring you to the “Workspace Session Details Window”  and then choose “Deployment Logs”. Just click on the download button and send it as an attachment as requested by your support personnel. 

![Screen_Shot_2021-09-09_at_12.54.15_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4406532130836/Screen_Shot_2021-09-09_at_12.54.15_AM.png)

5\. You might be asked for the ""SUPPORT BUNDLE,"" and to get that you should just follow Steps 1-4 and then choose “Admin” as seen below. Just download it and you send it as requested. Cheers! ![](https://lh3.googleusercontent.com/VXw3dN2-IGeDetDT3QAyqnkhbKvpU_pQXA-bjOWR2tJc7Dic5bDVfw3amnfOKgn3bk-wXNzcFvrmnR46uM6s26xAQNLphz-_yV70dNOQJy2tL1SGRWROs2DdFpwoRaeUJqouz04y) 

Related Articles:

[Workspace Sessions](https://tickets.dominodatalab.com/hc/en-us/articles/115005294106-Workspace-sessions)

### Recently viewed articles

*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)

### Related articles

*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQY%3D--96d174f86445f082a98d04927ea4e41b613ce75e)
*   [How to Get Workspace Logs : versions 4.0-.4.3](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAfiXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTc1MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLXZlcnNpb25zLTQtMC00LTMGOwhUOglyYW5raQc%3D--47f1717be040125e89c1b66fba0c567a593aaa5f)
*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMgGWtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTczMjU1Mi1SZXN1bWFibGUtd29ya3NwYWNlLWNhbm5vdC1iZS1zdG9wcGVkLW9wZW5lZC1vci1kZWxldGVkLURvbWluby00LTQtMC00LTYteAY7CFQ6CXJhbmtpCA%3D%3D--9e887e1433df2ef5c82115ccf830a7c3227df395)
*   [Persistent keybindings for VSCode](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7tokBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTE4OTk3OTYtUGVyc2lzdGVudC1rZXliaW5kaW5ncy1mb3ItVlNDb2RlBjsIVDoJcmFua2kJ--4189da4a70a6a5d7c3dec809c6c547d171b9c975)
*   [Misleading error: ""java.lang.IllegalStateException: PVC PersistentVolumeClaimId(default,workspace-6008d4902ddf203ba1f1ed36) is in use""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT4tkIEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoi9oYy9lbi11cy9hcnRpY2xlcy80NDE2MzQ1NjY3NzMyLU1pc2xlYWRpbmctZXJyb3ItamF2YS1sYW5nLUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbi1QVkMtUGVyc2lzdGVudFZvbHVtZUNsYWltSWQtZGVmYXVsdC13b3Jrc3BhY2UtNjAwOGQ0OTAyZGRmMjAzYmExZjFlZDM2LWlzLWluLXVzZQY7CFQ6CXJhbmtpCg%3D%3D--0cf4ce9211a423b91af39d5b53f657564c16778f)"
https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You need to test a sample Spark application on your Domino workspace that’s using an [on-demand Spark cluster](https://docs.dominodatalab.com/en/latest/user_guide/482ec5/on-demand-spark/).

* * *

## **Prerequisites:**

When [configuring your workspace to use Spark](https://docs.dominodatalab.com/en/latest/user_guide/f11f6a/work-with-your-spark-cluster/#tr1), you’ll need to be able to select Spark environments. These are usually created by your Domino Admins. The Domino Spark Compute Environment is built specifically for workspaces that control a Spark cluster. It includes Scala and Spark on top of the typical Domino Standard Environment (DSE) functionality. This Environment is best used alongside a Domino Spark Cluster Environment. To ensure compatibility between the Spark Compute Environment and Spark Cluster Environment, the Spark and Python versions must match across Environment images.

Examples based on Domino version 5.9:

*   [Domino Spark Compute Environment](https://docs.dominodatalab.com/en/latest/user_guide/71a047/overview/#compute-env)
    *   quay.io/domino/compute-environment-images:ubuntu20-py3.9-r4.3-spark3.5.0-hadoop3.3.6-domino5.9
*   [Domino Spark Cluster Environment](https://docs.dominodatalab.com/en/latest/user_guide/1962f3/configure-spark-prerequisites/#creating_base_spark_env)
    *   quay.io/domino/cluster-environment-images:spark3.5.0-hadoop3.3.6-py3.9-domino5.9

![00 Spark environments.png](https://tickets.dominodatalab.com/hc/article_attachments/24575625636628)

When [configuring compute cluster settings](https://docs.dominodatalab.com/en/latest/user_guide/f11f6a/work-with-your-spark-cluster/#spark_cluster_settings), Domino administrators can also optionally create [dedicated hardware tiers](https://docs.dominodatalab.com/en/latest/admin_guide/eca4b2/manage-compute-resources/#compute-cluster-specific-hardware-tiers) for Spark users.

* * *

## **Steps:**

**1\.** Create a workspace using a Spark compute environment and a Spark cluster environment. Confirm that the [Spark Web UI](https://spark.apache.org/docs/latest/web-ui.html) is ready.

![01 Spark Web UI ready.png](https://tickets.dominodatalab.com/hc/article_attachments/24574783846804)

**2.** In the Jupyter notebook, open a terminal and run this `spark-submit` command:

spark-submit \--class org.apache.spark.examples.SparkPi /opt/conda/lib/python3.9/site-packages/pyspark/spark-distribution/examples/jars/spark-examples\_2.12-3.5.0.jar 10000

**3.** If you run into this error, it's because the path to the `spark-examples` .jar is incorrect:

WARN util.DependencyUtils: Local jar /opt/conda/lib/python3.9/site-packages/pyspark/spark-distribution/examples/jars/spark-examples\_2.12-3.5.0.jar does not exist, skipping.  
Error: Failed to load class org.apache.spark.examples.SparkPi.  
INFO util.ShutdownHookManager: Shutdown hook called  
INFO util.ShutdownHookManager: Deleting directory /tmp/spark-bb9d5a63-670d-4428-9584-ea8375eb2632

**4\.** Find the correct path to the `spark-examples` .jar:

cd /opt  
find /opt -name \*.jar | grep -i example  

/opt/domino/spark/examples/jars/scopt\_2.12-3.7.1.jar  
/opt/domino/spark/examples/jars/spark-examples\_2.12-3.4.0.jar  
/opt/domino/hadoop/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.3.5.jar  
/opt/domino/hadoop/share/hadoop/mapreduce/lib-examples/hsqldb-2.7.1-jdk8.jar  
/opt/domino/hadoop/share/hadoop/mapreduce/sources/hadoop-mapreduce-examples-3.3.5-sources.jar  
/opt/domino/hadoop/share/hadoop/mapreduce/sources/hadoop-mapreduce-examples-3.3.5-test-sources.jar  
/opt/conda/lib/python3.9/site-packages/pyspark/spark-distribution/examples/jars/scopt\_2.12-3.7.1.jar  
/opt/conda/lib/python3.9/site-packages/pyspark/spark-distribution/examples/jars/spark-examples\_2.12-3.4.0.jar

The correct path from the above example output is:

/opt/domino/spark/examples/jars/spark-examples\_2.12-3.4.0.jar

**![02 run spark-submit commands.png](https://tickets.dominodatalab.com/hc/article_attachments/24574783865876)**

**5\.** In the `spark-submit` command, replace:

spark-examples\_2.12-3.5.0.jar

with:

spark-examples\_2.12-3.4.0.jar

Then `cd /mnt` and re-run the command:

cd /mnt  
spark-submit \--class org.apache.spark.examples.SparkPi /opt/conda/lib/python3.9/site-packages/pyspark/spark-distribution/examples/jars/spark-examples\_2.12-3.4.0.jar 10000

This can take from 90 seconds to a few minutes:

![03 spark-submit can take 90 seconds to a few minutes.png](https://tickets.dominodatalab.com/hc/article_attachments/24574783885972)

**6.** Click on the **Spark Web UI**. Under **Running Applications** > click on the **app-ID**:

![04 app shows under Running Applications.png](https://tickets.dominodatalab.com/hc/article_attachments/24574783899412)

**7.** The app shows that it’s in a **RUNNING** state. Click on **Application Detail UI**:

![05 app in RUNNING state shows Application Detail UI link.png](https://tickets.dominodatalab.com/hc/article_attachments/24574789374868)

**8.** This app shows the **Active Jobs**. Click on **Event Timeline**:

![06 Active Jobs with Event Timeline open.png](https://tickets.dominodatalab.com/hc/article_attachments/24574789418772)

**9.** Once the job has exited, the app will be in a **FINISHED** state:

![07 app in FINISHED state.png](https://tickets.dominodatalab.com/hc/article_attachments/24574783984660)

and the app will get moved to **Completed Applications**:

![08 app has moved from Running to Completed Applications.png](https://tickets.dominodatalab.com/hc/article_attachments/24574784020884)

Because the job is complete, it’s expected behavior for the app links to lead to the **403 Forbidden error**:

HTTP ERROR 403 Forbidden  
**URI:** /proxy/app-20240313165739-0000/environment/  
**STATUS:** 403  
**MESSAGE:** Forbidden  
**SERVLET:** org.apache.spark.ui.JettyUtils$$anon$3-11c8a2a1  
[Powered by Jetty:// 9.4.50.v20221201](https://eclipse.org/jetty)

![09 -403 Forbidden Error - expected behavior when job has finished.png](https://tickets.dominodatalab.com/hc/article_attachments/24574789540116)

**10\.** The terminal shows the task is finished and the app has successfully stopped:

![10 terminal shows Finished task and app successfully stopped.png](https://tickets.dominodatalab.com/hc/article_attachments/24574789566356)

* * *

### **Notes:**

*   Domino University video: [Advanced Feature - Spark On-demand](https://university.domino.ai/?q=Spark%20on%20demand)

### **References/Internal Records:**

*   DOM-55410
*   ZD-86378

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24571827566100)

### Recently viewed articles

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)

### Related articles

*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpBg%3D%3D--b046fb77e7530d09a653c204a88cd52f7e50388a)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSkgwJ3EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzIxNDAxODY0MjE3NjIwLVVuLXJlZ2lzdGVyLXRoZW4tcmUtcmVnaXN0ZXIteW91ci1tb2RlbC13aGVuLW1ha2luZy1jaGFuZ2VzLXRvLU1vbml0b3JpbmctQ29uZmlnLUpTT04GOwhUOglyYW5raQc%3D--b9d9ae66c7d89d227fee0724b0d86834fcad9af6)
*   [Model API in "" Starting "" state forever](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRZLXEXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0OTg3Mjk1NTYzNzItTW9kZWwtQVBJLWluLVN0YXJ0aW5nLXN0YXRlLWZvcmV2ZXIGOwhUOglyYW5raQg%3D--b720a7ec5c4ac197bd20392ed558d171873ae3de)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQJH%2FICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2OTg1NjU5MDgtU2FtYmEtY2xpZW50cy1hcy1hbi1hbHRlcm5hdGl2ZS10by1DSUZTLW1vdW50ZWQtc2hhcmVkLWRyaXZlcwY7CFQ6CXJhbmtpCQ%3D%3D--80d41352a36c0b61a39575e47f3fe814c5ae7393)
*   [Can Domino Support help me install Data Science packages and build Compute Environments for me?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPjzKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTg1MTY0NzItQ2FuLURvbWluby1TdXBwb3J0LWhlbHAtbWUtaW5zdGFsbC1EYXRhLVNjaWVuY2UtcGFja2FnZXMtYW5kLWJ1aWxkLUNvbXB1dGUtRW52aXJvbm1lbnRzLWZvci1tZQY7CFQ6CXJhbmtpCg%3D%3D--f8e2d885d208dbb0515b1f1b88734bed7446e526)"
https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab/subscription.html ""Opens a sign-in dialog"")

### Issue/problem

I am trying to add Applications in JupyterLab - but I fail to start the Workspace

I want to add TWO or more Tiles/Apps in JupyterLab but it fails

I used [https://docs.dominodatalab.com/en/latest/user\_guide/74ed74/use-tensorboard-in-jupyter-workspaces/](https://docs.dominodatalab.com/en/latest/user_guide/74ed74/use-tensorboard-in-jupyter-workspaces/) to add Tiles, but I can only add one

I've enabled/added JupyterLab Proxy, but want more than one app.

## Resolution

Add two entries by separating with a comma like this (careful of the indents for .py files):

tensorboard \\  
\--host 127.0.0.1 \\  
\--port 6006 \\  
\--logdir /domino/datasets/local/${DOMINO\_PROJECT\_NAME}/tensorboard\_logs \\  
\--path\_prefix /${DOMINO\_PROJECT\_OWNER}/${DOMINO\_PROJECT\_NAME}/notebookSession/${DOMINO\_RUN\_ID}/Tensorboard &

CONF\_DIR=""${HOME}/.jupyter""  
mkdir -p ""${CONF\_DIR}""

cat << EOF >> ${CONF\_DIR}/jupyter\_notebook\_config.py  
c.ServerProxy.servers = {  
  ""Tensorboard"": {  
    'command': \['configurable-http-proxy', '--ip', '127.0.0.1', '--port', '{port}', '--default-target=http://127.0.0.1:6006/${DOMINO\_PROJECT\_OWNER}/${DOMINO\_PROJECT\_NAME}/notebookSession/${DOMINO\_RUN\_ID}/Tensorboard/'\]  
  },  
  ""VSCode"": {  
    'command': \['code-server', '--port', '{port}'\]  
  }  
}  
EOF

CONF\_DIR=""${HOME}/.jupyterlab""  
mkdir -p ""${CONF\_DIR}""

\# Fix potentially having changed ownership with pip earlier:  
sudo chown -R ubuntu:ubuntu ""${CONF\_DIR}""

cat << EOF >> ${CONF\_DIR}/jupyter\_lab\_config.py  
c.ServerProxy.servers = {  
  ""Tensorboard"": {  
    'command': \['configurable-http-proxy', '--ip', '127.0.0.1', '--port', '{port}', '--default-target=http://127.0.0.1:6006/${DOMINO\_PROJECT\_OWNER}/${DOMINO\_PROJECT\_NAME}/notebookSession/${DOMINO\_RUN\_ID}/Tensorboard/'\]  
  },  
  ""VSCode"": {  
    'command': \['code-server', '--port', '{port}'\]  
  }  
}  
EOF

### Recently viewed articles

*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)

### Related articles

*   [My settings are not saved when using custom VSCode image](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQOlPSSDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzEzODI1MzA4MTAyMTY0LU15LXNldHRpbmdzLWFyZS1ub3Qtc2F2ZWQtd2hlbi11c2luZy1jdXN0b20tVlNDb2RlLWltYWdlBjsIVDoJcmFua2kG--4e6dbf51979f558a9ab04aef498548849de3c750)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSBAxQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MTEyNjcxODcwOTItT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYW4tQXBwLW9uLURvbWluby1WZXJzaW9uLTQtMy11cAY7CFQ6CXJhbmtpBw%3D%3D--d96b2773fd937d238922d486de220ec1e08c6dd0)
*   [Choosing between a Git-based project (GBP) and a Domino File System (DFS) project with an imported repo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSn6XqdEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhS9oYy9lbi11cy9hcnRpY2xlcy8xOTM2ODA2OTY3MDY3Ni1DaG9vc2luZy1iZXR3ZWVuLWEtR2l0LWJhc2VkLXByb2plY3QtR0JQLWFuZC1hLURvbWluby1GaWxlLVN5c3RlbS1ERlMtcHJvamVjdC13aXRoLWFuLWltcG9ydGVkLXJlcG8GOwhUOglyYW5raQg%3D--e24b007da045970fcc51af153ab78791095d5ee6) 
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQk%3D--439b93fc27698dc2f8f6c791253e5886ea702755)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSn9WkZEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzE5OTAwMzYxMTg5MjY4LUNhbi1JLWluc2VydC1teS1KU09OLUNvbmZpZ3VyYXRpb24taW50by1KdXB5dGVyTGFiLWluLWFuLWVhc3ktd2F5BjsIVDoJcmFua2kK--9b5c6e041e0b5486e8dca8c194c31d9549afcc98)"
https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

**Pr****oblem:**

When attempting to sync a workspace, it either stuck or produces an error when attempting to sync unsaved or modified work.

**Solution:**

The unsaved work from your unable to sync workspace should be moved to the dataset folder.

1\. Copy all unsaved work to path / > mnt > domino > ""datasetname"" for Domino version 5.x and higher, and to / > domino > datasets > local > ""datasetname"" for Domino version 4.x and higher.

2\. Create up a new workspace. (This will be your new workspace, and it will contain all of your unsynced work.)

3\. Copy all of the files on the dataset and paste them into the appropriate location in your newly created workspace, and you should be able to restore and sync all of your work.

**Other solution would be**

1\. Download the unsync work to a local folder.

2\. Upload it to the dataset of your project.

3\. Create up a new workspace. (This will be your new workspace, and it will contain all of your unsynced work.)

4\. Copy all of the files on the dataset and paste them into the appropriate location in your newly created workspace, and you should be able to restore and sync all of your work.

**You're All Set!**

### Recently viewed articles

*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)

### Related articles

*   [Datasets page fails to load with error: ""Failed to fetch Dataset details.""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSCqSM3DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzEzNDMwOTYxMDQ2MDM2LURhdGFzZXRzLXBhZ2UtZmFpbHMtdG8tbG9hZC13aXRoLWVycm9yLUZhaWxlZC10by1mZXRjaC1EYXRhc2V0LWRldGFpbHMGOwhUOglyYW5raQY%3D--5a074e0eafe7933dd6f212f3763dbd5fb2340ac1)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kH--724461003d3cd3819f0e273f4b17e472d8dd2987)
*   [Why can't I see the hardware tier I was expecting to see in my project?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ1iyjnEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzIxODgzNTM4NTg0OTgwLVdoeS1jYW4tdC1JLXNlZS10aGUtaGFyZHdhcmUtdGllci1JLXdhcy1leHBlY3RpbmctdG8tc2VlLWluLW15LXByb2plY3QGOwhUOglyYW5raQg%3D--6635572328541894261caccf44b8425680509b0b)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShMa0EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ0MTgxMzIwOTExNTYtQ29tcGFyaW5nLUpvYnMtV29ya3NwYWNlcy1pbi1Eb21pbm8tdmVyc2lvbnMtNC00LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCQ%3D%3D--b13a6b5a667baf162b0aaa32903f32b13a2599da)
*   [How do I read and write to a dataset from my Spark-on-demand cluster in Domino? (Domino <4.5.0)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTg0OTM3NzEtSG93LWRvLUktcmVhZC1hbmQtd3JpdGUtdG8tYS1kYXRhc2V0LWZyb20tbXktU3Bhcmstb24tZGVtYW5kLWNsdXN0ZXItaW4tRG9taW5vLURvbWluby00LTUtMAY7CFQ6CXJhbmtpCg%3D%3D--221e1e802328334f47dcab3eac5083f4745c7942)"
https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino versions 5.8.0 and newer.

* * *

## **Issue:**

In Domino version 5.8.0, the default version of **code-server** is 4.10.0. Since newer versions of **code-server** are not an official part of Domino solutions, they are generally not expected to work in older versions of Domino < 5.8.0. 

In Domino 5.8, you want to update VSCode’s default versions:

*   **code-server** from the default 4.10.0 to the latest version, in this example 4.19.1

![01 default vscode code-server version 4-10-0.png](https://tickets.dominodatalab.com/hc/article_attachments/21545552578068)

*   **ms-python** extension from the default 2023.4.1 to the latest version, in this example 2023.20.0

![02 default ms-python extension version 2023-4-1.png](https://tickets.dominodatalab.com/hc/article_attachments/21545498260244)

* * *

## **Resolution:**

Although building custom environments and dependency resolution fall beyond [Domino's Scope of Support](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage), we offer this ""best effort"" workaround as an example for those that want to update VSCode in Domino 5.8 or higher. However, please note that this is not guaranteed to work in your custom deployment. Although these steps work during testing in Domino's internal testing deployments, it is up to the user to verify its usability in your specific deployment. 

**Step 1.** Update the Dockerfile of your environment, in this example a [5.8 Domino Standard Environment (DSE)](https://docs.dominodatalab.com/en/latest/user_guide/71a047/overview/#compute-Environment-catalog), with the following script:

![03 env Dockerfile install code-server 4-19-1 and ms-python extension 2023-20-0.png](https://tickets.dominodatalab.com/hc/article_attachments/21545512318868)

USER root  
RUN rm -r /home/ubuntu/.local/share/code-server/ || echo FF1  
RUN rm -r /home/ubuntu/.config/code-server || echo FF1  
RUN rm -r /usr/lib/code-server || echo FF1  
RUN rm -r /usr/bin/code-server || echo FF1

\# Installing latest version 4.19.1  
RUN curl -fOL https://github.com/coder/code-server/releases/download/v4.19.1/code-server\_4.19.1\_amd64.deb && \\  
dpkg -i code-server\_4.19.1\_amd64.deb && \\  
rm -rf code-server\_4.19.1\_amd64.deb

\# Install VSCode extensions for python (pinned to this version so the python extension works for python notebooks)  
RUN cd /tmp && \\  
mkdir -p /home/ubuntu/.local/share/code-server/ && \\  
mkdir -p /home/ubuntu/.config && \\  
wget -nv -O ms-python-release.vsix https://open-vsx.org/api/ms-python/python/2023.20.0/file/ms-python.python-2023.20.0.vsix && \\  
code-server --install-extension ./ms-python-release.vsix --extensions-dir /home/ubuntu/.local/share/code-server/extensions || true && \\  
chown -R ${DOMINO\_USER}.${DOMINO\_GROUP} ""/home/${DOMINO\_USER}"" && \\  
rm -rf /tmp/\* && \\  
rm -rf /var/tmp/\*

USER ubuntu

**Step 2.** Switch the environment on your workspace

**Step 3.** Confirm that the versions were updated, in this example:

*   **code-server** was updated to v4.19.1
*   **ms-python** extension version was updated to v2023.20.0

![04 code-server and ms-python updated.png](https://tickets.dominodatalab.com/hc/article_attachments/21545552591508)

* * *

## **Notes/Information:**

How to find the latest **code-server** version URL and name in order to update the Dockerfile, in this example to 4.19.1:

**1\.** Go to [https://github.com/coder/code-server/releases](https://github.com/coder/code-server/releases)

**2.** Copy the URL of the .deb package, in this example: [https://github.com/coder/code-server/releases/download/v4.19.1/code-server\_4.19.1\_amd64.deb](https://github.com/coder/code-server/releases/download/v4.19.1/code-server_4.19.1_amd64.deb) 

**3.** Copy the name of the .deb package: code-server\_4.19.1\_amd64.deb

![05 code-server releases page with URL and name.png](https://tickets.dominodatalab.com/hc/article_attachments/21545527804564)

**4.** Paste the URL and name into the Dockerfile

![06 Dockerfile Update version URL and name.png](https://tickets.dominodatalab.com/hc/article_attachments/21545512324628)

**5.** In vs-code, under the **Extensions** tab, click on the **ms-python** extension

**6.** Under the **gear** > click **Copy**

![07 Extensions tab - ms-python - gear Copy.png](https://tickets.dominodatalab.com/hc/article_attachments/21545552601748)

**7.** Paste the content and go to the **VS Marketplace** link: [https://open-vsx.org/vscode/item?itemName=ms-python.python](https://open-vsx.org/vscode/item?itemName=ms-python.python)

Id: ms-python.python  
Description: IntelliSense (Pylance), Linting, Debugging (multi-threaded, remote), code formatting, refactoring, unit tests, and more.  
Version: 2023.20.0  
Publisher: ms-python  
VS Marketplace Link: https://open-vsx.org/vscode/item?itemName=ms-python.python

**8.** Hover over the **Download** button and right-click to copy the link, e.g. [https://open-vsx.org/api/ms-python/python/2023.20.0/file/ms-python.python-2023.20.0.vsix](https://open-vsx.org/api/ms-python/python/2023.20.0/file/ms-python.python-2023.20.0.vsix)

![08 open-vsx link.png](https://tickets.dominodatalab.com/hc/article_attachments/21545498286100)

**9\.** Paste the **open-vsx** link into your Dockerfile

![09 Paste vsx link into Dockerfile.png](https://tickets.dominodatalab.com/hc/article_attachments/21545512334740)

### References/Internal Records:

*   DOM-49540

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)

### Related articles

*   [The workbench failed to connect to the server (Error: Websocket close with status code 1006)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmCjDUEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8yMTgwMjA1OTk4MjM1Ni1UaGUtd29ya2JlbmNoLWZhaWxlZC10by1jb25uZWN0LXRvLXRoZS1zZXJ2ZXItRXJyb3ItV2Vic29ja2V0LWNsb3NlLXdpdGgtc3RhdHVzLWNvZGUtMTAwNgY7CFQ6CXJhbmtpBg%3D%3D--ac9110bea1af4e7e82b9ffcf4ba4f64dc10ae06c)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kH--041ab0b82c1161ef07d56a663a73ee8b7613d69d)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzIwNTI2NDQ0OTY4MDg0LUhvdy10by1hZGQtVFdPLW9yLW1vcmUtVGlsZXMtaW4tSnVweXRlckxhYgY7CFQ6CXJhbmtpCA%3D%3D--f9c17b496c9f538f5a0b5a031313f7256bc53f95)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--e9117903fdba9e3be756be96fcad9c80a153906d)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kK--09f7c32f5afd173f6c0eb53419c30e99d210c607)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203363-Environments,"## Environments

*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [Add R as a kernel to Jupyter & Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)
*   [FAQ: What is the workspace environment?](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)
*   [Symbols in Runs column under an Environment’s Projects tab](https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11)
*   [Can I upgrade my Environment to Python 3.10?](https://tickets.dominodatalab.com/hc/en-us/articles/19423266573588-Can-I-upgrade-my-Environment-to-Python-3-10)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)
*   [Updating Julia and Julia Jupyter Kernel in Domino Compute Enviornments](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments)
*   [Install VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15617655514772-Install-VS-Code)
*   [What is Docker in Docker (DinD)?](https://tickets.dominodatalab.com/hc/en-us/articles/15020552885780-What-is-Docker-in-Docker-DinD)
*   [Install custom python packages from imported repos](https://tickets.dominodatalab.com/hc/en-us/articles/14799420386708-Install-custom-python-packages-from-imported-repos)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [How to edit Jupyter Notebook configurations via Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/12603650945044-How-to-edit-Jupyter-Notebook-configurations-via-Compute-Environment)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/articles/9622299237780-Exotic-IDE-VNC-or-Compute-Environment-Support-why-is-it-not-supported)
*   [Creating an environment to install mongod on a Domino Workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8625831233172-Creating-an-environment-to-install-mongod-on-a-Domino-Workspace)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/7963188322324-Getting-Started-with-Poetry-in-Domino)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab)
*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/6665122897428-Configure-Certificates-for-A-Specific-Compute-Environment)
*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/articles/4820364756372-How-to-Change-Environments-Visibility)
*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)
*   [Can Environment Scripts Be Used to Access an Attached Repo?](https://tickets.dominodatalab.com/hc/en-us/articles/4408743723924-Can-Environment-Scripts-Be-Used-to-Access-an-Attached-Repo)
*   [Installing Selenium](https://tickets.dominodatalab.com/hc/en-us/articles/4402511602068-Installing-Selenium)
*   [Persistent packages (Shiny)](https://tickets.dominodatalab.com/hc/en-us/articles/360061051872-Persistent-packages-Shiny)"
https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way/subscription.html ""Opens a sign-in dialog"")

### Issue

I want to add variables/settings to JupyterLab for all users

### Resolution

Add the file and parameters in your Dockerfile

Add your settings in the JupyterLab 'Settings'. Locate the file, in the subdirectory, i.e.: /home/ubuntu/.jupyter/lab/user-settings/@jupyterlab. You can insert the file's content using the example below (change your folder and filename to match your stanza)

Create the Dockerfile setup and ensure you have the correct permissions. I set USER root to avoid using sudo, and use chmod at the end:

USER root  
RUN mkdir -p /home/ubuntu/.jupyter/lab/user-settings/@jupyterlab/notebook-extension

COPY <<EOF ""/home/ubuntu/.jupyter/lab/user-settings/@jupyterlab/notebook-extension/tracker.jupyterlab-settings""  
{ ""codeCellConfig"": {  
 ""autoClosingBrackets"": true,  
 ""fontFamily"": null,  
 ""fontSize"": null,  
 ""lineHeight"": null,  
 ""lineNumbers"": true,  
 ""lineWrap"": ""off"",  
 ""matchBrackets"": true,  
 ""readOnly"": false,  
 ""insertSpaces"": true,  
 ""tabSize"": 4,  
 ""wordWrapColumn"": 80,  
 ""rulers"": \[\],  
 ""codeFolding"": false  
 },  
 ""markdownCellConfig"": {  
  ""autoClosingBrackets"": true,  
  ""fontFamily"": null,  
  ""fontSize"": null,  
  ""lineHeight"": null,  
  ""lineNumbers"": false,  
  ""lineWrap"": ""on"",  
  ""matchBrackets"": false,  
  ""readOnly"": false,  
  ""insertSpaces"": true,  
  ""tabSize"": 4,  
  ""wordWrapColumn"": 80,  
  ""rulers"": \[\],  
  ""codeFolding"": false  
 }  
}  
EOF

RUN sudo chown -R ubuntu:ubuntu /home/ubuntu/.jupyter/lab

### Recently viewed articles

*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)

### Related articles

*   [What is a Lite User/LightUser?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRC2f8BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSn9WkZEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY2MzM5MDY3MDgtV2hhdC1pcy1hLUxpdGUtVXNlci1MaWdodFVzZXIGOwhUOglyYW5raQY%3D--9ea8b2b7892bf938ae60d9cc7e66205ce2c01e59)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDCYddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSn9WkZEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTg3NjcyMzk5NTYtRXh0cmFjdC11c2VybmFtZS1mcm9tLWxhdW5jaGVyLXJ1bnMtaW4tUHl0aG9uBjsIVDoJcmFua2kH--0a164aee97fa76e1a5a16e644550b54b03c0eeb7)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSn9WkZEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQg%3D--ca17d72b3a398a8b299167c103e6657939543fd5)
*   [Basic notebook which tests on-demand Spark functionality.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQGUnhTEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSn9WkZEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzIwMTQ5NzEwMjI2OTY0LUJhc2ljLW5vdGVib29rLXdoaWNoLXRlc3RzLW9uLWRlbWFuZC1TcGFyay1mdW5jdGlvbmFsaXR5BjsIVDoJcmFua2kJ--5a152190394e3cc26d415883a94f9675df759663)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSn9WkZEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzE5OTE1NzI2MDk0NDg0LVdvcmthcm91bmQtZm9yLWEtcnVubmluZy13b3Jrc3BhY2UtdGhhdC1jYW5ub3QtYmUtc3luY2hyb25pc2VkBjsIVDoJcmFua2kK--e5fa63cb8b7309dcb7812265ca82bcdbdef6eb77)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment/subscription.html ""Opens a sign-in dialog"")

When making an API call from your code in Domino you may run into the following (or similar) SSL verify failure 

While you can add a 'verify=false' to your request, it is not ideal as it circumvents security.  This is a good test to run, however, as it will clearly identify the certificate as the issue.  To correct this, you will need to install your organization's cert into the compute environment (CE) that you are using for your project.  If you are unfamiliar with Domino CEs we have some documentation [here](https://docs.dominodatalab.com/en/4.0/reference/environments/Video_introduction_to_Domino_Environments.html?highlight=environments).

To add your cert to the CE use the following process.  Note that these instructions apply to Ubuntu.  This is Domino's default Linux in workspaces.  If you have a different Linux the process will be slightly different.

## Package Installation

The first thing to do is install the ca-certificates package, a tool that allows SSL-based applications to check for the authenticity of SSL connections. To install this piece of software, edit your CE and add...

RUN sudo apt-get install ca-certificates -y

## Converting from PEM

You'll need to acquire your certificate file from your local admins.  If your certificate is a PEM file, it must first be converted to the .crt format. To do this you must use the OpenSSL command like so:

openssl x509 -outform der -in CERTIFICATE.pem -out CERTIFICATE.crt

Where CERTIFICATE is the name of the certificate file.  The name is not really important and should just be something easily identifiable.

Once you have the PEM file converted to .crt, you can then copy the file to the required directory

## Copying files

Once you have it you'll need to add it into the docker build.  Moving files like the cert, into the docker build can be done in one of two ways.

1) The cert file can be created on the fly from within the docker definition

RUN echo ""This is the first line of my cert"" > /usr/local/share/ca-certificates/mycert.crt && \\  
    echo ""This is the next line of my cert"" >> /usr/local/share/ca-certificates/mycert.crt && \\  
    echo ""This is the next line of my cert"" >> /usr/local/share/ca-certificates/mycert.crt && \\  
    echo ""This is the last line of my cert"" >> /usr/local/share/ca-certificates/mycert.crt

This has the drawback of leaving the cert in plain text in your CE build definition.

2) Place the cert file somewhere you can curl or wget it from.  This would need to be a remote file server where the file exists. 

RUN wget [https://the.server.where.my.file.lives.com/cacert.pem](https://the.server.where.my.file.lives.com/cacert.pem)

Next, we need to copy that .cer or .crt file into the proper location. With that certificate file on the Ubuntu server, copy it to the necessary directory with the command:

sudo cp mycert.crt /usr/local/share/ca-certificates

## Update your certificate

The last step is to update your certificates. With a single command, you can update the certificates and generate the ca-certificates.crt file (which is a concatenated list of all installed certificates). The command to run is:

sudo update-ca-certificates

And that's all there is to it. You now have a working CA certificate file, in the proper location.

### Recently viewed articles

*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--ce6ab7079d1768dd79485dee1840149c0695aa7c)
*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBReSNgPBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY2NjUxMjI4OTc0MjgtQ29uZmlndXJlLUNlcnRpZmljYXRlcy1mb3ItQS1TcGVjaWZpYy1Db21wdXRlLUVudmlyb25tZW50BjsIVDoJcmFua2kH--76417836a6e8c3615f7400aa19fa0c9c853db2ec)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCA%3D%3D--12884e8f1f0514b4cbad829097050600141793e9)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kJ--5426c8a4c8999e36c897d7ae3a3b495876d201a5)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kK--95fdce6dcae0ca1701232b98a9098df11816f002)"
https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab,"#### _**Version/Environment (if relevant):**_

Domino Standard Environment (DSE) 5.9+

## **Issue:**

In the 5.9 Domino Standard Environment (DSE), the R Kernel is no longer installed by default for Jupyter & Jupyterlab.  If you would like to add it back use the Docker steps below.

## **Resolution:**

\# Install R Kernel for Jupyter  
RUN R -e ""install.packages('IRkernel')""  
RUN R -e ""IRkernel::installspec(user = FALSE)""  
RUN cp -R /usr/local/lib/R/site-library/IRkernel/kernelspec /home/ubuntu/.local/share/jupyter/kernels && \\  
chown -R ubuntu:ubuntu /home/ubuntu/.local/share/jupyter/kernels

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24004353567380)"
https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment,"#### _**Environment:**_

Domino Standard Environment (DSE) 5.9+

## **Issue:**

To keep the size of the 5.9 DSE manageable, Julia was removed and is no longer installed by default.  If you would like to add it back, use the docker steps below.

## **Resolution:**

##Update Julia packages

USER root  
RUN rm -rf /usr/bin/julia && \\  
cd /home/ubuntu && \\  
wget https://julialang-s3.julialang.org/bin/linux/x64/1.6/julia-1.6.7-linux-x86\_64.tar.gz && \\  
tar xzvf julia-1.6.7-linux-x86\_64.tar.gz   
RUN chown -R ubuntu:ubuntu /home/ubuntu/julia-1.6.7 && \\  
ln -s /home/ubuntu/julia-1.6.7/bin/julia /usr/bin/julia

USER ubuntu  
RUN julia -e 'using Pkg; Pkg.update(); Pkg.add(""IJulia"")'

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24004284312084)"
https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment/subscription.html ""Opens a sign-in dialog"")

There are a few methods of installing external R packages from git into your environment. One of the most common methods we see is to use the devtools package. The full docs for the devtools package can be found [here](https://github.com/r-lib/devtools), but generally you'll want to install the devtools package into your Dockerfile as shown below: 

install.packages(""devtools"")

Then install the full package: 

```
RUN R -e ""devtools::install_github(repo = ""owner/project"", host = ""https://github.com"", auth_token = ""{token}"")""
```

If you  encounter any issues using the devtools package, you can also try using the ""remotes"" package. The docs can be found [here](https://cran.r-project.org/web/packages/remotes/index.html). 

If users encounter any issues, they should reach out to their local admins. However, if the admins and users are unable to solve the issue the Domino support team will do their best to assist. 

### Recently viewed articles

*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Add R as a kernel to Jupyter & Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--8333813af72127d4cc07b6dbd4164d973b43fab0)
*   [devtools addition to Compute Environment errors when using R4.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTysIBCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk5MDMxNjc2NDA0NjgtZGV2dG9vbHMtYWRkaXRpb24tdG8tQ29tcHV0ZS1FbnZpcm9ubWVudC1lcnJvcnMtd2hlbi11c2luZy1SNC0wBjsIVDoJcmFua2kH--767da85d950a54466b82a0d894e1e28f9e15024e)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQGhLkQBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc3Njg0MTMzMDg0MzYtSG93LXRvLWluc3RhbGwtcGFja2FnZS11c2luZy1HaXQtUmVwbwY7CFQ6CXJhbmtpCA%3D%3D--dcc497f78a5e94c6e3d34541c806ebd892e686b3)
*   [I need to install a package every time I start R Studio. How do I make it permanent?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpCQ%3D%3D--2e191f83ed17b325136c643f030f57b3c353a1db)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQo%3D--7084fa6e4fff4e390af30c3590c509f9e56d6ac8)"
https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Not version specific

## **Issue:**

You've logged in and made your first project and tried to start a workspace.  One of the first choices you need to make is the 'Workspace [Environment](https://docs.dominodatalab.com/en/latest/admin_guide/bf8b6c/environments/)'.  You'll see this referred to in Domino as the 'Workspace Environment', the 'Compute Environment' and just the 'Environment' depending on the context.  These are all the same thing, in this article we'll stick to 'Environment' for brevity.

![Screenshot 2023-10-18 at 2.44.12 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/20151268030868)

Ok, but what is this? Why do I need it and where can I find one? 

## **Notes:**

A Domino environment is just a Docker image. A Docker image is a template that contains instructions for creating a Docker container.  The Docker container is where your workloads, workspaces, jobs, apps, models will actually run in Domino.  You can loosely think of the Docker image then as just the instructions that define the operating system that your execution will run on.  If you'd like to find out more about Docker containers, read [here](https://www.docker.com/resources/what-container/#:~:text=Containers%20and%20virtual%20machines%20have,are%20more%20portable%20and%20efficient.).

The environment then is a core piece of your project, your executions cannot run without one.  The images provided by Domino are all based on our [Domino Standard Environments](https://docs.dominodatalab.com/en/latest/user_guide/0d73c6/domino-standard-environments/), DSEs.  You will frequently find DSE images as the global default image in a deployment.  Every place in Domino where an execution can be initiated will also have a pull down menu to allow you to choose an environment to use.  

![Screenshot 2023-10-18 at 3.28.28 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/20151235994516)

You can also set a default environment for the project in the project settings.  This will be the pre populated environment for any execution in your project.  It can be changed per execution at any point.  You can also set a default environment for your account in your user settings.  This will be the default project environment used when you create a project.

## Creating a Custom Environment of your own

Custom environments are very easy to create on your own.  You can find in the Environments section of Domino:

![Screenshot 2023-10-18 at 3.39.46 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/20151244482196)

Domino environments must be based on Linux.  You can use any flavor of Linux you want and other Linux based images that you might find on [DockerHub](https://hub.docker.com/) or the [Nvidia NGC Catalog](https://catalog.ngc.nvidia.com/), for example.  

DSEs, based on Ubuntu Linux, are a good starting point if you want to create your own.  You will need to know some docker syntax, but not very much.  We have quite a bit of documentation on creating custom environments [here](https://docs.dominodatalab.com/en/latest/user_guide/e46d54/customize-environments/).  So I won't go in to that aspect here.

 ![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Add R as a kernel to Jupyter & Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)

### Related articles

*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR9iyAFBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHk9RTEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MjAwNjczNjAwMjAtRmlyc3QtcnVsZS1vZi1DTEktVHJvdWJsZXNob290aW5nBjsIVDoJcmFua2kG--3e5dfaf91b851ca3b2d52eb6575cff7df34e426e)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSAEpkCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHk9RTEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDkyMDQ1NzIxODAtSW5zdGFsbC1wYWNrYWdlcy1pbi10aGUtUmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBw%3D%3D--a09e9f966bb345e030823a3fb18c44c86fb6b130)
*   [dca.init() hangs on older Domino Standard Environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRqZ5lTEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHk9RTEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzIwMTUwMjY1Mjc2OTQ4LWRjYS1pbml0LWhhbmdzLW9uLW9sZGVyLURvbWluby1TdGFuZGFyZC1FbnZpcm9ubWVudHMGOwhUOglyYW5raQg%3D--a91c9dfb845c5be32038927c0cdfb1f9ac6842ba)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHk9RTEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpCQ%3D%3D--c8e389d8c2ea1b613a8cc316eb3d0b2134a1035f)"
https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions/subscription.html ""Opens a sign-in dialog"")

**Question:** 

Is there a way to access project files (code scripts, jars, or ssh keys) during docker build using Dockerfile instructions? 

**Answer:** 

Yes, you can store the files in a Domino project and access them during the build with API, 

curl --header ""X-Domino-Api-Key: ${API\_KEY}"" --header ""Content-Type: application/json"" \\
    ""${DOMINO\_URL}/v4/projects/${project\_id}/commits/head/files/${file\_name}""

Below is an example of the Dockerfile instructions with API being used to get the SAS licenses files from a Domino project files and install it during the build time: 

Compute environment is configured with environment variables that allow the Domino to execute an API call during the CE build stage and bring the SAS license file. This compute environment should be made private so only the admins have access to the license files and API keys.

![Screenshot 2023-03-22 at 12.43.15 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19693497672212)

The Dockerfile instructions below define the shell variables referencing the compute environment variables set above. 

\### Update SAS License for 2023 ###  
####Compute environments# Add Docker ARGs for each environment variable defined below  
ARG API\_KEY  
ARG DOMINO\_URL  
ARG PROJECT\_OWNER  
ARG PROJECT\_NAME  
ARG SAS\_LICENSE

\# Add jq  
RUN sudo sed 's/deb http:\\/\\/apt.postgresql.org\\/pub\\/repos\\/apt\\/ precise-pgdg main//' /etc/apt/sources.list.d/pgdg.list -i && \\  
sudo sed -i 's/precise/xenial/g' /etc/apt/sources.list.d/pgdg.list  
RUN sudo add-apt-repository --remove ""deb http://dl.bintray.com/sbt/debian /"" && sudo rm -fv /etc/apt/sources.list.d/sbt.list && sudo rm -fv /etc/apt/sources.list.d/sbt.list.save && \\  
sudo apt -y remove sbt && sudo apt -y purge sbt  
RUN sudo rm /etc/apt/sources.list.d/cuda.list && sudo apt-key remove E084DAB9 && sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 51716619E084DAB9 E084DAB9 && \\  
sudo apt-get update -y && sudo apt-get install jq file -y

\# Use the Domino REST API to get our SAS license from the ${PROJECT\_NAME} project and install it.  
RUN project\_info=$(curl --header ""X-Domino-Api-Key: ${API\_KEY}"" --header ""Content-Type: application/json"" \\  
""${DOMINO\_URL}/v4/projects?name=${PROJECT\_NAME}"") && \\  
project\_id=$(echo $project\_info | jq -r '.\[\].id') && \\  
file\_info=$(curl --header ""X-Domino-Api-Key: ${API\_KEY}"" --header ""Content-Type: application/json"" \\  
""${DOMINO\_URL}/v4/projects/${project\_id}/commits/head/files/${SAS\_LICENSE}"") && \\  
file\_key=$(echo $file\_info | jq -r '.\[\].key') && \\  
curl --header ""X-Domino-Api-Key: ${API\_KEY}"" --header ""Content-Type: application/json"" \\  
""${DOMINO\_URL}/v1/projects/${PROJECT\_NAME}/${PROJECT\_OWNER}/blobs/${file\_key}"" > /tmp/sas\_license.txt

RUN echo -e ""\\n\\n\\n/tmp/sas\_license.txt\\n\\n\\n\\n\\n"" | /usr/local/SASHome/SASDeploymentManager/9.4/sasdm.sh -console -skipadmincheck && \\  
/usr/local/SASHome/SASFoundation/9.4/utilities/bin/setuid.sh && \\  
rm -f '/tmp/sas\_license.txt'

Once the CE is built, a general-purpose SAS compute environment can be based on the above newly built CE.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [FAQ: What is the workspace environment?](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment)
*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Add R as a kernel to Jupyter & Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)

### Related articles

*   [FAQ: How can I get a file from my local machine into my compute environment Dockerfile?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCehKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTI3MS1GQVEtSG93LWNhbi1JLWdldC1hLWZpbGUtZnJvbS1teS1sb2NhbC1tYWNoaW5lLWludG8tbXktY29tcHV0ZS1lbnZpcm9ubWVudC1Eb2NrZXJmaWxlBjsIVDoJcmFua2kG--4b3f479502c267298fc5cb48baaa23bd7b025e25)
*   [""File too big to be viewed directly in browser"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSq%2B0ECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDM0NTc5NDAtLUZpbGUtdG9vLWJpZy10by1iZS12aWV3ZWQtZGlyZWN0bHktaW4tYnJvd3Nlci1lcnJvcgY7CFQ6CXJhbmtpBw%3D%3D--0076abbfad64fb1e30297449ddf2bf3212fd0c3b)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQg%3D--9ea05db64d9853492b71a7fe1d394c7a502102cf)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BkzMCCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk5MDUwNTk4ODg3ODgtSW4tcHJvamVjdHMtb3duZWQtYnktb3Jncy1yZXJ1bi1qb2JzLWZhaWwtaWYtam9icy1hY2Nlc3MtZGF0YXNldHMGOwhUOglyYW5raQk%3D--f374fb007c98057916f375e4c104d3c91df960ea)
*   [Does Domino Support a multi-tenant cluster?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQSOq1BzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzg0Nzc5MDEwOTkxNTYtRG9lcy1Eb21pbm8tU3VwcG9ydC1hLW11bHRpLXRlbmFudC1jbHVzdGVyBjsIVDoJcmFua2kK--f369da573bc9beb4cdcda833ec4f948c10b235f2)"
https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up,"How to get support bundle logs of an App: 

The App has Support Bundle logs that Domino support requests most frequently to review and resolve the App issue.

Here are the steps on how to get them:"
https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You need to run a sample Domino Code Assist (DCA) app. These steps are based on:

*   [Domino Code Assist](https://docs.dominodatalab.com/en/latest/user_guide/f7af2a/code-assist/)
*   [Load demo data with Code Assist: Palmer Penguins data](https://docs.dominodatalab.com/en/latest/user_guide/7cbb3f/load-demo-data-with-code-assist/)
*   [Publish a Code Assist App](https://docs.dominodatalab.com/en/latest/user_guide/cf2ced/publish-a-code-assist-app/)

* * *

## **Steps:**

### 1) Load the Palmer Penguins data

Create a Jupyter workspace. Create a new Python notebook.

Click on **Domino Code Assist**.

Hover over the **![assistant icon](https://tickets.dominodatalab.com/hc/article_attachments/24584495717780)** and click **Load data**. Check the **palmerpenguins** option then click **RUN**.

The required code is inserted into a notebook cell and executed immediately. The data are loaded into a new variable.

![01 Load data.png](https://tickets.dominodatalab.com/hc/article_attachments/24584495718420)

### 2) Create a scatter plot of body mass versus bill length colored by species

Hover over the **![assistant icon](https://tickets.dominodatalab.com/hc/article_attachments/24584495717780)** and click **Visualizations**.

*   For Dataframe, choose **df**
*   For Plot Type, choose **Scatter**
*   For Dimensions, choose:
    *   X-axis: **body\_mass\_g**
    *   Y-axis: **bill\_length\_mm**
    *   Color: **species**

Click **RUN**

![02 create scatterplot.png](https://tickets.dominodatalab.com/hc/article_attachments/24584495719444)

### 3) Create a cross-filter selector on island

Hover over the **![assistant icon](https://tickets.dominodatalab.com/hc/article_attachments/24584495717780)** and click **Crossfilter widgets**.

*   For Dataframe, choose **df**
*   For Widget, choose **Select**
*   For Column, choose **island (object)**
*   Toggle on: **Configurable** and **Multiple**

Click **RUN**

![03 create crossfilter widget.png](https://tickets.dominodatalab.com/hc/article_attachments/24584495721748)

### 4) Create the app

Hover over the **![assistant icon](https://tickets.dominodatalab.com/hc/article_attachments/24584495717780)** and click **App**. Toggle on the widgets. Resize and rearrange them as needed.

Click **RUN**

![04 create the app.png](https://tickets.dominodatalab.com/hc/article_attachments/24584490135060)

### 5) Preview the app

Click on **Preview App** and test the app’s functionality.

![05 Preview the app.png](https://tickets.dominodatalab.com/hc/article_attachments/24584495724308)

### 6) Deploy the app

Click on **Deploy App**, then **View app** to launch it in a browser tab. You can also copy the link to the app. 

![06 Deploy the app.png](https://tickets.dominodatalab.com/hc/article_attachments/24584490139540)![06 Your app is deployed.png](https://tickets.dominodatalab.com/hc/article_attachments/24584490147732)

![07 app is launched in browser.png](https://tickets.dominodatalab.com/hc/article_attachments/24584490148372)

* * *

**7) View from Project Apps**

From your project, go to **Apps**. From here, you can view the app settings, [view app versions and logs](https://docs.dominodatalab.com/en/latest/user_guide/bb4b24/app-logs-and-version-control/), download the support bundle, and more. 

![07 project Apps.png](https://tickets.dominodatalab.com/hc/article_attachments/24585458244756)

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24584495726228)

### Recently viewed articles

*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)
*   [FAQ: What is the workspace environment?](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment)
*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)

### Related articles

*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGIgZcFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBg%3D%3D--793100bb1651e4c8e33137a3bcfbb1c546ab8ba6)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT%2B3EspFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGIgZcFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzI0MzY2NjIyMjQ0MzcyLUhvdy10by1hY2Nlc3MtRGFzaC0yLXgtQXBwcy1mcm9tLXdpdGhpbi1hLURvbWluby13b3Jrc3BhY2UGOwhUOglyYW5raQc%3D--ff97b3705843a94123d3b25d9df8fa65250e7385)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTcDRNZFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGIgZcFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzI0NTcxODI3NTc1ODI4LUhvdy10by10ZXN0LWEtc2FtcGxlLVNwYXJrLWFwcGxpY2F0aW9uLWluLXlvdXItd29ya3NwYWNlBjsIVDoJcmFua2kI--3338ccba06b904a0efe73e20074452028ecba162)
*   [I've switched to a GPU (or CPU) hardware tier and now my workspace will not leave assigning.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTz1XPTEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGIgZcFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8xOTU5OTg3OTE3MzAxMi1JLXZlLXN3aXRjaGVkLXRvLWEtR1BVLW9yLUNQVS1oYXJkd2FyZS10aWVyLWFuZC1ub3ctbXktd29ya3NwYWNlLXdpbGwtbm90LWxlYXZlLWFzc2lnbmluZwY7CFQ6CXJhbmtpCQ%3D%3D--18e3dc4414c03c19b7748f9eb1e7f7f0bf5bcf91)"
https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support/subscription.html ""Opens a sign-in dialog"")

There are instances when you publish an APP, it will error out and you are left with but one choice-  reaching out to support for help. 

Most of the time, the Support representative will ask you for the  the error message you are getting or the App Logs. This article will show you how to get your APP LOGS.

**A. For Domino Version 3.x- 4.4**

Step 1: Go to your App and click on "" Execution Details""

Step 2: A new window on the right will show up, which contains the tabs Logs, Details and Usage. By default, logs will be showing as seen below: 

![Screen_Shot_2021-08-11_at_5.32.24_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4405026290708)

Step 3: Grab a screenshot of the logs and send it via your Support ticket. 

**B. For Domino Version 4.5 and above**

Step 1: Go to your App and click on "" Execution Details""

Step 2: On the right side you can click on the link for the ""Support Bundle"" as seen with the encircled item below:

![Screen_Shot_2021-08-11_at_5.39.43_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4405018384276)

Step 3: Download the Support Bundle and send it as requested. 

### Recently viewed articles

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)
*   [FAQ: What is the workspace environment?](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment)
*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)

### Related articles

*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRuCKABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpBg%3D%3D--be96781afe85a58e9cd42599385a16f520d8f977)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSBAxQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRuCKABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MTEyNjcxODcwOTItT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYW4tQXBwLW9uLURvbWluby1WZXJzaW9uLTQtMy11cAY7CFQ6CXJhbmtpBw%3D%3D--87d581f491ca1de5318eea4dcc089dfcd9ea98b2)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRuCKABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCA%3D%3D--aa58ab8e57ee15c7f723dbf3bd0b2ce751fdf942)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQzDBwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRuCKABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MTE0MDE5NzQ1NDgtU3luY2luZy1maWxlcy1mcm9tLXB1Ymxpc2hlZC1BcHBzBjsIVDoJcmFua2kJ--ac440b7db0bd8cd65fb2685ecc042ca9ff9b3a9c)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRuCKABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--a33e5bfc51d23511ee8889d8d237de3182231ea6)"
https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace,"#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You can [Publish your Dash App v2.x](https://docs.dominodatalab.com/en/5.9/user_guide/de2589/publish-a-dash-app/). But it doesn’t work out of the box when launched via a workspace using Jupyter Server Proxy.

The Dash app gets stuck on **Loading…**

![01 App stuck on Loading in browser.png](https://tickets.dominodatalab.com/hc/article_attachments/24366622227988)

And the Dev Tools Console shows the error: 

**Failed to load resource: the server responded with a status of 404 (Not Found)**

![02 Failed to load resource 404 Not Found.png](https://tickets.dominodatalab.com/hc/article_attachments/24366622230164)

* * *

## **Root Cause:**

This error is due to both how Dash is expecting those files to be present and how Dash requires users to add them. To fix that, you'll need the following:

1\. Create a variable that points to the absolute path of where the expected **.js** files can be found by Dash. Note the **/proxy/8887/**  in the path below. Assuming **8887** is the port that the user is hosting the app at, inside the workspace. This can generally be any port besides **8888** (used by the workspace).

prefix \= '/{}/{}/notebookSession/{}/proxy/8887/'.format(os.environ.get(""DOMINO\_PROJECT\_OWNER""),os.environ.get(""DOMINO\_PROJECT\_NAME""),os.environ.get(""DOMINO\_RUN\_ID""))

2\. Add that to the **requests\_pathname\_prefix** parameter inside the Dash constructor

app \= dash.Dash(\_\_name\_\_, requests\_pathname\_prefix \= prefix)

3\. Users can then deploy the app in the workspace and access it via this URL pattern:

https://{domino-url}/{domino-username}/{domino-project-name}/{domino-workspace-name}/notebookSession/{run-id}/proxy/{port}/

* * *

## **Resolution:**

In the following guide, we'll walk you through building a Dash environment, creating a Dash app with sample code, and then running the Dash app in a browser tab. 

### 1) Create the Dash environment

As described in [Set up a Dash Environment](https://docs.dominodatalab.com/en/latest/user_guide/de2589/publish-a-dash-app/#tr2), create a new **Domino Standard Environment Py3.8 R4.1** environment.

1\. From **Environments** > **Create environment** > **Start from a custom base image** \> paste in:

quay.io/domino/standard-environment:ubuntu18-py3.8-r4.1-domino5.1

2\. In the Description, paste in:

Ubuntu 18.04  
Mini-conda py38\_4.9.2  
Python 3.8  
R 4.1  
Jupyter, Jupyterlab, VSCode, Rstudio

3\. Click on **Customize before building.** 

4\. In the **Dockerfile Instructions**, paste in:

```
USER root

# Install the libraries we want to use in our app
RUN pip install dash==2.3.0 && \
    pip install dash-renderer==0.13.0  && \
    pip install plotly --upgrade

USER ubuntu
```

5\. In the **Pluggable Workspace Tools**, paste in: 

```
jupyter:
  title: ""Jupyter (Python, R, Julia)""
  iconUrl: ""/assets/images/workspace-logos/Jupyter.svg""
  start: [ ""/opt/domino/workspaces/jupyter/start"" ]
  httpProxy:
    port: 8888
    rewrite: false
    internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/{{#if pathToOpen}}tree/{{pathToOpen}}{{/if}}""
    requireSubdomain: false
  supportedFileExtensions: [ "".ipynb"" ]
jupyterlab:
  title: ""JupyterLab""
  iconUrl: ""/assets/images/workspace-logos/jupyterlab.svg""
  start: [  /opt/domino/workspaces/jupyterlab/start ]
  httpProxy:
    internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/{{#if pathToOpen}}tree/{{pathToOpen}}{{/if}}""
    port: 8888
    rewrite: false
    requireSubdomain: false
vscode:
  title: ""vscode""
  iconUrl: ""/assets/images/workspace-logos/vscode.svg""
  start: [ ""/opt/domino/workspaces/vscode/start"" ]
  httpProxy:
    port: 8888
    requireSubdomain: false
rstudio:
  title: ""RStudio""
  iconUrl: ""/assets/images/workspace-logos/Rstudio.svg""
  start: [ ""/opt/domino/workspaces/rstudio/start"" ]
  httpProxy:
    port: 8888
    requireSubdomain: false
```

6\. At the bottom of the page, check the box for: **Full rebuild without cache**. Then **Build.**

### 2) Create the app.sh file

Create a new project and select your new Dash environment.

In your Projects's **Code** tab, create a new **app.sh** file and paste in:

python app.py

### 3) Create the app.py file

In your Projects's **Code** tab, create a new **app.py** file and paste in the sample code:

import dash  
from dash import Dash  
from dash import dash\_table  
import pandas as pd  
import os

df \= pd.read\_csv('https://raw.githubusercontent.com/plotly/datasets/master/solar.csv')

prefix \= '/{}/{}/notebookSession/{}/proxy/8887/'.format(os.environ.get(""DOMINO\_PROJECT\_OWNER""),os.environ.get(""DOMINO\_PROJECT\_NAME""),os.environ.get(""DOMINO\_RUN\_ID""))

app \= dash.Dash(\_\_name\_\_, requests\_pathname\_prefix \= prefix)

app.layout \= dash\_table.DataTable(df.to\_dict('records'), \[{""name"": i, ""id"": i} for i in df.columns\])

if \_\_name\_\_ \== '\_\_main\_\_':  
    app.run\_server(port='8887', host='0.0.0.0')

### 4) Create a JupyterLab workspace

In the Project, create a new JupyterLab Workspace. 

In JupyterLab, open the app.py file and copy the code.

### 5) Create a Python notebook

In JupyterLab, open a new Python notebook, paste the code from the **app.py** file, then click **Run.**

The output will include the Dash URL like in this example:

![03 run app-py code in notebook and copy the URL.png](https://tickets.dominodatalab.com/hc/article_attachments/24366932670996)

### 6) Modify the URL from the output

Copy the URL from the output, e.g.  

*   [http://0.0.0.0:8887/dom-vivh-user2/viv-Dash/notebookSession/65e8e7a68f13794a496a3600/proxy/8887/](http://0.0.0.0:8887/dom-vivh-user2/viv-Dash/notebookSession/65e8e7a68f13794a496a3600/proxy/8887/)

Replace the domain name in the URL, e.g.

*   https://**sup561ab20484.support-team-sandbox.domino.tech**[/dom-vivh-user2/viv-Dash/notebookSession/65e8e7a68f13794a496a3600/proxy/8887/](http://0.0.0.0:8887/dom-vivh-user2/viv-Dash/notebookSession/65e8e7a68f13794a496a3600/proxy/8887/)

### 7) Run the app in a browser tab

Paste the new URL in a browser tab and confirm that the Dash app runs:

![04 Dash app on browser.png](https://tickets.dominodatalab.com/hc/article_attachments/24366636399892)

* * *

## **Notes/Information:**

Related articles:

*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/articles/8430827274516)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132)

### **References/Internal Records:**

*   ZD85769

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24366622233876)"
https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps/subscription.html ""Opens a sign-in dialog"")

The following guide describes how to create a React app through a Domino Workspace, manage the App's resources, and deploy it as a Domino App. 

### Create the App Structure

This example utilizes [Create React App](https://create-react-app.dev/) in a Domino workspace.

\*Note this is not the only way to create a React app; you can certainly upload an existing App to your Project as well.

If you're using a [Domino Standard Environment](https://docs.dominodatalab.com/en/latest/user_guide/0d73c6/domino-standard-environments/), the only package you need is already included! In your Domino Workspace, simply open a Terminal and run `npx create-react-app domino-react` (subbing your app name for ""domino-react"").![create-react-app_1.png](https://tickets.dominodatalab.com/hc/article_attachments/24141525818772)

This may first ask if it's ok to proceed with installing create-react-app (it is). Once that package installs, it will proceed to create your react app.

When this has succeeded, you'll notice output similar to the following:

![create-react-app_2.png](https://tickets.dominodatalab.com/hc/article_attachments/24141485847956)

This command creates the necessary React files and folder structure inside your /mnt folder.

![create-react-app_4.png](https://tickets.dominodatalab.com/hc/article_attachments/24141525824020)

You'll also notice a large number of files are now available to be synced from your Workspace. These will all need to be synced once to allow your App to run - due to the number of files, this initial sync may take a while.

![create-react-app_3.png](https://tickets.dominodatalab.com/hc/article_attachments/24141525825300)

### Starting the App

Once your React app folder/file structure is synced from your Workspace to your Project, you simply need to add an app.sh to start your App. Application domains are dynamic since they include the run ID, so this must be set at runtime and updated in the app's package.json. Here is a sample app.sh file that will accomplish this, assuming you have an existing react app named domino-react:

URL\_BASE=""https://domain.domino.tech/$DOMINO\_PROJECT\_OWNER/$DOMINO\_PROJECT\_NAME/r/notebookSession/$DOMINO\_RUN\_ID""  
HOME\_STRING=""\\""homepage\\"": \\""$URL\_BASE\\"",""  
cd domino-react/

#Set hostname to the base url for the app

if grep -F '""homepage""' package.json; then  
#replace homepage if exists  
sudo sed -i ""s|\\""homepage\\"":.\*|$HOME\_STRING|"" package.json  
else   
#add homepage if line doesn't exist  
sudo sed -i ""4i $HOME\_STRING"" package.json  
fi

#install necessary packages  
sudo npm install create-react-app  
sudo npm i web-vitals --save-dev  
sudo npm install -g serve

#Below lines run a Production Build (does not auto refresh upon changes to src)  
sudo npm run build  
serve -s build -l 8888

This code will either write a ""homepage"" line to package.json if none exists, or overwrite the existing homepage line with the app URL for the current run. 

With this app.sh, you can then Publish your App. This will take a few minutes to prepare, but once ready you can view your App:

![create-react-app_5.png](https://tickets.dominodatalab.com/hc/article_attachments/24143577801364)

### Other Considerations - Managing the App's Resources

You may have noticed when you created your app with create-react-app that there were a large number of subfolders and files created in your app/node-modules folder. While these are needed for your app, in practice you may want to exclude them from syncing during any future runs/workspace startups/etc. This can be accomplished by adding this folder to your .dominoignore file: 

![create-react-app_6.png](https://tickets.dominodatalab.com/hc/article_attachments/24143561170196)

### Recently viewed articles

*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)

### Related articles

*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPEuP0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kG--174bac3d29825cf8dd6f471932f980d83e713b24)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSHCYHSFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPEuP0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzIyODk0MzQwNTczMDc2LUxpdmUtdGVzdGluZy10aGUtU3RyZWFtbGl0LWluLURvbWluby1vbi1WU0NvZGUtd29ya3NwYWNlBjsIVDoJcmFua2kH--2e063d23cdb904b4098f085a607f65ca42fda675)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPEuP0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCA%3D%3D--a2df5a5b6bc2b163e7ebf98d665589aa86761aa9)
*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPEuP0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzQ0MTg5MzIwOTY3ODgtRmxhc2stQXBwLVNlcnZpbmctUmVhY3QtQ29kZQY7CFQ6CXJhbmtpCQ%3D%3D--5c56e02210fac57399c0590794da077204890a0d)"
https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace/subscription.html ""Opens a sign-in dialog"")

The installation or getting started with Streamlit app in Domino is listed on our knowledge-based article that can be found here [https://tickets.dominodatalab.com/hc/en-us/articles/360058039392-Getting-started-with-Streamlit-in-Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058039392-Getting-started-with-Streamlit-in-Domino), which provides the Installation, Building a Streamlit app, Live testing the Streamlit app, and Publishing the app (once development is done), but there is a slight difference on live testing the of Streamlit app on JupyterLab workspace and VSCode workspace.

We confirmed that there is only one URL pattern difference between the two.

To access and live test the Streamlit app in JupyterLab, use the URL provided below.

[https://<your-domino-url>/<your-username>/<your-project-name>/notebookSession/<run-id>/proxy/<streamlit-port>/](https://<your-domino-url>/<your-username>/<your-project-name>/notebookSession/<run-id>/proxy/<streamlit-port>/)

But for the VSCode workspace, you had to add or have /r before the /notebookSession.

[https://<your-domino-url>/<your-username>/<your-project-name>/r/notebookSession/<run-id>/proxy/<streamlit-port>/](https://<your-domino-url>/<your-username>/<your-project-name>/r/notebookSession/<run-id>/proxy/<streamlit-port>/)

### Recently viewed articles

*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)

### Related articles

*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHCYHSFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kG--b12cbc1df8b87536934f628d603975bdb2ed9f42)
*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGgaTNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHCYHSFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDgyMDA3Mi1Eb3dubG9hZGluZy1Eb21pbm8tQ0xJBjsIVDoJcmFua2kH--b1c104535c292cac6485f52e27edbc1825057a2f)
*   [""File too big to be viewed directly in browser"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSq%2B0ECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHCYHSFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDM0NTc5NDAtLUZpbGUtdG9vLWJpZy10by1iZS12aWV3ZWQtZGlyZWN0bHktaW4tYnJvd3Nlci1lcnJvcgY7CFQ6CXJhbmtpCA%3D%3D--0ce473fc249f2d4b966ca54f361ac0e489e869d5)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHCYHSFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kJ--2fea7cd8203ac82737c8a260a5cff61980423170)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRTVzBOEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHCYHSFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzIwMTI3MDI3Nzc4NDUyLUZhc3RBUEktQXBwLXdpdGgtTXVsdGlwbGUtRW5kcG9pbnRzBjsIVDoJcmFua2kK--72ea4438f65e360fa6de645d5312f2b835f968e4)"
https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment :**_

5.5.x or later

* * *

## **Issue:**

When attempting to scale up the number of instances for your model, you may need more than 32 instances. However, you cannot go beyond this number by default as there are no selections beyond 32 Instances:  
![Screenshot 2023-12-12 140214.png](https://tickets.dominodatalab.com/hc/article_attachments/21811285961236)

* * *

## **Root Cause:**

This is caused by the Central Config key which can only be seen by a Domino Admin:

com.cerebro.domino.modelmanager.instances.maximumNumber

By default, this key is always set to 32 for the Domino deployment.

* * *

## **Resolution:**

This can only be done by a Domino Admin. To increase this number, navigate to `Admin > Advanced > Central Config`:  
![](https://tickets.dominodatalab.com/hc/article_attachments/21811302351508)

Scroll down until you see the key `com.cerebro.domino.modelmanager.instances.maximumNumber` then edit the number next to it from 32 to a number that you desire:  
![](https://tickets.dominodatalab.com/hc/article_attachments/21811319101972)

Select 'Save' then restart services for this to take effect.

**Note that restarting services may impact running workloads so please make sure to inform users of the impact and instruct them to shutdown any jobs or workspaces until the restart has occurred.**

* * *

## **Notes/Information:**

Please see our documentation for further information on this Central Config key as well as others for Model API's:

[https://docs.dominodatalab.com/en/latest/admin\_guide/71d6ad/central-configuration/#tr180](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#tr180)

### Recently viewed articles

*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)

### Related articles

*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSkgwJ3EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTp81XWEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzIxNDAxODY0MjE3NjIwLVVuLXJlZ2lzdGVyLXRoZW4tcmUtcmVnaXN0ZXIteW91ci1tb2RlbC13aGVuLW1ha2luZy1jaGFuZ2VzLXRvLU1vbml0b3JpbmctQ29uZmlnLUpTT04GOwhUOglyYW5raQY%3D--49184b34755d6f771bf26705de805e661ac51ed7)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTp81XWEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBw%3D%3D--f06802540675a2e5e442145336aa443ec315dded)
*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIeqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTp81XWEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI6L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTExMS1FeHBvcnRpbmctTW9kZWwtSW1hZ2UGOwhUOglyYW5raQg%3D--03a78f1ad8c3d556c19cd00d095386023b5d8c12)
*   [Model APIs: Repeated ""400 Bad Request"" exceptions in Instance Logs when ""Show health checks"" is checked](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSwGqvPDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTp81XWEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy8xNjI4NTA5MTY3MjA4NC1Nb2RlbC1BUElzLVJlcGVhdGVkLTQwMC1CYWQtUmVxdWVzdC1leGNlcHRpb25zLWluLUluc3RhbmNlLUxvZ3Mtd2hlbi1TaG93LWhlYWx0aC1jaGVja3MtaXMtY2hlY2tlZAY7CFQ6CXJhbmtpCQ%3D%3D--be9283fd0f560acd214e9d4b88f6641b9a1e1c41)"
https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs,"## Models/Model APIs

*   [How to increase the maximum number of Model API Instances for a single Model API?](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Model Monitoring: Configuring Model Quality Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)
*   [Creating API Key on your Domino Account Settings](https://tickets.dominodatalab.com/hc/en-us/articles/12385654603668-Creating-API-Key-on-your-Domino-Account-Settings)
*   [How To Set Up Notification For Model Monitor](https://tickets.dominodatalab.com/hc/en-us/articles/12232246316820-How-To-Set-Up-Notification-For-Model-Monitor)
*   [How to Generate API Token For Model Monitor](https://tickets.dominodatalab.com/hc/en-us/articles/12231734095764-How-to-Generate-API-Token-For-Model-Monitor)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/articles/9320464773652-Change-DMM-IMM-cronjob-schedule)
*   [Invoking function exposed by a Model API via a script](https://tickets.dominodatalab.com/hc/en-us/articles/9320451281428-Invoking-function-exposed-by-a-Model-API-via-a-script)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/articles/5838503838868-What-is-the-path-in-the-URL-for-my-exported-Model-API-s-Image)
*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/articles/4417404186900-Is-there-a-limit-to-the-size-of-the-files-in-my-model-API)
*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/4411394667284-Enabling-multi-threading-in-Model-APIs)
*   [Model Invocation Settings](https://tickets.dominodatalab.com/hc/en-us/articles/360060723672-Model-Invocation-Settings)
*   [Model Access And Collaboration](https://tickets.dominodatalab.com/hc/en-us/articles/360061119131-Model-Access-And-Collaboration)
*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)
*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration)
*   [How can I programmatically tell if my code is running in a model or not?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497211-How-can-I-programmatically-tell-if-my-code-is-running-in-a-model-or-not)
*   [How do models use environment variables?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496991-How-do-models-use-environment-variables)
*   [Increase the request timeout when using jupyter-server-proxy](https://tickets.dominodatalab.com/hc/en-us/articles/360058494311-Increase-the-request-timeout-when-using-jupyter-server-proxy)
*   [How to pass multiple parameters to a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/360058039532-How-to-pass-multiple-parameters-to-a-Model-API)
*   [Deploying an H2O model as an API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/115000149063-Deploying-an-H2O-model-as-an-API-endpoint)"
https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all Domino versions.

* * *

## **Issue:**

You’ve created your [Monitoring Config JSON](https://docs.dominodatalab.com/en/latest/user_guide/bb88ca/monitoring-config-json/), which captures all the information required to [register a model](https://docs.dominodatalab.com/en/latest/user_guide/d1f8bb/register-a-model/), a prediction dataset, or a ground truth dataset. However, after making edits to the JSON, your changes aren’t reflected.

* * *

## **Root Cause:**

When you need to modify your [Monitoring Config JSON](https://docs.dominodatalab.com/en/latest/user_guide/bb88ca/monitoring-config-json/), you’ll need to first [unregister the model](https://docs.dominodatalab.com/en/latest/user_guide/c2eba7/unregister-a-model/), make the edits to the JSON, and then [register the model](https://docs.dominodatalab.com/en/latest/user_guide/d1f8bb/register-a-model/) again.

* * *

## **Resolution:**

1.  From the navigation pane, click **Models**.
2.  On the **Models** page, go to the model that you want to unregister.
3.  Click the three vertical dots at the end of the model’s row, and click **Unregister**.
4.  Click **Yes** to confirm your action. The model and its checks are removed from monitoring.
5.  Make the necessary edits to the **Monitoring Config JSON**
6.  Re-register your model.

![unregister-model.png](https://tickets.dominodatalab.com/hc/article_attachments/21401853105300)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to increase the maximum number of Model API Instances for a single Model API?](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)

### Related articles

*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTAVERfDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzE2OTAxODQyNzE0NjQ0LURlbGV0ZS1tbGZsb3ctZXhwZXJpbWVudHMtZnJvbS10aGUtRG9taW5vLVVJBjsIVDoJcmFua2kG--10b0434d7d48afbc7104348011b95664eb8faa4f)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQc%3D--9be073628d9b7198982c0ea30afddcc263dd9b8d)
*   [Model monitoring: Feature request to un-register ground truth](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQtDRqYFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzI0ODQyNTI3OTExMzE2LU1vZGVsLW1vbml0b3JpbmctRmVhdHVyZS1yZXF1ZXN0LXRvLXVuLXJlZ2lzdGVyLWdyb3VuZC10cnV0aAY7CFQ6CXJhbmtpCA%3D%3D--fec764d23c12e06f498e772cfeede3baca41c884)
*   [Downloading Folders from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQft2C5CToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzEwNjkxNzk2MjEzNTI0LURvd25sb2FkaW5nLUZvbGRlcnMtZnJvbS10aGUtRG9taW5vLVVJBjsIVDoJcmFua2kJ--a2a9e60c9182c4736494263bc2584f8e1ffd7acf)
*   [Unable to access scheduled jobs, hardware tier not found.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRCDiQBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI5NDYzOTI3MjQtVW5hYmxlLXRvLWFjY2Vzcy1zY2hlZHVsZWQtam9icy1oYXJkd2FyZS10aWVyLW5vdC1mb3VuZAY7CFQ6CXJhbmtpCg%3D%3D--663bc4822f80f00077cb7a0741a40c2f3258de7b)"
https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code,"**Subject:** Diagnostic code to run in a workspace Jupyter notebook to check the MLflow service is present and operational

import os  
import tldextract  
import requests  
import mlflow

\# standard MLflow diagnostics  
mlflow.doctor()

\# this performs basic network resolution to find the service and uses curl to check basic service operation  
namespace = tldextract.extract(os.environ\['DOMINO\_API\_HOST'\]).domain  
print(f""Kubernetes namespace: {namespace}\\n"")

\# note: DNS won't resolve in a hybrid deployment from a remote data plane  
print(f""NOTE: \*\*\*\* these lookups will not work from a remote data plane in a hybrid deploy \*\*\*\*"")  
\# make sure the Domino service exists / default page for proxy 404s  
mlflow\_service = f""mlflow.{namespace}""

print(f""Service Address lookup: {mlflow\_service}\\n"")  
! nslookup {mlflow\_service} && echo SUCCESS: Service Address Valid || echo ERROR: Failed to lookup address

print(f""\\nTest MLflow reverse proxy service health endpoint: {mlflow\_service}:5000/healthz/ready\\n"")  
! curl -vvv {mlflow\_service}:5000/healthz/ready --fail && echo SUCCESS: MLflow reverse-proxy service Healthy || echo ERROR: MLflow reverse-proxy service unhealthy

print(f""\\nRun pod jwt-tooling access-token endpoint: http://localhost:8899/access-token\\n"")  
! curl -vvv http://localhost:8899/access-token --fail --output /dev/null && printf ""\\n\\nSUCCESS: jwt-tooling token generation responsed"" || printf ""\\n\\nERROR: jwt-tooling token generation failed""

\# NOTE: based on reverse-proxy rules, there's no way to send requests to health endpoints, so send a query instead  
tracking\_uri = os.environ\['MLFLOW\_TRACKING\_URI'\]  
print(f""\\n\\nMLflow Tracking URI: {tracking\_uri}"")

exp\_search = f""{tracking\_uri}/api/2.0/mlflow/experiments/search""  
print(f""Test MLflow query through run pod: {exp\_search} \\n"")  
data = '\\'{""filter"":"""", ""max\_results"": 1}\\''  
! curl -vvv {exp\_search} -d {data} --fail && printf ""\\n\\nSUCCESS: Experiments search works"" || printf ""\\n\\nERROR: Experiments search fails""

print(f""\\n\\nTest MLflow SDK return experiment 0\\n"")  
print(mlflow.get\_experiment(""0""))

print(f""\\n\\nSimulate UI query for experiment id 1\\n"")  
#################################################################################  
\###### TODO: FOR ANYONE IN SUPPORT RUNNING THIS TEST, this value MUST be replaced  
#################################################################################  
ingress=""REPLACEME.train-sandbox.domino.tech""  
url = f""https://{ingress}/api/2.0/mlflow/experiments/get?experiment\_id=1""  
! curl -vvv {url} --header ""X-Domino-Api-Key: {os.environ\['DOMINO\_USER\_API\_KEY'\]}"" --fail && printf ""\\n\\nSUCCESS: UI request for experiment works"" || printf ""\\n\\nERROR: UI request for experiment fails""

This should print a response similar to the following

System information: Linux #1 SMP Wed Sep 6 21:15:41 UTC 2023  
Python version: 3.9.16  
MLflow version: 2.3.2  
MLflow module location: /opt/conda/lib/python3.9/site-packages/mlflow/\_\_init\_\_.py  
Tracking URI: http://localhost:8765  
Registry URI: http://localhost:8765  
MLflow environment variables:   
MLFLOW\_TRACKING\_URI: http://localhost:8765  
MLflow dependencies:   
Flask: 2.1.3  
Jinja2: 3.0.3  
alembic: 1.11.1  
click: 8.0.4  
cloudpickle: 2.2.1  
databricks-cli: 0.17.7  
docker: 6.1.3  
entrypoints: 0.4  
gitpython: 3.1.31  
gunicorn: 20.1.0  
importlib-metadata: 6.6.0  
markdown: 3.4.3  
matplotlib: 3.7.1  
numpy: 1.23.3  
packaging: 23.1  
pandas: 1.5.3  
protobuf: 3.20.3  
pyarrow: 8.0.0  
pytz: 2022.2.1  
pyyaml: 6.0  
querystring-parser: 1.2.4  
requests: 2.28.1  
scikit-learn: 1.1.2  
scipy: 1.9.2  
sqlalchemy: 1.4.48  
sqlparse: 0.4.4  
Kubernetes namespace: domino-platform

NOTE: \*\*\*\* these lookups will not work from a remote data plane in a hybrid deploy \*\*\*\*  
Service Address lookup: mlflow.domino-platform

Server: 172.20.0.10  
Address: 172.20.0.10#53

Name: mlflow.domino-platform.svc.cluster.local  
Address: 172.20.111.199

SUCCESS: Service Address Valid

Test MLflow reverse proxy service health endpoint: mlflow.domino-platform:5000/healthz/ready

\* Trying 172.20.111.199:5000...  
\* TCP\_NODELAY set  
\* Connected to mlflow.domino-platform (172.20.111.199) port 5000 (#0)  
\> GET /healthz/ready HTTP/1.1  
\> Host: mlflow.domino-platform:5000  
\> User-Agent: curl/7.68.0  
\> Accept: \*/\*  
\>   
\* Mark bundle as not supporting multiuse  
< HTTP/1.1 200 OK  
< Server: Caddy  
< Date: Mon, 30 Oct 2023 23:30:27 GMT  
< Content-Length: 0  
<   
\* Connection #0 to host mlflow.domino-platform left intact  
SUCCESS: MLflow reverse-proxy service Healthy

Run pod jwt-tooling access-token endpoint: http://localhost:8899/access-token

% Total % Received % Xferd Average Speed Time Time Time Current  
Dload Upload Total Spent Left Speed  
0 0 0 0 0 0 0 0 --:--:-- --:--:-- --:--:-- 0\* Trying ::1:8899...  
\* TCP\_NODELAY set  
\* connect to ::1 port 8899 failed: Connection refused  
\* Trying 127.0.0.1:8899...  
\* TCP\_NODELAY set  
\* Connected to localhost (127.0.0.1) port 8899 (#0)  
\> GET /access-token HTTP/1.1  
\> Host: localhost:8899  
\> User-Agent: curl/7.68.0  
\> Accept: \*/\*  
\>   
\* Mark bundle as not supporting multiuse  
< HTTP/1.1 200 OK  
< Content-Length: 1786  
<   
{ \[1786 bytes data\]  
100 1786 100 1786 0 0 51028 0 --:--:-- --:--:-- --:--:-- 51028  
\* Connection #0 to host localhost left intact

SUCCESS: jwt-tooling token generation responsed

MLflow Tracking URI: http://localhost:8765  
Test MLflow query through run pod: http://localhost:8765/api/2.0/mlflow/experiments/search

\* Trying ::1:8765...  
\* TCP\_NODELAY set  
\* connect to ::1 port 8765 failed: Connection refused  
\* Trying 127.0.0.1:8765...  
\* TCP\_NODELAY set  
\* Connected to localhost (127.0.0.1) port 8765 (#0)  
\> POST /api/2.0/mlflow/experiments/search HTTP/1.1  
\> Host: localhost:8765  
\> User-Agent: curl/7.68.0  
\> Accept: \*/\*  
\> Content-Length: 31  
\> Content-Type: application/x-www-form-urlencoded  
\>   
\* upload completely sent off: 31 out of 31 bytes  
\* Mark bundle as not supporting multiuse  
< HTTP/1.1 200 OK  
< Server: nginx  
< Date: Mon, 30 Oct 2023 23:30:27 GMT  
< Content-Type: application/json  
< Content-Length: 1362  
< Connection: keep-alive  
<   
{""experiments"":\[{""artifact\_location"":""mlflow-artifacts:/mlflow"",""creation\_time"":1696457794908,""experiment\_id"":""537"",""last\_update\_time"":1696457794908,""lifecycle\_stage"":""active"",""name"":""test-xss"",""tags"":\[{""key"":""mlflow.domino.project\_id"",""value"":""651de1f048be5634509b806a""},{""key"":""mlflow.domino.project\_name"",""value"":""manny-test""},{""key"":""mlflow.domino.environment\_id"",""value"":""64ebbf31f2308f77b8cd2fa4""},{""key"":""mlflow.domino.run\_id"",""value"":""651de31448be5634509b8073""},{""key"":""mlflow.source.git.commit"",""value"":""f2f6abcf76a56a073bf9bf7e619e6e96bc17922a""},{""key"":""mlflow.domino.hardware\_tier"",""value"":""small-k8s""},{""key"":""version"",""value"":""v2""},{""key"":""mlflow.domino.user\_id"",""value"":""6392bcfe9e3a5133532aeae2""},{""key"":""mlflow.domino.provenance\_checkpoint\_id"",""value"":""651de3aef55434783246da76""},{""key"":""mlflow.source.git.branch"",""value"":""master""},{""key"":""priority"",""value"":""P1""},{""key"":""mlflow.domino.data\_sources"",""value"":""unknown""},{""key"":""mlflow.domino.environment\_revision\_id"",""value"":""64ebbf31f2308f77b8cd2fa5""},{""key""\* Connection #0 to host localhost left intact  
:""mlflow.domino.dataset\_info"",""value"":""651de1f148be5634509b806f-651de1f148be5634509b806e""},{""key"":""mlflow.domino.user"",""value"":""integration-test""},{""key"":""mlflow.source.type"",""value"":""NOTEBOOK""},{""key"":""mlflow.domino.run\_number"",""value"":""1""},{""key"":""mlflow.user"",""value"":""integration-test""}\]}\],""next\_page\_token"":""eyJvZmZzZXQiOiAxfQ==\_\_0""}

SUCCESS: Experiments search works

Test MLflow SDK return experiment 0

<Experiment: artifact\_location='mlflow-artifacts:/1', creation\_time=1670954899753, experiment\_id='1', last\_update\_time=1670954899753, lifecycle\_stage='active', name='default-project-6392bcff9e3a5133532aeae4', tags={'domino.project': 'quick-start',  
'mlflow.domino.environment\_id': '63913cf66d2650476805c785',  
'mlflow.domino.environment\_revision\_id': '63913cf66d2650476805c787',  
'mlflow.domino.hardware\_tier': 'small-k8s',  
'mlflow.domino.project': 'quick-start',  
'mlflow.domino.project\_id': '6392bcff9e3a5133532aeae4',  
'mlflow.domino.project\_name': 'quick-start',  
'mlflow.domino.run\_number': '1',  
'mlflow.domino.user': 'integration-test',  
'mlflow.source.type': 'NOTEBOOK',  
'mlflow.user': 'integration-test'}>

Simulate UI query for experiment id 1

\* Trying 44.228.101.160:443...  
\* TCP\_NODELAY set  
\* Connected to mldemo4507.train-sandbox.domino.tech (44.228.101.160) port 443 (#0)  
\* ALPN, offering h2  
\* ALPN, offering http/1.1  
\* successfully set certificate verify locations:  
\* CAfile: /etc/ssl/certs/ca-certificates.crt  
CApath: /etc/ssl/certs  
\* TLSv1.3 (OUT), TLS handshake, Client hello (1):  
\* TLSv1.3 (IN), TLS handshake, Server hello (2):  
\* TLSv1.2 (IN), TLS handshake, Certificate (11):  
\* TLSv1.2 (IN), TLS handshake, Server key exchange (12):  
\* TLSv1.2 (IN), TLS handshake, Server finished (14):  
\* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):  
\* TLSv1.2 (OUT), TLS change cipher, Change cipher spec (1):  
\* TLSv1.2 (OUT), TLS handshake, Finished (20):  
\* TLSv1.2 (IN), TLS handshake, Finished (20):  
\* SSL connection using TLSv1.2 / ECDHE-RSA-AES128-GCM-SHA256  
\* ALPN, server did not agree to a protocol  
\* Server certificate:  
\* subject: CN=\*.train-sandbox.domino.tech  
\* start date: Aug 7 00:00:00 2023 GMT  
\* expire date: Sep 5 23:59:59 2024 GMT  
\* subjectAltName: host ""mldemo4507.train-sandbox.domino.tech"" matched cert's ""\*.train-sandbox.domino.tech""  
\* issuer: C=US; O=Amazon; CN=Amazon RSA 2048 M01  
\* SSL certificate verify ok.  
\> GET /api/2.0/mlflow/experiments/get?experiment\_id=1 HTTP/1.1  
\> Host: mldemo4507.train-sandbox.domino.tech  
\> User-Agent: curl/7.68.0  
\> Accept: \*/\*  
\> X-Domino-Api-Key: <redacted>  
\>   
\* Mark bundle as not supporting multiuse  
< HTTP/1.1 200 OK  
< Date: Mon, 30 Oct 2023 23:30:28 GMT  
< Content-Type: application/json  
< Content-Length: 1301  
< Connection: keep-alive  
< Vary: Accept-Encoding  
< Content-Security-Policy: frame-ancestors 'self' mldemo4507.train-sandbox.domino.tech \*.mldemo4507.train-sandbox.domino.tech  
< Domino-Server: nginx-ingress,  
< Strict-Transport-Security: max-age=31536000; includeSubDomains  
< X-Frame-Options: SAMEORIGIN always  
<   
{  
""experiment"": {  
""experiment\_id"": ""1"",  
""name"": ""default-project-6392bcff9e3a5133532aeae4"",  
""artifact\_location"": ""mlflow-artifacts:/1"",  
""lifecycle\_stage"": ""active"",  
""last\_update\_time"": 1670954899753,  
""creation\_time"": 1670954899753,  
""tags"": \[  
{  
""key"": ""mlflow.user"",  
""value"": ""integration-test""  
},  
{  
""key"": ""mlflow.domino.user"",  
""value"": ""integration-test""  
},  
{  
""key"": ""domino.project"",  
""value"": ""quick-start""  
},  
{  
""key"": ""mlflow.domino.project"",  
""value"": ""quick-start""  
},  
{  
""key"": ""mlflow.domino.project\_name"",  
""value"": ""quick-start""  
},  
{  
""key"": ""mlflow.domino.project\_id"",  
""value"": ""6392bcff9e3a5133532aeae4""  
},  
{  
""key"": ""mlflow.domino.hardware\_tier"",  
""value"": ""small-k8s""  
},  
{  
""key"": ""mlflow.domino.environment\_id"",  
""value"": ""63913cf66d2650476805c785""  
},  
{  
""key"": ""mlflow.domino.environment\_revision\_id"",  
""value"": ""63913cf66d2650476805c787""  
},  
{  
""key"": ""mlflow.domino.run\_number"",  
""value"": ""1""  
},  
{  
""key"": ""mlflow.source.type"",  
""value"": ""NOTEBOOK""  
}  
\]  
}  
\* Connection #0 to host mldemo4507.train-sandbox.domino.tech left intact  
}

SUCCESS: UI request for experiment works

Simple MLflow code to start a run 

```
import mlflowwith mlflow.start_run() as run:mlflow.log_param(""my"", ""param"")mlflow.log_metric(""score"", 100)
```

Above code creates a new experiment named _default-project-xxxxx_ in your project and starts a new Run in the experiment. 

![Screenshot 2023-11-28 at 3.59.24 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21346821592724)

![Screenshot 2023-11-28 at 3.59.40 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21346821603988)

![Screenshot 2023-11-28 at 3.59.54 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21346797885844)

* * *

If you have questions or need further assistance please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments,"#### _**Version/Environment (if relevant):**_

Domino < 5.8.0

* * *

## **Issue:**

When a user is a Collaborator on a project that’s owned by an organization, they have owner-level access and should be able to [log experiments using Domino’s MLflow integration, Experiment Manager](https://docs.dominodatalab.com/en/latest/user_guide/da707d/track-and-monitor-experiments/#log-experiments).

However, they run into this error when trying to create experiments:

**RestException: PERMISSION\_DENIED: user <user\_name> does not have experiment:create access to project <project-name>**

* * *

## **Root Cause:**

This is a bug due to the Experiment Manager not taking organization associations into consideration.

* * *

## **Resolution:**

The fix for this bug is tentatively targeted for the 5.8.0 release. 

* * *

### References/Internal Records:

*   DOM-49580

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You need a guide on creating your first Model API.

* * *

## **Resolution****:**

Use this step-by-step guide along with:

*   [Host Models as REST APIs](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/host-models-as-rest-apis/)
*   Model APIs section of the **Publishing in Domino** course in [Domino University](https://university.dominodatalab.com/page/domino-publishing-all-versions):

![Domino_University_-_Publishing_in_Domino_course_-_Model_APIs_section.png](https://tickets.dominodatalab.com/hc/article_attachments/15630695724052)

* * *

## **Steps:**

**1)** Confirm that you have either the **model.py** or **model.R** file that’s included in the **quick-start** project’s Domino File System (DFS):

![01_model-py_and_model-R_in_DFS.png](https://tickets.dominodatalab.com/hc/article_attachments/15630695368084)

**2)** In this guide, we’ll use the **model.py** file. Note the `my_model` function in the code, which you’ll use this later to invoke your model:

![02_model-py_use_my_model_to_invoke_function.png](https://tickets.dominodatalab.com/hc/article_attachments/15630721268628)

**3)** There are three ways to create a Model API:

**A)** From your **Project** > **Overview** > **Publish a Model as an API** section > **Publish Model**

**![03c](https://tickets.dominodatalab.com/hc/article_attachments/16488118125204)**

**B)** From your **Project** > **Model APIs** > **Create Model API**:

![03a_From_blue_nav_Model_APIs_-_Create_Model_API.png](https://tickets.dominodatalab.com/hc/article_attachments/15630695670932)

**C)** From the blue left-side navigation, choose **Model APIs** > **Create Model API**:

![03_From_blue_nav_Model_APIs_-_Create_Model_API.png](https://tickets.dominodatalab.com/hc/article_attachments/15631501544596)

**4)** Step 1 of 2:

Enter the model name and description. Select your project from the dropdown.

![04_Step_1_of_2_Model_name_description_project.png](https://tickets.dominodatalab.com/hc/article_attachments/15630721166868)

**5)** Step 2 of 2:

Under **The file containing the code to invoke****:** Select **model.py** from the dropdown

Under **The function to invoke**: type in `my_model`

Click on **Create Model**

You have options to: exclude files, choose a different environment, set a resource quota, choose the request type, and to log HTTP requests and responses to the model instance logs.

![05_Step_2_of_2_enter_file_name_and_function_to_invoke_Model_API.png](https://tickets.dominodatalab.com/hc/article_attachments/15631576460308)

**Optional checkbox:** ""Log HTTP requests and responses to model instance logs”

**6)** Click over to the **Versions** tab. The Image Building status will be **Preparing to build**:

![06_Versions_tab_-_Preparing_to_build.png](https://tickets.dominodatalab.com/hc/article_attachments/15631141472916)

**7)** Click on **View Build Logs** to view the build’s progress. 

![07_Build_logs_progress.png](https://tickets.dominodatalab.com/hc/article_attachments/15630695493524)

**8)** Under the **Version** column, click on the **Version number** to view the details. Under the 3-dot menu on the right, you have the option to cancel the version or open it in a workspace.

![08_Version_column_and_number_-_Option_to_cancel_or_open_in_workspace.png](https://tickets.dominodatalab.com/hc/article_attachments/15631405888020)

The version’s status will start out in **Pending** and will proceed to **Running** after the **Build logs** show that it’s complete. The details page includes the **Model Source** information: project, filename, model function used to invoke the model, and the environment.

![08_Version_details.png](https://tickets.dominodatalab.com/hc/article_attachments/15631342686484)

**9)** Once in the **Running** state, you can [test your code](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/host-models-as-rest-apis/#Continuous-improvement). Go to the **Overview** tab > **Tester** tab > **Send**. 

Use the Request window to make calls to the Model API from the Domino web application. You'll find additional tabs next to **Tester** with example code to call the Model API with other tools and in various programming languages.

![09_Overview_tab_-_Tester.png](https://tickets.dominodatalab.com/hc/article_attachments/15630695475348)

**10)** [Troubleshooting](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/host-models-as-rest-apis/#Troubleshooting): Check the Model API logs when your Model API fails. Check the **Logs** column for a specific Model API version to view and download these logs:

*   **Build Logs** to review everything that happened to build the image. See the build definition loaded and the metadata needed to complete the build.
*   **Export Logs** to review the export details of the Model API.
*   **Instance Logs** to review logs related to individual containers for the selected Model API instance. View all Model APIs and all containers or filter the information by Model API and container.
*   **Deployment Logs** to see a chronological order of events related to the deployment. These events include heartbeats, Jobs, deployments, and Kubernetes events. Inspect payloads that contain pod and status information. Container status information identifies where images are in the deployment and indicates their state.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)

### Related articles

*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSg0w3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQY%3D--41c6021d5f73782961166ea8bf184fa6fa6c2aa9)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSg0w3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQc%3D--8db4bf1f75e97e6b2aceefc53646b27737301972)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPsAl9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSg0w3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMjE3NDMzMS1TdXBwb3J0LVNpdGUtU2lnbi1Jbi1QbGVhc2UtVmVyaWZ5LVlvdXItRW1haWwGOwhUOglyYW5raQg%3D--8b2243509d35003737b97fec647fd877d8746850)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSg0w3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQk%3D--cc3e0fe536bb8ff6a4235132066ec3920b33ff20)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRvyX8JCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSg0w3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzExMDM1OTE0ODkxMTU2LUNvbmRhLVZpcnR1YWwtRW52aXJvbm1lbnRzLWluLUNvbXB1dGUtRW52aXJvbm1lbnRzBjsIVDoJcmFua2kK--7787898a84b0d6c69bbfc1a55b531b733bb68a71)"
https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI/subscription.html ""Opens a sign-in dialog"")

Note: This only applies to Domino deployments that are version 5.5+ and have mlflow experiments enabled

If you trained models that produced Domino experiments as noted in our [docs](https://docs.dominodatalab.com/en/latest/user_guide/3afed0/develop-models/), there may come a time when you want to remove some of those experiments from your project. 

Our engineering team is working on a UI solution to archive experiments, but in the meantime you can use the following method. 

First, open a workspace with an environment that has mlflow installed. 

Next, run the following command to in a workspace terminal to look up experiments: 

mlflow experiments search

The output should consist of something like the following: 

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/16901826699668)

Please locate the experiment you would like to delete and note the ""Experiment Id"". 

Next, type the following within the terminal: 

mlflow experiments delete --experiment-id=##

replacing the ## with the proper number of your experiment. 

From the photo above, if we wanted to delete the ""file-previews-test"" experiment our command would look like this: 

mlflow experiments delete --experiment-id=13

The system should return a confirmation of the experiment deletion. Now you can go back to your Domino project and see the experiments are also absent within the ""Experiments"" portion of your Domino project as well. 

### Recently viewed articles

*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)

### Related articles

*   [Model APIs: Repeated ""400 Bad Request"" exceptions in Instance Logs when ""Show health checks"" is checked](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSwGqvPDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAVERfDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy8xNjI4NTA5MTY3MjA4NC1Nb2RlbC1BUElzLVJlcGVhdGVkLTQwMC1CYWQtUmVxdWVzdC1leGNlcHRpb25zLWluLUluc3RhbmNlLUxvZ3Mtd2hlbi1TaG93LWhlYWx0aC1jaGVja3MtaXMtY2hlY2tlZAY7CFQ6CXJhbmtpBg%3D%3D--c462ec7a609d8b146a5b92419eb49a82f2650913)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQs2kK8EToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAVERfDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgy9oYy9lbi11cy9hcnRpY2xlcy8xOTUwMDI3MzExODM1Ni1NZW1iZXJzLW9mLW9yZ2FuaXphdGlvbi1vd25lZC1wcm9qZWN0cy1nZXQtUEVSTUlTU0lPTi1ERU5JRUQtZXJyb3Itd2hlbi10cnlpbmctdG8tbG9nLWV4cGVyaW1lbnRzBjsIVDoJcmFua2kH--2b8ed6f762a868efca45654efc4e8182c5a0e2fb)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAVERfDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kI--0df68d21578576ee7ff4175ad4b1b58db2325a8c)
*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSvNHoGBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAVERfDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzc3MjQ0MDE0NzEyNTItSS1uZWVkLXRvLWRlbGV0ZS1vbGQtam9icy1mcm9tLXRoZS1xdWV1ZS1vci1vbGQtcnVucwY7CFQ6CXJhbmtpCQ%3D%3D--b9747d04b5f6d6f3a29806347e56a543e345f77c)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAVERfDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQo%3D--2057fb16307762cb994e52b4f4d322e3f85ce623)"
https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job/subscription.html ""Opens a sign-in dialog"")

### Issue

There is a jobs API endpoint but I cannot find the Hardware Tier of the last jobs/run

### Solution

Use the runtimeExecutionDetails endpoint

#!/usr/bin/env python3  
import requests  
import os

\# Get Domino environment variables  
apiKey=os.getenv(""DOMINO\_USER\_API\_KEY"")  
owner=os.getenv(""DOMINO\_PROJECT\_OWNER"")  
project=os.getenv(""DOMINO\_PROJECT\_NAME"")  
\# URL with https:// and ends with /  
url=os.getenv(""URL"")  
\# owner=""DOMINO\_USER\_NAME""  
project=os.getenv(""DOMINO\_PROJECT\_ID"")  
\# How many jobs are returned:  
hits='1'  
\# If you want more hits, i.e. more jobs - increase hits but then you need  
\# a loop to walk through the job entries

endpoint=""v4/jobs?dominoStatsSortFieldName=None&projectId="" + project + ""&page\_size="" + hits  
jobsUrl=url + endpoint

headers = {  
'X-Domino-Api-Key': apiKey  
}

query = requests.get(jobsUrl, headers=headers)

\# print(jobsUrl)  
response=query.json()

\# Print the Job id  
jobId = response\['jobs'\]\[0\]\['id'\]  
print(""Your Job ID is: "", jobId)

endpoint = ""v4/jobs/"" + jobId + ""/runtimeExecutionDetails""  
detailsUrl = url + endpoint  
query = requests.get(detailsUrl, headers=headers)

response=query.json()

\# Print the HW Tier  
hwTier=response\['hardwareTier'\]  
hwTierId=response\['hardwareTierId'\]  
print('The Hardware tier used is:',hwTier,', id:',hwTierId)

### Did this change?

If you previously used the /runs and a beta endpoint, these may have changed. The beta endpoints are not guaranteed to persist between Domino versions. Use the 'swagger' URLs (for v1 use [public-api.json](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API) or for v4 change public-api.json to swagger.json) to confirm which API endpoints are active in your Domino Deployment.

### Applies and/or tested against

Domino 5.3.X

### Recently viewed articles

*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)

### Related articles

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ12Z4EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRxL5R1EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MTc4OTE0MTU0NDQtSm9icy1EYXNoYm9hcmQtZGlzcGxheXMtU29tZXRoaW5nLVdlbnQtV3JvbmcGOwhUOglyYW5raQY%3D--be53b29726aaa83512d9f5c3d4c98235ef3f5d70)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQplEICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRxL5R1EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0NTE3OTYtV29ya2luZy13aXRoLUdpdC1yZXBvc2l0b3JpZXMtZnJvbS10aGUtd29ya3NwYWNlLWNvbW1hbmQtbGluZQY7CFQ6CXJhbmtpBw%3D%3D--d13342ac7d5a91256e5630971afafe3002f8d753)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BjlUXEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRxL5R1EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzE5ODkxNDI4OTQ5NjUyLVJlc29sdmluZy1tZW1vcnktbGVha3MtaW4tam9icwY7CFQ6CXJhbmtpCA%3D%3D--d84aed6d935ee99140b3188bf22940d2b85673e9)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSP5GcjEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRxL5R1EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE4ODQzNzY0NTU5NzY0LUdyYWZhbmEtQWxlcnRpbmctTm9kZS1SZWFkaW5lc3MtRmxhcHBpbmcGOwhUOglyYW5raQk%3D--3263978b94a1cad9e8c2ec5831c4ed8e05dec5dc)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509125171604-Jobs,"## Jobs

*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/articles/6200474459284-Sending-emails-in-python-using-smtplib)
*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/articles/4533055047572-Scheduling-Runs-and-Jobs-using-Cron-Expression)
*   [How can I write a custom schedule?](https://tickets.dominodatalab.com/hc/en-us/articles/4401964892692-How-can-I-write-a-custom-schedule)
*   [Is there a way to run a script after every run?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496891-Is-there-a-way-to-run-a-script-after-every-run)
*   [Evolving Domino Notifications Through Instant Messaging Bots](https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots)
*   [How can I get run info for a specific run with the Domino Get-a-list-of-runs API?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API)
*   [Call Python and R in one scheduled Run](https://tickets.dominodatalab.com/hc/en-us/articles/360058493011-Call-Python-and-R-in-one-scheduled-Run)
*   [How to start a job with files and data from the past](https://tickets.dominodatalab.com/hc/en-us/articles/115000498883-How-to-start-a-job-with-files-and-data-from-the-past)
*   [Tuning and experimentation](https://tickets.dominodatalab.com/hc/en-us/articles/205032035-Tuning-and-experimentation)
*   [Speeding up your calculations](https://tickets.dominodatalab.com/hc/en-us/articles/204186949-Speeding-up-your-calculations)"
https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Applies to all versions of Domino.

* * *

## **Issue:**

When you run your [Job](https://docs.dominodatalab.com/en/latest/user_guide/942549/jobs/) in Domino, the Resource Usage graph shows that the memory is constantly increasing over the duration of the run. This indicates a [memory leak.](https://en.wikipedia.org/wiki/Memory_leak)

A typical scenario is the job fails on almost all hardware tiers and it may only be when using the largest tier that there’s enough memory for the job to complete. But the job is still using way more memory than it should. Essentially, the run keeps consuming memory and may kill the execution due to memory exhaustion. 

![job memory leak.png](https://tickets.dominodatalab.com/hc/article_attachments/19891412425492)

* * *

## **Root Cause:**

Memory leaks are usually due to using an outdated environment and outdated packages. This is often resolved by using the latest [Domino Standard Environment (DSE)](https://docs.dominodatalab.com/en/latest/user_guide/71a047/overview/#compute-environment-catalog) environment with the latest versions of all your packages, libraries, and dependencies.

You may be concerned that Domino is what's using up all the memory. For example, when you run your code on your local Windows machine, the memory usage is stable. The following helps explain why Domino isn't causing the memory leak:

*   Even though you’re using a [Domino Standard Environment (DSE)](https://docs.dominodatalab.com/en/latest/user_guide/71a047/overview/#compute-environment-catalog) for your job, there is actually no Domino running in the container that would be using up memory. The only thing running in the container is your code.
*   Comparing how your job runs on a local Windows machine versus in Domino isn't an accurate comparison because it’s comparing a Windows code base to a Linux code base. They are entirely different operating systems. Ideally, it’s best to test on a Linux machine with an Ubuntu version that matches the one in your compute environment like Ubuntu 20. If Linux is unavailable, then Mac is bit closer to Linux than Windows.
*   There may be something unique in the the Linux kernel or in the Linux versions of the packages you’re using in your environment.
    *   [Why does my computer use less memory than Domino to do the same job?](https://tickets.dominodatalab.com/hc/en-us/articles/4403909070484)
*   Memory leaks are often caused by specific packages that are either outdated or are known to cause memory leaks, e.g. both [pandas](https://pandas.pydata.org/) and [plotly](https://pypi.org/project/plotly/) are known memory leakers.  
    *   [Hunting for Memory Leaks in Python applications](https://zendesk.engineering/hunting-for-memory-leaks-in-python-applications-6824d0518774)
    *   [Analyzing Python Pandas' memory leak and the fix](https://shekharsingh.com/blog/2019/03/26/analyzing-pandas-memory-leak-issue-with-fix.html) 
    *   [BUG: Memory leak after pd.read\_csv() with default parameters](https://github.com/pandas-dev/pandas/issues/51667)
    *   [Memory leak using Pandas DataFrame](https://www.geeksforgeeks.org/memory-leak-using-pandas-dataframe/)

* * *

## **Resolution:**

1) Check what’s using up the memory and causing the memory leak. 

1.  Open up a workspace
2.  Open a terminal and locate your job's code file. Run the code.
3.  Run a `top` to see which processes are taking up the most memory. 
4.  Open a new terminal in the workspace. Run `pip freeze` to view your packages and  versions.
5.  Check if your primary packages are on the latest version. 

2) [Create a new environment](https://docs.dominodatalab.com/en/latest/user_guide/fa8137/create-an-environment/) based on the latest [Domino Standard Environment (DSE)](https://docs.dominodatalab.com/en/latest/user_guide/71a047/overview/#compute-environment-catalog).

3) In the environment's [Dockerfile Instructions](https://docs.dominodatalab.com/en/latest/user_guide/813d89/use-dockerfile-instructions/), add the latest versions of your packages, libraries, and dependencies.

4) In your project, switch to the new environment.

5) Re-run the job to see if that resolves the memory leak issue.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)

### Related articles

*   [Why does my computer use less memory than Domino to do the same job?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSOb10BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BjlUXEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDkwNzA0ODQtV2h5LWRvZXMtbXktY29tcHV0ZXItdXNlLWxlc3MtbWVtb3J5LXRoYW4tRG9taW5vLXRvLWRvLXRoZS1zYW1lLWpvYgY7CFQ6CXJhbmtpBg%3D%3D--d8e45b4ab5d8df9043ea6994730829ae164f9ba0)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BjlUXEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBw%3D%3D--c1a17949fd1f27114f7aa9efbce7a7357cc01fae)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BjlUXEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kI--15bbbb1099b5d13d56b5536755dcb30a5c896608)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BjlUXEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--04e7bf0f324b0189675935dd0d21cd8431cb0739)
*   [RStudio Memory Usage or Performance improvements](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRDc8g9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BjlUXEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzU3NjI5MTQxNDEwNzYtUlN0dWRpby1NZW1vcnktVXNhZ2Utb3ItUGVyZm9ybWFuY2UtaW1wcm92ZW1lbnRzBjsIVDoJcmFua2kK--54b139c76ee7c4e2a8f712ac3457844b88989bb5)"
https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously/subscription.html ""Opens a sign-in dialog"")

**Issue:**

A Data Scientist is using the Domino API to trigger jobs. The Central Config Setting, 

`com.cerebro.domino.computegrid.userExecutionsQuota.maximumExecutionsPerUser`

is set to 25 but the user noticed that he can only run 15 jobs simultaneously.  

**Solution:**

We might need to check for other factors that may result in the user not being able to reach that quota limit, such as 

*   Available compute resources (Node-pool autoscaler limits)
*   Possibly running apps, model API, and workspace
*   Also in the Hardware Tier configuration there's Maximum Simultaneous executions, see attached screenshot. 

Currently its not clear to a user if they hit one of these before starting a workload, and it is almost always unclear which quota they are hitting. There's a feature request Jira, DOM-45733, to add UI element letting user know when they have hit an execution quota and which one. 

If you have any further questions, please contact Domino Support at support@dominodatalab.com.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)

### Related articles

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ12Z4EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MTc4OTE0MTU0NDQtSm9icy1EYXNoYm9hcmQtZGlzcGxheXMtU29tZXRoaW5nLVdlbnQtV3JvbmcGOwhUOglyYW5raQY%3D--641626b724f92d2991af079551b35f9f92d693ce)
*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGOXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjc3MS1Vc2luZy1TQVMtaW4tRG9taW5vLUdldHRpbmctU3RhcnRlZC1hbmQtQmVzdC1QcmFjdGljZXMGOwhUOglyYW5raQc%3D--1b5b1e1280937e3aea9ea5b1e803d86026115899)
*   [My Workspace is not added to a Node. Some Nodes are 'NotReady'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgFOoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTQ4NTg2MDA1OTYtTXktV29ya3NwYWNlLWlzLW5vdC1hZGRlZC10by1hLU5vZGUtU29tZS1Ob2Rlcy1hcmUtTm90UmVhZHkGOwhUOglyYW5raQg%3D--2337a737d502cfc83452e0c6b100b66ded5adb9f)
*   [Unable to access scheduled jobs, hardware tier not found.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRCDiQBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI5NDYzOTI3MjQtVW5hYmxlLXRvLWFjY2Vzcy1zY2hlZHVsZWQtam9icy1oYXJkd2FyZS10aWVyLW5vdC1mb3VuZAY7CFQ6CXJhbmtpCQ%3D%3D--5f4b41ec94e2dbb44baba6b760e30616edbddee9)"
https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You need to know how much CPU and memory your workspace, job, or app is using. This could be because you're running into resource issues and need to switch to a larger hardware tier.

* * *

## **Root Cause:**

### Projects

Under [Project Settings](https://docs.dominodatalab.com/en/latest/user_guide/dba65c/set-project-settings/) > [Hardware & Environment](https://docs.dominodatalab.com/en/latest/user_guide/dba65c/set-project-settings/#hardware_tier) tab, the hardware tier specifies the CPU and memory available for the pods that will host your executions. It's the default hardware tier that Domino will use for all runs started in the project.

![Project_Settings.png](https://tickets.dominodatalab.com/hc/article_attachments/14069436191124)

### Executions

[Executions](https://docs.dominodatalab.com/en/latest/user_guide/4474ab/executions/) are code execution tasks assigned to a Domino executor. They include workspace sessions, jobs, and web apps. The hardware tier you select specifies the available memory and CPU for your run.

When you start an execution, it moves through several [execution states](https://docs.dominodatalab.com/en/latest/user_guide/b4cb04/execution-states/) during its lifecycle. During the **Queued** state, the execution is waiting for a machine of your specified hardware tier to become available. If one is available, it quickly leaves the **Queued** state and proceeds to the **Scheduled** state. However if no slots are available, e.g. during peak times, it can take several minutes to start up a new machine. Depending on which hardware tier you select, the container running your execution may share a host machine with other containers or run on a dedicated host. 

If you change the hardware tier, it will become the default for future runs in the project:

![Project_Settings_Hardware_Tier_availability_dropdown.png](https://tickets.dominodatalab.com/hc/article_attachments/14069839235860)

* * *

## **Resolution:**

### Workspaces

To view your workspace’s CPU and memory utilization, click on the **Usage** tab. For the Usage duration, you can select either **Last 30 minutes** or **Session Lifetime.** 

![Workspace_Usage_-_CPU_and_Memory.png](https://tickets.dominodatalab.com/hc/article_attachments/14069641054228)

*   To switch your workspace's hardware tier, go to **Settings** > **Edit Settings** > **Hardware Tier** > switch to a larger hardware tier with more CPU and/or memory. See related article: [How to check workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060)

### Jobs

To view your job’s CPU and memory utilization, go to your **Jobs** page > select the job > click on the **Resource Usage** tab. Resource usage data is retained for 15 days. 

![Job_Resource_Usage_-_Memory_and_CPU.png](https://tickets.dominodatalab.com/hc/article_attachments/14069723045140)

*   To switch your job's hardware tier, start a new run and select the new hardware tier.

### Apps

To view your job’s CPU and memory utilization, go to your **Apps** page > **App Versions** > select the version > click on the **Resource Usage** tab. Resource usage data is retained for 15 days.

![App_Resource_Usage_-_Memory_and_CPU.png](https://tickets.dominodatalab.com/hc/article_attachments/14069742833428)

*   To switch your app's hardware tier, go to your the App's **Settings** > **Hardware T****ier**:

![App_Settings_Hardware_Tier.png](https://tickets.dominodatalab.com/hc/article_attachments/14070797119892)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)

### Related articles

*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTE4l3IDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhy9oYy9lbi11cy9hcnRpY2xlcy8xNDA1NDcwODEzNTA2MC1Ib3ctdG8tdmlldy13b3Jrc3BhY2UtcmVzb3VyY2UtdXNhZ2UtYW5kLXN3aXRjaC1oYXJkd2FyZS10aWVycy13aGVuLWhpdHRpbmctbWF4LUNQVS1hbmQtbWVtb3J5LWxpbWl0cwY7CFQ6CXJhbmtpBg%3D%3D--4bec34fee0f4ae683a523a0980fa0e90c1c65c54)
*   [Is there an easy way to bulk archive projects owned by a specific user?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NjY3MS1Jcy10aGVyZS1hbi1lYXN5LXdheS10by1idWxrLWFyY2hpdmUtcHJvamVjdHMtb3duZWQtYnktYS1zcGVjaWZpYy11c2VyBjsIVDoJcmFua2kH--55be4b8c6152e2ab8dffadba4fdd602f76e736f5)
*   [What does CPU utilization greater than 100% indicate?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHemKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NjYzMS1XaGF0LWRvZXMtQ1BVLXV0aWxpemF0aW9uLWdyZWF0ZXItdGhhbi0xMDAtaW5kaWNhdGUGOwhUOglyYW5raQg%3D--2c0778a19e609e79e86f46cff119974a7f018e96)
*   [Model APIs: “TypeError: build\_error\_response() missing 1 required positional argument: 'model\_time\_ms'” error when sending a POST request](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQd%2BwwTDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoi9oYy9lbi11cy9hcnRpY2xlcy8xNDM3NTQ3MzMyMzI4NC1Nb2RlbC1BUElzLVR5cGVFcnJvci1idWlsZC1lcnJvci1yZXNwb25zZS1taXNzaW5nLTEtcmVxdWlyZWQtcG9zaXRpb25hbC1hcmd1bWVudC1tb2RlbC10aW1lLW1zLWVycm9yLXdoZW4tc2VuZGluZy1hLVBPU1QtcmVxdWVzdAY7CFQ6CXJhbmtpCQ%3D%3D--146525e9a8f8925f2b0c9abf0f15100b208616b1)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kK--5e169d0f3f99ef92936ea6cc4c307519a9ca792b)"
https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

Joseph

*   2 months ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x/subscription.html ""Opens a sign-in dialog"")

Domino support frequently requests support bundle logs from Jobs in order to review and resolve the Jobs issue.

Here are the steps on how to obtain a job support bundle when requested:

1.  Go to the project page.
2.  Navigate to the Jobs dashboard after opening your project.![Screen_Shot_2022-09-26_at_8.32.26_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9616233331220)
3.  Select the desired job by clicking on it.![Screen_Shot_2022-09-26_at_8.35.54_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9616274296212)
4.  It will then open a new window for your desired job.![Screen_Shot_2022-09-26_at_8.36.13_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9616274293652)
5.  You can now download the support bundle as requested once you are in the separate window for the desired job.![Screen_Shot_2022-09-26_at_8.33.46_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9616213628052)
6.  Support bundle logs to provide to the Domino Support Team. This will be our first file to go through to investigate the job issue.![Screenshot 2024-01-18 at 01.22.47.png](https://tickets.dominodatalab.com/hc/article_attachments/22896810971412)

**All done!**

### Recently viewed articles

*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)

### Related articles

*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kG--432388e99975163b322a3eaafe2f425887b66661)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kH--4591b48953828e833f5b2b1b6051d8666053f299)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQg%3D--354fe12874d078cfd27defd32a5247d316efcc86)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQk%3D--0bfd01af47a838926804647838d588a815445ca0)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--d0b72f362287fcc1933711ac8cef5da0c88bdb5b)

### Comments

0 comments

Article is closed for comments."
https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails/subscription.html ""Opens a sign-in dialog"")

## Problem

When domino executes a run a notification email is sent to the user letting them know the status of the run and including results output and resulting files as attachments.  There can be some use cases where the email attachments of these resulting files can be unwanted.  There is no option in the Domino UI to exclude these results files from being attached.

## Solution

In the Domino file browser of your project you will find a .[dominoignore](https://docs.dominodatalab.com/en/latest/user_guide/bfeeae/set-up-your-project-to-ignore-files/) file.  Any files added to the .dominoignore file will not be sent as attachments in the notification email.

## Root Cause

All files added to the /mnt path during your execution will be considered results and sent in the notification email. 

## Affects Versions

All

## Related Articles

[Setting Up Your Project To Ignore Some Files](https://tickets.dominodatalab.com/hc/en-us/articles/360061120071-Setting-Up-Your-Project-To-Ignore-Some-Files)

### Recently viewed articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)

### Related articles

*   [Extending an LV without moving the underlying data](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSWgVtvCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSoSa%2FHBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzkyNzQzNjk2MTE0MTItRXh0ZW5kaW5nLWFuLUxWLXdpdGhvdXQtbW92aW5nLXRoZS11bmRlcmx5aW5nLWRhdGEGOwhUOglyYW5raQY%3D--bd2022ce7009a3e2c668d8325b3e6902f94b3b87)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSoSa%2FHBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpBw%3D%3D--1d910aa1cc3f45ada944e891690f976d85b247d9)
*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQB9XNGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSoSa%2FHBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzEwMTk4MTk3Nzk3MTQwLVNhbHZhZ2luZy1hLVBWQy1GaWxlLVJlY292ZXJ5LWZyb20td2l0aGluLWEtd29ya3NwYWNlLWluLWFuLUVycm9yLXN0YXRlBjsIVDoJcmFua2kI--067121bc2d4a552b28f5eaa9ecf92ed52d6115d0)
*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQaTAFJBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSoSa%2FHBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY5MTA2MjQxNDQwMjAtRW1haWwtbm90aWZpY2F0aW9ucy1hcmUtbm90LXJlY2VpdmVkLXdoZW4tdXNpbmctU0VTLWVtYWlsBjsIVDoJcmFua2kJ--d2213448aada2b9c92b269f8f60d7652fdb1be77)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above/subscription.html ""Opens a sign-in dialog"")

Comparing changes on data is one of the key aspects that users are interested in. It enables the users to see what are the new data/changes they have from workspaces and jobs. 

Comparing jobs is still the same even in the newer versions of Domino (You can find out more from [Run comparison](https://docs.dominodatalab.com/en/4.6/reference/runs/Run_comparison.html) ). What has changed is that, with the introduction of restartable workspaces, the option on workspace comparison was taken out of the Workspace Dashboard. So the question is, how do we do it?

There is a very useful way of doing so, and this will also allow you to compare job, runs, and workspace from a single dashboard. Here are the steps. 

1\. Go to your project's Activity Dashboard (Overview > Activity).

2\. The Activity view will show you a list of activities on the project itself. That includes run jobs, scheduled jobs, and workspaces. Just simply click on the dropdown menu to filter out what you need (Workspaces, etc). 

3\. Once you have selected workspaces from the dropdown menu. Put a tick on the check box on the left side of your desired workspaces you wanted to compare. 

![Screen_Shot_2022-02-02_at_5.15.33_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4418118724756)

4\. Click on the 2 rectangular image on top just beside the Activities dropdown menu  ![Screen_Shot_2022-02-02_at_5.15.53_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4418132032532). 

5\. Once done you will see 2 columns side by side showing a comparison of the selected workspaces. 

![Screen_Shot_2022-02-02_at_5.22.30_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4418132063764)

\*\* Related Articles:

[Run comparison](https://docs.dominodatalab.com/en/4.4.2/reference/runs/Run_comparison.html?highlight=compare%20jobs#run-comparison)

[Project Activity](https://docs.dominodatalab.com/en/4.4.2/reference/projects/Projects_overview.html?highlight=activity#project-activity)

### Recently viewed articles

*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)

### Related articles

*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJclZtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjUyNjg3MS1FcnJvci13aGVuLXN0YXJ0aW5nLXdvcmtzcGFjZS1Dcml0aWNhbC1lcnJvci1pbi1ydW4tZmlsZWNhY2hlLXBhdGgtZG9lcy1ub3QtZXhpc3QGOwhUOglyYW5raQY%3D--f6e181dfb1957d72c634905bde42bd0a345d2254)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQjD1IUBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0ODUzMjI1ODA4ODQtRG9taW5vLWlzLXNsb3ctYW5kLUktc2VlLVdhaXRpbmctZm9yLWF2YWlsYWJsZS1zb2NrZXQtaW4tbXktYnJvd3NlcgY7CFQ6CXJhbmtpBw%3D%3D--9b3b2909670828dad0eb1b06c17b625ab0c96745)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCA%3D%3D--c94a15b04dc4209edde1c5565d604bda72614a0a)
*   [How to set up Zeppelin Workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIxMS1Ib3ctdG8tc2V0LXVwLVplcHBlbGluLVdvcmtzcGFjZXMGOwhUOglyYW5raQk%3D--4afbc9b00e06333f69daae5de1eac0e8edaaebbb)
*   [Error: ENOSPC: System limit for number of file watchers reached](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRZw1H3CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzk4NTgzMjE3MDEyNjgtRXJyb3ItRU5PU1BDLVN5c3RlbS1saW1pdC1mb3ItbnVtYmVyLW9mLWZpbGUtd2F0Y2hlcnMtcmVhY2hlZAY7CFQ6CXJhbmtpCg%3D%3D--3ed0e21094bc7c1f967d7490c574c04a89bf2570)"
https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags,"## Importing and Merging Tags

![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

5.7 and Above

* * *

Having multiple tags can not be avoided specially for users who has a lot of projects. These tags can be merge into one in the event a user decides to. Apart from merging Tags, this document will also show how to Import a tag.

**1\. Log in to your Deploy**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/23165339332884)**

**2\. On the left side click on the TAGS Launcher. This will in turn show you a list of tags from your deploy.** 

![Screenshot 2024-01-26 at 9.35.11 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23165332217748)

**3\. Look for the tags you need. You will have an option to use the search box on top as a filter. Use the checkbox available on the left to select multiple tags.** 

![Screenshot 2024-01-26 at 9.53.26 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23165332218388)

4\. Once you have the needed tags. Click on the merge button as shown below.   
. 

![Screenshot 2024-01-26 at 10.20.34 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23165332220692)

**_\*\*Note: The merge button is now lit._**

The next window will now ask you to rename the tags to a new one. Make sure to fill it in and click on merge at the bottom . This new tag will now show on all the projects that has the old tags. 

![Screenshot 2024-01-26 at 10.23.06 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23165339335572)

\*\* NOTES\*\*

[Setting Up Project Tags on Project Overview](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)

### Recently viewed articles

*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)

### Related articles

*   [Editing and Deleting Tags in Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSotoMRFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2F0pkRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzIzMTY0OTY4NDEzMjA0LUVkaXRpbmctYW5kLURlbGV0aW5nLVRhZ3MtaW4tVGFncy1MYXVuY2hlcgY7CFQ6CXJhbmtpBg%3D%3D--c151da6cbaab400ddb9b8e8421ce488ca37a1826)
*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZeeAmDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2F0pkRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBlC9oYy9lbi11cy9hcnRpY2xlcy8xNDQ2MDYyNjAwMDI3Ni1TcGFyay1vbi1Eb21pbm8ta2xpc3QtTm8tY3JlZGVudGlhbHMtY2FjaGUtZm91bmQtZXJyb3Itd2hlbi10cnlpbmctdG8tdXNlLUtlcmJlcm9zLXRvLWF1dGhlbnRpY2F0ZS1pbnRvLVNRTC1TZXJ2ZXIGOwhUOglyYW5raQc%3D--e9891fe74a6ad293bd0215a2b49ba508d8df96c8)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2F0pkRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzEyOTE2MTg3NTkxMDYwLVN0YXJ0aW5nLWEtam9iLWZyb20tYS1jb21taXQtSWQGOwhUOglyYW5raQg%3D--ccebd84829825cf423e70be7d05a276990230b03)"
https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

5.7 and Above

* * *

The document below outlines the steps on how to manage your tags via the Launcher. 

**1\. Log in to your Deploy**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/23164968392084)**

**2\. On the left side click on the TAGS Launcher. This will in turn show you a list of tags from your deploy.** 

![Screenshot 2024-01-26 at 9.35.11 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164968393620)

**3\. Look for the tag you need. You will have an option to use the search box on top as a filter.** 

![Screenshot 2024-01-26 at 9.53.26 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164968396052)

![Screenshot 2024-01-26 at 9.59.10 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164968396564)\*\*Note, the tag has 1 project associated with it.  

4\. Once you have the needed tag. You will now have the option to ""Edit or Delete"" it

![Screenshot 2024-01-26 at 10.01.37 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164946995604)

\*\*I have now edited the tag changing the number at the end from 1 to 2. This tag automatically changes the tag on the project overview page and when you click on the tag itself![Screenshot 2024-01-26 at 10.04.04 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164968400532). 

![Screenshot 2024-01-26 at 10.04.46 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164946999060)

5\. If you want to Delete the tag, just click on delete and it will open a prompt window similar to the one below. You will just need to confirm the deletion. 

![Screenshot 2024-01-26 at 10.06.29 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164946999700)

\*\* NOTES\*\*

[Setting Up Project Tags on Project Overview](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)

### Recently viewed articles

*   [Importing and Merging Tags](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)

### Related articles

*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTAuSOeFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSotoMRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzIyNjY5NDM2NzY0MzA4LUNyZWF0aW5nLXlvdXItb3duLXdlYi1BUEktd2l0aC1hLVBsdW1iZXItQXBwBjsIVDoJcmFua2kG--544b8576b7d9767c34f4c321e15da12f18bd4907)
*   [Adding Project Tags Using Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSNTWMRFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSotoMRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzIzMTY0NDI0NjU0MTAwLUFkZGluZy1Qcm9qZWN0LVRhZ3MtVXNpbmctVGFncy1MYXVuY2hlcgY7CFQ6CXJhbmtpBw%3D%3D--871fba8b740793ea434f2ad1fcaf5f90b1538b9e)"
https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

5.7 and Above

* * *

The document below outlines the steps on how to add project tags via the Tags Launcher. Project tags helps in organizing your projects. 

**1\. Log in to your Deploy**

**![Screen](https://tickets.dominodatalab.com/hc/article_attachments/23164434485780)**

**2\. On the left side click on the TAGS Launcher. This will in turn show you a list of tags from your deploy.** 

![Screenshot 2024-01-26 at 9.35.11 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164434487828)

**3\. Click on the New Tag Button and a new blank row will appear. You would just need to fill it in and click on save. It will now appear on the list of tags . Make sure you the tick box for approved is checked.** 

![Screenshot 2024-01-26 at 9.39.22 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23164424637332)

 4. The tag is now available for use for your projects. You can add them using the steps at [Setting Up Project Tags on Project Overview](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)

### Recently viewed articles

*   [Editing and Deleting Tags in Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher)
*   [Importing and Merging Tags](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)

### Related articles

*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNTWMRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQY%3D--f156afce5a1ac58b5c2b96917bf5d176b4d42ab5)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRoXHWYEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNTWMRFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzIxNTQ1NTI0OTQ3MDkyLUhvdy10by11cGRhdGUtVlNDb2RlLXRvLWEtbmV3ZXItdmVyc2lvbi1pbi1Eb21pbm8tNS04LW9yLWhpZ2hlcgY7CFQ6CXJhbmtpBw%3D%3D--f32ab3e971f92a4928036f3faf288027763e06d6)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23164424654100-Adding-Project-Tags-Using-Tags-Launcher) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/sections/21773764089620-Launchers,"## Launchers

*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)
*   [Populating the path from the project files in Domino Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher)"
https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys,"## Understanding SSH Keys

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys/subscription.html ""Opens a sign-in dialog"")

**1\. What are SSH Keys**

SSH keys are a pair of cryptographic keys used to authenticate connections with remote servers or services. They are made up of a public and private key:

*   The public key can be freely shared with any server that you choose to connect to. It's used to encrypt communications so that only your private key can decrypt them.
*   On your local system, the private key must be kept hidden and safe. It's used to decipher communications encrypted using your public key.

By using the above SSH connections can be formed without relying on passwords alone by employing a public-private key combination. The private key establishes ownership of the connection, but the public key facilitates the encrypted communication.

**2\. How SSH Keys Work**

Here's a quick rundown of how SSH keys work with authentication:

1.  You generate a key pair on your local system; the private key is kept secret, but the public key can be shared.
2.  You copy the public key to any remote server that you wish to connect to. The public key is saved in the directory /.ssh/authorized\_keys.
3.  When you use SSH to connect to the remote server, your private key encrypts a message that can only be decoded by the public key of the remote server. This acts like a confirmation that you have the correct private key.
4.  An encrypted SSH session is formed if authentication is successful. Any data sent is encrypted with the use of temporary session keys.

This enables simple password-less logins, while also protecting connections from prying eyes or other malicious activity.

**3\. Generating SSH Keys**

To generate a new SSH key pair on Linux or Mac, you can use the `ssh-keygen` command. Below is an example generating a 4096-bit RSA key:

ssh-keygen -t rsa -b 4096

To safeguard the private key, you will be asked to specify a file location and a password:

\> Enter file in which to save the key (/home/abdul/.ssh/id\_rsa):   
\> Enter passphrase (empty for no passphrase):   
\> Enter same passphrase again:

This will generate a public and private key pair in the specified location (i.e. `id_rsa` and `id_rsa.pub`).

## **4\. Using SSH Keys**

## To use your SSH keys to connect to a remote server:

*   Manually or with ssh-copy-id, copy your public key to the remote server. This adds your key to the list of authorised keys in **.ssh/authorized\_keys** in you home directory.

ssh-copy-id -i ~/.ssh/id\_rsa.pub remote\_username@remote\_server 

*   Connect to the server via ssh, using the -i option to give the private key path:

ssh -i ~/.ssh/id\_rsa user@remote\_server

*   You will be able to log in without inputting a password if the keys are valid. All communication from here on out will be encrypted automatically.

![domino logo.png](https://tickets.dominodatalab.com/hc/article_attachments/19908286019732)

### Recently viewed articles

*   [Downloading audit logs that has project permission changes.](https://tickets.dominodatalab.com/hc/en-us/articles/20495926267924-Downloading-audit-logs-that-has-project-permission-changes)
*   [Adding Project Tags Using Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher)
*   [Editing and Deleting Tags in Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher)
*   [Importing and Merging Tags](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)

### Related articles

*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7kEbEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyOTY5MzgyNjAtLWxvZzRqLXplcm8tZGF5LXZ1bG5lcmFiaWxpdHkGOwhUOglyYW5raQY%3D--935e7252f62154181ce185db8b922a22d73f96e3)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7kEbEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQc%3D--15b7258760330a8ad16fd8d31a424802025c6122)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7kEbEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kI--571d0454470cfc9938a93e5b62b597e3469483ba)
*   [Changing the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIcxrNFTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7kEbEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDAwMDAwODU4My1DaGFuZ2luZy10aGUtdGltZXpvbmUtb24teW91ci1leGVjdXRvcnMGOwhUOglyYW5raQk%3D--f4cde72f7a41ece6c477755ebb5da8692edb0acf)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0aO3UFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7kEbEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzI0MDA0MjYwMzEyMjEyLVJlLWFkZC1KdWxpYS10by01LTktRG9taW5vLVN0YW5kYXJkLUVudmlyb25tZW50BjsIVDoJcmFua2kK--b0d6cedb502ff132f56c1b0cd810104e86b89747)"
https://tickets.dominodatalab.com/hc/en-us/articles/20495926267924-Downloading-audit-logs-that-has-project-permission-changes,"Submitted by Gener Joseph Tomas

Please follow these to download audit logs that includes project permission changes of your specific project.

1) Sign in to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/20495918083220)

2) Navigate to ""Projects"" Tab

![Screenshot 2023-10-31 at 21.25.43.png](https://tickets.dominodatalab.com/hc/article_attachments/20495926256532)

3) Select the specific project you want to audit.

![Screenshot 2023-10-31 at 21.26.07.png](https://tickets.dominodatalab.com/hc/article_attachments/20495943307668)

4) Navigate to project ""Settings""

![Screenshot 2023-10-31 at 21.26.36.png](https://tickets.dominodatalab.com/hc/article_attachments/20495918090388)

5) Navigate to ""Access & Sharing""

![Screenshot 2023-10-31 at 21.27.11.png](https://tickets.dominodatalab.com/hc/article_attachments/20495926262164)

6) Look for ""Collaborators and Permissions"" and you should be able to see ""Download Audit Log"" and click it.

![Screenshot 2023-10-31 at 21.27.34.png](https://tickets.dominodatalab.com/hc/article_attachments/20495943312020)

Sample Audit Logs:

![Screenshot 2023-10-31 at 21.28.09.png](https://tickets.dominodatalab.com/hc/article_attachments/20495918093588)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)
*   [Populating the path from the project files in Domino Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher)

![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python/subscription.html ""Opens a sign-in dialog"")

**Environment  
**This article applies for all Domino platform versions.

**Issue  
**The following python code can be used to extract the username of the user running a launcher in Domino. This is different from accessing the username for Domino Apps, for this please refer to the following [article](https://tickets.dominodatalab.com/hc/en-us/articles/360061119231-How-To-Get-The-Domino-Username-Of-An-App-Viewer) . 

**Resolution**

In the example below we are using variable ""DOMINO\_STARTING\_USERNAME"" which contains the user who began the run. 

```
import osDOMINO_STARTING_USERNAME=os.environ['DOMINO_STARTING_USERNAME']print(DOMINO_STARTING_USERNAME)
```

### Recently viewed articles

*   [Understanding SSH Keys](https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys)
*   [Downloading audit logs that has project permission changes.](https://tickets.dominodatalab.com/hc/en-us/articles/20495926267924-Downloading-audit-logs-that-has-project-permission-changes)
*   [Adding Project Tags Using Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher)
*   [Editing and Deleting Tags in Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher)
*   [Importing and Merging Tags](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags)

### Related articles

*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDCYddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpBg%3D%3D--1dc0d41d285fce8d3afa7edf45af7ee63b5fce55)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAOnKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDCYddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njc3MS1Ib3ctY2FuLUktYmVzdC1zaGFyZS1teS1MYXVuY2hlcgY7CFQ6CXJhbmtpBw%3D%3D--60dcb70e603bf325cb8643c7acb9c41a60a0a5d1)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTb1eOCCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDCYddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzExNTU3Mjg0NDY5NTI0LUhvdy10by11c2UtdGhlLWRvbWluby1DTEktdXBsb2FkLWRhdGFzZXQtY29tbWFuZAY7CFQ6CXJhbmtpCA%3D%3D--6091dc0d57d0ac75f60e6dc65298bceb74f7a8b7)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDCYddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQk%3D--3dae381ede82348430120320a9df4ebc430a4191)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDCYddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kK--0a57e57dcede569912a67cc44aaa487a939f3eb2)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F6998767239956-Extract-username-from-launcher-runs-in-Python) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher,"_""Can my colleague access my Launchers even if they don't have a Domino account?""_

Your colleagues will need to have a Domino account to access your Launcher, though you can set their role to only ""Launcher User"" if you'd like (using the Access and Sharing tab under Settings)."
https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher,"Autocomplete for files is not currently available in Launchers. However, if the number of files is small you could create a dropdown parameter and add all of the file options that way"
https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project,"#### _**Version:**_

Domino 5.x

## **Issue:**

If the credentials to your git repository that your git based project is built on how can they be updated in your project?

## **Resolution:**

This is a two step process. 

1.  Enter the new credentials in your Domino user's personal settings.  The steps are documented [here](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/#_option_2_personal_access_token_creation) if you are unfamiliar with the process.

2\. There should be a similar entry as below in your Domino user's account settings.

![Git credentials panel SSH](https://docs.dominodatalab.com/images/4.x/git-credentials-panel-ssh.png)

At this point, go back to your project and in the code section of your project select the new credentials.  Once you restart your workspace, the new credentials will be used to access the repository.

![Screenshot 2023-10-31 at 2.01.04 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/20511303476756)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509058167572-Git-Integration,"## Git Integration

*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)
*   [Can the Git repo that a Domino Git backed project is based on be changed?](https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)
*   [How to use requirements.txt file for git based projects](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [Changes to an existing workspace cannot be synced to a project's new linked Git repository](https://tickets.dominodatalab.com/hc/en-us/articles/4407628446612-Changes-to-an-existing-workspace-cannot-be-synced-to-a-project-s-new-linked-Git-repository)
*   [Adding a new Git Repository to your project using Personal Access Token (PAT)](https://tickets.dominodatalab.com/hc/en-us/articles/4406388940436-Adding-a-new-Git-Repository-to-your-project-using-Personal-Access-Token-PAT)
*   [Does Domino support GIT LFS?](https://tickets.dominodatalab.com/hc/en-us/articles/4402121510676-Does-Domino-support-GIT-LFS)
*   [How do I ensure a Python package from a private repo is usable in both runs and models?](https://tickets.dominodatalab.com/hc/en-us/articles/360058042992-How-do-I-ensure-a-Python-package-from-a-private-repo-is-usable-in-both-runs-and-models)
*   [How to add a git repository with a custom ssh port](https://tickets.dominodatalab.com/hc/en-us/articles/360058496251-How-to-add-a-git-repository-with-a-custom-ssh-port)"
https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 4.4 and above

## **Issue:**

Once a Domino git based project is created, the Git code repository it is based on cannot be changed from the Domino UI. 

Git based projects also cannot be converted to a regular Domino File System projects.

## **Resolution:**

If you made an error creating your project, simply archive the current project from the project settings and create a new project with the correct Git Repo information.  If you have a use case that makes a new project particularly difficult, as in impact to difficult to change upstream workflows, the repo can be updated via the mongo database.  Note that edits to the mongodb are inherently dangerous and this is not recommended unless a new project is really problematic.  Reach out to Domino Support if you have questions.

## **Notes/Information:**

There is a feature request to allow the repo backing the git repository to be changed with engineering.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)
*   [Populating the path from the project files in Domino Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)
*   [Understanding SSH Keys](https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys)

### Related articles

*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kG--fc0b9adabb8b103d2dba1214ffc08fbc0641bc28)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQc%3D--58d454f4d68dca044ff06de13fa12e1582c37b14)
*   [New GIT repo not added to durable workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSLlZGYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzgzNTE4NTg5MjAzNDAtTmV3LUdJVC1yZXBvLW5vdC1hZGRlZC10by1kdXJhYmxlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCA%3D%3D--398a84ce39539521dd8a1f966da48008cee49e17)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kJ--0dbbefbdae83adc90e9039da01789bcc490f52a6)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kK--6b610e8b62fe77d7414d5b6677600f1c2757835d)"
https://tickets.dominodatalab.com/hc/en-us/articles/12633059560084-Upgrade-fails-with-errors-about-statefulsets,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12633059560084-Upgrade-fails-with-errors-about-statefulsets/subscription.html ""Opens a sign-in dialog"")

## Problem

During an upgrade, messages about statefulset or spec and Forbidden:

Error: UPGRADE FAILED: release docker-registry failed, and has been rolled back due to atomic being set: cannot patch ""docker-registry"" with kind StatefulSet:StatefulSet.apps ""docker-registry"" is invalid: spec: Forbidden: updates to statefulset spec for fields other than 'replicas', 'template', 'updateStrategy', 'persistentVolumeClaimRetentionPolicy' and 'minReadySeconds' are forbidden

## Resolution

Ensure your domino.yaml file is accurate, as a difference between the current system and the installers 'default' domino.yaml may cause these errors. This can happen if you are rebuilding the domino.yaml file and leave out any unique setting.

You should migrate your old config yaml file using the installer methods as explained here:

docker run --rm -v $(pwd):/install quay.io/domino/fleetcommand-agent:v58 \\  
init --file /install/domino.yml -t /install/your\_old\_domino.yml

Check out [https://docs.dominodatalab.com/en/5.3/admin\_guide/5765ba/installation-overview/#\_init](https://docs.dominodatalab.com/en/5.3/admin_guide/5765ba/installation-overview/#_init) for more info. 

Note the old services field has been replaced by release\_overrides, please refer the following documentation :  
[https://docs.dominodatalab.com/en/latest/admin\_guide/559046/fleetcommand-agent-release-notes/#\_new\_installer\_configurations](https://docs.dominodatalab.com/en/latest/admin_guide/559046/fleetcommand-agent-release-notes/#_new_installer_configurations)

### Recently viewed articles

*   [Can the Git repo that a Domino Git backed project is based on be changed?](https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed)
*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)
*   [Populating the path from the project files in Domino Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)

### Related articles

*   [FailedMount event ""efs.csi.aws.com not found in the list of registered CSI drivers""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQZAnrBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzE1MTI0NjI2ODA3MTg4LUZhaWxlZE1vdW50LWV2ZW50LWVmcy1jc2ktYXdzLWNvbS1ub3QtZm91bmQtaW4tdGhlLWxpc3Qtb2YtcmVnaXN0ZXJlZC1DU0ktZHJpdmVycwY7CFQ6CXJhbmtpBg%3D%3D--a9c186af7b9714d1fa17927dc6df1a98ac9a6cd7)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kH--155da1fd223660bafb0d2c345b19a2cce4cdf815)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--e40b4f065b068dd7fd76a9fdec972273d1de324b)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQk%3D--26e0bc81521c159a6a0f85c350b773f25bbe7127)
*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmrAAsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiy9oYy9lbi11cy9hcnRpY2xlcy80NTg3MDM2MzU0MTk2LU51Y2xldXMtU2VydmljZXMtV2lsbC1Ob3QtU3RhcnQtRHVlLXRvLUZhaWxpbmctUmVwbGljYXRpb24taW4tTW9uZ29EQi1FcnJvci13aGlsZS1pbml0aWFsaXppbmctdGhlLWluZGV4ZXMGOwhUOglyYW5raQo%3D--0fda49874f37269f3d7e4735fbd92e764c7285d8)"
https://tickets.dominodatalab.com/hc/en-us/articles/12632440069268-During-an-upgrade-Ingress-errors-are-seen-and-the-installation-stops,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12632440069268-During-an-upgrade-Ingress-errors-are-seen-and-the-installation-stops/subscription.html ""Opens a sign-in dialog"")

## Problem

The installation logs contain a number of references to Ingress and appear connected to certain helm charts

## Resolution

Identify the helm charts by running a describe on the ingress which fail, i.e.

```
$ kubectl -n domino-platform describe ingress | grep helm...
```

From your bastion or installation node, run **helm list**, you should be able to associate the results from the installer, kubectl output to the helm charts in your list.

Use the helm uninstall command to remove those charts and then retry your installation.

From your installation log you can also see the old vs new and confirm you are removing the 'old' version.

Alternatively install this helm plugin: [https://github.com/helm/helm-mapkubeapis](https://github.com/helm/helm-mapkubeapis)

## Root cause

The method of tagging helm can cause issues on self-installed and sandboxed Domino Deployments and failed attempts to upgrade. The prior API release may be deleted on the first upgrade attempt, with the recourse listed above, to delete those items manually on the retry.

### Recently viewed articles

*   [Upgrade fails with errors about statefulsets](https://tickets.dominodatalab.com/hc/en-us/articles/12633059560084-Upgrade-fails-with-errors-about-statefulsets)
*   [Can the Git repo that a Domino Git backed project is based on be changed?](https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed)
*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)
*   [Populating the path from the project files in Domino Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)

### Related articles

*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSoEOY6CjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRcGjh9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzExMjQ4MDg0MjMyMjEyLVByb21ldGhldXMtZmFpbHMtd2hlbi11cGdyYWRpbmctdG8tNS0zLXgGOwhUOglyYW5raQY%3D--b5c658638f08d97f8d2e3b3bfc8f7e963d7894fa)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6cLTBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRcGjh9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE1MTI1NjA3MTAzMTI0LWZhaWxlZC10by1wdWxsLWltYWdlLTYwMjQwMTE0MzQ1Mi1ka3ItZWNyLXVzLWVhc3QtMS1hbWF6b25hd3MtY29tLWVrcy1wYXVzZS0zLTUGOwhUOglyYW5raQc%3D--f0842a0c570c3bb06519cca8679c92c3e9782be0)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRcGjh9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCA%3D%3D--1f22a559d40251c74d58610d20211572309d795c)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSh7xodEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRcGjh9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzE5OTE2MjE1MjYzNTA4LVNldHRpbmctdXAtQ29zdC1CdWRnZXRzLUFsZXJ0cwY7CFQ6CXJhbmtpCQ%3D%3D--14f833367c55885108f197ec59ccc33e90e5bdc7)
*   [Workspaces, jobs and apps failing after Domino upgrade](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRcGjh9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE5Njc4NDUyNTI5MDQ0LVdvcmtzcGFjZXMtam9icy1hbmQtYXBwcy1mYWlsaW5nLWFmdGVyLURvbWluby11cGdyYWRlBjsIVDoJcmFua2kK--6ccb80466f90660725cc28f988d936abc75d8cb1)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fcategories%2F360000081666&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit,"## Admin Toolkit

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit/subscription.html?subscribe_to_grandchildren=true)

Runbooks for checks and tests from the Admin Toolkit.

*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)
*   [test\_mongodb.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13016256769940-test-mongodb-py-Runbook)"
https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge/subscription.html ""Opens a sign-in dialog"")

## Problem

During an upgrade, the results indicate a secret is not present.

I have a problem where the upgrade is stuck on or failing to install rabbit. kubectl describe on the pending pods may include:

WarningFailed3m45s (x12 over 5m52s)kubeletError: secret ""rabbitmq-ha.forge"" not found

## Resolution

Try to create the secret. This is an example of a yaml file for this secret:

`$ kubectl get secret -n domino-platform rabbitmq-ha.forge -o yaml   apiVersion: v1   data:   rabbitmq-password: BaseEncodedPassword # generate with echo newpassword |base64 ; echo   rabbitmq-username: Zm9yZ2U= # This maps to 'rabbitmq'   kind: Secret   metadata:   creationTimestamp: ""2023-01-05T15:54:43Z""   name: rabbitmq-ha.forge   namespace: domino-platform   resourceVersion: ""3801""   uid: Random string # probably skip this    type: Opaque`

Create this file - applying a new password and remove the uid line, kubectl apply -f <file>, namespace may be required although it is included in the file.

## Root cause

This is seen in sandboxed environment with no know reason why this as been lost. The secret will be read later by the rabbitmq deployment.

### Related articles

*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRrWw19CzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzEyNjMxNzIyOTEyNjYwLVNlbGYtdXBncmFkZS1mYWlsZWQtd2l0aC1lcnJvcnMtZm9yLWV4ZWN1dGlvbnMtbG9nYmFjay1jb25maWcGOwhUOglyYW5raQY%3D--9ac860bce6ccd1b7df0bd5e5a7cbbf7e81630b89)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kH--fc0d5e818b7cf4fbc3d263dabd0def2bb4126843)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0cpdyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy83MDg5MjM2OTE1MzQ4LVJzdHVkaW8tcGxvdC1mdW5jdGlvbnMtZmFpbC13aXRoLVItZ3JhcGhpY3MtZW5naW5lLXZlcnNpb24tMTUtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpCA%3D%3D--f7807ceb7924477cd6aad75fa20ecab10f6a68a5)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQk%3D--0cc7b584740fdfb2bf4eed8bc2a452ef33277faa)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT5JG8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUxOTE0NDQtUmVzdGFydGluZy1Gcm9udGVuZC1EaXNwYXRjaGVyLVJhYmJpdE1RLWxvZ3Mtb24tRG9taW5vLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--97a89745ef544f683dce60bbe1bad61f54454a8c)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206666-User-Management,"## User Management

*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [Practitioner role not visible for Data Analyst users](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users)
*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [Adding members in the Organization via Admin Access](https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access)
*   [How do I create an organization in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/17116162101012-How-do-I-create-an-organization-in-Domino)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)
*   [Admin Users Console: Total active users](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users)
*   [Resetting a user's account when they're using SAML/SSO via keycloak](https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak)
*   [When deactivating a Domino user, what happens to their Projects and Executions?](https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions)
*   [Unable to Deactivate user from Admin UI page](https://tickets.dominodatalab.com/hc/en-us/articles/10492169969300-Unable-to-Deactivate-user-from-Admin-UI-page)
*   [User could not be (de)activated: Access token for current user not found](https://tickets.dominodatalab.com/hc/en-us/articles/10018006097172-User-could-not-be-de-activated-Access-token-for-current-user-not-found)
*   [What does the 'Domino Employee' setting do in the Admin>>User Dashboard?](https://tickets.dominodatalab.com/hc/en-us/articles/9706310341140-What-does-the-Domino-Employee-setting-do-in-the-Admin-User-Dashboard)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set)
*   [Switching Domino Users Roles](https://tickets.dominodatalab.com/hc/en-us/articles/9020763375124-Switching-Domino-Users-Roles)
*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/articles/7370960701204-How-to-create-a-new-Organization-in-your-Domino-deployment)
*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/6984526511892-How-to-logout-or-end-a-user-s-user-session-from-Domino)
*   [When Does Domino Set A User as Inactive?](https://tickets.dominodatalab.com/hc/en-us/articles/6037122916500-When-Does-Domino-Set-A-User-as-Inactive)
*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/articles/6012008324500-Deactivation-of-a-user)
*   [How can I assign a hardware tier to an organization?](https://tickets.dominodatalab.com/hc/en-us/articles/4410143508244-How-can-I-assign-a-hardware-tier-to-an-organization)
*   [Can I restrict users from scheduling workloads or creating launchers?](https://tickets.dominodatalab.com/hc/en-us/articles/4407007113108-Can-I-restrict-users-from-scheduling-workloads-or-creating-launchers)
*   [What is a Lite User/LightUser?](https://tickets.dominodatalab.com/hc/en-us/articles/4406633906708-What-is-a-Lite-User-LightUser)
*   [Activating Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/4402813002388-Activating-Two-Factor-Authentication)
*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4402812797460-Changing-Account-Information-on-4-x)
*   [Username Changes in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4402327573140-Username-Changes-in-Domino)
*   [How do I add a new user?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497271-How-do-I-add-a-new-user)
*   [How do I delete organizations in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496951-How-do-I-delete-organizations-in-Domino)
*   [User Activity Report](https://tickets.dominodatalab.com/hc/en-us/articles/360058041132-User-Activity-Report)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups)
*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization)"
https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)
*   [test\_mongodb.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13016256769940-test-mongodb-py-Runbook)

## test\_ecd\_health.py | Runbook

![](https://secure.gravatar.com/avatar/dab2d9fb5cdc60c968e7d619e1a8d677?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook/subscription.html ""Opens a sign-in dialog"")

From the CLI you can run the pytest file on its own:

\> ./toolkit.sh pytest checks/test\_etcd\_health.py

The test file contains a check to expect the health of the ETCD cluster.

## Checks

*   [test\_domino\_etcd\_health](#h_01GW06NMMH0ZWER8QJN3HKAWYZ)
    *   [Troubleshooting](#h_01GW07YCTJFXX5Q66WD9ED5PGB)

## test\_domino\_etcd\_health

Ensures that ETCD is working properly

## Troubleshooting

*   Check etcd Members on all Nodes
    
    *   docker exec etcd etcdctl member list
        
    *   Example output:
        *   xxx, started, etcd-xxx, [https://IP:2380,](https://IP:2380,) [https://IP:2379,https://IP:4001](https://IP:2379,https://IP:4001)  
            xxx, started, etcd-xxx, https://IP:2380, [https://IP:2379,https://IP:4001](https://IP:2379,https://IP:4001)  
            xxx, started, etcd-xxx, https://IP:2380, https://IP:2379,https://IP:4001
            
*   Check Endpoint Status
    
    *   docker exec -e ETCDCTL\_ENDPOINTS=$(docker exec etcd /bin/sh -c ""etcdctl member list | cut -d, -f5 | sed -e 's/ //g' | paste -sd ','"") etcd etcdctl endpoint status --write-out table
        
    *   Example output:
        *   +-----------------+------------------+---------+---------+-----------+-----------+------------+  
            | ENDPOINT | ID | VERSION | DB SIZE | IS LEADER | RAFT TERM | RAFT INDEX |  
            +-----------------+------------------+---------+---------+-----------+-----------+------------+  
            | https://IP:2379 | 333ef673fc4add56 | 3.2.18 | 24 MB | false | 72 | 66887 |  
            | https://IP:2379 | 5feed52d940ce4cf | 3.2.18 | 24 MB | true | 72 | 66887 |  
            | https://IP:2379 | db6b3bdb559a848d | 3.2.18 | 25 MB | false | 72 | 66887 |  
            +-----------------+------------------+---------+---------+-----------+-----------+------------+
            
*   Check Endpoint Health
    
    *   docker exec -e ETCDCTL\_ENDPOINTS=$(docker exec etcd /bin/sh -c ""etcdctl member list | cut -d, -f5 | sed -e 's/ //g' | paste -sd ','"") etcd etcdctl endpoint health
        
    *   Example output:
        *   https://IP:2379 is healthy: successfully committed proposal: took = 2.113189ms  
            https://IP:2379 is healthy: successfully committed proposal: took = 2.649963ms  
            https://IP:2379 is healthy: successfully committed proposal: took = 2.451201ms
            
*   Check Connectivity on Port TCP/2379
    
    *   for endpoint in $(docker exec etcd /bin/sh -c ""etcdctl member list | cut -d, -f5""); do  
          echo ""Validating connection to ${endpoint}/health""  
          docker run --net=host -v $(docker inspect kubelet --format '{{ range .Mounts }}{{ if eq .Destination ""/etc/kubernetes"" }}{{ .Source }}{{ end }}{{ end }}')/ssl:/etc/kubernetes/ssl:ro appropriate/curl -s -w ""\\n"" --cacert $(docker exec etcd printenv ETCDCTL\_CACERT) --cert $(docker exec etcd printenv ETCDCTL\_CERT) --key $(docker exec etcd printenv ETCDCTL\_KEY) ""${endpoint}/health""  
        done
        
    *   Example output:
        *   Validating connection to https://IP:2379/health  
            {""health"": ""true""}  
            Validating connection to https://IP:2379/health  
            {""health"": ""true""}  
            Validating connection to https://IP:2379/health  
            {""health"": ""true""}
            
*   Check Connectivity on Port TCP/2380
    
    *   for endpoint in $(docker exec etcd /bin/sh -c ""etcdctl member list | cut -d, -f4""); do  
          echo ""Validating connection to ${endpoint}/version"";  
          docker run --net=host -v $(docker inspect kubelet --format '{{ range .Mounts }}{{ if eq .Destination ""/etc/kubernetes"" }}{{ .Source }}{{ end }}{{ end }}')/ssl:/etc/kubernetes/ssl:ro appropriate/curl --http1.1 -s -w ""\\n"" --cacert $(docker exec etcd printenv ETCDCTL\_CACERT) --cert $(docker exec etcd printenv ETCDCTL\_CERT) --key $(docker exec etcd printenv ETCDCTL\_KEY) ""${endpoint}/version""  
        done
        
    *   Example output:
        *   Validating connection to https://IP:2380/version  
            {""etcdserver"":""3.2.18"",""etcdcluster"":""3.2.0""}  
            Validating connection to https://IP:2380/version  
            {""etcdserver"":""3.2.18"",""etcdcluster"":""3.2.0""}  
            Validating connection to https://IP:2380/version  
            {""etcdserver"":""3.2.18"",""etcdcluster"":""3.2.0""}
            
*   Check ETCD alarms
    *   docker exec etcd etcdctl alarm list
        
    *   Example output when NOSPACE alarm is triggered:
        
        *   memberID:x alarm:NOSPACE  
            memberID:x alarm:NOSPACE  
            memberID:x alarm:NOSPACE
            

### Recently viewed articles

*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [During an upgrade, a secret is missing (rabbitmq-ha.forge)](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge)

### Related articles

*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS7UcnRDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNzY1NjI3MTk0NTE2LUktbmVlZC10by1pbnN0YWxsLXRoZS1hZG1pbi10b29sa2l0LWJ1dC1JLWFtLWFpcmdhcHBlZAY7CFQ6CXJhbmtpBg%3D%3D--c1fcd8e07ebbc3580f67a5e0dbc329ba2b69ad62)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSCT8Z4EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS7UcnRDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhS9oYy9lbi11cy9hcnRpY2xlcy8yMTQwOTQ0NDEwMjY3Ni0tRmFpbGVkLXRvLWNyZWF0ZS10aGUtc2V0dGluZy1lcnJvci13aGVuLXRyeWluZy10by1hZGQtYS1DZW50cmFsLUNvbmZpZy1zZXR0aW5nLXRoYXQtYWxyZWFkeS1leGlzdHMGOwhUOglyYW5raQc%3D--73e0b8e85c54f60ee786a1aa80dcf70ef383c19b)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS7UcnRDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQg%3D--fba0518062852e0751fcfba4b141988a39f3bd93)
*   [Multiple environments do not build or are stuck in queued status](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSIiZrdDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS7UcnRDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE1MjQ1NDMxNjM4MTY0LU11bHRpcGxlLWVudmlyb25tZW50cy1kby1ub3QtYnVpbGQtb3ItYXJlLXN0dWNrLWluLXF1ZXVlZC1zdGF0dXMGOwhUOglyYW5raQk%3D--4a44525a35b2deda72e6efa324bc23c3cead17f1)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSXklndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS7UcnRDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0ODMwMDg0ODg0LU1vZGVsLU1vbml0b3JpbmctQ29uZmlndXJpbmctSGVhbHRoLURhc2hib2FyZAY7CFQ6CXJhbmtpCg%3D%3D--48829eee38e947e350117f95498e9db7a64502d9)"
https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization,"Submitted by Gener Joseph Tomas

Please follow these steps to assign a hardware tier to a specific organization

1) Sign in to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507698472468)

2) After logging in, go to ""Account Settings""

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507689347988)

3) Go to ""Organizations""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/21507713530644)

4) Look for the correct organization name.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/21507698473748)

5) Go to ""Hardware Tiers""

![Screenshot 2023-12-04 at 19.55.12.png](https://tickets.dominodatalab.com/hc/article_attachments/21507681772308)

6) Assign the hardware tier to the organization by clicking the check box

![Screenshot 2023-12-04 at 19.56.32.png](https://tickets.dominodatalab.com/hc/article_attachments/21507713531924)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config/subscription.html ""Opens a sign-in dialog"")

## Problem

While running an self-upgrade, configmap errors for **executions-logback-config** appear in the output

Error: rendered manifests contain a resource that already exists. Unable to continue with install:ConfigMap""executions-logback-config"" in namespace ""_domino-compute_"" exists and cannot be imported into the current release: invalid ownership metadata; annotation validation error: key ""meta.helm.sh/release-name"" must equal ""data-plane"": current value is ""nucleus""; annotation validation error: key ""meta.helm.sh/release-namespace"" must equal ""domino-compute"": current value is ""domino-platform""

## Resolution

Delete the configmap in the appropriate namespace and retry the upgrade. The configmap will be recreated on retry.

## Root cause

Potentially related to missing components/annotations inside an air-gapped or sandboxed deployment.

### Recently viewed articles

*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [During an upgrade, a secret is missing (rabbitmq-ha.forge)](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge)

### Related articles

*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBStwEuLEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE5Mjg5OTY5MDQ0NzU2LVNlbGYtdXBncmFkZS1wcm9ibGVtcwY7CFQ6CXJhbmtpBg%3D%3D--18db1dbee237d7a74d89a0c101bd12d8eeceeee8)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0cpdyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy83MDg5MjM2OTE1MzQ4LVJzdHVkaW8tcGxvdC1mdW5jdGlvbnMtZmFpbC13aXRoLVItZ3JhcGhpY3MtZW5naW5lLXZlcnNpb24tMTUtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpBw%3D%3D--15901b79340fa9c019579fa636fe6b35932604fa)
*   [App Publishing - 404 Not Found error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwES9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDc0ODgxMi1BcHAtUHVibGlzaGluZy00MDQtTm90LUZvdW5kLWVycm9yBjsIVDoJcmFua2kI--1cb6b84cd77946b598b498cb324b73e433849d68)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRPY%2BBODToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzE0NjMyNDIzMjE0OTk2LUNhbi1hLURvbWluby1kYXRhc2V0LWJlLW1vdW50ZWQtYXMtYS1zaGFyZWQtZGF0YXNldC13aGlsZS1hLXNuYXBzaG90cy1pcy1pbi1wcm9ncmVzcwY7CFQ6CXJhbmtpCQ%3D%3D--7a64a6ed78cc8db7ffc3ffddbb4c4f2f8687b4fa)
*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30eR%2FDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzEzNzQzNDM5MzI5MDQ0LUFjY2Vzc2luZy1WYXVsdC1SZXRyaWV2aW5nLVNlY3JldHMGOwhUOglyYW5raQo%3D--38d699fca4b2566c000c9bbca8f1b36ccbb56ce1)"
https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 5.3

## **Issue:**

When upgrading from a version below 5.3.x, the install may fail on the prometheus release.

The error may look something like:

2022-11-21 21:53:00,798 - Error: UPGRADE FAILED: an error occurred while rolling back the release. original upgrade error: cannot patch ""prometheus-node-exporter"" with kind Service: Service ""prometheus-node-exporter"" is invalid: spec.clusterIPs\[0\]: Invalid value: \[\]string(nil): primary clusterIP can not be unset: no NetworkPolicy with the name ""prometheus-alertmanager"" found

The install stops after failing to upgrade Prometheus.

## **Resolution:**

There are two ways to resolve this installation issue. Try the first method before using the hammer approach.

1.  Delete the resource(s)
    
    1.  (Try this first) Delete the specific resources:
        
        *   `kubectl -n PLATFORM_NAMESPACE delete svc prometheus-node-exporter`
            
        *   `kubectl -n PLATFORM_NAMESPACE delete netpol prometheus-alertmanager`
            
    2.  (Try this if installation still fails) Delete the Prometheus helm chart
        
        *   `helm -n PLATFORM_NAMESPACE delete prometheus`
            
2.  Restart the installation process
    

## **Notes/Information:**

\---

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)
*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [During an upgrade, a secret is missing (rabbitmq-ha.forge)](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge)

### Related articles

*   [Prometheus-adapter has OOMkilled failure](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTpmS9CCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzExMjc5MzgyNzM1MjUyLVByb21ldGhldXMtYWRhcHRlci1oYXMtT09Na2lsbGVkLWZhaWx1cmUGOwhUOglyYW5raQY%3D--ef51e250059ac1ff81410b4544ca8b37b63d0842)
*   [During an upgrade, Ingress errors are seen and the installation stops](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRcGjh9CzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzEyNjMyNDQwMDY5MjY4LUR1cmluZy1hbi11cGdyYWRlLUluZ3Jlc3MtZXJyb3JzLWFyZS1zZWVuLWFuZC10aGUtaW5zdGFsbGF0aW9uLXN0b3BzBjsIVDoJcmFua2kH--bf48b61cf3b97759f7030197e4c6c3e58f3817fc)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCA%3D%3D--2fdd7667416e0b4a24bf566d02bf06f70f9fb60e)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kJ--d30b4ec4775369bdd6befcfb7f7fcfac539225e6)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kK--7bd5c396c5a595fc274f15f2d669de512431aa18)"
https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users/subscription.html ""Opens a sign-in dialog"")

**Issue:** Practitioner role is not displayed correctly when examining an user with the Data Analyst  license  under the admin interface . Instead we are presented with an empty field ""-"" for the user roles.  

![](https://tickets.dominodatalab.com/hc/article_attachments/20140760050068)

![](https://tickets.dominodatalab.com/hc/article_attachments/20140744243092)

**Root cause:** This is a know bug and affects Domino versions 5.2.1 and up. The bug is a result of a recent change made to how roles are now assigned in Domino.  

**Solution:** The bug is being investigated under bug report ticket DOM-49401 and a fix is to be introduced in Domino 5.9 

### Recently viewed articles

*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)
*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [During an upgrade, a secret is missing (rabbitmq-ha.forge)](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge)

### Related articles

*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTxt2MaEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2FlWRREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzE5OTA0NTUxNDQ4ODUyLVVuYWJsZS10by1jcmVhdGUtbmV3LXByb2plY3RzLWR1ZS10by1yb2xlLWlzc3VlBjsIVDoJcmFua2kG--f21401a7e99cc939ee559ed48fa12076351914d6)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSx6jeRDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2FlWRREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE3MTE2MzgyODAyMTk2LUFkZGluZy1tZW1iZXJzLWluLXRoZS1Pcmdhbml6YXRpb24tYXMtb3JnYW5pemF0aW9uLW93bmVyBjsIVDoJcmFua2kH--c803b62fae7888ff5e6e601894859657eba0c07d)
*   [Feature flags](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCH%2BlosYaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2FlWRREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIyL2hjL2VuLXVzL2FydGljbGVzLzExNTAwMTY5NzY2My1GZWF0dXJlLWZsYWdzBjsIVDoJcmFua2kI--d8fd38abd606d9cecc563b59ed2ed1ac40e51105)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped/subscription.html ""Opens a sign-in dialog"")

## Issue

I have been asked to install the toolkit, but I cannot run the toolkit.sh because it requires internet access.

I have an air-gapped deployment and cannot install the toolkit!

## Resolution

Download the toolkit.sh and tar ball, add and tag to your internal registry and then run the toolkit.sh script from a location with kubectl/docker access.

Remember you may need to run curl from your local machine or bastion and copy the files to where you can actually run kubectl/docker.

Some customers need to upload the image via UI or Rancher and tag manually instead of this.

Replace _customer-registry-host:5000_ with your internal/local registry.

curl -O https://domino-admin-toolkit-files.s3.us-west-2.amazonaws.com/domino-admin-toolkit.tar.gz  
docker load < domino-admin-toolkit.tar.gz  
\# gunzip -cd domino-admin-toolkit.tar.gz | docker load # if you have issues with the line above  
\# or try to gunzip the file and load as tar  
\# gunzip domino-admin-toolkit.tar.gz && docker load < domino-admin-toolkit.tar  
docker image tag quay.io/domino/cre:slim **customer-registry-host:5000**/domino-admin-toolkit:v1-compatible   
docker image push **customer-registry-host:5000**/domino-admin-toolkit:v1-compatible

On the host with kubectl access to Domino platform you need toolkit.sh as well. It can be pulled from an s3 bucket too!

curl -O https://domino-admin-toolkit-files.s3.us-west-2.amazonaws.com/toolkit.sh && chmod a+x ./toolkit.sh

###   
Next, run the toolkit.

./toolkit.sh install --image **customer-registry-host:5000**/domino/domino-admin-toolkit --tag v1-compatible

 # --tag is applied in combination with --image  
\# if --image is not specified, the default value of ‘quay.io/domino/cre' will be used  
\# if --tag is not specified, then the default value of 'latest’ will be used

From here on you can follow the guidance on using the toolkit and command line options:

[https://tickets.dominodatalab.com/hc/en-us/articles/10601074944660-How-to-run-the-Admin-Toolkit](https://tickets.dominodatalab.com/hc/en-us/articles/10601074944660-How-to-run-the-Admin-Toolkit)

[https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)

### This applies to Domino prior to 5.5.0

[https://docs.dominodatalab.com/en/5.4/admin\_guide/9c6da7/run-the-admin-toolkit/#\_starting\_stopping\_and\_checking\_the\_toolkit\_status](https://docs.dominodatalab.com/en/5.4/admin_guide/9c6da7/run-the-admin-toolkit/#_starting_stopping_and_checking_the_toolkit_status)

### Recently viewed articles

*   [Practitioner role not visible for Data Analyst users](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users)
*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)
*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)

### Related articles

*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRe1%2FvkCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzEzMDc4MTA1NjQ0NTY0LS10ZXN0LWVsYXN0aWNzZWFyY2gtcHktUnVuYm9vawY7CFQ6CXJhbmtpBg%3D%3D--0c3f2d2f8b49549373a63d470dfccfd12d30a529)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpBw%3D%3D--6650671f5cfc8bb2b257d9f552d59c79a9b1423a)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEzMDE3NTA2Mjk0Njc2LUFkbWluLVRvb2xraXQtc2NyaXB0LXVzYWdlBjsIVDoJcmFua2kI--f461cc92dc7abf4f74f187a0fbcd72c30726923d)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTS4BTlBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzc1ODA5Njc1NTU3MzItRXJyb3ItUmVhZGluZXNzLXByb2JlLWZhaWxlZC1jYXQtdmFyLWxpYi1kb21pbm8taG9tZS1hcGktdG9rZW4tTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpCQ%3D%3D--97966e87c401553047905a96b844724e58acb0df)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQo%3D--74c4372b34cd4e37457208bf7ecefb685d499210)"
https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook,"From the CLI you can run the pytest file on its own:

\> ./toolkit.sh pytest checks/test\_elasticsearch.py

The test file contains several checks related to Elastic Search events.

*   [test\_elasticsearch](#h_01GRQ40Y49KEAZYVPJN94BZ54C)

## test\_elasticsearch

Tests the health status of Elasticsearch by sending GET requests to the deployment's internal Elastic Search URL, using the service's authentication username and password. The URL is constructed using the host and port of Elasticsearch, which are obtained from environment variables. 

More information an be found here: [Elastic Search Official Documentation | Cluster Health](https://www.elastic.co/guide/en/elasticsearch/reference/current/cluster-health.html)"
https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This is relevant in versions 4.x thru the latest version which is 5.5.x

* * *

## **Issue:**

When new users first access Domino an account is created for them within Domino (mongodb records) and a ""welcome email"" is triggered to be sent to them.   The email has their firstname, a link to your domino instance, and our public docs.  Some customers want to disable this for the sake of their own control over the entire process.

Hi Greg,  
Your new account is all set, you can login [here](https://551.support-team-sandbox.domino.tech/).  
If you have any questions, problems, or feedback, you can reply to this email, we read everything that comes through. You can also check out our [Help site](https://docs.dominodatalab.com/) for common questions and detailed information.

Thanks, we really appreciate you taking the time to try Domino!  
[www.DominoDataLab.com](http://www.dominodatalab.com/)  
[@DominoDataLab](https://twitter.com/dominodatalab)

* * *

## **Resolution:**

This welcome email can be disabled via a Central Config setting which is true by default.   Set it to false to prevent these emails from being sent:

com.cerebro.domino.email.shouldSendWelcomeEmail

* * *

## **Notes/Information:**

A feature request to make the verbiage of the email configurable is underway.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [Practitioner role not visible for Data Analyst users](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users)
*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)

### Related articles

*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTjmB5UDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpBg%3D%3D--64932186a373633bc795ad725ae91627b5cfcf27)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTjmB5UDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBw%3D%3D--217cb27907bcade22e31f18e9ea30df6a82a0d9c)
*   [I deleted or archived my 4.0 thru 4.4 Dataset but I need it back!](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCDkPdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTjmB5UDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTg4ODY3Mi1JLWRlbGV0ZWQtb3ItYXJjaGl2ZWQtbXktNC0wLXRocnUtNC00LURhdGFzZXQtYnV0LUktbmVlZC1pdC1iYWNrBjsIVDoJcmFua2kI--9e139a3c3145c979c7c19153f313cabab0a6d0a6)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTjmB5UDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQk%3D--503466521bd6a371f6057916e9104b39a92b8716)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSAEsDYBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTjmB5UDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzY0Mjg0OTM1MTI4NTItLWVycm1zZy1ub3QtbWFzdGVyLXdoaWxlLXN1Ym1pdHRpbmctbW9uZ29kYi1jb21tYW5kcwY7CFQ6CXJhbmtpCg%3D%3D--4ffe6c1dd26f148b66bd0d876dc4e06465778fc1)"
https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue,"Submitted by Gener Joseph Tomas

Receiving ""**Your role does not authorise you to perform this action**"" is usually a role issue that requires Admin UI access to grant authorization.

![Screenshot 2023-10-10 at 21.43.59.png](https://tickets.dominodatalab.com/hc/article_attachments/19904539024788)

**Note:** Normal users should contact their local Domino Administrators to have this issue resolved.

Please follow these procedures to add user roles to User in Domino.

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/19904576943764)

2) Go to ""Admin""

![Screen_Shot_2022-05-03_at_1.16.42_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19904547710740)

3) Go to ""Users""

![Screenshot 2023-10-10 at 21.52.01.png](https://tickets.dominodatalab.com/hc/article_attachments/19904539040916)

4) Search for the user

![Screenshot 2023-10-10 at 21.52.31.png](https://tickets.dominodatalab.com/hc/article_attachments/19904551418516)

5) Verify that the user information is correct and then click ""Edit.""

![Screenshot 2023-10-10 at 21.53.34.png](https://tickets.dominodatalab.com/hc/article_attachments/19904563523860)

6) Check the ""Practitioner"" role to add it and then click ""Save.""

![Screenshot 2023-10-10 at 21.56.09.png](https://tickets.dominodatalab.com/hc/article_attachments/19904539047572)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Prior to 5.4.0 the Assets page is not paginated, and can timeout depending on circumstances (specific to usage)

* * *

## **Issue:**

Browsing the Control Center -> Assets page, can lead to a short delay followed by blank results, OR ""failed to get assets"", and for both you can see 502 errors in the browser's Developer Tools network tab.

![df6cd6e1-9911-4bec-b436-e2d7452fe42b.png](https://tickets.dominodatalab.com/hc/article_attachments/10348362330516)

or ""Something went wrong.""

![Screen_Shot_2022-10-25_at_2.58.56_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/10348459074580)

* * *

## **Root Cause:**

Due to mass of pertinent data a query is running longer than expected, resulting in a timeout between network layers and the component querying the data.

* * *

## **Resolution:**

Report this to Domino Technical Support.  If you have an urgent need to see this data you can try to increase a timeout value within nucleus-frontend to something larger than the 75 second default:

  
First backup the yaml for the frontend kubectl get deploy nucleus-frontend -n <your name space> -oyaml > fe.backup.yaml  
  
Then edit the deploy object for nucleus-frontend.    
Under here:  
Containers → nucleus-frontend → Environment → DOMINO\_COMMAND\_OPTS  
add:   
`-Dplay.server.http.idleTimeout=120s`  or 200s.  
  
Editing the deploy will cause a rollout restart of frontends, so no downtime.  

* * *

## **  
Notes/Information:**

CAUTION - increasing the timeout could also keep other connections alive for longer and, in extreme circumstances, could exhaust resources.  We do not predict this happening regularly but the above should be done with care and you should consider this a temporary workaround rather than long-term.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [How to disable the new user welcome email](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [Practitioner role not visible for Data Analyst users](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users)

### Related articles

*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSAEsDYBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxiYNpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzY0Mjg0OTM1MTI4NTItLWVycm1zZy1ub3QtbWFzdGVyLXdoaWxlLXN1Ym1pdHRpbmctbW9uZ29kYi1jb21tYW5kcwY7CFQ6CXJhbmtpBg%3D%3D--f4207df51abc0afd4fba7f03c6f160bdd6dd6135)
*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTkqgEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxiYNpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzNjk0NTUyNTItQXJlLXRoZXJlLWxpbWl0cy10by1ob3ctbXVjaC1kYXRhLUktY2FuLXB1dC1pbi1hLWRhdGFzZXQtb3Itc2NyYXRjaC1zcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--4973cf1770a2cad98e114fa446c17a8a80b374a7)
*   [How to Publish an App as a Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHCwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxiYNpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQzMi1Ib3ctdG8tUHVibGlzaC1hbi1BcHAtYXMtYS1Xb3Jrc3BhY2UGOwhUOglyYW5raQg%3D--eba9348c10c91e4c59be47088c0dbe850cde2f60)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQa%2BwSbEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxiYNpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzE5MzU3NTAxMTY4Mjc2LURNTS1JZGVudGlmeWluZy1zdHVjay1Jbmdlc3Rpb24tSm9icy1hbmQtY2xlYXJpbmctdGhlbS1vdXQGOwhUOglyYW5raQk%3D--f02ead0784bc7196c9e18ffffe77c1adca622668)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQzkMFbDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxiYNpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy8xNDY4Nzc0MDYzODEwMC1VSS01MDMtZXJyb3JzLWFuZC1LZXljbG9hay1BUEktZXJyb3JzLWR1ZS10by1LZXljbG9hay1zLWRlZmF1bHQtbWVtb3J5LXNldHRpbmdzLWJlaW5nLWluc3VmZmljaWVudAY7CFQ6CXJhbmtpCg%3D%3D--cd09dfef8cf16d6df0559f81dad81877cc7c08b2)"
https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)
*   [test\_mongodb.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13016256769940-test-mongodb-py-Runbook)

## test\_keycloak.py | Runbook

![](https://secure.gravatar.com/avatar/dab2d9fb5cdc60c968e7d619e1a8d677?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook/subscription.html ""Opens a sign-in dialog"")

From the CLI you can run the pytest file on its own:

\> ./toolkit.sh pytest checks/test\_keycloak.py

The test file contains several checks related to Keycloak events.

*   [test\_keycloak\_version](#h_01GRQ40Y49KEAZYVPJN94BZ54C)

## test\_keycloak\_version

Checks the Keycloak version. Retrieves the host, port, and protocol information. Failure to connect to the Keycloak Admin logs an error message. If it succeeds, it retrieves the server information and extracts its version. The function then asserts that the version is not empty and is not equal to ""8.0.1"".  Keycloak 8.0.1 has a known bug that breaks the Domino ""First broker login"" flow.  
\- Note: If the bug has been fixed manually this check would still flag it as it only checks the Keycloak version

### Recently viewed articles

*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page)
*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [How to disable the new user welcome email](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)

### Related articles

*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTuCRXYCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBST66PYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzEzMDIyNjkzODEzNzgwLXRlc3Qta3ViZS1ldmVudHMtcHktUnVuYm9vawY7CFQ6CXJhbmtpBg%3D%3D--2f41277d1be7ebc6e121ac568135c3b0e62a894b)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBST66PYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzIwNTI2NDQ0OTY4MDg0LUhvdy10by1hZGQtVFdPLW9yLW1vcmUtVGlsZXMtaW4tSnVweXRlckxhYgY7CFQ6CXJhbmtpBw%3D%3D--390f9fc0bb2b59002d7085e6a66214a5bb392890)
*   [Domino App URL link using username and project name](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTbp%2F4hCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBST66PYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzEwMDQxNjEwOTg0MzQwLURvbWluby1BcHAtVVJMLWxpbmstdXNpbmctdXNlcm5hbWUtYW5kLXByb2plY3QtbmFtZQY7CFQ6CXJhbmtpCA%3D%3D--ce369f3dd73416f42f265fad4f9a926d4af17a46)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBST66PYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--e018300dc48b8402847f57c8bba56b01bc36f0a8)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBST66PYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCg%3D%3D--bd3a4ac6a742863364a2c711eee027a30edc37f1)"
https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner,"Submitted by: Gener Joseph Tomas

To add new members in the organization in Domino as organization owner, kindly follow these steps.

1) log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/17116399065620)

2) After logging in, go to ""Account Settings""

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/17116382793620)

3) Go to ""Organizations""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116404267156)

4) Look for the correct organization name.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116387578132)

5) Go to ""Members""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116414830740)

6) Enter the user's name, surname, or username.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116373435028)

7) Click 'Add'

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116399077524)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands/subscription.html ""Opens a sign-in dialog"")

**Problem:**

A customer was trying to edit a user's email address via the Admin -> mongodb page via `db.users.update(...`

They received an error in the response when submitting the command/query to mongodb:

WriteCommandError({  
""operationTime"" : Timestamp(1650314522, 26),  
""ok"" : 0,  
""errmsg"" : ""not master"",  
""code"" : 10107,  
""codeName"" : ""NotMaster"",  
""$clusterTime"" : {  
""clusterTime"" : Timestamp(1650314522, 26),  
""signature"" : {  
""hash"" : BinData(0,""0jl1YuG4GvHKjhpT7RQ7no/Dzic=""),  
""keyId"" : NumberLong(""7086209899641700355"")  
}  
}  
})

**Background:**

There are multiple listening copies of your mongodb, for the sake of redundancy and high availability, etc, called replicasets.   Only one of the replicasets can act on write operations and this is called ""primary"" or ""master"". This error simply means your command/query landed on one of the replicasets which isn't the ""master"".  

**Resolution:**

Unfortunately the connections via the Admin -> mongodb page are primarily meant for reading, so they hit the replicaset and don't have a means to specify that the connection go to Master/Primary.  Thus your only option is to run the query a few times til you load-balancing nature results in the query landing on the proper replicaset that can perform the write.

  
**UPDATE:  
**5.x witness a bug in which the UI is only attaching to a replicaset which isn't primary, no round-robin'ing is happening, thus you cannot perform write operations.  This is resolved in 5.4.1, and unfortunately in those versions the workaround is to use `kubectl exec`, or restart mongo (to hopefully move around the primary vs secondary status of the replicateset) to perform an update.

### Recently viewed articles

*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page)
*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [How to disable the new user welcome email](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email)

### Related articles

*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTcE6mjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAEsDYBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzYyMDA0NzQ0NTkyODQtU2VuZGluZy1lbWFpbHMtaW4tcHl0aG9uLXVzaW5nLXNtdHBsaWIGOwhUOglyYW5raQY%3D--6ff03914bfb9997ac4af89fb18c53b4657eb9c62)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAEsDYBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQc%3D--cfb1f4aebebc5d8a92e027c9a5740a1699d4b198)
*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMgGWtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAEsDYBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTczMjU1Mi1SZXN1bWFibGUtd29ya3NwYWNlLWNhbm5vdC1iZS1zdG9wcGVkLW9wZW5lZC1vci1kZWxldGVkLURvbWluby00LTQtMC00LTYteAY7CFQ6CXJhbmtpCA%3D%3D--41a69cd1e6c6cb9b598714cf244ab649a72779af)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAEsDYBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--e6ffdc519ba2fac043dc7e42220f15eb8a4b55f9)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAEsDYBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCg%3D%3D--3e50c055998b806a6fb7733e64b16dcde2012982)"
https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access,"Submitted by: Gener Joseph Tomas

To add new members in the organization in Domino via Admin Access, kindly follow these steps.

1) log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/17116344825876)

2) After logging in, go to ""Admin Page""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116323297940)

3) Go to ""Users""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116330758804)

4) Go to ""Organizations""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116344827284)

5) Look for the correct organization name and press the 'Edit' button.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116355133844)

6) Enter the user's name, surname, or username.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116361255444)

7) Click 'Add'

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116344829076)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3,"## Measures of collaboration v4.3+

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3/subscription.html ""Opens a sign-in dialog"")

Within Domino there are no 'Collaboration' metrics.  The following mongo queries can be used if you are looking to have some measure of how much collaboration is occurring.  Note that these queries require administrative access in the Domino UI.

All Mongo queries can be executed in the UI via the Admin>>Advanced>>MogoDB menu.

How many Projects were forked

db.projects.find({ baseForkedProjectId: { $exists:true}}).count()

How many projects are public vs private

db.projects.find({ projectVisibility: { $eq:""Public""}}).count()  
db.projects.find({ projectVisibility: { $eq:""Private""}}).count()

How many APP views have there been in total?

db.hourly\_usage\_statistics.aggregate(\[{$group: { \_id: null, 'Totalviews':{ $sum: '$data.viewCount'}}}\])

and how many App views per month?

db.hourly\_usage\_statistics.aggregate(\[  
{ $match:{""time"": {'$gte':ISODate('2021-05-01T00:00:00Z'),'$lt':ISODate('2021-06-01T00:00:00Z')}}},   
{$group: { \_id: null,  'Totalviews\_May':{ $sum: '$data.viewCount'}}}  
\]) 

### Recently viewed articles

*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Adding members in the Organization via Admin Access](https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxIvIABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--8e73619629fa3bb3f65d273cc25eb3b97aa09e81)
*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSvNHoGBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxIvIABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzc3MjQ0MDE0NzEyNTItSS1uZWVkLXRvLWRlbGV0ZS1vbGQtam9icy1mcm9tLXRoZS1xdWV1ZS1vci1vbGQtcnVucwY7CFQ6CXJhbmtpBw%3D%3D--76468b6ae86301b4501a1006b360fb17fe86ff00)
*   [Removing User Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ7aCIaEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxIvIABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzE5OTAzNDU1NzA1ODc2LVJlbW92aW5nLVVzZXItVHdvLUZhY3Rvci1BdXRoZW50aWNhdGlvbgY7CFQ6CXJhbmtpCA%3D%3D--d0ec4ce2e60e968dbcfb55b464a64a6687eff140)
*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxiYNpCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxIvIABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzEwMzQ4NzgzMDM4NzQwLUJsYW5rLXBhZ2Utb3ItRmFpbGVkLXRvLWdldC1hc3NldHMtd2hpbGUtdmlld2luZy1Db250cm9sLUNlbnRlci1Bc3NldHMtcGFnZQY7CFQ6CXJhbmtpCQ%3D%3D--03b64f3dc1112595c41920015ba1913821ce83a7)"
https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook,"## test\_kube\_events.py | Runbook

![](https://secure.gravatar.com/avatar/dab2d9fb5cdc60c968e7d619e1a8d677?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook/subscription.html ""Opens a sign-in dialog"")

From the CLI you can run the pytest file on its own:

\> ./toolkit.sh pytest checks/test\_kube\_events.py

The test file contains several checks related to Kubernetes events.

*   [test\_kube\_events](#h_01GRQ0FEWB03RZP82PK8WM8XFM)
*   [test\_kube\_cluster\_events](#h_01GRQ0FN9JMRVBXAXHENN9NXQJ)

## test\_kube\_events

Checks events for all resources for a number of specific errors including: `BackOff`, `FailedMount`, `FailedScheduling`, `Killing`, `NotTriggerScaleUp`, `Unhealthy`

More information can be found here: [Domino Data Lab | How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851)

## test\_kube\_cluster\_events

Checks all of the Kubernetes events, highlighting events that are not classified as type 'Normal'. Fails if an event other than type `Normal` is identified.

More information can be found here: [Types of Kubernetes Events](https://www.bluematador.com/blog/kubernetes-events-explained)

### Recently viewed articles

*   [Adding members in the Organization via Admin Access](https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page)

### Related articles

*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTuCRXYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQY%3D--c267f421f80b495f15f176bb91391cee6564d811)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBST66PYCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTuCRXYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzEzMDI1MDkwOTY2MjkyLS10ZXN0LWtleWNsb2FrLXB5LVJ1bmJvb2sGOwhUOglyYW5raQc%3D--75af3140ea9c73d821c7234f7be556c337198423)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTuCRXYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEzMDE3NTA2Mjk0Njc2LUFkbWluLVRvb2xraXQtc2NyaXB0LXVzYWdlBjsIVDoJcmFua2kI--82e538f8d051efda3d52463aca40a89ba62b30fe)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTuCRXYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--373c7111145f1cc764f8e0ecc3452b8d5eba189a)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTuCRXYCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQo%3D--827f8c805ca206fd2683cb49baefabf1d5e3a087)"
https://tickets.dominodatalab.com/hc/en-us/articles/17116162101012-How-do-I-create-an-organization-in-Domino,"Originally created by: Robert Wineriter

Updated by: Gener Joseph Tomas

To create a new organization in Domino, kindly follow these steps.

1) log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/17116145563924)

2) After logging in, go to ""Account Settings""

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/17116156171156)

3) Go to ""Organizations""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116162096404)

4) Add 'Organization Name'

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116145566484)

5) Click 'Create Organization'

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116156176276)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)
*   [test\_mongodb.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13016256769940-test-mongodb-py-Runbook)

## Admin Toolkit script usage

![](https://tickets.dominodatalab.com/system/photos/360342143651/Screen_Shot_2019-09-05_at_4.25.28_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage/subscription.html ""Opens a sign-in dialog"")

Here we'll go into a little more detail regarding the output from running

\> ./toolkit.sh --help

Usage: toolkit.sh \[command\] \[options\]

Run with no parameters to create resources and run the tests

Commands:

|     |     |
| --- | --- |
| install \[options\] | Install and start the admin toolkit |
| uninstall | Uninstall the admin toolkit, deleting all resources |
| start | Starts the admin toolkit if it is stopped |
| stop | Stops the admin toolkit if it is running |
| status | Shows whether admin toolkit is installed and running |
| test \[options\] | Run tests with given options and upload html report to S3 |
| pytest \[options\] | Run pytest directly, see [https://docs.pytest.org/en/7.1.x/how-to/usage.html](https://docs.pytest.org/en/7.1.x/how-to/usage.html). |
| exec \[command\] | Execute a command in the toolkit container (by default /bin/bash), useful for debugging |
| logs | Show toolkit container logs |
| get-password | Retrieve the admin toolkit UI username and password |
| help | Get this help message |

\`install\` command options:

|     |     |
| --- | --- |
| ./toolkit.sh install --tag \| -t tag | Run specific docker image tag of the admin toolkit |
| ./toolkit.sh install --daemonset | Enable daemonset functionality |
| ./toolkit.sh install --daemonset-port \| -d port | Set the host port the daemonset listens on. Default is port 5000. |
| ./toolkit.sh install --no-ingress | Disable ingress route to toolkit pod. |

\`test\` command options:

|     |     |
| --- | --- |
| ./toolkit.sh test --help | Show help including choice of parameters |
| ./toolkit.sh test --log-cli-level DEBUG | Show extra debugging output |
| ./toolkit.sh test --local-only | Copy HTML file to host and do not send the report output to Domino's S3 |

\`pytest\` command options:

|     |     |
| --- | --- |
| ./toolkit.sh pytest checks/<check>.py | Execute a single check |
| ./toolkit.sh pytest --collect-only | List all available checks but don't run them |
| ./toolkit.sh pytest --log-cli-level=DEBUG | Show extra debugging output |

### Recently viewed articles

*   [How do I create an organization in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/17116162101012-How-do-I-create-an-organization-in-Domino)
*   [Measures of collaboration v4.3+](https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3)
*   [test\_kube\_events.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook)
*   [Adding members in the Organization via Admin Access](https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)

### Related articles

*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGOXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjc3MS1Vc2luZy1TQVMtaW4tRG9taW5vLUdldHRpbmctU3RhcnRlZC1hbmQtQmVzdC1QcmFjdGljZXMGOwhUOglyYW5raQY%3D--abd732a5518c5167660a8f49506f8de0980ac9e0)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNzY1NjI3MTk0NTE2LUktbmVlZC10by1pbnN0YWxsLXRoZS1hZG1pbi10b29sa2l0LWJ1dC1JLWFtLWFpcmdhcHBlZAY7CFQ6CXJhbmtpBw%3D%3D--2d7e4d2be388e5e6ae516a651b7be656db5444e5)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCA%3D%3D--4d7993ce7ca805a5f0cc67dd1ceedb2238b1ddf3)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTS4BTlBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzc1ODA5Njc1NTU3MzItRXJyb3ItUmVhZGluZXNzLXByb2JlLWZhaWxlZC1jYXQtdmFyLWxpYi1kb21pbm8taG9tZS1hcGktdG9rZW4tTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpCQ%3D%3D--06a6fdaf198c5506469996f73e20f125e45552f8)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQo%3D--4c8f89163c45b78f1eaefed8fc4a2417a577cc60)"
https://tickets.dominodatalab.com/hc/en-us/sections/23340069783572-Authentication,"## Authentication

*   [Removing User Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/19903455705876-Removing-User-Two-Factor-Authentication)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)
*   [How to disable user signup](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/19903455705876-Removing-User-Two-Factor-Authentication,"Submitted by Gener Joseph Tomas

To remove user's Two-Factor Authentication, kindly follow these steps.

1) log in to your Domino deployment keycloak

![Screenshot 2023-10-10 at 20.58.30.png](https://tickets.dominodatalab.com/hc/article_attachments/19903470190612)

2) Go to ""Users""

![Screenshot 2023-10-10 at 21.00.10.png](https://tickets.dominodatalab.com/hc/article_attachments/19903440084628)

3) Look for the user by clicking ""View all users"" or search for the user.![Screenshot 2023-10-10 at 21.00.41.png](https://tickets.dominodatalab.com/hc/article_attachments/19903485093780)

4) Verify that the user information is correct and then click ""Edit.""

![Screenshot 2023-10-10 at 21.04.16.png](https://tickets.dominodatalab.com/hc/article_attachments/19903442657172)

5) Go to ""Credentials""

![Screenshot 2023-10-10 at 21.11.22.png](https://tickets.dominodatalab.com/hc/article_attachments/19903455699092)

6) Look for the type ""otp"" and then press the ""Delete"" button.

![Screenshot 2023-10-10 at 21.11.58.png](https://tickets.dominodatalab.com/hc/article_attachments/19903485098644)

7) Click ""Delete"" to confirm deletion.

![Screenshot 2023-10-10 at 21.12.23.png](https://tickets.dominodatalab.com/hc/article_attachments/19903470199060)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect/subscription.html ""Opens a sign-in dialog"")

If you have used the Domino documentation to copy a central configuration option which you subsequently pasted in to your central configuration and restarted services only to find the option does not appear to have taken effect, double check that there are no errant spaces in the configuration option that you copied from the documentation.

At the moment a space has been added in the option strings in the documentation to control the line break formatting.  A copy button next to the option in the documentation should be used to copy these options without the space included.  ![Screen_Shot_2021-07-22_at_4.56.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4404045584404/Screen_Shot_2021-07-22_at_4.56.41_PM.png)

### Related articles

*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRiQJUbCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbQWUBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy84OTE0NTYxMTYzNzk2LVdoYXQtaGFwcGVucy13aGVuLXlvdS1yZXN0YXJ0LXNlcnZpY2VzLXZpYS10aGUtVUktYWZ0ZXItbWFraW5nLWEtQ2VudHJhbC1Db25maWd1cmF0aW9uLWNoYW5nZQY7CFQ6CXJhbmtpBg%3D%3D--5fca15aac6f5a120c8ae911f5b6f2bbfe21deb10)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbQWUBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQc%3D--28d9af6d0739939056a2529a276526374ab28a24)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT5JG8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbQWUBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUxOTE0NDQtUmVzdGFydGluZy1Gcm9udGVuZC1EaXNwYXRjaGVyLVJhYmJpdE1RLWxvZ3Mtb24tRG9taW5vLXZlcnNpb24tNC14BjsIVDoJcmFua2kI--6ee78860158974ebeb64d5bad9dd3e7d7731078a)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbQWUBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQk%3D--26a74023cc0d5ad81bf5818bebe82fcd28342940)
*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbQWUBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kK--ca73c1550a0f9baeb3a39aa4a06a4cd29ba60375)"
https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set/subscription.html ""Opens a sign-in dialog"")

**Issue:** In rare circumstances a Domino administrator might be required to scale up the MongoDB database temporarily. Once the additional replicas are no longer needed, removing them requires a few additional steps in order to avoid accidentally removing the  Primary MongoDB pod and also removing the member from the replication. 

**Solution:**  To safely remove the additional MongoDB replicas we will first have to identify which one is the primary, and if that happens to be one of the replicas which will be scaled down we will need to make sure that the primary has been first moved to a pod which will remain in the set.

To identify the current primary you will have to login to MongoDB and execute ""**rs.status()**"" or ""**db.hello()**"" . In the example below we are using the latter to identify the correct instance of Mongo.

rs0:PRIMARY> db.hello()

{  
  ""hosts"" : \[  
     ""mongodb-replicaset-0.mongodb-replicaset.domino-platform.svc.cluster.local:27017"",  
     ""mongodb-replicaset-1.mongodb-replicaset.domino-platform.svc.cluster.local:27017""  
\],  
""setName"" : ""rs0"",  
""setVersion"" : 2,  
""isWritablePrimary"" : true,  
""secondary"" : false,  
""primary"" : ""mongodb-replicaset-0.mongodb-replicaset.domino-platform.svc.cluster.local:27017"",  
""me"" : ""mongodb-replicaset-0.mongodb-replicaset.domino-platform.svc.cluster.local:27017"",  
...TRUNCATED

In case we have to relocate the primary to another replication member we can use the command ""**rs.stepDown()**""  Ref: [MongoDB Documentation](https://www.mongodb.com/docs/manual/reference/method/rs.stepDown/) 

Example: 

rs0:PRIMARY> rs.stepDown(120)  
{  
""ok"" : 1,  
""$clusterTime"" : {  
""clusterTime"" : Timestamp(1667581007, 1),  
""signature"" : {  
""hash"" : BinData(0,""4EcPV7g80FwFANPt0fHK/9hC5Bw=""),  
""keyId"" : NumberLong(""7162152871419445253"")  
}  
},  
""operationTime"" : Timestamp(1667581006, 1)  
}  
rs0:SECONDARY>

When we are satisfied with the position of the primary role in our Replica Set we can then proceed with instruction MongoDB to remove the member form the replication. This can be done with command ""**rs.remove()**"" Ref: [MongoDB Documentation](https://www.mongodb.com/docs/manual/tutorial/remove-replica-set-member/#remove-a-member-using-rs.remove--)

Example: 

rs0:PRIMARY> rs.remove(""mongodb-replicaset-1.mongodb-replicaset.domino-platform.svc.cluster.local:27017"")

{  
""ok"" : 1,  
""$clusterTime"" : {  
""clusterTime"" : Timestamp(1699609871, 1),  
""signature"" : {  
""hash"" : BinData(0,""WP6qUxYHl1ft3wgxd6kAs5ogM1s=""),  
""keyId"" : NumberLong(""7244087803611447298"")  
}  
},  
""operationTime"" : Timestamp(1699609871, 1)  
}

After this step is complete we can proceed with scaling down our Kubernetes Replica Set .  

### Related articles

*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSLfilzFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT0bhYNFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzIyNDg0ODQ5OTUzNjg0LU9sZC1QVkMtd2l0aC1QZW5kaW5nLXN0YXR1cwY7CFQ6CXJhbmtpBg%3D%3D--4cce71c7fbf0ae018e199729e4988d64e767b416)
*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmrAAsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT0bhYNFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiy9oYy9lbi11cy9hcnRpY2xlcy80NTg3MDM2MzU0MTk2LU51Y2xldXMtU2VydmljZXMtV2lsbC1Ob3QtU3RhcnQtRHVlLXRvLUZhaWxpbmctUmVwbGljYXRpb24taW4tTW9uZ29EQi1FcnJvci13aGlsZS1pbml0aWFsaXppbmctdGhlLWluZGV4ZXMGOwhUOglyYW5raQc%3D--5d2c6d61d5c914206d9b26808de94ab1ee74f63c)"
https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status,"#### _**Version/Environment (if relevant):**_

Not specific to any Domino version of infrastructure version.

* * *

## **Issue:**

A customer was reviewing their Persistent Volume Claims (PVC) and unexpectedly found several old PVC in a ""Pending"" status.

```
greghudson@Gregs-MBP ~ % kc get pvc | grep Pending
NAME                                 STATUS    VOLUME  CAPACITY   ACCESS MODES   STORAGECLASS   AGE
workspace-651abeab97c1ce0bdabff90c   Pending                                     dominodisk     92d
workspace-653a7443ff67ef21c84dfa60   Pending                                     dominodisk     68d
workspace-653abcd50a4bd024b6eae4d4   Pending                                     dominodisk     68d
```

* * *

## **Root Cause:**

This can occur when a workspace is stopped prior to the pod being created (including node assignment of the pod). 

When this is the case the events or describe of the PVC include:

4m36s       Normal    WaitForFirstConsumer      persistentvolumeclaim/workspace-6574c1b28b789012ad5dbbc0                             waiting for first consumer to be created before binding

 An example scenario would be that an end-user launches a workspace for a particular Hardware Tier and the Hardware Tier needs a minute to spin-up a new node, and the end-user clicks the ""stop"" button on their workspace prior to the node coming up and online as available for the pod's creation.

Persistent Volumes and PVC for restartable/durable workspaces are long-term.  Typically a stopped workspace's PVC will be in a Bound state rather than Pending.

* * *

## **Resolution:**

To alter these Pending PVC you can just delete the stopped workspaces.  You can find workspaces matching these circumstances by browsing the Admin -> Workspaces page, then sorting the ""LAST SESSION START TIME"" column and looking for the blank/empties which is a matching symptom of these types of workspaces.

* * *

## **Notes/Information:**

*   https://docs.dominodatalab.com/en/latest/admin\_guide/cd38c2/manage-persistent-volumes/#\_storage\_workflow\_for\_workspaces

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino versions prior to 5.6 are susceptible since this has been seen in Keycloak version 15 and 17.

* * *

## **Issue:**

After increased, or new usage, a customer began encountering 503 errors in the UI, and API calls directly to Keycloak were returning errors like:

OSError: Request Failed: msg=<html><head><title>Error</title></head><body>Internal Server Error</body></html>

* * *

## **Root Cause:**

Symptoms like the above should typically lead to analysis of nucleus-frontend and Keycloak pods in terms of their status, restart count and logs.   We found Keycloak (one or more) pods were crashing and restarting unexpectedly.  Keycloak logs revealed the culprit, an OutOfMemoryError:

\[0m\[31m14:52:57,155 ERROR \[org.jgroups.protocols.TCP\] (Connection.Receiver \[100.127.18.60:7600 - 100.126.63.5:57379\]-19,ejb,keycloakv17-0) JGRP000030: keycloakv17-0: failed handling incoming message: java.lang.OutOfMemoryError: Java heap space

* * *

## **Resolution:**

Domino is relying on Keycloak's default memory settings, and in some use-cases this may be insufficient.  You can increase the Xmx (max heap space for the JVM) for Keycloak to fix this:

*   Via `kubectl` edit the `keycloakvXX` stateful set resource, where `XX` is the Keycloak version (15, 17, etc).    
    
    ```
    kubectl -n domino-platform edit sts keycloakv17
    ```
    
*   Find the `env:` section in the spec for the `keycloak` container
    
*   If it already has the `JAVA_OPTS` environment variable, append the following to its value:
    
    `-Xmx1536M` .  
    Example syntax (word wrap between arguments on this line are fine, as depicted below)
    
    \- name: JAVA\_OPTS  
      value: -Djavax.net.ssl.trustStoreType=PKCS12 -Djavax.net.ssl.trustStore=/etc/ssl/certs/cacerts.p12   
             -Djavax.net.ssl.trustStorePassword=changeme -Xmx1536M 
    
*   If there is no `JAVA_OPTS` variable, add the variable and give it the `-Xmx1536M` value.
    
*   Exiting the edit with a save will restart the pods in the stateful set. 
    

* * *

## **Notes/Information:**

This is targeted for resolution as part of a bug-submission in version 5.6, internal reference DOM-44649 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)

### Related articles

*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQzkMFbDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQY%3D--293de5dc6fc8b12934d58724d977233379f0ed95)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQzkMFbDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kH--e1f327486f3a592f3e882fb61544a5e510d880f8)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR8ngkGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQzkMFbDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzk5MjE1MzU4MzUxNTYtUnVubmluZy1ELXRhbGUtaW4tSnVweXRlci1ub3RlYm9vawY7CFQ6CXJhbmtpCA%3D%3D--f91aceb5b41acfef3b4b4e5ac71c3f30e66c65dc)
*   [Error: “Workspace could not be started. Your role does not authorize you to perform this action”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmh4K9CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQzkMFbDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy85NjEwMDMxNzUyNzI0LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Zb3VyLXJvbGUtZG9lcy1ub3QtYXV0aG9yaXplLXlvdS10by1wZXJmb3JtLXRoaXMtYWN0aW9uBjsIVDoJcmFua2kJ--04cc2c91a8d50a82233b1d548c4d1c75f1541ffd)
*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQzkMFbDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpCg%3D%3D--f313bd35eda9b80ee4b4401d7e8c2cd7ef76f172)"
https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This affects Domino version 5.3.x to 5.6.x.

* * *

## **Issue:**

When trying to add a [Central Configuration](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/) setting that already exists, you see the misleading error message: 

`Failed to create the setting. Please reload the page and try again.`

![Failed to create the setting error message - when setting already exists in Central Config.png](https://tickets.dominodatalab.com/hc/article_attachments/21409459490452)

* * *

## **Root Cause:**

This was a known issue where before saving a new key/value pair, MongoDB did not check if the key already existed and therefore did not produce the proper exception. 

* * *

## **Resolution:**

This issue is resolved in Domino version 5.7 where when trying to add a Central Config setting that already exists, you see the accurate error message: 

`Another setting already exists for this key.`

![Central Config improved error msg - Another setting already exists for this key.png](https://tickets.dominodatalab.com/hc/article_attachments/21409428544788)

* * *

### References/Internal Records:

*   DOM-46560

### Recently viewed articles

*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)

### Related articles

*   [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOdasDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCT8Z4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4MDgwMjEwMTItSG93LXRvLURlbGV0ZS1hbi1FbXB0eS1Gb2xkZXItRnJvbS1hLURvbWluby1Qcm9qZWN0BjsIVDoJcmFua2kG--5bf15fbd0f9e3c4f4fcb29bf3d3b01e13fb77dbe)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCT8Z4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQc%3D--19a23e72151ffac4d2ecdc10ffcd9be5e92c628d)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCT8Z4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQg%3D--c016f945bbe7dbed9cefc2c20b7039bbe6c96f7a)
*   [After self-upgrading Domino, nucleus backup cronjobs fail with a ""secrets is forbidden"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT1VE%2FCCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCT8Z4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy8xMjkyOTE4MjUyODc4OC1BZnRlci1zZWxmLXVwZ3JhZGluZy1Eb21pbm8tbnVjbGV1cy1iYWNrdXAtY3JvbmpvYnMtZmFpbC13aXRoLWEtc2VjcmV0cy1pcy1mb3JiaWRkZW4tZXJyb3IGOwhUOglyYW5raQk%3D--60f34ae5ecfbb77af6da90283ad0edf4e3ab63cd)"
https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB/subscription.html ""Opens a sign-in dialog"")

**Version**

Domino v4.6 - 5x

**Identifying the correct MongoDB Instance:**

**As of Domino 4.6,** the **platform** namespace contains a separate DMM mongo.

The mongo pods **mongodb-replicaset-X** pods deployed by the **mongodb-replicaset** stateful set are the Domino data science platform mongodb. The mongo pods identified as **mongodb-arbiter-X,** **monogdb-primary-0** and **mongodb0-secondary-0** deployed by their respective stateful sets are part of the DMM deployment. This article references how a Domino admin with backend kubernetes access can gain access to the DMM MongoDB:

**Step 1: Retrieving credentials and decoding**

**Note:** Backend admin kubernetes access is required to run the commands below:

This command:

~# kubectl get secret --namespace domino-platform domino-dmm-mongodb -o jsonpath=""{.data.mongo\_db\_password}"" | base64 --decode ; echo

can be used to retrieve and decode the MongoDB password secret stored in Kubernetes

**Step 2: Accessing the DMM MongoDB Shell:**

This command connects to the kubernetes DMM MongoDB pod and opens the MongoDB shell.

~# kubectl exec -it -n $DOMINO\_PLATFORM mongodb-primary-0 bash  
I have no name!@mongodb-primary-0:/$ mongo -u admin model-monitor  
\[enter password from step 1 decode\]  
rs0:PRIMARY> \[run mongodb commands\]

Breaking it down:

`kubectl exec -it mongodb-primary-0 bash`

*   Executes an interactive bash shell in the mongodb-primary-0 pod
*   `-it` allocates a TTY for interactive use
*   \-n  define $DOMINO\_PLATFORM namespace

`mongo -u admin model-monitor`

*   Connects to the MongoDB server from inside the pod
*   `-u admin` authenticates as the 'admin' user
*   `model-monitor` specifies the database name

At this point, it will prompt for the MongoDB password which needs to be entered (see step 1 for decoded password)

`rs0:PRIMARY>`

*   This shows we've connected to the primary MongoDB node in replica set rs0.
*   We can now run MongoDB shell commands interactively.

## Admin or superuser privileges in DMM Mongo

Use this command to get full MongoDB access for superuser stuff. Exec into the container and run:

```
# mongo -u root -p $MONGODB_PASSWORD --authenticationDatabase admin $MONGODB_DATABASE
```

![domino-logo.png](https://tickets.dominodatalab.com/hc/article_attachments/19223403327380)

### Recently viewed articles

*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)

### Related articles

*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQa%2BwSbEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLZ8B7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzE5MzU3NTAxMTY4Mjc2LURNTS1JZGVudGlmeWluZy1zdHVjay1Jbmdlc3Rpb24tSm9icy1hbmQtY2xlYXJpbmctdGhlbS1vdXQGOwhUOglyYW5raQY%3D--d62d41f60558227f028d81c31a9633990e103cd6)
*   [Connecting to Domino Model Monitor (DMM) Redis](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTtaOcEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLZ8B7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzE5MzY0NDU5MTIzNjA0LUNvbm5lY3RpbmctdG8tRG9taW5vLU1vZGVsLU1vbml0b3ItRE1NLVJlZGlzBjsIVDoJcmFua2kH--6b082e394dec031e083e92bde010b6fb33af2f26)
*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIucKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLZ8B7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDA5MS1TZXR0aW5nLVVwLWEtSkRCQy1vci1PREJDLUNvbm5lY3Rpb24tZnJvbS1Eb21pbm8tSW5jbHVkaW5nLUluZm9ybWF0aWNhLUNvbm5lY3Rpb25zBjsIVDoJcmFua2kI--4b6af7d20c42a5a309b4e12c520de91fa0ef19af)
*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRVHMtzEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLZ8B7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzIwMjg4NTM4MTcwNjQ0LUdldHRpbmctNTA0LUdhdGV3YXktSXNzdWUtV2hlbi1BZGRpbmctYS1OZXctUmVwbwY7CFQ6CXJhbmtpCQ%3D%3D--d88c9a3448c64a9289f33f24559c33fe783682e6)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR23A3DDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLZ8B7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE1MTMxNDAyMzM1NzY0LUFQSS1FeGFtcGxlcy1mb3ItRG9taW5vLXMtNS14LVJFU1QtQVBJBjsIVDoJcmFua2kK--6ce0c0d7aa2b9eb69f84e5b7dd57abbcb91159c1)"
https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

Best practices apply to all Domino versions

* * *

## **Issue:**

Some scheduled jobs and workspaces can intermittently fail. 

For Domino 5.0.x, 5.1.x, 5.2.x, this error can appear even after applying the Mongo DB fix for all users in this article: [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...](https://tickets.dominodatalab.com/hc/en-us/articles/9874610714644):

ERROR:\_\_main\_\_:Attempt to refresh failed due to an HTTP Error HTTP Error 400:   
Bad Request POSTing to http://keycloak-http.domino-platform/auth/realms/DominoRealm/protocol/openid-connect/token

* * *

## **Root Cause:**

Keycloak has several [token and session settings](https://docs.dominodatalab.com/en/latest/admin_guide/b5dd5a/keycloak-authentication-service/#tr6) that affect executions. One is the **Offline Session Idle**, which defines the lifespan of the refresh token. It's the maximum time the user’s session is allowed to remain idle before the offline token is revoked.

In Domino, this is the maximum time between when one execution (job, workspace, app, scheduled run) finishes and the next one starts (for the same user). Setting this value to minutes when there are scheduled hourly jobs can cause jobs to fail because by the time the next execution starts, the previous offline session will have expired and the user’s session would have already been terminated. 

* * *

## **Resolution:**

For best practices, we recommend the following default Keycloak settings under the **Tokens** tab: 

*   Revoke Refresh Token - **OFF**
*   Offline Session Idle - **60 days or higher**
*   Offline Session Max Limited - **OFF**
*   Access Token lifespan - **5 minutes**

![Keycloak_settings_for_non-expiring_offline_tokens.png](https://tickets.dominodatalab.com/hc/article_attachments/10708442894484)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)

### Related articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOHwyXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQY%3D--13e40928d2fb06d67bcf7f2d734144056166c4b7)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOHwyXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--798a1f0af60f0c3853191da9f0541ba032e23166)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOHwyXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCA%3D%3D--738bdc592fc9ba8063ec847e7daf1ab1722cf9de)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPsAl9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOHwyXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMjE3NDMzMS1TdXBwb3J0LVNpdGUtU2lnbi1Jbi1QbGVhc2UtVmVyaWZ5LVlvdXItRW1haWwGOwhUOglyYW5raQk%3D--cc87549281a209395447a4c9d2c43a8603809b5e)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlBvGXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOHwyXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzEwNTQ4MTg4NDcyNzI0LUNMSS1Ib3ctdG8tZG93bmxvYWQtb3V0cHV0LWZpbGVzLWZyb20tYS1qb2ItaW50by15b3VyLWxvY2FsLW1hY2hpbmUtdmlhLXRoZS1Eb21pbm8tQ0xJBjsIVDoJcmFua2kK--4d963f6c39d592253bf8e8f02b87e4cdbd4c60cc)"
https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps,"### **Version**

Domino 5.1 +

### **Background**

Many of our customers have their own SSL infrastructure, centred around certificate authorities, self signed certificates. This article discusses how we add these certificates to the Domino Platform.

### **What is supported**

Domino can be configured to connect to services that utilise custom certificates that are not hosted by the Domino cluster. In addition to public services such as AWS S3, SMTP, Git Server etc, you may choose to employ private services in your security domain that are protected by bespoke certificates or a custom certificate authority.

Domino accepts the following certificate formats:

*   **Custom Certificate Authority (CA)**

Certificates that certify the validity of the other certificates issued under this authority.

*   **Self-signed certificates**

Certificates that lack a reference to the authority who signed them.

### **Certificates pre installation of Domino**

The contents of a PEM bundle can be added to the **domino.yml** configuration file using the top-level key ""custom\_certificates"" pre Domino installation.

For Example:

...  
custom\_certificates: |  
  -----BEGIN CERTIFICATE-----  
  MIIDATCCAemgAwIBAgIJAMQfGTkluTiVMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV  
  ...  
  ...  
  RSzPv1ciIivMmF0BEG3jBPsrVD5FrtA=     
  -----END CERTIFICATE-----  
  -----BEGIN CERTIFICATE-----  
  MIIFATLCABigAwILsPIJAMQfATkluTigMA22CSqGSob45DQEB6UUAMBsxLsYXkgP0  
  ....  
  ....  
  -----END CERTIFICATE-----

The contents of the custom certificates will be copied into the ""domino-custom-certificates"" config map by the installer.

### Certificate Installation post Domino Installaton

The certificate bundle can be modified after Domino is installed and operating by rebuilding the ""domino-custom-certificates"" config map. This configmap should have a bundle field that holds the ascii text of a certificate bundle in PEM concatenation.

If **no custom certificates exist** within the '**domino-custom-certificates**' config map or if the config map **does not exist**, then you can simply add a new cert as follows:

kubectl create configmap domino-custom-certificates --from-file=bundle=mycustom-certbundle.pem

The end result would be a new configmap named 'domino-custom-certificates' with contents of the certificate:

\[ec2-user@ip-10-0-0-21 ~\]$ kubectl get cm domino-smtp-test-cert -n default -o yaml  
apiVersion: v1  
data:  
cert.crt: ""-----BEGIN CERTIFICATE-----\\r\\nMIIDYjCCAkqgAwIBAgIUZcQjsd+1T0Efz/VmrXYbJUdj/kkwDQYJKoZIhvcNAQEL\\r\\nBQAwMDELMAkGA1UEBhMCR0IxEDAOBgNVBAgMB0VuZ2xhbmQxDzANBgNVBAcMBkxv\\r\\nbmRvbj  
AeFw0yMzEwMjMxNjAyNDZaFw0yNDEwMjIxNjAyNDZaMDAxCzAJBgNVBAYT\\r\\nAkdCMRAwDgYDVQQIDAdFbmdsYW5kMQ8wDQYDVQQHDAZMb25kb24wggEiMA0GCSqG\\r\\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDTF2rZfLD+0TmgVmd1jltSfR  
/Zsw860aP5\\r\\nmaaphi6V3ZGY87j7lJMOpASgigGZDi8DfND+IPpKZ/5oLSjt9+IgVL+gWd6pJCZI\\r\\nTpQj/v1Xw9hACsR3jnNPdH7vurlmrbXsOhrqCJr0VBjKnttNr0agD/21d4usvBW2\\r\\nMitaPHWTZf4QjtUk9zZL14ubpat1phEmXC  
tt+DQcaMFz1wl2SaMixsATJl9tkSCp\\r\\nl8Ybb5vpY4fP7ucBrWtYOaTjnaRwaW5d3+2+Ey/9KPdjy2p+60qPhTbEVsHe2H/k\\r\\naUIQoqEqSFyDDQLb+/9LYkRdn2bqjSWTZCRfmlr7a1GWnOSQzPWXAgMBAAGjdDBy\\r\\nMB0GA1UdDgQWBB  
SPHMKWyLGJa5bPp0gdkV77sqzvAzAfBgNVHSMEGDAWgBSPHMKW\\r\\nyLGJa5bPp0gdkV77sqzvAzAOBgNVHQ8BAf8EBAMCBaAwIAYDVR0lAQH/BBYwFAYI\\r\\nKwYBBQUHAwEGCCsGAQUFBwMCMA0GCSqGSIb3DQEBCwUAA4IBAQCItyIx8iVe+e  
T4\\r\\nX6VJqzE4qir4zNX5NVDQde19Uk8xHMcfr/b7GMyyeVXTZFWT09PbU88Dl8BOyN0d\\r\\nJebHwkgNJ1Bw3/Ay1Ma4xL/8iZV4MuYuYnRFM5RA2ButOn9tscgGKktGcyXSALSj\\r\\nKCVVwpNGSL9liSPVsGEdBGI2+cv1aEmJoC1EemB6sG  
qjv6DJ9zXypr6Vl++n6/yP\\r\\nGGOracx8lRLRqvvwqdKWgemNgG346rhyWA1h/APpnpZ/W6wEX3GNIb3/2mHXVSqL\\r\\nfahkq1Cg2A59uiztHCBsqWPc4FJzTCBf/TvBlxPD5L/dmyJxjFO9zwPZPxWVNX6Z\\r\\n2gd3o+59\\r\\n-----END  
CERTIFICATE-----\\r\\n""  
kind: ConfigMap  
metadata:  
creationTimestamp: ""2023-10-26T12:17:43Z""  
name: domino-smtp-test-cert  
namespace: default  
resourceVersion: ""65693361""  
uid: 293bd3b0-4374-4fc8-a686-bf514d330b1c

If there **was an existing certificate in the configmap** and an **additional** one needed to be added, for example an **SMTP server certificate for SMTP with STARTTLS**  needed to be the +1, we would take the following steps:

1\. Retrieve the mail cert from the SMTP server

openssl s\_client -debug -starttls smtp -crlf -connect smtp-tlsa.lan-domino.com:25

2\. Export the current configmap for domino-custom-certificates to a file and make a copy.

kubectl get configmap domino-custom-certificates -n default -o yaml > domino-custom-certificates.bak && cp domino-custom-certificates.bak domino-custom-certificates.yaml

3\. Edit the configmap (`domino-custom-certificates.yaml`) to include the new cert along with any existing ones like so, ensuring spacing / indenting is all correct.

...  
custom\_certificates: |  
  -----BEGIN CERTIFICATE-----  
MIIDATCCAemgAwIBAgIJAMQfGTkluTiVMA0GCSqGSIb3DQEBCwUAMBsxGTAXBgNV  
...  
...  
 RSzPv1ciIivMmF0BEG3jBPsrVD5FrtA=     
\-----END CERTIFICATE-----  
  -----BEGIN CERTIFICATE-----  
MIIFATLCABigAwILsPIJAMQfATkluTigMA22CSqGSob45DQEB6UUAMBsxLsYXkgP0  
....  
....  
  -----END CERTIFICATE-----

 4. Apply the configmap

kubectl apply -f domino-custom-certificates.yaml

5\. Apply any CC values for your **SMTP/Service** configuration in the Domino Admin UI, for this example:

      **com.cerebro.domino.email.smtp.host:** smtp-tlsa.lan-domino.com

      **com.cerebro.domino.email.smtp.port:** 25

       **com.cerebro.domino.email.smtp.ssl** : false

       **com.cerebro.domino.email.channel** : starttls

      **com.cerebro.domino.email.smtp.user :** <Username>

      **com.cerebro.domino.email.smtp.password :** <Password>

      **com.cerebro.domino.email.smtp.from :** <SMTP From Email Address>

      **com.cerebro.domino.email.notificationFromAddress :** <Notification Email Address>  

6\. Restart services to bring cert changes into effect.

kubectl get pods -n <namespace> -ojson | jq -r '.items\[\] | select(.spec.volumes\[\]? | select(.configMap.name == ""domino-generated-certificates"")) | .metadata.name' | xargs kubectl delete pod -n <namespace> --wait=false

Note: **You might interrupt user workflows by restarting pods or deleting services. If downtime is acceptable in your environment, you can use the above command to delete all pods. Update the namespace to match the one used in your Domino Platform. If downtime is going to be an issue then restarting frontend services in the interim would be okay to get emails flowing in this example, but step 6 above would be required at preferably low activity periods to restart all services that make use of custom certificates.**

**Notes:** 

[https://docs.dominodatalab.com/en/latest/admin\_guide/4caa42/custom-certificates/](https://docs.dominodatalab.com/en/latest/admin_guide/4caa42/custom-certificates/)

[https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino)  
[https://docs.dominodatalab.com/en/latest/admin\_guide/71d6ad/central-configuration/](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/)

![domino logo.png](https://tickets.dominodatalab.com/hc/article_attachments/20361032349332)"
https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [My new central configuration option does not seem to have taken effect.](https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [AWS EBS CSI driver for EKS 1.23 does not have to be installed separately when you’re also upgrading Domino to a version between 5.3.x and 5.5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x)
*   [Central config setting to prevent users from creating or editing environments](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments)
*   [How to restrict project permissions so that only Admins have the ability to share projects and invite collaborators](https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators)
*   [How to troubleshoot and debug pending backup jobs](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-pending-backup-jobs)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration)

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Not version specific

## **Issue:**

You may have noticed two superuser settings within central config and wondered what these were used for.

|     |     |
| --- | --- |
| `com.cerebro.domino.superuser.apiKey` | Typically set at deployment, the Superuser’s API key is used for interactions between Domino components. Contact your Domino representative if you need assistance. |
| `com.cerebro.domino.superuser.username` | Typically set at deployment, the Superuser’s username is used for interactions between Domino components. Contact your Domino representative if you need assistance. |

## **Resolution:**

The superuser in Domino is used for service to service communication between Domino microservices.  It has some elevated privileges in order to perform these tasks:

Superuser Permissions:

*   all the permissions of a SysAdmin
*   all the permissions of a Practitioner (no explicit product permissions, just the ability to write files to projects and use global compute = start executions)
*   WorkbenchPermission.PublishEvents,  
    WorkbenchPermission.ConsumeExecutionEvents,  
    WorkbenchPermission.ViewHardwareTierCapacity,  
    WorkbenchPermission.RetrieveEnvironmentExecutionParameters,  
    WorkbenchPermission.GetProjectEnvironmentVariables,  
    WorkbenchPermission.ChangeProjectEnvironmentVariables,  
    WorkbenchPermission.GetFullCredential,  
    SeeNotifications,  
    SendEmailFromCatalog

Note that the superuser is not intended to be used outside of the context of inter service communication.   The values are set at deployment and should not be changed.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)

### Related articles

*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTGN3voEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQY%3D--b7f278db23477a1eb64d4fcde5cb59972b4c058d)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTGN3voEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQc%3D--61ae658e782a15834b5e87e78da099d9aaa52a6e)
*   [RStudio 1.4.x in Domino - Temporary solution](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCD%2BhTNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTGN3voEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDg1NDU5MS1SU3R1ZGlvLTEtNC14LWluLURvbWluby1UZW1wb3Jhcnktc29sdXRpb24GOwhUOglyYW5raQg%3D--380b9ac7a87eb0ed962f4d09d5616a36fb9c346d)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTGN3voEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kJ--8349e4f454bc1a3b0abd468bc1b5a5c0261e1477)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRSO9h%2BEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTGN3voEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzIwMzM2MDAyOTQ1Njg0LUFkZGluZy1DdXN0b20tQ2VydGlmaWNhdGVzLXRvLURvbWluby1QcmUtUG9zdC1JbnN0YWxsYXRpb24tQ29uZmlnbWFwcwY7CFQ6CXJhbmtpCg%3D%3D--76e7d3d960063b032f33aa1ad6e3182a60acb143)"
https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x/subscription.html ""Opens a sign-in dialog"")

**Version:**

Domino 5.x

**Issue:**

After clearing cache or starting in a new session in an Incognito tab, on login into the Domino platform, users see **500 internal server errors** or **403 Access Forbidden errors** in the Domino UI. In the frontend logs this would be visible with logs similar to:

E11000 duplicate key error collection: domino.users index: loginId.lowercaseId\_1 dup key: { : ""**username\_123\_user**"" } cor  
relationId=""aLsk3qIeP"" thread=""application-akka.actor.default-dispatcher-21532""

**Root Cause:**

As of Domino 5.x there is a mandatory requirement to ensure that each user has the following attributes filled in for user authentication:

_Username_

_First Name_

_Last Name_

_Email_

SAML/Identity providers must ensure that all of the above attributes are filled in and sent in the SAML token being sent to Domino. If one is missing or the attributes are not matching with what is in Domino then the user will be presented with one of the above errors. Prior to a user showing up in Domino, that user will have to exist in Keycloak, the information kept in MongoDB within Domino is a carbon copy of what is in Keycloak. On new Logins, SAML tokens are refreshed and attributes are obtained and mapped to a user in Keycloak and passed on to Domino for matching.

**Why are these needed any why do they need to match?:** 

*   The **Firstname, Lastname** attributes are used to create default project paths
*   The **Email Address** is used as a main identifier for when you are inviting someone as a collaborator 
*   The **Username** is a primary key

**Resolution:**

Identity providers should ensure that all 4 attributes above are sent with the correctly information to Domino and that _Null_ attributes are not sent. 

In the event that an email address or name has changed, please raise a support ticket with Domino support so that we can look at updating MongoDB with the new details.

**Notes:**

The above issue has cropped up:

1\. During upgrades from 4.x > 5.x

2\. When SSO providers have not filled in all attributes for a user within a SAML token

3\. When users have changed their names or email addresses. 

### Recently viewed articles

*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)

### Related articles

*   [Does Domino Support a multi-tenant cluster?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQSOq1BzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ9U410CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzg0Nzc5MDEwOTkxNTYtRG9lcy1Eb21pbm8tU3VwcG9ydC1hLW11bHRpLXRlbmFudC1jbHVzdGVyBjsIVDoJcmFua2kG--a45844d201f66e94140747332c78e0995c633502)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNjAIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ9U410CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0NDYzMi1GQVEtV2hhdC1pcy1MREFQBjsIVDoJcmFua2kH--788b96ab49c6ca9a1c8e85907bd7bac0f276c757)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ9U410CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCA%3D%3D--3f9f74655e8b6d52d97e58f1f3a8801638b35794)
*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ9U410CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpCQ%3D%3D--de1287e591a69cc3d568b46407e53c969799e742)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR8ngkGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ9U410CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzk5MjE1MzU4MzUxNTYtUnVubmluZy1ELXRhbGUtaW4tSnVweXRlci1ub3RlYm9vawY7CFQ6CXJhbmtpCg%3D%3D--13f3f9038a5b52ecbb8de306c5d0b18340fa1e1b)"
https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino version 5.7 and prior

* * *

## **Issue:**

The backup system involves a cronjob object which spawns pods named something like `domino-workbench-backup-nnnnn`.   These pods can fail with an Error status while the pod logs have output stating ""file changed as we read it"".

![backup.png](https://tickets.dominodatalab.com/hc/article_attachments/17813930921492)

Log example snippet:

```
RuntimeError: Got return code '1' for command: tar -zcvvf /opt/scratch/migration-sessions/20230710-000245.tar.gz 20230710-000245Output:drwxrwxrwx root/root         0 2023-07-10 00:02 20230710-000245/-rwxrwxrwx root/root      1068 2023-07-10 00:05 20230710-000245/config.yaml-rwxrwxrwx root/root  33609587 2023-07-10 00:05 20230710-000245/git.tar.gztar: 20230710-000245/git.tar.gz: file changed as we read it-rwxrwxrwx root/root    218220 2023-07-10 00:05 20230710-000245/keycloak-postgres_archive_local-backup.gz-rwxrwxrwx root/root 375276084 2023-07-10 00:02 20230710-000245/mongo_archive_local-backup.gz-rwxrwxrwx root/root       731 2023-07-10 00:05 20230710-000245/vault-k8s-secrets_local-backup.yaml-rwxrwxrwx root/root   1403893 2023-07-10 00:05 20230710-000245/vault-postgres_archive_local-backup.gz
```

* * *

## **Root Cause:**

The pod runs a script which gathers several files, involving a series of tar commands.  Due to unknown reasons the tar process will complete but successive tar commands trying to access one of the .gz files will fail because the file system perceives that the .gz is still being used by the prior tar command process. 

* * *

## **Resolution:**

Adding a pause in between the tar commands resolves this predicament.

Edit a configmap to add a time.sleep().  You are going to make a change to the ""data:"" section, adding the following:  
   
`kubectl -n domino-platform edit cm domino-data-importer-backup-job-script`  
   
BEFORE:  
 

```
data:  backup-job.sh: |    timeout 1m bash -c ""until curl -sSf http://nucleus-frontend/health; do echo Waiting for network... && sleep 2; done""    importer -c /app/config-4x-example.yaml -b --backup-archive --backup-upload --backup-deletekind: ConfigMapmetadata
```

   
AFTER:  
 

```
apiVersion: v1data:  backup-job.sh: |    timeout 1m bash -c ""until curl -sSf http://nucleus-frontend/health; do echo Waiting for network... && sleep 2; done""    sed -i '/def bundle_backup/a \        import time\n        time.sleep(30)' /app/importer/importer.py    importer -c /app/config-4x-example.yaml -b --backup-archive --backup-upload --backup-deletekind: ConfigMapmetadat.....
```

   
To test validity of your edit scale-up (or scale-down then scale back up) the domino-data-importer:  
`kubectl -n domino-platform scale sts domino-data-importer-0 --replicas=1`    
then `kubectl -n domino-platform exec -it domino-data-importer-0 /bin/bash`   
then via some editor make sure /app/importer/importer.py looks like:  
 

```
    def bundle_backup(self):        import time        time.sleep(30)        new_cfg_path = path_join(self.session_path, ""config.yaml"")        [...]
```

To make this change apply to a re-install edit your agent.yaml to include:

```
release_overrides:  domino-data-importer:    chart_values:      backupJobScript: |        timeout 1m bash -c ""until curl -sSf http://nucleus-frontend/health; do echo Waiting for network... && sleep 2; done""        sed -i '/def bundle_backup/a \        import time\n        time.sleep(30)' /app/importer/importer.py        importer -c /app/config-4x-example.yaml -b --backup-archive --backup-upload --backup-delete
```

* * *

## **Notes/Information:**

Reference: https://docs.dominodatalab.com/en/latest/admin\_guide/72ff13/backup-and-restore/

### **References/Internal Records:**

*   [https://dominodatalab.atlassian.net/browse/PLAT-6951](https://dominodatalab.atlassian.net/browse/PLAT-6951) 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)

### Related articles

*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTtucC%2FDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSK6Z4zEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzE1MTE3MjIzMzI0OTQ4LVNob3VsZC10aGlzLVBWLXBlcnNpc3RlbnRWb2x1bWUtc3RpbGwtYmUtaW4tbXktc3lzdGVtLWluLVJldGFpbi1zdGF0dXMGOwhUOglyYW5raQY%3D--272470658adfcc8f2bae25e6110ef3dd5e1aa056)
*   [How to troubleshoot and debug pending backup jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVx1vWCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSK6Z4zEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzEzMDE1MjkwNzI5NzQ4LUhvdy10by10cm91Ymxlc2hvb3QtYW5kLWRlYnVnLXBlbmRpbmctYmFja3VwLWpvYnMGOwhUOglyYW5raQc%3D--79abb4e6da93bec1f77e6df31cd9ad12d0acc7bb)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSK6Z4zEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kI--701f2d01d484398e29437c986fcbba9b09a94eaf)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRNR51TEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSK6Z4zEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzIwMTUwMzMwMjgxMjM2LVJ1bm5pbmctdG9wLWZyZWUtYW5kLW90aGVyLWNvbW1hbmRzLWluLXdvcmtzcGFjZS10ZXJtaW5hbC1yZXR1cm5zLWludGVyZXN0aW5nLXZhbHVlcwY7CFQ6CXJhbmtpCQ%3D%3D--a67669a1cb977b1795c39bcf7a25d5e576b2fd54)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ06CGzDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSK6Z4zEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzE3MjYyMDQyNDI4NTY0LVZpZXdpbmcteGxzeC1maWxlcy1pbi1wcm9qZWN0cy1yZXN1bHRzLWluLWEtY3Jhc2gGOwhUOglyYW5raQo%3D--bb97bbfc08ea404ad0f79ea9d089bfa58dd9b35e)"
https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash/subscription.html ""Opens a sign-in dialog"")

**Issue:** An error or a crash (502) appears when trying to view/open a xlsx file from a Domino project file browser. 

**Affected versions:**  5.5.0-2,  5.6.0

**Root cause:**  This is a known bug which has been patched in later Domino versions.   
A crash may occur when user is trying to open xlsx files which then causes a nucleus frontend pod to stop working and restart.  Subsequent request from the user might be impacted for a short time frame (until the pod is restarted) .

![](https://tickets.dominodatalab.com/hc/article_attachments/17261793401620)

If the page is reloaded, the user might encounter a  ""502 Bad Gateway"" page, which can also be seen in the browser developer tools. 

![](https://tickets.dominodatalab.com/hc/article_attachments/17261890355732)

![](https://tickets.dominodatalab.com/hc/article_attachments/17261937116180)  

In a production setting when there are more than 1 frontend pods the platform will not be as severely impacted from the restart. 

**Remediation:** This bug has has been addressed and a patch applied in newer releases in all 3 major version families.

**Symptom in backend:** Frontend logs have an exception containing

ERROR \[a.a.ActorSystemImpl\] Uncaught error from thread \[application-akka.actor.default-dispatcher-175\]: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream, shutting down JVM since 'akka.jvm-exit-on-fatal-error' is enabled for ActorSystem\[application\] thread=""application-akka.actor.default-dispatcher-211""  
java.lang.NoClassDefFoundError: org/apache/commons/io/output/UnsynchronizedByteArrayOutputStream

**Affected versions:**  5.5.0-2,  5.6.0

**Fixed versions:**  5.5.3, 5.6.1, 5.7.0 

Versions prior to 5.5.0 are not affected. 

### Recently viewed articles

*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)

### Related articles

*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ06CGzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kG--fe385f2042c3e3567acf30ddf6d8e303da35626e)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSWLuD0DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ06CGzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzE3NTQ0NDA3NTg2MzI0LVVuYWJsZS10by1jb25uZWN0LXRvLWRhdGEtc291cmNlLWZyb20tc3BhcmsGOwhUOglyYW5raQc%3D--d9150728091bed0e1cc8f35bfbde89b113550a94)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRiQJUbCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ06CGzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy84OTE0NTYxMTYzNzk2LVdoYXQtaGFwcGVucy13aGVuLXlvdS1yZXN0YXJ0LXNlcnZpY2VzLXZpYS10aGUtVUktYWZ0ZXItbWFraW5nLWEtQ2VudHJhbC1Db25maWd1cmF0aW9uLWNoYW5nZQY7CFQ6CXJhbmtpCA%3D%3D--212310009592563a9ce2a5ee3bf62838fb5e6fb8)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ06CGzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kJ--a73380fee9acf4be24cb65c43a7571d0a72dc915)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS2pKwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ06CGzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4Mjc4ODg2NjAtSG93LXRvLUZpbmQtVXNlci1JbmZvcm1hdGlvbi1pbi1hLURvbWluby1SdW4tUG9kBjsIVDoJcmFua2kK--5c00e5e00cc36b6b0578f2b82be85b86532fe837)"
https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently/subscription.html ""Opens a sign-in dialog"")

We've seen a handful of cases where users' login credentials seem to expire within a few minutes of logging in. If you have AWS credential propagation setup you'll want to check the following values under Central Config (Admin > Advanced): 

`com.cerebro.domino.auth.aws.sts.enabled`

`com.cerebro.domino.auth.aws.sts.defaultSessionDuration`

`com.cerebro.domino.auth.aws.sts.region`

You'll find the proper settings for these in our credential propagation docs found [here](https://docs.dominodatalab.com/en/latest/admin_guide/eb6a88/aws-credential-propagation/#_enable_credential_propagation_in_domino).

The next place to check would be Keycloak. Our Keycloak timeout settings are 60 days by default. However, this can be adjusted in a handful of ways. Please see the [Keycloak documentation](https://www.keycloak.org/documentation) for guidance. 

If all these settings appear to be correct but users are still being asked to login repeatedly, you may want to adjust the ""clock skew"" within Keycloak. We suggest starting that at 120s then adjusting up or down depending on how the system responds. 

If you're still having trouble diagnosing the issue, please reach out to the support team for help. 

### Recently viewed articles

*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)

### Related articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQY%3D--91cb91ca9bcff2c53d2eef466cbe1b57a7bfd101)
*   [Cannot Login - Client Disabled](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEOAX9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjA5MTMzMS1DYW5ub3QtTG9naW4tQ2xpZW50LURpc2FibGVkBjsIVDoJcmFua2kH--a257d284a085fdb0b4aa3ce7cb9716081b295a4d)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRlLH0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ0NDE1Mzk4NjAtLTQwMy1Gb3JiaWRkZW4tYW5kLUpXVC10b2tlbi1leHBpcmF0aW9uLWluLWxvbmctcnVubmluZy1weXRob24tZG9taW5vLXVzYWdlBjsIVDoJcmFua2kI--2945345736356a88c7d854e94d44c5b3ff7184ef)
*   [Azure : Access the nodes w/o ssh or teleport access](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHvKFqBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzQ4NTYwMjY1MTUzNDgtQXp1cmUtQWNjZXNzLXRoZS1ub2Rlcy13LW8tc3NoLW9yLXRlbGVwb3J0LWFjY2VzcwY7CFQ6CXJhbmtpCQ%3D%3D--40fa0c8dda7351bb1e249f531772da9b4765a625)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 3.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2Bl05iBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAyNzE4NzM1NTYtUmVzdGFydGluZy1Gcm9udGVuZC1EaXNwYXRjaGVyLVJhYmJpdE1RLWxvZ3Mtb24tRG9taW5vLXZlcnNpb24tMy14BjsIVDoJcmFua2kK--9ff1cccc64ce9f1dff686ffcc24141f6740760e0)"
https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend/subscription.html ""Opens a sign-in dialog"")

**Issue:** In some cases you might need to add custom headers to Domino frontend. While there is no option for this in the UI there is a method to change or add additional headers. 

**Note:** Before applying this solution to any production deployment we strongly recommend reviewing the proposed change with your Domino Technical Account Manager or performing a thorough tests in a development/staging environment first . As this change will affect all responses coming from the platform. 

**Solution:**  The headers returned from Domino frontend and nucleus service are controlled by several configmaps in kubernetes. To change or add additional headers you will require administrative privileges to the kubernetes cluster for Domino. 

The frontend configmap should include 2 additional configmaps for it's nginx: 

\# kubectl edit configmap -n domino-platform nginx-ingress-controller

....TRUNCATED...  
apiVersion: v1  
data:  
add-headers: domino-platform/nginx-ingress-custom-add-headers  
....TRUNCATED....  
proxy-set-headers: domino-platform/nginx-ingress-custom-proxy-headers  
....TRUNCATED...

In this example we are adding ""**X-Frame-Options: SAMEORIGIN**"" and ""**X-Content-Type-Options: nosniff**"" .   
Add the desired headers to ""**nginx-ingress-custom-proxy-headers**"" :

\# kubectl edit configmap -n domino-platform nginx-ingress-custom-proxy-headers 

apiVersion: v1  
data:  
**X-Content-Type-Options: nosniff**  
**X-Frame-Options: SAMEORIGIN**  
...TRUNCATED....

Add the desired headers to ""**nginx-ingress-custom-add-headers**""

\# kubectl edit configmap -n domino-platform nginx-ingress-custom-add-headers

apiVersion: v1  
data:  
...TRUNCATED....  
**X-Content-Type-Options: nosniff**  
**X-Frame-Options: SAMEORIGIN**  
.....TRUNCATED.....

After the change you will have to do a restart of all ""**nginx-ingress-controller**"" pods the new headers to be included. 

Once the headers are added to the ingress nginx we might want to add the to the nucleus service as well . To do this you will have to edit configmap ""**nucleus-nginx-conf**"" . 

 # kubectl edit configmap -n domino-platform nucleus-nginx-conf

....TRUNCATED...  
proxy\_set\_header Origin http://127.0.0.1:8999;add\_header **X-Frame-Options SAMEORIGIN** always;  
**proxy\_set\_header X-Content-Type-Options nosniff;**  
...TRUNCATED......

**Note:** The ""**X-Frame-Options: SAMEORIGIN**"" would normally be set by default in nucleus-nginx. 

After the change we will need restart of the ""**nucleus-frontend**"" pod. 

Once all changes are complete we can test the headers with curl: 

**Testing before the change:**

   
$ curl [https://<YOUR\_DOMINO\_URL/>](https://<YOUR_DOMINO_URL/>) --head 

 HTTP/1.1 302 Found  
Date: Thu, 14 Sep 2023 12:07:50 GMT  
Content-Length: 0  
Connection: keep-alive  
Location:   TRUNCATED...............  
WWW-Authenticate: Basic realm=""authentication required""  
Play-Processing-Time: 8  
Domino-Server: nginx-ingress,nucleus,  
**X-Frame-Options: SAMEORIGIN**  
Content-Security-Policy: frame-ancestors 'self'  
Strict-Transport-Security: max-age=15768000

 **Testing after the change:**

   
$ curl [https://<YOUR\_DOMINO\_URL>/](https://<YOUR_DOMINO_URL>/) --head 

 HTTP/1.1 302 Found  
Date: Thu, 14 Sep 2023 13:15:26 GMT  
Content-Length: 0  
Connection: keep-alive  
....TRUNCATED  
SameSite=Lax; Path=/; Domain=emeaplay8959.support-team-sandbox.domino.tech; Secure; HTTPOnly  
Cache-Control: no-cache, no-store, must-revalidate, max-age=0  
WWW-Authenticate: Basic realm=""authentication required""  
Play-Processing-Time: 7  
Domino-Server: nginx-ingress,nucleus,  
**X-Frame-Options: SAMEORIGIN**  
Content-Security-Policy: frame-ancestors 'self'  
Strict-Transport-Security: max-age=15768000  
**X-Content-Type-Options: nosniff**

**Note:** Domino consist of multiple components, some IDEs for example can overwrite the headers we send. A typical example would be in the case of a workspace and VScode. 

### Recently viewed articles

*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)

### Related articles

*   [Content Security Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCiiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSe62WSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzc1Mi1Db250ZW50LVNlY3VyaXR5LVBvbGljaWVzBjsIVDoJcmFua2kG--f643c322b12e6cbc59f9b2a1aadf18826e6b7a5d)
*   [Overhead for Spark Workers (Executors)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSe62WSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTMxMi1PdmVyaGVhZC1mb3ItU3BhcmstV29ya2Vycy1FeGVjdXRvcnMGOwhUOglyYW5raQc%3D--30abd83628e1a55501b787464ea2839a46f366bb)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSe62WSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpCA%3D%3D--097a77a17fe4b7b45754f2199673861ce12cd469)
*   [Apps: Feature request to automatically shut down apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRYQYCrCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSe62WSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzExNzMxNzA3NDUxNDEyLUFwcHMtRmVhdHVyZS1yZXF1ZXN0LXRvLWF1dG9tYXRpY2FsbHktc2h1dC1kb3duLWFwcHMGOwhUOglyYW5raQk%3D--126b8a8c7473a5822da75afd6a49a2225e6fe70c)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSe62WSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQo%3D--b5005435a3681526e1651fef578798c2d715e996)"
https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This is a general article, relevant to all versions of Domino.

* * *

## **Issue:**

There are times, when we make changes to a K8s environment, especially `deployment,statefulset,service,configmaps`, and we want to execute an instant backup to ensure nothing is permanently forgotten or lost.

* * *

## **Resolution:**

Here is a quick backup script that can be run across all namespaces which will perform `kubectl get -o yaml` across many important resources/artifacts individually and route them individually to yaml files.

```
i=$((0))
for n in $(kubectl get -o=custom-columns=NAMESPACE:.metadata.namespace,KIND:.kind,NAME:.metadata.name deployment,statefulset,service,configmaps --all-namespaces | grep -v 'secrets/default-token')
do
        if (( $i < 1 )); then
                namespace=$n
                i=$(($i+1))
                if [[ ""$namespace"" == ""PersistentVolume"" ]]; then
                        kind=$n
                        i=$(($i+1))
                fi
        elif (( $i < 2 )); then
                kind=$n
                i=$(($i+1))
        elif (( $i < 3 )); then
                name=$n
                i=$((0))
                echo ""saving ${namespace} ${kind} ${name}""
                if [[ ""$namespace"" != ""NAMESPACE"" ]]; then
                        mkdir -p $namespace
                        kubectl get $kind -o=yaml $name -n $namespace > $namespace/$kind.$name.yaml
                fi
        fi
done
```

Example output:

```
root@ip-10-0-0-19:/tmp/backup# ./backup.sh
saving NAMESPACE KIND NAME
saving cattle-system Deployment cattle-cluster-agent
saving k2evict249525-compute Deployment forge
saving k2evict249525-compute Deployment model-60ea801723f7e46bef8fb44f
saving k2evict249525-compute Deployment replicator
saving k2evict249525-platform Deployment controlfreak
...
```

```
root@ip-10-0-0-19:/tmp/backup# ls -LR
.:
backup.sh  cattle-system  default  k2evict249525-compute  k2evict249525-platform  k2evict249525-system  kube-system

./cattle-system:
Deployment.cattle-cluster-agent.yaml
```

* * *

## **Notes/Information:**

The individual .yaml files can be useful for reviewing differences or using them with a kubectl apply command for restoration.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)

### Related articles

*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvZDkzBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTTYXhFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzU3MTc1NjQzMzgwNjgtVXNlZnVsLUxhYmVscy1mb3ItUnVubmluZy1LdWJlY3RsLUNvbW1hbmRzLUFnYWluc3QtUG9kcy1pbi10aGUtQ29tcHV0ZS1OYW1lc3BhY2UGOwhUOglyYW5raQY%3D--83a52eab497a557782326cffdd8603675e20376f)
*   [My SAS Workspace is notifying me it has insufficient space](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShDdwxBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTTYXhFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ2MTIxOTE3ODkzMzItTXktU0FTLVdvcmtzcGFjZS1pcy1ub3RpZnlpbmctbWUtaXQtaGFzLWluc3VmZmljaWVudC1zcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--56d93dbe4ed7d79af36c7a85494f0efafb00f652)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS2pKwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTTYXhFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4Mjc4ODg2NjAtSG93LXRvLUZpbmQtVXNlci1JbmZvcm1hdGlvbi1pbi1hLURvbWluby1SdW4tUG9kBjsIVDoJcmFua2kI--7639115d07d46196dd37a8d0522fab8f873c99b1)
*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIjAIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTTYXhFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0NDU1Mi1EZXRhaWxzLW9mLURvbWluby1BTUktaGFyZGVuaW5nLXByb2Nlc3MGOwhUOglyYW5raQk%3D--00e5a1e6eb59689cbf4e13e24ceae1b558a00965)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRNR51TEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTTYXhFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzIwMTUwMzMwMjgxMjM2LVJ1bm5pbmctdG9wLWZyZWUtYW5kLW90aGVyLWNvbW1hbmRzLWluLXdvcmtzcGFjZS10ZXJtaW5hbC1yZXR1cm5zLWludGVyZXN0aW5nLXZhbHVlcwY7CFQ6CXJhbmtpCg%3D%3D--b2aa2d19218bd9f804ac46561790aac95abc2220)"
https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino, except 5.5.2 and 5.7.x+ where the known issue is fixed.

* * *

## **Issue:**

Customers are free to deploy Domino to any existing AWS region. Domino does not restrict by AWS region.

  
However, you may run into the `string does not match regex` error when trying to deploy Domino in certain regions. The error indicates that the string does not match any AWS region pattern.

* * *

## **Root Cause:**

This is a known issue that is fixed in Domino versions 5.5.2 and 5.7.x+. For reference, DOM-46809. This error occurs when trying to deploy to specific regions, e.g. me-central-1 (Middle East UAE), that are excluded from an outdated list of AWS regions. This is due to a bug related to an open source project called [Distribution](https://github.com/distribution/distribution), on which Domino’s in-cluster container registry is based. The way the Distribution project identifies valid AWS regions is stale, excluding relatively new regions such as the UAE region.

* * *

## **Resolution:**

In Domino versions 5.5.2 and 5.7.x+, the [Domino configuration yaml](https://docs.dominodatalab.com/en/latest/admin_guide/5765ba/installation-overview/) should now validate successfully during installation since we now validate against an [up-to-date list of AWS regions](https://docs.aws.amazon.com/general/latest/gr/s3.html). 

* * *

## **Notes/Information:**

Please note that for customers deploying to EKS on AWS, Domino highly recommends using [our Terraform modules](https://github.com/dominodatalab/terraform-aws-eks), which launched into general availability in Domino version 5.6.0. Terraform modules enable automated provisioning of EKS infrastructure without the use of the AWS CDK. See the [provisioning guide](https://docs.dominodatalab.com/en/latest/admin_guide/e0f2ff/provision-infrastructure-and-runtime-environment/). For more general guidance, please refer to [Requirements](https://docs.dominodatalab.com/en/latest/admin_guide/8fe42a/requirements/) and [Installation Overview](https://docs.dominodatalab.com/en/latest/admin_guide/5765ba/installation-overview/) sections of Domino’s public documentation.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)

### Related articles

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQltx7SEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQL4dufDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzIxNzkzMTc5Mzc4OTY0LS1taXNzaW5nLXNhdmVkLXN0YXRlLWVycm9yLXdoZW4tdXNpbmctR3JhZmFuYS1TU08GOwhUOglyYW5raQY%3D--9258802c254b5235d1e62a3582c5ba005607e51b)
*   [How to Change Project Visibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCO60EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQL4dufDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzQ0MTgxMzI3Mzg3MDgtSG93LXRvLUNoYW5nZS1Qcm9qZWN0LVZpc2liaWxpdHkGOwhUOglyYW5raQc%3D--f366ba8c74076aed143a085b8bb14681041abced)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQL4dufDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQg%3D--d18665db88c017f696f0d503e88278b38178ea67)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRSg0w3DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQL4dufDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzE1NjMwNjY5NjY0Nzg4LUhvdy10by1jcmVhdGUtYS10ZXN0LU1vZGVsLUFQSS11c2luZy10aGUtc2FtcGxlLW1vZGVsLXB5LWZpbGUGOwhUOglyYW5raQk%3D--eb0bd70120e25c2c2d940bfe4b56061cd79d24e9)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206726-Resource-Management,"## Resource Management

*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [Connecting to Domino Model Monitor (DMM) Redis](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604-Connecting-to-Domino-Model-Monitor-DMM-Redis)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)
*   [Update your domino.yaml with resource updates to persist across runs of the installer.](https://tickets.dominodatalab.com/hc/en-us/articles/17466471934228-Update-your-domino-yaml-with-resource-updates-to-persist-across-runs-of-the-installer)
*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)
*   [FailedMount event ""efs.csi.aws.com not found in the list of registered CSI drivers""](https://tickets.dominodatalab.com/hc/en-us/articles/15124626807188-FailedMount-event-efs-csi-aws-com-not-found-in-the-list-of-registered-CSI-drivers)
*   [Dataset(s) & Snapshot visibility in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/13945870768404-Dataset-s-Snapshot-visibility-in-MongoDB)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Unable to register a Model Monitor that uses a file from S3 Datasource](https://tickets.dominodatalab.com/hc/en-us/articles/5381843170580-Unable-to-register-a-Model-Monitor-that-uses-a-file-from-S3-Datasource)
*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code)
*   [Set up an AWS Budget and Alert](https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/articles/4403908425620-Can-I-restrict-a-hardware-tier-to-a-specific-project)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces)
*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/articles/360058043032-How-are-hardware-tiers-related-to-AWS-EC2-instance-type)
*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings)
*   [Model resource quotas](https://tickets.dominodatalab.com/hc/en-us/articles/360024559051-Model-resource-quotas)
*   [Executor lifecycle management](https://tickets.dominodatalab.com/hc/en-us/articles/360000354426-Executor-lifecycle-management)
*   [Diagnosing a stuck queue](https://tickets.dominodatalab.com/hc/en-us/articles/115000152523-Diagnosing-a-stuck-queue)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203503-Security-and-Privacy,"## Security and Privacy

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203503-Security-and-Privacy/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000203503-Security-and-Privacy/subscription.html?subscribe_to_grandchildren=true)

*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process)"
https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in/subscription.html ""Opens a sign-in dialog"")

**Question:  
**How long will user-sessions remain active in Domino Data Lab, what are the factors around timeout and re-login?

**ANSWER:  
**

It depends on your values for SSO Session Idle and SSO Session Max. You will need to review Keycloak settings for your specific implementation to answer this question.  These three steps will give you access to keycloak settings:

1\. Gather your password via

kubectl get secret -n domino-platform keycloak-http -ogo-template='{{.data.password | base64decode}}'; echo

2\. Browse https://your domino-domain /auth/

3\. User name for the site above is keycloak, choose DominoRealm, then navigate to ""Realm Settings"" -> ""Tokens"" to view the settings.

There are a few interesting settings found in Keycloak that impact the timeout of the user-session.  

1\. SSO Session Max is the maximum amount of time someone can be logged-in to Domino Data Lab before their user-session would be logged out and they would be pushed back thru the authentication process.   No matter how long they keep their browser sessions open this is the total duration before they'll be logged out.

2\. SSO Session Idle - If a user is inactive for longer than this timeout, the user-session is invalidated.  
If the user closes their browser window or navigates away from your Domino instance pages they are considered inactive.   So if they navigate away or close the browser, then the user-session will timeout when the “SSO Session Idle” time elapses since they left a Domino page.   Once timed-out they'll be pushed back thru authentication.    

(If the user never closes their browser and remains on a Domino page this SSO Session Idle will never elapse and they'll remain logged-in until the SSO Session Max is exceeded)

3\. Access Token Lifespan This defines how long our _access token_ is valid. Domino will not check the validity of the user’s authentication with Keycloak until this token expires. So, for example, if a customer admin kills the Keycloak session for a particular user (or all users), Domino won’t recognize this until the access token expires, so a user might not be routed to the login page for some time based on this value.  We recommend this be set to something short, like 5 minutes.

4\. Offline Session Idle  Offline sessions are run-oriented, not login/browsing-oriented.  In keycloak this defines the lifespan of the refresh token. It's the maximum time the user’s session is allowed to remain idle before the offline token is revoked. In Domino, this is the maximum time between when one execution (job, app, scheduled run) finishes and the next one starts (for the same user).   If the Offline Session Idle value is too low, your users might encounter intermittent failures such as scheduled Jobs failing and Workspaces not starting, so we recommend starting with 60 days.

Note - the above applies to Domino Data Lab 4.x thru at least 5.3.x

### Recently viewed articles

*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)

### Related articles

*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2FODZaBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTd8XFXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzY5ODQ1MjY1MTE4OTItSG93LXRvLWxvZ291dC1vci1lbmQtYS11c2VyLXMtdXNlci1zZXNzaW9uLWZyb20tRG9taW5vBjsIVDoJcmFua2kG--4baa524adc2db0f3680523adfa8d0918ed7244be)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTd8XFXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQc%3D--9c287dc1b89e2bfb2fb999aa1046b8c1b853cd8a)
*   [Can Not Access App: Unauthorized : you must be authenticated to access this page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXze46BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTd8XFXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ2NTExNjEwNjUzNjQtQ2FuLU5vdC1BY2Nlc3MtQXBwLVVuYXV0aG9yaXplZC15b3UtbXVzdC1iZS1hdXRoZW50aWNhdGVkLXRvLWFjY2Vzcy10aGlzLXBhZ2UGOwhUOglyYW5raQg%3D--9777c662fc54b4456e770ca746f3410fbaf4a9e6)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTd8XFXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--d05300c0b58000c8fd4892114ecbb457a0537355)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTd8XFXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--fa33c9680c963eea5f738200d82e23bba291936c)"
https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana,"## Grafana

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana/subscription.html?subscribe_to_grandchildren=true)

In-cluster monitoring and alerting."
https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Current as of 5.8.

* * *

## **Issue:**

This applies to ""Compute"", meaning the PersistentVolumes associated with the Compute namespace workloads like workspaces, apps, jobs, etc.

A customer noticed that some PVs still have a Retain policy for Domino Executions that appear to be stopped. Even after deleting workspaces, apps etc the PVs remain in the cluster rather than moving to a ""delete"" policy for quick removal.  Is this expected?

* * *

## **Root Cause:**

PV retention behavior can differ for jobs and workspaces per:  
[https://admin.dominodatalab.com/en/latest/admin\_guide/cd38c2/manage-persistent-volumes/](https://admin.dominodatalab.com/en/latest/admin_guide/cd38c2/manage-persistent-volumes/)

A short summary from the above link regarding Jobs is "" the PV unmounts and sits idle until it is either reused for the user’s next job or garbage collected ."" And regarding Workspaces the summary is ""A durable workspace PV will only be deleted if the user deletes the associated workspace.""

So if your PV is for a job then that PV will be retained until garbage collection (see Resolution below) for the PV occurs.  If your PV was for a workspace then it will be retained until the workspace is deleted.

* * *

## **Resolution:**

For workspaces you can find PVC information and state of a workspace in the Admin->Workspace page.  There you can also access and delete the workspace if it is unneeded to trigger the deletion of the PV.

For Jobs PVs are garbage collected based on two Central Config settings.

By default, Domino will:

*   Limit the total number of idle (not bound) PVs to 32. You can modify this via: `com.cerebro.domino.computegrid.kubernetes.volume.maxIdle` 
    
*   Terminate any idle PV that has not been used in `7` days. You can modify this via: `com.cerebro.domino.computegrid.kubernetes.volume.maxAge` 
    

If you are desperate to clean up space you can ensure Jobs or Apps are no longer running (no Pod running matching their run-id/execution id), thus making the PV ""Available"" instead of ""Bound"", then manually remove any PVC and PV. 

* * *

## **Notes/Information:**

Per [https://admin.dominodatalab.com/en/latest/admin\_guide/c29bdf/garbage-collection/](https://admin.dominodatalab.com/en/latest/admin_guide/c29bdf/garbage-collection/) , the more idle volumes you allow, the more likely it is that users (Jobs) can reuse a volume and avoid having to copy project files from the blob store. However, this comes at the cost of keeping additional idle PVs.

Background:  Reclaim policy of a PV tells the cluster what to do with the volume after it is released. With the “Retain” policy, if we delete the PVC (PersistentVolumeClaim) the corresponding PersistentVolume is not deleted.  With ""Delete"" policy the PV can be removed once the corresponding PVC is removed (since the PV is no longer bound).

Delete/Bound - Workspace stopped or Workspace/Job/App running.

Delete/Available - Not Applicable since k8s will remove the PV once the PVC is gone.   
Retain/Available - Job or app completed/stopped, garbage-collection candidate depending on how long it has been idle/unused.

Delete/Released - Likely in process of being removed by k8s cluster (describe the PV for more info)  
Retain/Released - This is normally a fairly short-lived state. 

Final Note, in AWS you might see an ""In Use"" and Available fields.  These help indicate whether the volume is attached a running ec2 instance.  For a stopped workspace you would expect In Use to be false.  And for a stopped workspace you'd expect Available to be true.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)

### Related articles

*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTtucC%2FDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kG--54551c3c5b8cc2b2499baece72a4e137ab503b57)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTtucC%2FDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kH--40beadb58d26c3fd03ef314860ebb84fd3502d70)
*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMgGWtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTtucC%2FDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTczMjU1Mi1SZXN1bWFibGUtd29ya3NwYWNlLWNhbm5vdC1iZS1zdG9wcGVkLW9wZW5lZC1vci1kZWxldGVkLURvbWluby00LTQtMC00LTYteAY7CFQ6CXJhbmtpCA%3D%3D--df5199b432685d4c1c0da029852a2f1db818e4b9)
*   [dca.init() hangs on older Domino Standard Environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRqZ5lTEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTtucC%2FDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzIwMTUwMjY1Mjc2OTQ4LWRjYS1pbml0LWhhbmdzLW9uLW9sZGVyLURvbWluby1TdGFuZGFyZC1FbnZpcm9ubWVudHMGOwhUOglyYW5raQk%3D--d781b804d9c37b7d799623b94961aa03c7f6b4d2)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSK6Z4zEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTtucC%2FDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE3ODEzODk1NDgyMDA0LWRvbWluby13b3JrYmVuY2gtYmFja3VwLWZhaWxzLWZpbGUtY2hhbmdlZC1hcy13ZS1yZWFkLWl0BjsIVDoJcmFua2kK--a87a70b9ea5e6e92d7383af5eb97f717010d4684)"
https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO,"![](https://tickets.dominodatalab.com/system/photos/360206466051/IMAG0166.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

When using Chrome on MacOS (and possibly other browser/OS combinations) we have seen Grafana SSO fail with the message ""login.OAuthLogin(missing saved state""

![](https://user-images.githubusercontent.com/4780760/75600473-8d2d3100-5a64-11ea-979e-532c66176763.jpg)

## **Root Cause:**

It is not fully understood what causes this issue as it has only been seen once, however it is believed to be an issue with the browser and not Grafana as seen in this [Grafana bug report](https://github.com/grafana/grafana/issues/17925).

## **Resolution:**

Close the browser window and then try logging in again. The error seems to only occur on the first attempt to login to Grafana using SSO.

## **Notes/Information:**

This issue only seems to occur on the first ever attempt at login to Grafana using SSO with a new user and does not seem to be consistently reproducible.

### Recently viewed articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)

### Related articles

*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQltx7SEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQY%3D--b7333fc3a8a669531225c4a865f0b4909b118d0e)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process)

![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: katie.shakman

### We were asked about the details of Domino AMI hardening process.

Here's a summary of the main points Domino uses for selection and configuration of Domino AMIs below. In addition to the host preparation process it's important to note that access to the Domino environment is always gated through the Domino Router and and Domino Frontend with all user code being sandboxed within Domino Run containers. The as-built configuration of Domino hosts roughly adheres to the CIS benchmark for Ubuntu LTS.

**Domino Amazon Machine Image Selection and Configuration**

Domino uses upstream Ubuntu LTS cloud images as a base. Domino regularly sources the latest available AMI ID from [Ubuntu Cloud Images](https://cloud-images.ubuntu.com/) to build Domino hosts which adhere to common security best practices.

*   Enforce the Ubuntu LTS security channel at least every 24-hours.
*   Expose only services relevant to Domino Core and Supporting services.
*   Enforce non-privilege accounts to run exposed services.
*   Enforce file and process limits.
*   Enforce ephemeral port range, networking forward and cache timeout kernel parameters.
*   Centrally log all Domino Core and Supporting service activity.
*   Generate secure secrets for all services and accounts.
*   Generate mutual certificates using secure parameters.
*   Segregate local storage for the Domino application and system services via separate EBS volumes.
*   Restrict access to instance metadata.
*   Disable password authentication.
*   Disable remote root login.

### Recently viewed articles

*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)

### Related articles

*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQY%3D--13f1ca0caba5a99793558979779a0a7dab9a4564)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpBw%3D%3D--667193475a2ab9dfd4754eff83d9628a6b48e263)
*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJROXYKREzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzIxNTE1Njc4MzM4NzA4LS12bS1tZW1vcnktaGlnaC13YXRlcm1hcmstZXJyb3ItaW4tUmFiYml0TXEtc2VydmljZS1sb2dzBjsIVDoJcmFua2kI--4c9e7fc45298aff49f7ce98893e3981c00b93314)
*   [sbt and yarn related environment building errors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQUS21%2BDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzE3MDM1NjczOTMyOTQ4LXNidC1hbmQteWFybi1yZWxhdGVkLWVudmlyb25tZW50LWJ1aWxkaW5nLWVycm9ycwY7CFQ6CXJhbmtpCQ%3D%3D--5f8244a8e9ed63fda5545c031472273692510556)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCg%3D%3D--79e3f80bbdc0da13e0e5a94674d8ec51fefee2a1)"
https://tickets.dominodatalab.com/hc/en-us/sections/23339918993940-Infrastructure-and-Kubernetes,"## Infrastructure and Kubernetes

*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [Workspaces not scaling up nodes and stuck in 'Assigning' stage](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [Image Cache Agent Continually restarts](https://tickets.dominodatalab.com/hc/en-us/articles/17381749347732-Image-Cache-Agent-Continually-restarts)
*   [Postgres slave in a crashloopbackoff](https://tickets.dominodatalab.com/hc/en-us/articles/17034955220628-Postgres-slave-in-a-crashloopbackoff)
*   [smarter-device-manager pods in CrashLoopBackOff](https://tickets.dominodatalab.com/hc/en-us/articles/15741756421012-smarter-device-manager-pods-in-CrashLoopBackOff)
*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/articles/15713619821716-Calico-pods-unhealthy)
*   [Changing Nginx Side Car limits](https://tickets.dominodatalab.com/hc/en-us/articles/15601020434196-Changing-Nginx-Side-Car-limits)
*   [Pods stuck in ContainerCreating with an event mentioning errno 524](https://tickets.dominodatalab.com/hc/en-us/articles/15477616228628-Pods-stuck-in-ContainerCreating-with-an-event-mentioning-errno-524)
*   [Dispatcher message: ""Timed out waiting for entity reflector to become valid""](https://tickets.dominodatalab.com/hc/en-us/articles/14959820034580-Dispatcher-message-Timed-out-waiting-for-entity-reflector-to-become-valid)
*   [Datasets page fails to load with error: ""Failed to fetch Dataset details.""](https://tickets.dominodatalab.com/hc/en-us/articles/13430961046036-Datasets-page-fails-to-load-with-error-Failed-to-fetch-Dataset-details)
*   [Increasing the memory for Redis on Domino deployments](https://tickets.dominodatalab.com/hc/en-us/articles/13406734848788-Increasing-the-memory-for-Redis-on-Domino-deployments)
*   ['Something Went Wrong' error in Domino UI due to js-agent.newrelic.com](https://tickets.dominodatalab.com/hc/en-us/articles/12890128433044--Something-Went-Wrong-error-in-Domino-UI-due-to-js-agent-newrelic-com)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id)
*   [Increased user activity leads to the Cluster Autoscaler not scaling down nodes](https://tickets.dominodatalab.com/hc/en-us/articles/12606361078676-Increased-user-activity-leads-to-the-Cluster-Autoscaler-not-scaling-down-nodes)
*   [How to access RabbitMQ web user interface](https://tickets.dominodatalab.com/hc/en-us/articles/11417376124692-How-to-access-RabbitMQ-web-user-interface)
*   [Prometheus-adapter has OOMkilled failure](https://tickets.dominodatalab.com/hc/en-us/articles/11279382735252-Prometheus-adapter-has-OOMkilled-failure)
*   [Out of space error while writing to /var/opt/git in Nucleus FrontEnd logs](https://tickets.dominodatalab.com/hc/en-us/articles/11190752575380-Out-of-space-error-while-writing-to-var-opt-git-in-Nucleus-FrontEnd-logs)
*   [Using ssh in Domino 4 and 5](https://tickets.dominodatalab.com/hc/en-us/articles/10255782656020-Using-ssh-in-Domino-4-and-5)
*   [Dispatcher log has ""Error post-processing run.... domino.authz.NotAuthorizedException: Not authorized""](https://tickets.dominodatalab.com/hc/en-us/articles/9859908030612-Dispatcher-log-has-Error-post-processing-run-domino-authz-NotAuthorizedException-Not-authorized)
*   [kubectl - An error occurred (AccessDenied) when calling the AssumeRole operation:](https://tickets.dominodatalab.com/hc/en-us/articles/9725997625748-kubectl-An-error-occurred-AccessDenied-when-calling-the-AssumeRole-operation)
*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/articles/9662562843284-Does-Domino-support-IMDSv2)
*   [Extending an LV without moving the underlying data](https://tickets.dominodatalab.com/hc/en-us/articles/9274369611412-Extending-an-LV-without-moving-the-underlying-data)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/articles/9151903649812-500-and-400-errors-due-to-com-bettercloud-vault-VaultException-using-K8s-1-21-on-Domino-4-6-x-5-x-up-to-5-2-2-and-5-3-0)
*   [Does Domino Support a multi-tenant cluster?](https://tickets.dominodatalab.com/hc/en-us/articles/8477901099156-Does-Domino-Support-a-multi-tenant-cluster)
*   [NFS failure on RedHat NFS server (RedHat 6/7)](https://tickets.dominodatalab.com/hc/en-us/articles/8438242916500-NFS-failure-on-RedHat-NFS-server-RedHat-6-7)
*   [lookup failures 'mongodb-replicaset on 10.85.0.10:53: no such host'](https://tickets.dominodatalab.com/hc/en-us/articles/7720907792020-lookup-failures-mongodb-replicaset-on-10-85-0-10-53-no-such-host)
*   [htop – Interactive Process Viewer - A brief overview](https://tickets.dominodatalab.com/hc/en-us/articles/6628435398036-htop-Interactive-Process-Viewer-A-brief-overview)
*   [Extending a LV from existing disks](https://tickets.dominodatalab.com/hc/en-us/articles/6555762877716-Extending-a-LV-from-existing-disks)"
https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook,"![](https://tickets.dominodatalab.com/system/photos/5513138804244/IMG_1008.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook/subscription.html ""Opens a sign-in dialog"")

DNS is crucial for services to communicate with each other inside a Kubernetes cluster. If you suspect a DNS-related issue, here are steps you can follow to troubleshoot and potentially resolve the problem:

## **1\. Checking the Local DNS Configuration:**

Inspect the content of the `resolv.conf` file in your pods:

`kubectl exec -it <pod_name> -- cat /etc/resolv.conf`

Ensure the search path and name server resemble the following configuration (though the search path may differ based on your cloud provider):

`search default.svc.cluster.local svc.cluster.local cluster.local google.internal c.gce_project_id.internal nameserver 10.0.0.10 options ndots:5`

## **2\. Check DNS Pod Status:**

Ensure that DNS pods are operational:

`kubectl -n kube-system get pods -l k8s-app=kube-dns`

For CoreDNS, expect output similar to:

`coredns-799dffd9c4-6jhlz 1/1 Running 0 76m`

For kube-dns, expect output similar to:

`kube-dns-5fd74c7488-h6f7n 3/3 Running 0 4m13s`

## **3\. Verify DNS Service Status:**

Make sure the DNS service is available with the right cluster IP:

`kubectl -n kube-system get svc -l k8s-app=kube-dns`

## **4\. DNS Resolution Tests:**

### Internal Cluster Names:

Test the resolution of internal cluster names (e.g., `kubernetes.default`):

`kubectl run -it --rm --restart=Never busybox --image=busybox:1.28 -- nslookup kubernetes.default`

### External Names:

Test the resolution of external domains (e.g., `www.google.com`):

`kubectl run -it --rm --restart=Never busybox --image=busybox:1.28 -- nslookup www.google.com`

## **5\. Broad Scale DNS Testing on All Nodes:**

If you need to test DNS resolution across all nodes, deploy a daemonset and use the `busybox` image. Once deployed, iterate through the pods and run `nslookup`. This will notify you of any nodes with resolution issues. Detailed instructions can be provided upon request.

## **6\. CoreDNS-Specific Troubleshooting:**

### Check CoreDNS Logs:

`kubectl -n kube-system logs -l k8s-app=kube-dns`

### CoreDNS Configuration Check:

Retrieve the CoreDNS configuration:

`kubectl -n kube-system get configmap coredns -o go-template={{.data.Corefile}}`

### Upstream Nameserver Check:

Inspect upstream nameservers:

`kubectl run -i --restart=Never --rm test-${RANDOM} --image=ubuntu --overrides='{""kind"":""Pod"", ""apiVersion"":""v1"", ""spec"": {""dnsPolicy"":""Default""}}' -- sh -c 'cat /etc/resolv.conf'`

### Increasing Cache Timeout:

To protect against upstream DNS server failures, the cache (default 30s) can be increased:

`$ kubectl edit configmap -n kube-system coredns`

Inside the editor:

`# Change the cache statement to the desired value cache 600`

* * *

If, after following the above steps, you're still facing issues, please reach out to our support team for further assistance.

### Recently viewed articles

*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process)
*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)

### Related articles

*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTs4fROEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQe8FbBEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzE5MDMwODEzNTY4MDIwLUdyYWZhbmEtQWxlcnRpbmctQ2x1c3Rlci1BdXRvc2NhbGVyBjsIVDoJcmFua2kG--24bd8e796f67642b523f1f6ced9c837844ee37af)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ3K6u5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQe8FbBEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMTE1MTAyNDg0LUdyYWZhbmEtQWxlcnRpbmctUGxhdGZvcm0tUFYtVXNhZ2UGOwhUOglyYW5raQc%3D--8718f11addaf0969ff7a8e6e02caee2074b36af0)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQe8FbBEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyOTY5MzgyNjAtLWxvZzRqLXplcm8tZGF5LXZ1bG5lcmFiaWxpdHkGOwhUOglyYW5raQg%3D--902de1a145103dad46e94d9b02cfe3e19563b6a8)
*   [Resolve internal (on-premise) DNS Server in AWS EKS via CoreDNS](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFeeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQe8FbBEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDU1MS1SZXNvbHZlLWludGVybmFsLW9uLXByZW1pc2UtRE5TLVNlcnZlci1pbi1BV1MtRUtTLXZpYS1Db3JlRE5TBjsIVDoJcmFua2kJ--fa386bc1569ac99895fe99d9d8d6398be7dff989)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQe8FbBEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kK--634956e6b65bfc532ea8ace955e50d916c087278)"
https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604-Connecting-to-Domino-Model-Monitor-DMM-Redis,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604-Connecting-to-Domino-Model-Monitor-DMM-Redis/subscription.html ""Opens a sign-in dialog"")

**Version**

Domino v4.6 - 5x

**Identifying the correct DMM redis Instance:**

1\. Identify the correct pod, your looking for a pod named '_dmm-redis-ha-server-0_' 

~# kubectl get pods -A | grep redis

2\. Open an interactive shell session in the redis pod.

~# kubectl exec -it dmm-redis-ha-server-0 -n $DOMINO\_PLATFORM -c redis /bin/sh

Breaking it down:

`kubectl exec -it` - Executes an interactive shell (-it provides tty)

`dmm-redis-ha-server-0` - The name of the redis pod we are connecting to

`-n $DOMINO_PLATFORM` - The namespace the pod is running in

`-c redis` - The container name inside the pod to connect to

`/bin/sh` - Overrides the default shell with bash

3\. You'll be dropped into _/data_ and using the command below connect to the redis server and access the redis CLI.

/data $ redis-cli -a $(cat /data/conf/redis.conf | grep requirepass | awk -F ' ' '{print $2}')

The command broken down:

*   `redis-cli` \- Connects to the local Redis server
*   `-a` \- Passes the redis password as an argument
*   `$(cat /data/conf/redis.conf | grep requirepass | awk -F ' ' '{print $2}')` \- Extracts the password from the redis config

Essentially, it grabs the password from the redis config and uses it to authenticate.

Finally, you'll be presented with:

127.0.0.1:6379> \[run redis commands\]

The above output shows we've connected to redis server on port 6379 and can start running redis CLI commands like GET, SET, KEYS etc.

Notes:

Redis CLI reference: [https://redis.io/commands/](https://redis.io/commands/)

![domino logo.png](https://tickets.dominodatalab.com/hc/article_attachments/19367028277268)

### Recently viewed articles

*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/articles/360058044552-Details-of-Domino-AMI-hardening-process)
*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)

### Related articles

*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQa%2BwSbEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTtaOcEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzE5MzU3NTAxMTY4Mjc2LURNTS1JZGVudGlmeWluZy1zdHVjay1Jbmdlc3Rpb24tSm9icy1hbmQtY2xlYXJpbmctdGhlbS1vdXQGOwhUOglyYW5raQY%3D--3ff694a270445afa95d42c1d9a415241f5dac19d)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQLZ8B7EToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTtaOcEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzE5MjIzMjA2NjI4MjQ0LUNvbm5lY3RpbmctdG8tRG9taW5vLU1vZGVsLU1vbml0b3ItRE1NLU1vbmdvREIGOwhUOglyYW5raQc%3D--179ef097a84298bc290dba0a772e1ec26a89dd6c)
*   [Running MongoDB queries with only kubectl access](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN9gVtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTtaOcEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTQ5MzQ3MS1SdW5uaW5nLU1vbmdvREItcXVlcmllcy13aXRoLW9ubHkta3ViZWN0bC1hY2Nlc3MGOwhUOglyYW5raQg%3D--a80d4940c8d277e8fae9ef29d51cffcf37c5f89a)
*   [Installing the Domino CLI in a Workspace or with batch job](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTB6rwvCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTtaOcEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzExMjAwMTQ5MjQyMjYwLUluc3RhbGxpbmctdGhlLURvbWluby1DTEktaW4tYS1Xb3Jrc3BhY2Utb3Itd2l0aC1iYXRjaC1qb2IGOwhUOglyYW5raQk%3D--2422b0699a968dabfd0a7518b43786845dc9d9fd)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTtaOcEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kK--d945fd493923f6b9fe6a614dbba2eb11cfbd81dc)"
https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Not Domino version specific

## **Issue:**

You may find through a Domino admin-toolkit run or other troubleshooting that one of the kubernetes micro services has nearly filled it's disk.  The example in this article is for the mongodb datadir volume, but it is applicable to all domino platform services volumes in kubernetes.  

Example output of admin-toolkit [test\_platform\_pvcs](https://docs.toolkit.re.domino.tech/domino_admin_toolkit/domino_admin_toolkit.checks.test_platform_pvcs.html) test showing nearly full datadir-mongodb-replicaset volumes.

domino\_admin\_toolkit/checks/test\_platform\_pvcs.py:52: in test\_platform\_PVCs  
assert all(  
E AssertionError: Some domino-platform namespace PVCs are above 80% disk usage.  
E assert False  
E + where False = all(<generator object test\_platform\_PVCs.<locals>.<genexpr> at 0x7f90f31cd700>)  
\-------------------------------Captured log call--------------------------------   
INFO root:test\_platform\_pvcs.py:18 Checking PVC usage of pods in domino-platform namespace...  
INFO root:test\_platform\_pvcs.py:50   
| PVC NAME                            | % DISK USAGE | % INODE USAGE   |  
|-------------------------------------+--------------+-----------------|  
| clone-dir-repoman-0                 | 0.14         | 0.00            |  
| data-mlflow-postgresql-0            | 1.47         | 0.03            |  
| data-mlflow-postgresql-slave-0      | 1.27         | 0.03            |  
| data-postgresql-0                   | 4.69         | 0.06            |  
| data-postgresql-slave-0             | 4.67         | 0.06            |  
| data-rabbitmq-ha-311-0              | 0.41         | 0.00            |  
| data-zookeeper-0                    | 0.80         | 0.01            |  
| datadir-mongodb-replicaset-0        | 96.27        | 0.05            |  
| elasticsearch-elasticsearch-tls-0   | 0.42         | 0.01            |  
| grafana-grafana-0                   | 0.45         | 0.00            |  
| clone-dir-repoman-1                 | 0.15         | 0.00            |  
| data-dmm-redis-ha-server-0          | 17.22        | 0.00            |  
| data-rabbitmq-ha-311-1              | 0.42         | 0.00            |  
| data-redis-ha-server-0              | 5.90         | 0.00            |  
| data-zookeeper-1                    | 0.50         | 0.00            |  
| datadir-mongodb-primary-0           | 1.67         | 0.00            |  
| datadir-mongodb-replicaset-1        | 96.17        | 0.05            |  
| datadir-mongodb-secondary-0         | 1.68         | 0.00            |  
| elasticsearch-elasticsearch-tls-1   | 0.45         | 0.01            |  
| storage-volume-prometheus-server-0  | 70.91        | 0.00            |  
| data-rabbitmq-ha-311-2              | 0.43         | 0.00            |  
| data-zookeeper-2                    | 0.50         | 0.00            |  
| datadir-mongodb-replicaset-2        | 96.11        | 0.05            |  
| elasticsearch-elasticsearch-tls-2   | 0.39         | 0.01            |  
| git-storage-git-0                   | 2.65         | 1.39            |

## **Resolution:**

Resizing a PV involves both editing the size of the volume’s PVC and restarting the pods which are using it.  This can be done live and will not impact the data on the existing volume.  Note that although the change is non destructive, a restart of the pod is required.

This is an example of resizing the mongo pod in AWS.

1\. Find the relevant PVC to be resized with `kubectl get pvc --all-namespaces | grep mongodb-replicaset`

$ kubectl get pvc --all-namespaces | grep mongodb-replicaset  
domino-platform datadir-mongodb-replicaset-0 Bound pvc-996e6422-2b1a-4fe4-bea2-a2c9b9bd286f 10Gi RWO dominodisk 13d

2\. Describe the pvc for reference with `kubectl describe pvc -n <platform namespace> <pvc name>`

$ kubectl describe pvc -n domino-platform datadir-mongodb-replicaset-0  
`Name: datadir-mongodb-replicaset-0   Namespace: domino-platform   StorageClass: dominodisk   Status: Bound   Volume: pvc-996e6422-2b1a-4fe4-bea2-a2c9b9bd286f   Labels: app.kubernetes.io/instance=mongodb-replicaset   app.kubernetes.io/name=mongodb-replicaset   Annotations: pv.kubernetes.io/bind-completed: yes   pv.kubernetes.io/bound-by-controller: yes   volume.beta.kubernetes.io/storage-provisioner: ebs.csi.aws.com   volume.kubernetes.io/selected-node: ip-10-0-40-173.us-west-2.compute.internal   volume.kubernetes.io/storage-provisioner: ebs.csi.aws.com   Finalizers: [kubernetes.io/pvc-protection]   Capacity: 10Gi   Access Modes: RWO   VolumeMode: Filesystem   Used By: mongodb-replicaset-0   Events: <none>   (base) ➜ ~ kubectl describe pvc -n domino-platform datadir-mongodb-replicaset-0   Name: datadir-mongodb-replicaset-0   Namespace: domino-platform   StorageClass: dominodisk   Status: Bound   Volume: pvc-996e6422-2b1a-4fe4-bea2-a2c9b9bd286f   Labels: app.kubernetes.io/instance=mongodb-replicaset   app.kubernetes.io/name=mongodb-replicaset   Annotations: pv.kubernetes.io/bind-completed: yes   pv.kubernetes.io/bound-by-controller: yes   volume.beta.kubernetes.io/storage-provisioner: ebs.csi.aws.com   volume.kubernetes.io/selected-node: ip-10-0-40-173.us-west-2.compute.internal   volume.kubernetes.io/storage-provisioner: ebs.csi.aws.com   Finalizers: [kubernetes.io/pvc-protection]   Capacity: 10Gi   Access Modes: RWO   VolumeMode: Filesystem   Used By: mongodb-replicaset-0   Events: <none>`

Note the Storage class, in this case `dominodisk`.

3\. Check that the storage class from the PVC description can be resized with `kubectl get sc`

$ kubectl get sc
NAME             PROVISIONER           RECLAIMPOLICY VOLUMEBINDINGMODE    ALLOWVOLUMEEXPANSION AGE
dominodisk       ebs.csi.aws.com       Delete        WaitForFirstConsumer false                13d
dominoshared     efs.csi.aws.com       Delete        Immediate            false                13d
gp2 (default)    kubernetes.io/aws-ebs Delete        WaitForFirstConsumer false                13d

In this case it can’t, so edit the storage class to allow volume expansion with`kubectl edit sc dominodisk` and add `allowVolumeExpansion: true`

\# Please edit the object below. Lines beginning with a '#' will be ignored,  
\# and an empty file will abort the edit. If an error occurs while saving this file will be  
\# reopened with the relevant failures.  
#  
allowVolumeExpansion: true  
apiVersion: storage.k8s.io/v1  
kind: StorageClass  
metadata:  
creationTimestamp: ""2023-07-05T13:55:53Z""  
name: dominodisk  
resourceVersion: ""2571""  
uid: d8589489-d300-4634-8669-cece9d62544a  
parameters:  
encrypted: ""true""  
kmsKeyId: <redacted>  
type: gp3  
provisioner: ebs.csi.aws.com  
reclaimPolicy: Delete  
volumeBindingMode: WaitForFirstConsumer

$ kubectl get sc
NAME             PROVISIONER           RECLAIMPOLICY VOLUMEBINDINGMODE    ALLOWVOLUMEEXPANSION AGE
dominodisk       ebs.csi.aws.com       Delete        WaitForFirstConsumer true                 13d
dominoshared     efs.csi.aws.com       Delete        Immediate            false                13d
gp2 (default)    kubernetes.io/aws-ebs Delete        WaitForFirstConsumer false                13d

4\. Edit the pvc with `kubectl edit pv -n <platform namespace> <pvc name>`

```

```

Change the resource request block in the spec

resources:  
  requests:  
    storage: 10Gi

resources:  
  requests:  
    storage: 50Gi

5\. Recheck the size of the pv/pvc. You may need to restart pods to pick up the change. You’ll see a message explaining that in the pvc description.

### **References/Internal Records:**

[https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/1315865073/Resizing+a+persistent+volume](https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/1315865073/Resizing+a+persistent+volume)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0acvUDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzE3NDA2NjIwMTg1NzQ4LUluc3RhbGxlci1mYWlscy12YWxpZGF0aW9uLWNoZWNrcwY7CFQ6CXJhbmtpBg%3D%3D--d0b1ee1f556e758d7a005ad28b58b5e8c89919fc)
*   [GPU workspace not starting intermittently](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRf%2B7vBDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzE3MzI0NzU2OTE4MTY0LUdQVS13b3Jrc3BhY2Utbm90LXN0YXJ0aW5nLWludGVybWl0dGVudGx5BjsIVDoJcmFua2kH--760c563a2f6781252b48f876206bd10be9afd4e3)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQg%3D--201cb94e098f46632bcbbbf48f8daa94b0cc0396)
*   [Out of space error while writing to /var/opt/git in Nucleus FrontEnd logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT%2F1IwtCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzExMTkwNzUyNTc1MzgwLU91dC1vZi1zcGFjZS1lcnJvci13aGlsZS13cml0aW5nLXRvLXZhci1vcHQtZ2l0LWluLU51Y2xldXMtRnJvbnRFbmQtbG9ncwY7CFQ6CXJhbmtpCQ%3D%3D--bec8f0310ac604c3fe0a661300ea4dbb95756c09)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kK--2b9abb24e19d23a3acd625eac25564fa82bdac3a)"
https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/articles/19030813568020-Grafana-Alerting-Cluster-Autoscaler)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)
*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform)

![](https://tickets.dominodatalab.com/system/photos/360206466051/IMAG0166.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups/subscription.html ""Opens a sign-in dialog"")

Domino introduces an enhanced backup system that consolidates all Workbench backups into a single cronjob, resulting in a unified tarball. These backups encompass various components such as mongo, git, keycloak, vault, model secrets, and a backup configuration file.

This Grafana alert is triggered when this daily backup fails. However there exists a problem with false alarms in Prometheus monitoring for Job tasks. The issue occurs when a CronJob fails to execute at the scheduled time, triggering an alarm. Even if the problem is resolved and the Job can run successfully later, the previous failed Job still exists, causing unnecessary alarms. This happens because we keep a history of executed Job tasks for troubleshooting purposes. To address this issue, the alert query incorporates various steps and operations.

  
The PROMQL query expression is utilized to calculate the maximum start time value for specific jobs in the Kubernetes cluster. It focuses on jobs with names that match the ""domino-workbench-backup-"" pattern, which are associated with owners within the ""domino-platform"" namespace. The calculation is conducted in two stages. Initially, it determines the maximum start time for each combination of job name, owner name, and namespace. Subsequently, the results are grouped by owner name. Overall, the objective of this expression is to ascertain the maximum start time for specific jobs by considering their owners and namespace, while also taking into account the successful job status.

Gather information:

*   Run the admin toolkit to collect a fresh report.  
    [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
    
*   The tarball bundles follow a consistent naming convention of _YYMMDD-HHMMSS.tar.gz_, ensuring that all contents within the tarball are contained within a directory named with the same timestamp format. This organization simplifies the management and retrieval of backups.
*   By default, the backup cronjob is scheduled to run daily using the @daily value. However, any valid Kubernetes cronjob schedule string can be used, following the standard cron syntax. This flexibility allows customization to meet specific backup requirements.
*   Overall, this improved backup system streamlines the process by consolidating Workbench backups into a single tarball, providing a standardized naming convention and flexible scheduling options.

![WorkbenchBackups.png](https://tickets.dominodatalab.com/hc/article_attachments/17290076321044)

Useful troubleshooting links  

*   [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
*   [https://docs.dominodatalab.com/en/latest/admin\_guide/72ff13/backup-and-restore/](https://docs.dominodatalab.com/en/latest/admin_guide/72ff13/backup-and-restore/)
*   [https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-backup-jobs](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-backup-jobs)
*   [https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubejobfailed](https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubejobfailed)
*   [https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubejobnotcompleted](https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubejobnotcompleted)
*   [https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/](https://kubernetes.io/docs/concepts/workloads/controllers/cron-jobs/)
*   [https://kubernetes.io/docs/concepts/workloads/controllers/job/](https://kubernetes.io/docs/concepts/workloads/controllers/job/)
*   [https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/](https://kubernetes.io/docs/tasks/job/automated-tasks-with-cron-jobs/)
*   [https://www.sobyte.net/post/2022-03/prometheus-monitor-k8s-job-trap/](https://www.sobyte.net/post/2022-03/prometheus-monitor-k8s-job-trap/)

### Recently viewed articles

*   [Workspaces not scaling up nodes and stuck in 'Assigning' stage](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)

### Related articles

*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR39rqPEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMNKq5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzIxNTA4MDM3OTY1NzE2LU1vZGlmeWluZy1vci1jaGVja2luZy1kZXBsb3ltZW50LW5vdGlmaWNhdGlvbi10aGF0LWlzLXNldC1vbi10aGUtZGVwbG95bWVudAY7CFQ6CXJhbmtpBg%3D%3D--cfb30b6e636d51c5dc17afdc3c275174b2a04935)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMNKq5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQc%3D--ce7b4156973662fe582effe9bfcf00cd599a1c27)
*   [""Error: Repoman service disk pressure"" when connecting github repo's to Domino projects](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQmk2tnBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMNKq5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzQ4NDIyMzI5NDgyNDQtLUVycm9yLVJlcG9tYW4tc2VydmljZS1kaXNrLXByZXNzdXJlLXdoZW4tY29ubmVjdGluZy1naXRodWItcmVwby1zLXRvLURvbWluby1wcm9qZWN0cwY7CFQ6CXJhbmtpCA%3D%3D--23e12729e9147a6e8b5252bfefa447b8c9fe0c3c)
*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmrAAsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMNKq5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiy9oYy9lbi11cy9hcnRpY2xlcy80NTg3MDM2MzU0MTk2LU51Y2xldXMtU2VydmljZXMtV2lsbC1Ob3QtU3RhcnQtRHVlLXRvLUZhaWxpbmctUmVwbGljYXRpb24taW4tTW9uZ29EQi1FcnJvci13aGlsZS1pbml0aWFsaXppbmctdGhlLWluZGV4ZXMGOwhUOglyYW5raQk%3D--7066e85684a8cfbc9adf8194fb39cc68d8e2d810)
*   [Can you sync a specific folder on your computer to a project in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR38UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMNKq5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI3ODk1MjQtQ2FuLXlvdS1zeW5jLWEtc3BlY2lmaWMtZm9sZGVyLW9uLXlvdXItY29tcHV0ZXItdG8tYS1wcm9qZWN0LWluLURvbWlubwY7CFQ6CXJhbmtpCg%3D%3D--90558df001b1dbf29db212303eb88076570b2cad)"
https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values,"#### _**Version/Environment (if relevant):**_

This applies to any version of Domino Data Lab and any compute environment.

* * *

## **Issue:**

When you run system commands in a workspace terminal, like top, free, or others, the values returned will likely appear larger or incorrect for what you expect of the container running that workspace.

* * *

## **Root Cause:**

This is expected because of the way containers currently work on Linux.  Container processes make use of the cgroup file system but most Linux commands which provide system resource metrics were created before cgroups even existed.   Instead of something like cgroups, commands like free and top rely on the `proc` virtual filesystem. `/proc/meminfo`, `/proc/vmstat`, `/proc/PID/smaps` and others are not aware of the cgroup file system, thus not aware of containers.  They will always report numbers from the host/node system.

* * *

## **Resolution:**

In Workspace:

Print the current memory usage with the command:

```
cat /sys/fs/cgroup/memory/memory.usage_in_bytes
```

Print the current cpu usage with the command:

```
cat /sys/fs/cgroup/cpu/cpuacct.usage
```

In Kubernetes tools:

If you have access to your kubernetes cluster and it is running metrics-server, then try `kubectl top pod` then look for your pod-name (via RUN ID of your workspace).   If you don't have metrics-server installed, then the above command will result in an error:  error: Metrics API not available. 

If you don't have metrics-server installed you can exec into your pod, then run the above cat cmds.

* * *

## **Notes/Information:**

 Theoretically if you have ssh access to the node, you could also run `docker stats`, see [https://www.docker.com/blog/how-to-monitor-container-memory-and-cpu-usage-in-docker-desktop/](https://www.docker.com/blog/how-to-monitor-container-memory-and-cpu-usage-in-docker-desktop/) 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/articles/19030813568020-Grafana-Alerting-Cluster-Autoscaler)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)
*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform)

![](https://secure.gravatar.com/avatar/777e7ad0fb9014280f48cce009147dcb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping/subscription.html ""Opens a sign-in dialog"")

## Node Readiness Flapping

This Grafana alert checks if the readiness status of node has changed . If any node in the Kubernetes cluster has transitioned from not ready to ready (i.e., become ready) more than 2 times within the last 15 minutes. This could potentially indicate a fluctuating or unstable readiness state for nodes in the cluster, which might be a cause for concern in terms of stability and performance.

*   If the nodes in your Kubernetes cluster are consistently running out of resources (CPU, memory, etc.), it could lead to nodes becoming temporarily not ready as they struggle to handle the workload. Once the resource constraints are alleviated, nodes could transition back to the ready state.
*   Networking problems can cause nodes to become temporarily unreachable or unresponsive, leading to readiness status changes. These issues might be related to network configurations, DNS resolution problems, or firewall rules.
*   Nodes can become not ready during maintenance operations, such as updates, patches, or hardware replacements. After maintenance is completed, nodes should transition back to the ready state.
*   Kubernetes may decide to evict pods from nodes due to various reasons, such as resource constraints or node failures. This can lead to nodes temporarily becoming not ready until the pods are rescheduled elsewhere.
*   Incorrect configurations in Kubernetes or on the nodes themselves can lead to instability and readiness state fluctuations. This could involve misconfigured network settings, storage issues, or other factors.
*   Kubernetes uses health checks and readiness probes to determine the state of applications. If these probes are misconfigured or have overly aggressive thresholds, they might lead to frequent readiness status changes.

![Screenshot 2023-08-31 at 9.08.24 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/18843767070612)

![Screenshot 2023-08-31 at 9.08.37 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/18843783628436)![Screenshot 2023-08-31 at 9.08.14 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/18843781101972)![flapping_nodes_grafana.png](https://tickets.dominodatalab.com/hc/article_attachments/18843767077012)

Useful troubleshooting links

*   [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
*   [https://kubernetes.io/docs/concepts/architecture/nodes/](https://kubernetes.io/docs/concepts/architecture/nodes/)
*   [https://kubernetes.io/docs/tasks/administer-cluster/safely-drain-node/](https://kubernetes.io/docs/tasks/administer-cluster/safely-drain-node/)
*   [https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/)
*   https://runbooks.prometheus-operator.dev/runbooks/kubernetes/kubenodereadinessflapping/

### Recently viewed articles

*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)

### Related articles

*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQbtam5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSP5GcjEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMDkwNTg0OTgwLUdyYWZhbmEtQWxlcnRpbmctUGxhdGZvcm0tUG9kLUF2YWlsYWJpbGl0eQY7CFQ6CXJhbmtpBg%3D%3D--37adad06c8e9701ce97b05a6e9b3e0d29d7c6edf)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSMNKq5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSP5GcjEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMDk4OTM2OTgwLUdyYWZhbmEtQWxlcnRpbmctRG9taW5vLUJhY2t1cHMGOwhUOglyYW5raQc%3D--1668b9620969560779db3713f56661036d7ae2c7)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSP5GcjEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQg%3D--01c86442649e79795258287d0bd520e167ab5244)
*   [Workspaces, jobs and apps failing after Domino upgrade](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSP5GcjEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE5Njc4NDUyNTI5MDQ0LVdvcmtzcGFjZXMtam9icy1hbmQtYXBwcy1mYWlsaW5nLWFmdGVyLURvbWluby11cGdyYWRlBjsIVDoJcmFua2kJ--c06201e97e443c9822d61b1bd10207a31a365d5c)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTs4fROEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSP5GcjEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzE5MDMwODEzNTY4MDIwLUdyYWZhbmEtQWxlcnRpbmctQ2x1c3Rlci1BdXRvc2NhbGVyBjsIVDoJcmFua2kK--4cfbbafb360a267c62d233a17c3a7a6f819ff63c)"
https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

5.x or later

* * *

## **Issue:**

After an upgrade or change to the backend of Domino, workspaces are no longer scaling up nodes and are stuck in the 'Assigning' phase without any logs being produced.

* * *

## **Root Cause:**

Reviewing the logs of the cluster-autoscaler pod which may output the following lines in the terminal:

\# kubectl logs -f -n domino-platform cluster-autoscaler-xxxxxxxxxx-hb4c7  
....  
Pod domino-compute/run-xxxxxxxxxxxxxxxxxxxxxxxx-xxxxx is unschedulable  
Failed to query the managed nodegroup Domino-compute-1 for the cluster Domino while looking for labels/taints: AccessDeniedException: User: arn:aws-us-east:sts::xxxxxxxxxxx:assumed-role/Domino-eks-nodes/i-00axxxxa9c9xxxc5 is not authorized to perform: eks:DescribeNodegroup on resource: arn:aws-us-east1:eks:us-east-1:7123566476:nodegroup/Domino/Domino-compute-1/xxxxx-xxxx-e7f4-xxxx-b35xxxx7aab5b

This is due to the IAM role that is configured to scale up or down nodes for your deployment not having the `eks:DescribeNodegroup` permission when attempting to read the label/taint of a node. In AWS, if you navigate to `IAM > Roles > <Domino EKS Role>` , you can select the policy that you have created during your installation of Domino to review the permissions it has. In this case, the policy sup561ab20484-nodes-custom does not have this permission:

![2023-10-04 15_27_16-sup561ab20484-eks-nodes _ IAM _ Global.png](https://tickets.dominodatalab.com/hc/article_attachments/19759857168660)

* * *

## **Resolution:**

On the same page, click on **Edit,** which will take you to the Amazon policy editor. Note that where these sets of permissions are will vary between deployments, but generally, it should be on the same block as those shown above.

1\. `""eks:DescribeNodegroup""`, needs to be added to this block shown below:  
![2023-10-04 15_35_12-Edit policy _ IAM _ Global.png](https://tickets.dominodatalab.com/hc/article_attachments/19759867863188)

2\. After adding that line, click next, then click **'Save Changes'**. 

3\. It will take some time for the policy to take effect, but workspaces should now start scaling up new nodes to be assigned.

* * *

## **Notes/Information:**

The name of the role in AWS will differ between deployments. 

The links below are for the cluster-autoscaler as well as what permissions are required in the policy:

[https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/cloudprovider/aws/README.md#full-cluster-autoscale\[…\]ures-policy-recommended](https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/cloudprovider/aws/README.md#full-cluster-autoscaler-features-policy-recommended ""https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/cloudprovider/aws/README.md#full-cluster-autoscaler-features-policy-recommended"")

[https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/cloudprovider/aws/README.md#minimal-iam-permissions-policy](https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/cloudprovider/aws/README.md#minimal-iam-permissions-policy ""https://github.com/kubernetes/autoscaler/blob/master/cluster-autoscaler/cloudprovider/aws/README.md#minimal-iam-permissions-policy"")

### **References/Internal Records:**

*   ZD - 81710

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)

### Related articles

*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSrejbEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBg%3D%3D--dd5dc4e0e4053153e481ce84fd9d194ef24e28cc)
*   [After starting a Spark on-demand cluster new executions are stuck in ""Assigning""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRncwSABzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSrejbEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzgyNDY0MTE4ODAyMTItQWZ0ZXItc3RhcnRpbmctYS1TcGFyay1vbi1kZW1hbmQtY2x1c3Rlci1uZXctZXhlY3V0aW9ucy1hcmUtc3R1Y2staW4tQXNzaWduaW5nBjsIVDoJcmFua2kH--2985edf0d73825ed806774a243e945bba73247bf)
*   [Jupyter breaks in older DAD compute environments when adding domino-code-assist library](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSVpnWtEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSrejbEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzE5NDM2NzAwODY1ODEyLUp1cHl0ZXItYnJlYWtzLWluLW9sZGVyLURBRC1jb21wdXRlLWVudmlyb25tZW50cy13aGVuLWFkZGluZy1kb21pbm8tY29kZS1hc3Npc3QtbGlicmFyeQY7CFQ6CXJhbmtpCA%3D%3D--5509bc25527c6a2701853bcff17f371d87c484b8)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSrejbEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--fd8da6f3baa4ea6b50556846e3fa85893f4cbdb4)
*   [How can I find my Project ID and available Hardware Tier IDs?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxbG6xCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRSrejbEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzExNzU3MTc4MDczNDkyLUhvdy1jYW4tSS1maW5kLW15LVByb2plY3QtSUQtYW5kLWF2YWlsYWJsZS1IYXJkd2FyZS1UaWVyLUlEcwY7CFQ6CXJhbmtpCg%3D%3D--541a391b339940c593eb6235bb183acd91f74a02)"
https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage,"![](https://tickets.dominodatalab.com/system/photos/360206466051/IMAG0166.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage/subscription.html ""Opens a sign-in dialog"")

These alerts are designed to monitor and notify of impending storage issues in your Kubernetes cluster, specifically focusing on the PersistentVolume (PV) resources.

## PVUsageWarning1Week

### Description:

This alert is based on a prediction of the PV usage. It uses a prediction function to estimate the rate of increase of storage use over a given window (1 day), and extrapolates this to predict whether the storage will fill up in a given future timeframe (1 week). If the predicted usage exceeds 85%, the alert will be triggered. This alerts can help you to preemptively address storage issues before they affect your Kubernetes workloads.

## PVUsageCritical

### Description:

This alert monitors the actual disk utilization on platform PVs. If usage of a PV exceeds 85% the alert will fire.

## PVInodesUsageWarning1Week

### Description:

This alert is similar to PVUsageWarning1Week, but instead of monitoring the raw byte usage of the storage it monitors the inode usage. In a Linux filesystem, each file (including directories and symbolic links) consumes an inode. If the filesystem runs out of inodes, it won't be able to create new files, even if there's free space available. This alert is designed to predict inode exhaustion and alert you ahead of time.

## PVInodesUsageCritical

### Description:

This alert monitors the actual inode utilization on platform PVs. If usage of a PV exceeds 85% the alert will fire.

## Alert handling

When you receive either of the ""Warning"" alerts, it indicates that your Kubernetes PersistentVolumes are predicted to either run out of capacity or run out of inodes within the specified timeframe (1 week for ""Warning"" alerts). You may need to take action to prevent disruption to the services running on your cluster. This could include cleaning up unneeded files or scaling up your storage resources.

The ""Critical"" alerts indicate it's time to take action.

### Instuctions:

Gather information:

*   Run the admin toolkit to collect a fresh report.  
    [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
    

![Screen](https://tickets.dominodatalab.com/hc/article_attachments/17290099019924)

*   Expand the disk(s) as necessary. It's recommended to at least double the storage.

Useful troubleshooting links

*   [https://kubernetes.io/docs/concepts/storage/volumes/](https://kubernetes.io/docs/concepts/storage/volumes/)
*   [https://kubernetes.io/docs/concepts/storage/persistent-volumes/](https://kubernetes.io/docs/concepts/storage/persistent-volumes/)
*   [https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/](https://kubernetes.io/docs/tasks/configure-pod-container/configure-persistent-volume-storage/)
*   [https://dzone.com/articles/understanding-persistent-volumes-and-pvcs-in-kuber](https://dzone.com/articles/understanding-persistent-volumes-and-pvcs-in-kuber)
*   [https://komodor.com/learn/kubernetes-pvc-guide-basic-tutorial-and-troubleshooting-tips/](https://komodor.com/learn/kubernetes-pvc-guide-basic-tutorial-and-troubleshooting-tips/)
*   [https://platform9.com/blog/the-top-5-most-popular-kubernetes-storage-troubleshooting-issues/](https://platform9.com/blog/the-top-5-most-popular-kubernetes-storage-troubleshooting-issues/)
*   [https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/)

### Recently viewed articles

*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Workspaces not scaling up nodes and stuck in 'Assigning' stage](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)

### Related articles

*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt2Ki5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3K6u5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMDc2MTU1Mjg0LUdyYWZhbmEtQWxlcnRpbmctRG9taW5vLVdvcmtsb2FkcwY7CFQ6CXJhbmtpBg%3D%3D--bde1a63df86da3ff3951ca8fdd4ddd7f1f392801)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3K6u5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQc%3D--5d6b6bd7a5124043430246bc5a8eaf723ef4f3a9)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTs4fROEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3K6u5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzE5MDMwODEzNTY4MDIwLUdyYWZhbmEtQWxlcnRpbmctQ2x1c3Rlci1BdXRvc2NhbGVyBjsIVDoJcmFua2kI--92deced5df71c7b51ad02a4f5dd0a93b0d0fcde7)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSMNKq5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3K6u5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMDk4OTM2OTgwLUdyYWZhbmEtQWxlcnRpbmctRG9taW5vLUJhY2t1cHMGOwhUOglyYW5raQk%3D--07dfc7f9522f4740448c5396d25c79219cf086ed)
*   [I deleted or archived my 4.0 thru 4.4 Dataset but I need it back!](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCDkPdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3K6u5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTg4ODY3Mi1JLWRlbGV0ZWQtb3ItYXJjaGl2ZWQtbXktNC0wLXRocnUtNC00LURhdGFzZXQtYnV0LUktbmVlZC1pdC1iYWNrBjsIVDoJcmFua2kK--113d092a6c40eb78fc51ca00274881f225d5ccd0)"
https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks,"## Installer fails validation checks

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino 5.3+, Installer v57+

## **Issue:**

If you are trying to rerun the Domino installer to make a change to one of the components in the domino.yaml that should not be changed post install, you will receive one of the following errors from the installer depending on your version:

```
You are attempting to modify an immutable config value
```

Forbidden: updates to statefulset spec for fields other than 'replicas', 'template', 'updateStrategy', 'persistentVolumeClaimRetentionPolicy' and 'minReadySeconds' are forbidden.

The following components that are restricted from change post install by the Installer are below.

**Immutable Components**

*   name:
*   hostname:
*   ssl\_enabled:
*   namespaces.compute.name:
*   storage\_classes:
*   blob\_storage:
*   email\_notifications:
*   telemetry:

## **Root Cause:**

These components are blocked from update to avoid breaking the deployment. 

## **Resolution:**

If you have made a typo that needs to be corrected in a deployment that is already running and understand the impact of the change you are making, you can delete the most recent fleetcommand-agent configmap.  If you are uncertain of the impact of your change, reach out to [Domino Support](https://tickets.dominodatalab.com/) prior to rerunning the installer.

To find the fleetcommand-agent configmap, run the following:

\# kubectl get cm -n domino-system | grep fleetcommand-agent

Results will look similar to the following:

fleetcommand-agent-sup570ds        1 9d  
fleetcommand-agent-sup570ds-2568   1 9d

Delete the most recent copy of the configmap:

\# kubectl delete cm -n domino-system fleetcommand-agent-sup570ds

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Workspaces not scaling up nodes and stuck in 'Assigning' stage](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)

### Related articles

*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0acvUDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzE3NTEwMDI4MzY2MTAwLUhvdy10by1yZXNpemUtdGhlLWRhdGFkaXItZm9yLW1vbmdvREItb3Itb3RoZXIta3ViZXJuZXRlcy12b2x1bWVzBjsIVDoJcmFua2kG--5916d6194e644ba6072926e5b1e71ec2518f8680)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6cLTBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0acvUDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE1MTI1NjA3MTAzMTI0LWZhaWxlZC10by1wdWxsLWltYWdlLTYwMjQwMTE0MzQ1Mi1ka3ItZWNyLXVzLWVhc3QtMS1hbWF6b25hd3MtY29tLWVrcy1wYXVzZS0zLTUGOwhUOglyYW5raQc%3D--aacac7056493e0d4b395a56a5a086b9c6d77cd7c)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0acvUDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQg%3D--7cb5676cf5bfb780bc25325db7def30725bf8d83)
*   [GPU workspace not starting intermittently](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRf%2B7vBDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0acvUDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzE3MzI0NzU2OTE4MTY0LUdQVS13b3Jrc3BhY2Utbm90LXN0YXJ0aW5nLWludGVybWl0dGVudGx5BjsIVDoJcmFua2kJ--152ec165cb4d97b3c4749bdd95d85b14334f11ed)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0acvUDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kK--723cd552a833326468cabbdae122c6d7aab9ca81)"
https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to deployments hosted in Amazon AWS.

* * *

## **Issue:**

A customer's pod was failing to transition to a running state, it's `describe` showed this event:

`Warning FailedCreatePodSandBox 7s (x15 over 3m11s) kubelet Failed to create pod sandbox: rpc error: code= Unknown desc = failed to get sandbox image ""602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5"": failed to pull image ""602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5"": failed to pull and unpack image ""602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5"": failed to resolve reference ""602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5"": pulling from host 602401143452.dkr.ecr.us-east-1.amazonaws.com failed with status code [manifests 3.5]: 401 Unauthorized`

The issue impacted their DEV environment, but not their PROD environment and in some ways didn't seem 100% reproducible.   The customer found that this problem did NOT occur when a new NODE was spun-up to host the pod.

* * *

## **Root Cause:**

Container image `pause`  is regularly used by kubernetes as a temporary placeholder for future containers during pod creation.  Due to a problem in EKS there is a broken process in which a garbage collector is pruning images on nodes and removing the pause container image that is initially added as part of the node provisioning.   Apparently it is no longer possible to fetch that ""pause"" from the default referenced location also due to a change on the EKS side.  The EKS bug is partly discussed here, [https://github.com/aws/amazon-vpc-cni-k8s/issues/2030#issuecomment-1372204463](https://github.com/aws/amazon-vpc-cni-k8s/issues/2030#issuecomment-1372204463)

The support for Container Runtime Interface (CRI) for Docker (Dockershim) has been discontinued with the introduction of Kubernetes 1.24 in EKS. Official Amazon EKS Amazon Machine Images (AMIs) now use containerd as the runtime exclusively.

The issue occurs when kubelet, a key component of Kubernetes, seeks to garbage collect these ""pause"" containers. While Kubernetes offers credentials for obtaining pod images, containerd does not use these credentials when requesting the sandbox image. As a result, users who attempt to pull these images may experience authentication issues due to a lack of saved credentials in containerd. This drawback necessitates the re-deployment of nodes.

To address this, kubelet offers the '--pod-infra-container-image' flag which is specific to the EKS ""pause"" image. This flag has a twofold purpose: it guarantees that the image is not pruned by the image garbage collector and so helps prevent the occurrence of such issues. Ordinarily, kubelet should not undertake the garbage collection of the ""pause"" container. If this occurs, it may potentially result from various underlying causes, such as the ""pause"" being garbage collected due to disk pressure (evidenced by commands like 'df -h /var/lib..').

For further insights and discussions related to these challenges and solutions, you may refer to the following resources:

*   Kubernetes GitHub issue discussing pause container image: [https://github.com/kubernetes/kubernetes/issues/81756](https://github.com/kubernetes/kubernetes/issues/81756)
*   Rancher GitHub issue regarding Kubernetes and pause container: [https://github.com/rancher/rke2/issues/1830](https://github.com/rancher/rke2/issues/1830)
*   Kubernetes GitHub issue about kubelet's behavior and pause container: [https://github.com/kubernetes/kubernetes/issues/62388](https://github.com/kubernetes/kubernetes/issues/62388)

* * *

## **Resolution:**

If you are witnessing this problem you can attempt to

*   Ensure the nodes have policy _[AmazonEC2ContainerRegistryReadOnly](https://docs.aws.amazon.com/AmazonECR/latest/userguide/security-iam-awsmanpol.html#security-iam-awsmanpol-AmazonEC2ContainerRegistryReadOnly),_ if not add it.  The following can check. 
    
    aws iam list-entities-for-policy --policy-arn ""arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"" --entity-filter Role --query 'PolicyRoles\[\].RoleName'
    
*   You can also try the bootstrap args listed in the link above.
*   Check the root volume is sufficiently sized (\# _df -h | column -t_) , also check that AMI versions used by the nodes is recent and compatible with EKS 1.24
*   Check the config.toml on these nodes looks good, especially for sandbox\_image.
    

```
root@ip-10-0-86-99 ~]# cd /etc/containerd/
[root@ip-10-0-86-99 containerd]# ls
config.toml
[root@ip-10-0-86-99 containerd]# cat config.toml
version = 2
root = ""/var/lib/containerd""
state = ""/run/containerd""

[grpc]
address = ""/run/containerd/containerd.sock""

[plugins.""io.containerd.grpc.v1.cri"".containerd]
default_runtime_name = ""runc""
discard_unpacked_layers = true

[plugins.""io.containerd.grpc.v1.cri""]
sandbox_image = ""602401143452.dkr.ecr.us-west-2.amazonaws.com/eks/pause:3.5""
```

*   Check kubelet entry for \--pod-infra-container-image

```
root     17634  2.3  0.3 2817932 119732 ?      Ssl  23:11   0:07 
/usr/bin/kubelet --config /etc/kubernetes/kubelet/kubelet-config.json 
--kubeconfig /var/lib/kubelet/kubeconfig --container-runtime-endpoint 
unix:///run/containerd/containerd.sock --image-credential-provider-config 
/etc/eks/image-credential-provider/config.json --image-credential-provider-bin-dir 
/etc/eks/image-credential-provider --node-ip=10.0.86.99 --pod-infra-container-image=602401143452.dkr.ecr.us-west-2.amazonaws.com/eks/pause:3.5 --v=2 --cloud-provider=aws --container-runtime=remote --node-labels lifecycle=OnDemand --node-labels=dominodatalab.com/node-pool=default,dominodatalab.com/domino-node=true
```

*   If urgent you can cordon the broken node and cycle it out with a newer node.
*   If the above does not work you can also attempt to cordon the node, restart kubelet on the effected node and uncordon the node:

  On the kubernetes environment, cordon the node  
  #kubectl cordon <node name>

    Logon and run on the node itself  
  #sudo systemctl restart kubelet && sudo systemctl status kubelet

  On the kubernetes environment, uncordon the node  
  #kubectl uncordon <node name>

*   If the above does not help, you should contact AWS Support. 

**Caveat:**

In Domino 5.4.x. An issue has been identified under DOM-44673, where the Image-cache-agent is pruning the pause image from EKS nodes in ECR. This has been fixed under Domino 5.5. If you identify this to be the issue, then there is the option of disabling the Image-cache-agent, doing this however will have a negative impact on performance since the agent will no longer be able to prune cached images on compute nodes. 

To disable:  
This command patches the image-cache-agent daemonset in the domino-platform namespace by adding a nodeSelector that will not match any nodes.  
 

```
kubectl -n domino-platform patch daemonset image-cache-agent -p '{""spec"": {""template"": {""spec"": {""nodeSelector"": {""non-existing"": ""true""}}}}}'
```

To re-enable:

This command patches the image-cache-agent daemonset in the domino-platform namespace to remove the nodeSelector that was added in the previous example.

```
kubectl -n domino-platform patch daemonset image-cache-agent --type json -p='[{""op"": ""remove"", ""path"": ""/spec/template/spec/nodeSelector/non-existing""}]'
```

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJREupxKDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6cLTBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE1NzEzNjE5ODIxNzE2LUNhbGljby1wb2RzLXVuaGVhbHRoeQY7CFQ6CXJhbmtpBg%3D%3D--b3731a690a805b505bd41acb665327b37b615e72)
*   [lookup failures 'mongodb-replicaset on 10.85.0.10:53: no such host'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRe96kFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6cLTBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzc3MjA5MDc3OTIwMjAtbG9va3VwLWZhaWx1cmVzLW1vbmdvZGItcmVwbGljYXNldC1vbi0xMC04NS0wLTEwLTUzLW5vLXN1Y2gtaG9zdAY7CFQ6CXJhbmtpBw%3D%3D--b7700d3aad59f44f4eda0b5f3b88f6a42ddb4e33)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6cLTBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQg%3D--1d91f10e39604bec894188d55a106a789fad6ba0)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6cLTBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQk%3D--8f9aa02c2c21fc9ca81e53b67588b161b3ae6c95)
*   [Sync fails with logged error of ""Exception caught during execution of rm command""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30fGXCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6cLTBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk0NDg2OTAxMzY4NTItU3luYy1mYWlscy13aXRoLWxvZ2dlZC1lcnJvci1vZi1FeGNlcHRpb24tY2F1Z2h0LWR1cmluZy1leGVjdXRpb24tb2Ytcm0tY29tbWFuZAY7CFQ6CXJhbmtpCg%3D%3D--757e4688597f3f41ff374b7e3b843273abc34cd1)"
https://tickets.dominodatalab.com/hc/en-us/articles/17381749347732-Image-Cache-Agent-Continually-restarts,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17381749347732-Image-Cache-Agent-Continually-restarts/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino 5.x~5.6

## **Issue:**

The Image Cache Agent (ICA) is responsible for proactively copying docker images to individual hosts in the Kubernetes cluster.  Checking restarts on the ICA will show similar output.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17381756661396)

Logging for the agents will likely indicate that they have paused and are not functioning.

Attempting to use docker socket at /run/dockershim.sock  
docker socket at /run/dockershim.sock is valid, using it  
Docker config.json found, reading auth  
Docker auth for quay.io found  
Pausing start-up for 20 minutes to allow cluster to settle

## **Root Cause:**

The original build of the ICA image at the following version contains an error and is missing a /tmp directory that causes it to crash:

quay.io/domino/container-image-node-caching:v0.2.1-20230321-1725

You can verify the image version you are running checking the describe output of one of your ICA pods:

\# kubectl describe po -n domino-platform image-cache-agent-xzjws | grep Image  
Image: quay.io/domino/container-image-node-caching:v0.2.1-20230321-1725

## **Resolution:**

This version of the image has subsequently been rebuilt and should no longer cause the error.  If you are running this version of the image and are seeing restarts you will simply need to refresh this image.  To do this edit the image-cache-agent daemonset.

\# kubectl edit ds -n domino-platform image-cache-agent

Find the ImageCachePolicy and change it to `Always`

imagePullPolicy: Always

This will restart the ICA pods and pull the new corrected image.  Once this happens edit the daemonset again and revert the imagePullPolicy to `IfNotPresent`

## **Notes:**

If you prefer to change the image name to something different for clarity of knowing you are using a fixed version, a corrected but otherwise unchanged image has also been created.

quay.io/domino/container-image-node-caching:v0.2.1-20230710-1707

This can be changed by editing the daemonset definition and updating the image:

 Image: quay.io/domino/container-image-node-caching:quay.io/domino/container-image-node-caching:v0.2.1-20230710-1707

This will update your running image.  To persist this non-default image through upgrades you will need to add an image override to the image\_overrides section of domino.yaml that is used by the installer.

image\_overrides:   
 image\_cache\_agent: quay.io/domino/container-image-node-caching:v0.2.1-20230710-1707

### **References/Internal Records:**

*   PLAT-6888

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)

### Related articles

*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSK6Z4zEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTV%2FgDPDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE3ODEzODk1NDgyMDA0LWRvbWluby13b3JrYmVuY2gtYmFja3VwLWZhaWxzLWZpbGUtY2hhbmdlZC1hcy13ZS1yZWFkLWl0BjsIVDoJcmFua2kG--7c15d7426fce660a9d3de891ceac43a9b6897028)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTV%2FgDPDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBw%3D%3D--0176a44bb83d382fef46ba768a1521a5a98b3ca2)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6cLTBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTV%2FgDPDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE1MTI1NjA3MTAzMTI0LWZhaWxlZC10by1wdWxsLWltYWdlLTYwMjQwMTE0MzQ1Mi1ka3ItZWNyLXVzLWVhc3QtMS1hbWF6b25hd3MtY29tLWVrcy1wYXVzZS0zLTUGOwhUOglyYW5raQg%3D--732883651a9f93760bb81176aa67b59ba5245380)
*   [Can you help me collect Kubernetes logs?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2BTguLDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTV%2FgDPDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzEzNzkxMzI5NjY0NTMyLUNhbi15b3UtaGVscC1tZS1jb2xsZWN0LUt1YmVybmV0ZXMtbG9ncwY7CFQ6CXJhbmtpCQ%3D%3D--627141a11885bda7a711723ce3fbb2f553b30c29)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTV%2FgDPDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kK--8e5255cebe553cae16ca1d6a9c12898e173ceb53)"
https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems,"## Issue(s):

*   While doing a self upgrade, we run into problems with helm charts (they failed or fail to deploy)
*   During a k8s upgrade, we cannot recycle/drain nodes (quickly)
*   MongoDB upgrade has a timeout during upgrade
*   Shortly after a successful upgrade, build issues/API or model issues

## Cause:

Disparity in version upgrades can manifest in failures. The best upgrade path is to be on the largest/latest minor version and upgrade to the next Domino release, and the highest minor version of the new Domino version to ensure you're including as many security and functional fixes as possible. This should ensure 'patches' and upgrade procedures happen in an optimal manner. Patches can include changes in DB structure and creation of secrets in case of changes in the architecture.

If you're doing k8s/Rancher/OpenShift AND/OR Domino upgrades, there is an expectation that some problems can impact the progress.

## Resolution:

**Please note these are suggestions based on a handful of installation issues and if you're not confident in using them or feel in danger of deleting data please contact Domino Support!**

For each of these issues you can potentially need a separate resolution but the majority can be resolved with a [clearly defined domino.yaml](https://docs.dominodatalab.com/en/5.6/admin_guide/eb57d2/streamlined-domino-yaml-downloads/), created appropriately and with the correct template or using the update method from your current file and a template for the new revision. During the upgrade - try to use the ['dmm' (Domino Maintenance Mode)](https://github.com/dominodatalab/domino-maintenance-mode), a script which records the state and allows you to snapshot/shutdown/restore workloads. See [this document](https://docs.dominodatalab.com/en/5.6/admin_guide/ad1062/upgrade-domino/) for the basics and pre-upgrade steps to installing dmm, make a backup of your setup and creating the domino.yaml file.

_You must have some pre-requisites installed for the Maintenance Mode, or use the Dockerfile version provided. Please prepare to follow the guide, and possibly pip\[3\] -r requirements.txt or pip\[3\] install setup.py to walk through any missing dependancies._ If you use venv, be sure you've activated it first.

### Helm charts, installation of stateful sets and k8s components

If helm charts fail, and there is no clear indicator in the install log, in pods 'describe' or logs themselves - potentially run 'helm uninstall <chart>' and retry the installation (repeat for any other similar behaviour). This is similar to the rollback guidance for charts, [here](https://docs.dominodatalab.com/en/5.6/admin_guide/ad1062/upgrade-domino/#_helm_chart_timeouts_or_failures).

The errors in the installation log may look similar to this:

Error: UPGRADE FAILED: pre-upgrade hooks failed: 1 error occurred: 2023-01-1 00:00:52,001 - INFO - domino.fleetcommandagent.Application - \* timed out waiting for the condition

And these could precede the attempt to install a 'stuck' helm chart. Including but not limited to ingress, keycloak, nucleus, dmm. _There is not a known reason for all those that get stuck, but may be related to inability of k8s to reconcile some changes (like istio upgrades)_. YMMV but please let us know if you see this, and what setup you have.

More helm timeouts and actions are [found here](https://admin.dominodatalab.com/en/latest/admin_guide/ad1062/upgrade-domino/#_common_issues).

### Nodes stuck:

For failure to complete recycling of nodes due to k8s [drain issues](https://docs.dominodatalab.com/en/5.6/admin_guide/13423d/kubernetes-upgrade-guide/#_replace_outdated_nodes), use --delete-local-data and --ignore-daemonsets (to get rid of Domino Workloads), also check [PDB (Pod Disruption Budgets)](https://docs.dominodatalab.com/en/5.6/admin_guide/d41d8c/kubernetes-upgrade-guide/) for any other pods that refuse to leave.

MongoDB version compatibility can cause Mongo sync and upgrade to fail. We document the flag that needs to be set if you're doing large hops.

This may need additional review and actions, such as setting a MongoDB compatibility Version flag and retrying the installation procedure.

Other MongoDB problems could leave only some pods of the statefulset upgraded or stuck due to partial upgrade.

If you see messages similar to this, you may need to alter the release and compatibility flags:

Failed to start up WiredTiger under any compatibility version.  
This may be due to an unsupported upgrade or downgrade

Example of a fix would be to pick an earlier version of Mongo to re-enable or set the FeatureCompatibilityVersion (FCV) to enable the upgrade to proceed:

*   Edit the statefulset and set the image to quay.io/domino/mongo:4.2.22-20220914-0744
*   Set the featureCompatibilityVersion to 4.2 (i.e. the base image of Mongo):  
    Run against the admin database db.adminCommand( { setFeatureCompatibilityVersion: ""4.2"" } )

This would allow you to restart a failed upgrade, and continue. Alternative method is still to uninstall the helm chart which avoid version checks and rely on natively upgrading the MongoDB. This could leave you without some tables or indexes and a need to remedy manually.

Ultimately it could be required to copy a healthy copy of MongoDB (or restore from backup) to a PVC and restart the upgrade process.

Rabbit has been seen to [lose a secret](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge-).

Resource may 'already exist'. [Logback config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config) for example.

## Post installation:

Building Environments and publishing Model API usually is done quite late in the smoke testing. With the Hephaestus-buildkit we've seen cache failures and failure to start up the buildkit pods. Delete any buildkit pods (or scale down the statefulset) and purge the pvc's.

kubectl delete pvc -n domino-compute $( kubectl get pvc -A |grep buildkit | awk '{print $2}' | xargs echo )

This will also resolve a cache issue with content digest error like this

ERROR: content digest sha256:44ba2882f8eb14264e5f2f9f6ec55bcf5306527b637279f2cd9d4858762388af: not found   
Sep 07 2023 08:16:44 -0600 ------   
Sep 07 2023 08:16:44 -0600 > exporting to image:   
Sep 07 2023 08:16:44 -0600 ------   
Sep 07 2023 08:16:44 -0600 Build failed: failed to solve: content digest sha256:44ba2882f8eb14264e5f2f9f6ec55bcf5306527b637279f2cd9d4858762388af: not found   
Sep 07 2023 08:16:44 -0600 Failed to build image: buildkit solve issue: failed to solve: content digest sha256:44ba2882f8eb14264e5f2f9f6ec55bcf5306527b637279f2cd9d4858762388af: not found

This is an incident where a layer is not cached in the buildkit's pod but is registered in Mongo and buildkit does not manage to pull and push but when started with a clean PVC, it will perform this action.

**Please note this is not an authoritative guide to any upgrade issues or resolution - if you've tried the steps suggested for helm uninstall, and any other non-destructive steps please reach out to your contact or Support Team!**"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206646-Environment-Management,"## Environment Management

*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)
*   [Installing FastAPI](https://tickets.dominodatalab.com/hc/en-us/articles/11007594673812-Installing-FastAPI)
*   [Create an Environmen Using Amazon AWS Glue Libs as a Base Image](https://tickets.dominodatalab.com/hc/en-us/articles/11005857790868-Create-an-Environmen-Using-Amazon-AWS-Glue-Libs-as-a-Base-Image)
*   [Slow build times, usually related to upgrades](https://tickets.dominodatalab.com/hc/en-us/articles/7602267543060-Slow-build-times-usually-related-to-upgrades)
*   [Which Central Config key dictates who can edit Compute Environments?](https://tickets.dominodatalab.com/hc/en-us/articles/5000956002452-Which-Central-Config-key-dictates-who-can-edit-Compute-Environments)
*   [Build getting stuck as queued in 4.x, 5.2](https://tickets.dominodatalab.com/hc/en-us/articles/4581356766228-Build-getting-stuck-as-queued-in-4-x-5-2)
*   [RStudio 1.4.x in Domino - Temporary solution](https://tickets.dominodatalab.com/hc/en-us/articles/360060854591-RStudio-1-4-x-in-Domino-Temporary-solution)
*   [Can you change the email address used to send Domino run notifications?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496911-Can-you-change-the-email-address-used-to-send-Domino-run-notifications)
*   [Load an external docker image into an environment without internet access](https://tickets.dominodatalab.com/hc/en-us/articles/360058496731-Load-an-external-docker-image-into-an-environment-without-internet-access)"
https://tickets.dominodatalab.com/hc/en-us/articles/17034955220628-Postgres-slave-in-a-crashloopbackoff,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17034955220628-Postgres-slave-in-a-crashloopbackoff/subscription.html ""Opens a sign-in dialog"")

## **Issue/Scenario:**

The admins observed that postgres slave pod's failing readiness probe and is in a crashloopbackoff.

* * *

## **Root Cause:**

Failing readiness probe because the postgres instance isn’t accepting any requests/connections since the database is not in a ready state. This could be due to many different reasons but for this particular instance we assume some bad object on the db volume altered it's state. 

* * *

## **Resolution:**

It was seen in the logs that the database is in a “starting up” state, it is being built from the write ahead logs (committed to disk), which seems to be corrupted since there was a directive to terminate the walreceiver. This could be seen as harmless, but if there are other messages, for instance, “FATAL: the database system is starting up” messages which suggests that the database is not ready, also, message suggesting the db was shutdown abruptly “LOG: database system was shut down in recovery at 2023-05-24 07:03:06 GMT” then we could do a pg\_resetwall to clear the write ahead log but that would involve a potential for data loss. It should be safe to run that command on just the replica being it is not the master, however, I'd be concerned that the db on the node is corrupt and would take a backup first thing if not already done. 

If resetting the wal doesn't fix the slave then we might also have to target the master, in which case a backup of postgres is necessary. 

Although, before doing any of the above, I'd recommend you to modify the liveliness and readiness probes for the container to keep running, if we see in the postgres logs that the database is in a “starting up” state, as mentioned above, it might mean that the db is being built from the write ahead logs and just needs some time but the containers are restarted due to failing get probes which isn't ideal. If it doesn't build successfully then we follow the below steps : 

We'll have to modify the container spec to be able to execute this successfully. Basically overwrite the container command to keep it running and not have it start postgres, so something like : args: \[""-c"", ""while true; do echo 'something'; sleep 5; done""\].  
Then you'd have to exec into it, start a shell and run pg\_resetwal, you could do a dry run before an actual one as per : 

```
pg_resetwal --dry-run /var/lib/postgresql/data/pgdata
```

```
pg_resetwal /var/lib/postgresql/data/pgdata
```

* * *

## **Note:**

It is recommended that the admins consult Domino Support before executing these commands.

### Related articles

*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQxgWG2CzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRmdEJ%2BDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy8xMjg3Nzk0NzgxMDA2OC1VbnN1cHBvcnRlZC1tb25nby11cGdyYWRlLXBhdGgtNC0wLTQtNC1Nb25nby1taW5vci12ZXJzaW9ucy1tdXN0LWJlLXVwZ3JhZGVkLW9uZS12ZXJzaW9uLWF0LWEtdGltZQY7CFQ6CXJhbmtpBg%3D%3D--04dd94c34424e2702573a17ae384da13b6a49d0e)
*   [Details of Domino AMI hardening process](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIjAIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRmdEJ%2BDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0NDU1Mi1EZXRhaWxzLW9mLURvbWluby1BTUktaGFyZGVuaW5nLXByb2Nlc3MGOwhUOglyYW5raQc%3D--46381feb9e49e67fd97ab11ebb6a0f8dd4fbc9f5)
*   [sbt and yarn related environment building errors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQUS21%2BDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRmdEJ%2BDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzE3MDM1NjczOTMyOTQ4LXNidC1hbmQteWFybi1yZWxhdGVkLWVudmlyb25tZW50LWJ1aWxkaW5nLWVycm9ycwY7CFQ6CXJhbmtpCA%3D%3D--c0872237d2d127bef84ff5deaf0f161ea16fe075)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRmdEJ%2BDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpCQ%3D%3D--bd10bcc6dbd34e803b73e96b363862e271bfd84f)
*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQB9XNGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRmdEJ%2BDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzEwMTk4MTk3Nzk3MTQwLVNhbHZhZ2luZy1hLVBWQy1GaWxlLVJlY292ZXJ5LWZyb20td2l0aGluLWEtd29ya3NwYWNlLWluLWFuLUVycm9yLXN0YXRlBjsIVDoJcmFua2kK--3015658723cd426bb77e778221ee76652eced820)"
https://tickets.dominodatalab.com/hc/en-us/sections/23737942871188-Administering-Domino,"## Administering Domino

*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [How to disable the new user welcome email](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email)
*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)
*   [Measures of collaboration v4.3+](https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3)"
https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

Please follow these steps to check, expire, or delete a notification on the Domino deployment that is currently set on the deployment.

1) Sign in to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21508029145236)

2) Go to ""Admin Settings"" after logging in.

![Screen_Shot_2022-05-03_at_1.16.42_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21508061082900)

3) Navigate to ""Notifications.""

![](https://tickets.dominodatalab.com/hc/article_attachments/21508075969300)

4) Click ""Active Notification.""

![Screenshot 2024-01-24 at 21.45.00.png](https://tickets.dominodatalab.com/hc/article_attachments/23110872419348)

5) To expire or delete them, kindly select the three dots on the left-hand part of the notification, and it'll show you if you want to delete it or expire it. Make sure that you've selected the correct notification before modifying it.

![Screenshot 2024-01-24 at 21.41.53.png](https://tickets.dominodatalab.com/hc/article_attachments/23110840306580)![Screenshot 2024-01-24 at 21.45.15.png](https://tickets.dominodatalab.com/hc/article_attachments/23110840317588)

**You're all set.**

### Recently viewed articles

*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR39rqPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--f6e212eeadab2689a247de2a9a0be90c6d548b96)
*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR39rqPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kH--ae19ff8895499d542d30ba7cbeae3550256018e0)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSh7xodEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR39rqPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzE5OTE2MjE1MjYzNTA4LVNldHRpbmctdXAtQ29zdC1CdWRnZXRzLUFsZXJ0cwY7CFQ6CXJhbmtpCA%3D%3D--b0ec09ec091b361d1e2f902d1531a40869acd695)
*   [htop – Interactive Process Viewer - A brief overview](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSNiU0HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR39rqPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzY2Mjg0MzUzOTgwMzYtaHRvcC1JbnRlcmFjdGl2ZS1Qcm9jZXNzLVZpZXdlci1BLWJyaWVmLW92ZXJ2aWV3BjsIVDoJcmFua2kJ--78dee57ecb6d5497206f51391592f3190eba2a7b)
*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGgaTNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR39rqPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDgyMDA3Mi1Eb3dubG9hZGluZy1Eb21pbm8tQ0xJBjsIVDoJcmFua2kK--1fadd587f43c898720de33fa9ccf9b65a0887335)"
https://tickets.dominodatalab.com/hc/en-us/sections/23739081938452-Upgrade-Issues,"## Upgrade Issues

*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)
*   [Upgrade fails with errors about statefulsets](https://tickets.dominodatalab.com/hc/en-us/articles/12633059560084-Upgrade-fails-with-errors-about-statefulsets)
*   [During an upgrade, Ingress errors are seen and the installation stops](https://tickets.dominodatalab.com/hc/en-us/articles/12632440069268-During-an-upgrade-Ingress-errors-are-seen-and-the-installation-stops)
*   [During an upgrade, a secret is missing (rabbitmq-ha.forge)](https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)
*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x)
*   [Is it possible to upgrade platform dependency software in a 3.6 deployment?](https://tickets.dominodatalab.com/hc/en-us/articles/10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment)
*   [Sync fails after self upgrade to Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/7905626058260-Sync-fails-after-self-upgrade-to-Domino-5-x)
*   [Data Importer failed due to name of the backup file](https://tickets.dominodatalab.com/hc/en-us/articles/5695108236948-Data-Importer-failed-due-to-name-of-the-backup-file)
*   [After using the v51 installer we are unable to build any environments](https://tickets.dominodatalab.com/hc/en-us/articles/5527182240404-After-using-the-v51-installer-we-are-unable-to-build-any-environments)"
https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs/subscription.html ""Opens a sign-in dialog"")

**Issue:** When starting async Domino model fails with error code 127 and message:

Terminated with exit code 127; check instance logs for error

Example: 

![](https://tickets.dominodatalab.com/hc/article_attachments/21547034280084) 

**Root cause:** This problem is believed to affect Domino versions 5.7 and up. The issue originates from the major change to introduce async model feature in Domino. As part of that change we now use an additional service called ""**seldon**"" . In your Domino deployment there should be a central seldon pod called **""seldon-controller-manager"".** However there is also seldon container in each model pod which also brings the requirement of the ""**seldon-core**""  conda package . This package comes installed with the default Domino environments. But sometimes when users try to use environments from a previous Domino version they will not have the required packages to support the new features.

**Solution:** In our case we can further confirm the missing package  by looking at the model instance logs. When the model instance is trying to start it will call seldon-core-micriservice binary and this will fail if our environment is missing the package. 

Nov 10 2023 02:36:44 -0500 /bin/bash: line 0: exec: seldon-core-microservice: not found ip-example.ec2.internal  
model-654d0eb9fff137545b99415f-default-0-classifier-566fdbkr6dj classifier

To install the package you can use conda . The name of the package is ""seldon-core"" :

ubuntu@run-654e6a6cb1551428e9796916-wjvgd:/mnt$ conda list | grep seldon  
seldon-core 1.14.1 pypi\_0 pypi

Installing in your Domino environment Dockerfile should be doable with: 

RUN conda install seldon-core

### Recently viewed articles

*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)

### Related articles

*   [Errors during model build : Failed to establish a new connection: \[Errno -2\] Name or service not known')': /simple/prometheus-client/](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQUopKFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRihM2REzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmy9oYy9lbi11cy9hcnRpY2xlcy8xMjY2ODMxODY1MTQxMi1FcnJvcnMtZHVyaW5nLW1vZGVsLWJ1aWxkLUZhaWxlZC10by1lc3RhYmxpc2gtYS1uZXctY29ubmVjdGlvbi1FcnJuby0yLU5hbWUtb3Itc2VydmljZS1ub3Qta25vd24tc2ltcGxlLXByb21ldGhldXMtY2xpZW50BjsIVDoJcmFua2kG--9f63567bf104ad504ce835d59c61bc866340c0a7)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSPHOuaDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRihM2REzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiS9oYy9lbi11cy9hcnRpY2xlcy8xNDk1OTAyMDY0MjA2OC1FbnZpcm9ubWVudC12aXNpYmlsaXR5LXRyYW5zZmVyLWVycm9yLUxpc3QtRm9ybUVycm9yLXVzZXJPd25lcklkLUxpc3QtVXNlci1pZC1pcy1pbmNvcnJlY3QtV3JhcHBlZEFycmF5BjsIVDoJcmFua2kH--da83a8dcfcb4788f7ac90b667486173735da3d2d)
*   [Which Central Config key dictates who can edit Compute Environments?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTANGCMBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRihM2REzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzUwMDA5NTYwMDI0NTItV2hpY2gtQ2VudHJhbC1Db25maWcta2V5LWRpY3RhdGVzLXdoby1jYW4tZWRpdC1Db21wdXRlLUVudmlyb25tZW50cwY7CFQ6CXJhbmtpCA%3D%3D--c11f840e5f7d67d2fae0ad3ffbc98ede34dccc2c)
*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSznBsDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRihM2REzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzQ0MTEzOTQ2NjcyODQtRW5hYmxpbmctbXVsdGktdGhyZWFkaW5nLWluLU1vZGVsLUFQSXMGOwhUOglyYW5raQk%3D--b04f40e078d5d7937ae4f2fa80e935c4895a22ab)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRihM2REzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kK--b8aa4014818be4944bf3621527321969ffc8c7af)"
https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [How to disable the new user welcome email](https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email)
*   [Blank page or Failed to get assets while viewing Control Center -> Assets page](https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)
*   [Measures of collaboration v4.3+](https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3)

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

Please follow these steps to setup Cost Budgets & Alerts on your Domino deployment.

1) Sign in to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/19916205914260)

2) Go to ""Admin Settings"" after logging in.

![Screen_Shot_2022-05-03_at_1.16.42_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19916221248532)

3) Navigate to ""Advanced""

![Screen_Shot_2022-11-02_at_4.32.47_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19916242544148)

4) Navigate to ""Cost Budget & Alerts""

![Screenshot 2023-10-11 at 03.34.03.png](https://tickets.dominodatalab.com/hc/article_attachments/19916205925012)

5) Fill out the necessary limits you want to set for organization budget or project budget and click ""save"" or fill out the alert information and click ""save""

![Screenshot 2023-10-11 at 03.35.05.png](https://tickets.dominodatalab.com/hc/article_attachments/19916221252628)

6) Restart Services after setting up Cost Budgets & Alerts

![Screenshot 2023-10-11 at 03.37.12.png](https://tickets.dominodatalab.com/hc/article_attachments/19916235115028)

7) Change the motive to your preferred note depending on the requirements for restarting this service and click restart services.

![Screen_Shot_2022-11-02_at_4.52.48_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19916228276756)

Note: Expect some interference with the end-user experience for few minutes when Restarting Services.

**You're All Set.**

### Recently viewed articles

*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)

### Related articles

*   [Python package psycopg2 import fails with an error from libffi](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT%2BTVtUEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSh7xodEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzE3OTU0NDk1MTM1MjUyLVB5dGhvbi1wYWNrYWdlLXBzeWNvcGcyLWltcG9ydC1mYWlscy13aXRoLWFuLWVycm9yLWZyb20tbGliZmZpBjsIVDoJcmFua2kG--dffd2ef0d0a6cae095f714239557fca88b85092c)
*   [Workspaces, jobs and apps failing after Domino upgrade](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSh7xodEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE5Njc4NDUyNTI5MDQ0LVdvcmtzcGFjZXMtam9icy1hbmQtYXBwcy1mYWlsaW5nLWFmdGVyLURvbWluby11cGdyYWRlBjsIVDoJcmFua2kH--aaeb2582d39a6f51da02c66c6acaee9b1e289f79)
*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0acvUDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSh7xodEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzE3NDA2NjIwMTg1NzQ4LUluc3RhbGxlci1mYWlscy12YWxpZGF0aW9uLWNoZWNrcwY7CFQ6CXJhbmtpCA%3D%3D--6dda518cfd7e65cf9ef9a9af689ff3c51de0f5ef)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSh7xodEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kJ--d3a32fc6f439e6de60c3a06232e17d1f52e97192)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRP0uABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSh7xodEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYxMTMzNTc3MTYtVGhlLWhhcmR3YXJlLXRpZXItY29zdC1zZWVtcy1pbmNvbnNpc3RlbnQGOwhUOglyYW5raQo%3D--d3e451abfb1fdbb342b5f21832d89177ead8bbdd)

### Comments

0 comments

Article is closed for comments."
https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray/subscription.html ""Opens a sign-in dialog"")

**Issue:** When changing visibility for environment from or to ""Available to an Organization"" and ""Globally Accessible""  I am getting error :

List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))

![](https://tickets.dominodatalab.com/hc/article_attachments/14959020624276)

**Root cause:** This error is a known bug which is the result of a validation of the input for the form. If we examine the error message we do see that it is referring to a **List**  element with incorrect or missing value (**User id is incorrect**) . As such the form expects the ""**Transfer to user**"" drop down box to have a value. 

**Workaround:** To proceed without this error we can select any user in the ""**Transfer to user**"" field. This will not have any impact but will allow for the form to accept the input and execute the visibility change. 

**Solution:**  This bug has been observed in Domnino version 5.1 and 5.2 and is corrected in 5.3+ .   

### Recently viewed articles

*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)

### Related articles

*   [Can Not Access App: Unauthorized : you must be authenticated to access this page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXze46BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSPHOuaDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ2NTExNjEwNjUzNjQtQ2FuLU5vdC1BY2Nlc3MtQXBwLVVuYXV0aG9yaXplZC15b3UtbXVzdC1iZS1hdXRoZW50aWNhdGVkLXRvLWFjY2Vzcy10aGlzLXBhZ2UGOwhUOglyYW5raQY%3D--0462f429073abf0793b461f13b160522ec86efe5)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSRq%2FaPDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSPHOuaDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE0OTExOTY5OTIzNDc2LUhvdy10by12aWV3LXRoZS1jb250ZW50cy1vZi1hbi1lbnYtdmFyaWFibGUtdmlhLU1vbmdvBjsIVDoJcmFua2kH--dc975a4a59c9cbfa66e166dd475f8907a873ff9f)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSPHOuaDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kI--9172f15cdf11eed4c43c8a5b56f18c33d1b9b13d)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQFIVRiBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSPHOuaDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAzNjQ3NTYzNzItSG93LXRvLUNoYW5nZS1FbnZpcm9ubWVudHMtVmlzaWJpbGl0eQY7CFQ6CXJhbmtpCQ%3D%3D--070805db4511cb82aaa52ce1046da8578b45f19d)
*   [Dispatcher message: ""Timed out waiting for entity reflector to become valid""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRSwhqbDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSPHOuaDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzE0OTU5ODIwMDM0NTgwLURpc3BhdGNoZXItbWVzc2FnZS1UaW1lZC1vdXQtd2FpdGluZy1mb3ItZW50aXR5LXJlZmxlY3Rvci10by1iZWNvbWUtdmFsaWQGOwhUOglyYW5raQo%3D--176747e1a2c27161154c575ed6899a4f4c0cce4f)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)
*   [Installing FastAPI](https://tickets.dominodatalab.com/hc/en-us/articles/11007594673812-Installing-FastAPI)
*   [Create an Environmen Using Amazon AWS Glue Libs as a Base Image](https://tickets.dominodatalab.com/hc/en-us/articles/11005857790868-Create-an-Environmen-Using-Amazon-AWS-Glue-Libs-as-a-Base-Image)
*   [Slow build times, usually related to upgrades](https://tickets.dominodatalab.com/hc/en-us/articles/7602267543060-Slow-build-times-usually-related-to-upgrades)
*   [Which Central Config key dictates who can edit Compute Environments?](https://tickets.dominodatalab.com/hc/en-us/articles/5000956002452-Which-Central-Config-key-dictates-who-can-edit-Compute-Environments)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206646-Environment-Management)

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo/subscription.html ""Opens a sign-in dialog"")

## **Issue/Scenario:**

The admin would like to view the contents of env variables from multiple projects via Mongo.

* * *

## **Resolution:**

The contents of the env variables aren't directly visible via mongo and we'd have to curl to /v1/blobs/<objectId>  
The objectId is a property/key in the project collection, it'll be visible only within those bson objects for which the env variable is/are set, as per :   
""environmentVariablesBlobKey"" : ""3e763f2717751680bd7d6f78365d18e6543cf486""

For instance, with our internal deployment, I have a quick-start project which has a env variable set, it would have environmentVariablesBlobKey set towards the bottom of the bson object, and if I curl to https://domain-name/v1/blobs/3e763f2717751680bd7d6f78365d18e6543cf486 it'd return the key-val pair which we're looking for. 

We could also automate it to iterate over an array/list, the basic idea is to connect to an instance (not specifically admin) of Mongodb and print the results of db.projects.find({ ""environmentVariablesBlobKey"" : {""$exists"": 1} } ) to a file, from this use the blobKey as an argument with urllib or any other url handler to send request to /v1/blobs/, decode the response to utf-8 and return or print the data.

* * *

## **Note:**

For specific implementation using the script, please reach out to Domino Support. 

### Recently viewed articles

*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)

### Related articles

*   [Username Changes in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSRq%2FaPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzMjc1NzMxNDAtVXNlcm5hbWUtQ2hhbmdlcy1pbi1Eb21pbm8GOwhUOglyYW5raQY%3D--27da2c5764a0b231eefe36a8171763c276c1261c)
*   [Failing to push to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQIlQ6QDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSRq%2FaPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzE0OTEyMzcxMDk5Nzk2LUZhaWxpbmctdG8tcHVzaC10by1CaXRidWNrZXQGOwhUOglyYW5raQc%3D--ce53199d30cc9998da7a34c43e19511dfe1f5fa5)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSRq%2FaPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kI--f3c8e91f55b47857226887f18a07003e1cf15650)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSRq%2FaPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--5ef7099dd66aba35cd858c1f5a050ac323fc7358)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMecKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSRq%2FaPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDE1MS1Jc29sYXRlLUhhcmR3YXJlLVRpZXJzLWZvci1Vc2VyLWdyb3VwcwY7CFQ6CXJhbmtpCg%3D%3D--8e1e11b97cb60c0ff05986e2c2d87aa4992d3315)"
https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments/subscription.html ""Opens a sign-in dialog"")

**Issue:**  When a Domino environment has been archived it is no longer visible in the environments tab or can be selected for use in any new projects/workspace. Archived environments will continue to be used in projects where they were set a default until the default for the given project is changed, however they can not be modified. 

**Solution:** There are 2 methods to continue using/modifying  the environment after it has been archived.  One option would be to navigate to the environment page via  workspace settings view or project settings view . The overview of an archived environment will still have the option to duplicate it.  This will essentially allow to create and edit an active copy of the archived environment.   

![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/12459103539220)

Alternative method is to unarchive the environment from mongodb. 

This can be done with the following commands. 

First we can verify the environment based on the name, this will ensure it is archived and is the correct one as per the \_id . We need to verify this as you can have more than 1 environment with the same name . 

 db. environments\_v2.find({ ""name"" : ""test-rs"" })

Replace ""test-rs"" with the name of your environment. 

This command will return similar result to this below where we can see the isArchived flag is set to true. 

 {  
""\_id"" : ObjectId(""6380becce88e2b0cb72369a0""),  
""name"" : ""test-rs"",  
""description"" : """",  
""visibility"" : ""Global"",  
""isArchived"" : true,  
""activeRevisionId"" : ObjectId(""6380c748e88e2b0cb72369a5"")  
}

To unarchive the environment you will need to modify the record and set the flag to false with the following command .

db. environments\_v2.update({ ""name"" : ""test-rs"" },{$set: {""isArchived"" : false} })

Upon success you should see output similar to the one below: 

 WriteResult({ ""nMatched"" : 1, ""nUpserted"" : 0, ""nModified"" : 1 })

### Recently viewed articles

*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)

### Related articles

*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQWIboPCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZjPBUCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEyMTYyMTc1MTQ1NDkyLUhvdy10by1VbmFyY2hpdmUtYS1wcm9qZWN0BjsIVDoJcmFua2kG--6f35464bdc0b0658c70f1d026aee5dc11b19e4f7)
*   [Running MongoDB queries with only kubectl access](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN9gVtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZjPBUCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTQ5MzQ3MS1SdW5uaW5nLU1vbmdvREItcXVlcmllcy13aXRoLW9ubHkta3ViZWN0bC1hY2Nlc3MGOwhUOglyYW5raQc%3D--29370eff49b745533289b190867048f8c2a55c77)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZjPBUCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCA%3D%3D--cefd1ac2ad33bbd28449398313824ccbd5c2f995)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTy%2FRZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZjPBUCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NjQ3NzM2NTItQ2hhbmdlLURNTS1JTU0tY3JvbmpvYi1zY2hlZHVsZQY7CFQ6CXJhbmtpCQ%3D%3D--12287c07f02fd6f92e3671af89ac7f89ca605d9d)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZjPBUCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQo%3D--6d45776a1e662fa508de0bd7ed2d037a808a5f7a)"
https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found/subscription.html ""Opens a sign-in dialog"")

**Issue:**  When trying to build an environment which is using a base environment that has failed recent revisions after the actual active one, the build will fail with a message indicating it can not find the image it is using as a base.  

Example:

panic: failed to solve: 172.20.163.146:5000/dominodatalab/environment:637d085f699e846123f35871-6: 172.20.163.146:5000/dominodatalab/environment:637d085f699e846123f35871-6: not found

In this case our build is looking for revision 6 indicated by the -6 at the end of the url for the image: 

\> 172.20.163.146:5000/dominodatalab/environment:637d085f699e846123f35871**\-6**

However this revision is marked as failed in our ""**Environment Base**"" and the current active and correct revision is actually #4:

![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/11418293669268)

**Root cause:** This behaviour has been identified as a bug in Domino versions 5.x and is set to be fixed in version 5.5.0 

**Workaround:**  There are a few ways to overcome this problem by either creating a successful build for the ""**Environment Base**"" which will set it as the latest active revision or alternatively you could simply copy the ""**Environment Base**"" which will create a new environment with no revision history. 

### Recently viewed articles

*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQj9pJiCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--f1d66ab2f1e2a8c7c4544565d699c0df90dd742a)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQj9pJiCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kH--78f5cca688f0ec709f52700926d895e5f5a4e4aa)
*   [Environment build fails with ERROR: Could not acquire image ID or digest following build](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnH%2FMABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQj9pJiCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzQ0MDIxMjU0NjUzNjQtRW52aXJvbm1lbnQtYnVpbGQtZmFpbHMtd2l0aC1FUlJPUi1Db3VsZC1ub3QtYWNxdWlyZS1pbWFnZS1JRC1vci1kaWdlc3QtZm9sbG93aW5nLWJ1aWxkBjsIVDoJcmFua2kI--343b19e2bb7fa4888950422befbfb66b59c52012)
*   [Environment builds never leave queued: Hephaestus-manager logging ""X509: certificate has expired or is not yet valid""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT1EiQDDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQj9pJiCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBky9oYy9lbi11cy9hcnRpY2xlcy8xNjUwNjE2NDU0MDgyMC1FbnZpcm9ubWVudC1idWlsZHMtbmV2ZXItbGVhdmUtcXVldWVkLUhlcGhhZXN0dXMtbWFuYWdlci1sb2dnaW5nLVg1MDktY2VydGlmaWNhdGUtaGFzLWV4cGlyZWQtb3ItaXMtbm90LXlldC12YWxpZAY7CFQ6CXJhbmtpCQ%3D%3D--252950e521cc914d6d0f2fbc92195ac203356fe8)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSRq%2FaPDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQj9pJiCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE0OTExOTY5OTIzNDc2LUhvdy10by12aWV3LXRoZS1jb250ZW50cy1vZi1hbi1lbnYtdmFyaWFibGUtdmlhLU1vbmdvBjsIVDoJcmFua2kK--593b075f5bdbebb421e0488e13247ba666de4d81)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11418488677268-Environment-build-fails-with-failed-to-solve-not-found) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino 5.x

## **Issue:**

A Global default environment will give a '500 Internal Server Error' when you attempt to rebuild that environment if it was originally built using an 'Existing Image' for it's Environment Base, see example of this below:

![Screen_Shot_2022-12-16_at_3.12.30_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11667665850004)

## **Root Cause:**

Environments whose base environment is another existing environment in Domino cannot be used as the Global Default Environment.  When you look at a Global Default Environment that was built from an existing Image you will notice that the Environment Base is blank.

![Screen_Shot_2022-12-16_at_1.20.36_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11668620821652)

## **Resolution:**

Global Default environments should only be created using a 'Custom Image', either one of Domino's Standard Environments ([DSE](https://docs.dominodatalab.com/en/latest/user_guide/71a047/tech-ecosystem/#compute-env)) documented [here](https://docs.dominodatalab.com/en/latest/user_guide/71a047/tech-ecosystem/#compute-env) or from a custom image of your choice.  Regardless of which image you want to use, you should be using the 'Start from a custom base image' option when building your default environment.

If you find yourself in this situation and don't have the time to do a full rebuild against a DSE or other image, you can duplicate your default environment, apply your changes in the duplicate and then once built promote the duplicate to the Default Environment.  

## **Notes/Information:**

At Domino 5.6 you will no longer be able to promote an environment built from an existing Domino environment to be the global default.  Domino engineering is assessing whether to allow this in future Domino versions.

### Recently viewed articles

*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)

### Related articles

*   [FAQ: Can I have two versions of a package in the same environment?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCC1IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjYOucCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTYzMi1GQVEtQ2FuLUktaGF2ZS10d28tdmVyc2lvbnMtb2YtYS1wYWNrYWdlLWluLXRoZS1zYW1lLWVudmlyb25tZW50BjsIVDoJcmFua2kG--2ffc44aa204f78ba88f4ebef0fd929b4f1a2b917)
*   [Model resource quotas](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMvNItNTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjYOucCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI6L2hjL2VuLXVzL2FydGljbGVzLzM2MDAyNDU1OTA1MS1Nb2RlbC1yZXNvdXJjZS1xdW90YXMGOwhUOglyYW5raQc%3D--4a094ddc00acb6dc468ffe3231e272efee826f50)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjYOucCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCA%3D%3D--5b00fd2e9e20c70ef29881472d7cd73d46508ae3)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjYOucCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kJ--f0ba5bbaf80a9097f7ab1acbb5ff6341473959ee)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjYOucCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--f364d03af599774aeaa7e4d75af6882552ef4d89)"
https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time/subscription.html ""Opens a sign-in dialog"")

### Issue:

When upgrading to Domino v5.4 from a previous version you are faced with:

ValueError: Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time: 3.4 -> 3.6 -> 4.0 -> 4.2 -> 4.4.  
For each subsequent version, set image\_overrides.mongodb to the appropriate image tag and re-run the installer with \`-s mongodb-replicaset --warn-only\`. When fully current, remove the image\_overrides entry to ensure current and future versions use the correct Mongo image version.  
Mongo image tags:  
Mongo 3.4: docker.io/mongo:3.4  
Mongo 3.6: quay.io/domino/mongo:3.6.22-20210316-1506  
Mongo 4.0: quay.io/domino/mongo:4.0.23-20210504-1754  
Mongo 4.2: quay.io/domino/mongo:4.2.22-20220914-0744  
Mongo 4.4: quay.io/domino/mongo:4.4.16-20220921-1614

### Applies to

*   Upgrading from Domino v4x & v5x to Domino v5.4

### Solution:

There are 2 ways to bypass this issue, use only 1:

*   Use the --warn-only argument when upgrading 
*   Remove the helm chart for mongo prior to the upgrade

### Notes:

The issue will be resolved as part of Domino v5.4.1 as part of **PLAT-6207**

### Recently viewed articles

*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)
*   [Environment visibility transfer error ""List(FormError(userOwnerId,List(User id is incorrect.),WrappedArray()))""](https://tickets.dominodatalab.com/hc/en-us/articles/14959020642068-Environment-visibility-transfer-error-List-FormError-userOwnerId-List-User-id-is-incorrect-WrappedArray)
*   [Setting up Cost Budgets & Alerts](https://tickets.dominodatalab.com/hc/en-us/articles/19916215263508-Setting-up-Cost-Budgets-Alerts)
*   [""seldon-core-microservice: not found"" in Domino async model instance logs](https://tickets.dominodatalab.com/hc/en-us/articles/21516939190932--seldon-core-microservice-not-found-in-Domino-async-model-instance-logs)
*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)

### Related articles

*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxgWG2CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--64f5363f0b719043ecb06a3d6e1b7cd7d5716774)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBStwEuLEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxgWG2CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE5Mjg5OTY5MDQ0NzU2LVNlbGYtdXBncmFkZS1wcm9ibGVtcwY7CFQ6CXJhbmtpBw%3D%3D--a0645123da9b5efb27d944b8df4517eaf72ea08e)
*   [test\_ecd\_health.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS7UcnRDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxgWG2CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzE0MDk1MTY1Mjc0OTAwLXRlc3QtZWNkLWhlYWx0aC1weS1SdW5ib29rBjsIVDoJcmFua2kI--f80be1d3efb7f770c2d61fd9dfe8270bbe585e17)
*   [Environment long-term build logs are missing](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxNuqOCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxgWG2CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzExNjA4OTMxMDcwMjI4LUVudmlyb25tZW50LWxvbmctdGVybS1idWlsZC1sb2dzLWFyZS1taXNzaW5nBjsIVDoJcmFua2kJ--e19e7543a260491b50feeb98c769337a195610f5)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxgWG2CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCg%3D%3D--bba48cf7477624ee65a87aa4bf7860438c6c0138)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fcategories%2F360000081163&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace/subscription.html ""Opens a sign-in dialog"")

The Spark Web UI tab is available in the IDE is created when you start a Domino on Demand spark cluster.  Directions for how to create a Domino On Demand spark cluster are located here for the 4.4 version:   
   
 [https://docs.dominodatalab.com/en/4.4/user\_guide/68faaa/spark-on-domino/](https://docs.dominodatalab.com/en/4.4/user_guide/68faaa/spark-on-domino/)  
[https://docs.dominodatalab.com/en/4.4/user\_guide/1962f3/configure-prerequisites](https://docs.dominodatalab.com/en/4.4/user_guide/1962f3/configure-prerequisites/)

The docs for other versions can be viewed by modifying the version from the docs page.

If you are using an external spark cluster then Domino does not have an internally visible dashboard available  and you would need to contact the administrator of the spark cluster at your deployment to to get access to the jobs dashboard.

If you are creating a Domino On Demand spark cluster and the UI is still not visible to you, it's possible that the system has encountered issues while spinning up the spark cluster. The workspace logs should reveal some clues as to why the cluster is not spinning up, but if you are still stuck please reach out to your local admin or create a ticket with the Domino support team. If it is available to you, providing the Domino support bundle ([https://docs.dominodatalab.com/en/latest/user\_guide/055b74/support-bundles/](https://docs.dominodatalab.com/en/latest/user_guide/055b74/support-bundles/))  from your workspace will help the team find a resolution quicker. 

### Recently viewed articles

*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)
*   [How to view the contents of an env variable via Mongo](https://tickets.dominodatalab.com/hc/en-us/articles/14911969923476-How-to-view-the-contents-of-an-env-variable-via-Mongo)

### Related articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwPRURBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQY%3D--e94545a0201ebfcdd2f2e593f1b868895961cf03)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwPRURBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpBw%3D%3D--48f8025b7ebeab9f1cae5c5d7d72ea722abde921)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQNGHjkBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwPRURBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzc1NzgzMzcxNTIyNzYtU3BhcmstRXhhbXBsZXMtbmVlZGVkBjsIVDoJcmFua2kI--acd96cee467e6fb54ee731767d3cbddc56f4805a)
*   [Multiple Spark Applications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJcNUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwPRURBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE0NDQ3MS1NdWx0aXBsZS1TcGFyay1BcHBsaWNhdGlvbnMtaW4tRG9taW5vBjsIVDoJcmFua2kJ--cd145ab13229b84e5534d03e75dac7725eb8208c)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwPRURBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--f0f23f0ead55322de3bcf77b44007e148b244379)"
https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers/subscription.html ""Opens a sign-in dialog"")

If you're running an on-demand spark cluster with executor hardware tiers sized medium or larger, and you're not receiving output from your spark job, this may be caused by a mismatch in the number or cpu cores spark expects, versus what is available in the hardware tier. 

If you retrieve the support bundle from your spark workspace (requires admin permissions), you may see entries in the spark master logs such as:

```
2022-02-28T18:28:06.847027350Z 22/02/28 18:28:06 INFO Master: Registered app pyspark-shell with ID app-20220228182806-0000
```

A quick test to validate this issue, is trying to run your spark job on a small hardware tier. If you get output from a small hardware tier, but not from larger tiers, this is indicating that the spark executor config may be trying to use more hardware than is available.

This can be adjusted in the Spark session through use of the spark.config() function:

\# You can examine the full config  
spark.sparkContext.getConf().getAll()

\# Change CPU cores  
spark.config(""spark.executor.cores"", ""<some-integer>"")  
  
\# Change Available Memory, using m for MB, g for GB  
spark.config(""spark.executor.memory"", ""4g"")

If you're still not getting output after trying smaller values here, please retrieve the support bundle from your workspace, and send that to us in a support ticket for further review.

### Recently viewed articles

*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)
*   [Unsupported mongo upgrade path: 4.0 -> 4.4 -- Mongo minor versions must be upgraded one version at a time](https://tickets.dominodatalab.com/hc/en-us/articles/12877947810068-Unsupported-mongo-upgrade-path-4-0-4-4-Mongo-minor-versions-must-be-upgraded-one-version-at-a-time)

### Related articles

*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTHT3kBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS5mtBIBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzNzY3NDk4NDQtQ29uZmlndXJpbmctU01UUC1Ob3RpZmljYXRpb25zLWluLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--aeb48d1b7a19ddedcd79cba017c3f7b5b1431d80)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS5mtBIBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--086d194e41d4247a1605ac8463e8b9313ee9a2dc)
*   [Multiple Spark Applications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJcNUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS5mtBIBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE0NDQ3MS1NdWx0aXBsZS1TcGFyay1BcHBsaWNhdGlvbnMtaW4tRG9taW5vBjsIVDoJcmFua2kI--8c5b5b5fdb0fd27fdec2551da47a1ec48469a642)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQNGHjkBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS5mtBIBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzc1NzgzMzcxNTIyNzYtU3BhcmstRXhhbXBsZXMtbmVlZGVkBjsIVDoJcmFua2kJ--93a73b8bbab1ad882b3b59af74dc51d7951aba8e)
*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTHIm8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS5mtBIBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUwNDc1NzItU2NoZWR1bGluZy1SdW5zLWFuZC1Kb2JzLXVzaW5nLUNyb24tRXhwcmVzc2lvbgY7CFQ6CXJhbmtpCg%3D%3D--148b2ccdd2a007ac075dd64aa093087a0b0e8a35)"
https://tickets.dominodatalab.com/hc/en-us/sections/23726798950292-Projects,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/23726798950292-Projects/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/23726798950292-Projects/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/24965080287508-Copying-a-Github-Git-Based-Project,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24965080287508-Copying-a-Github-Git-Based-Project/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

* * *

## **Issue:**

Getting a ""Can't create 'projectname' because a repo by that name already exists"" or ""This project couldn't be copied because the files in Github repository 'gitname' are not a Github template repository. 

* * *

## **Root Cause:**

The repository is not a Github template

* * *

## **Resolution:**

In order to copy a Git-based project, the GitHub repository you want to copy must be a template repository. You can do this by activating the 'Template repository'. ![github template repository selection](https://docs.dominodatalab.com/images/5.6/github-template-repository-selection.png)

More information can be found here [https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-template-repository](https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-template-repository)

* * *

## **Notes/Information:**

This is listed in our Domino Docs that can be found here: Under ""Limitations and requirements"" [https://docs.dominodatalab.com/en/latest/user\_guide/a96d2b/project-templates/](https://docs.dominodatalab.com/en/latest/user_guide/a96d2b/project-templates/)

### **References/Internal Records:**

* * *

### Recently viewed articles

*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/articles/12459440871700-How-to-unarchive-Domino-environments)

### Related articles

*   [Empty folder reappears even after adding folder name to .dominoignore file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOIENyEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJvqK0FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzIxMzgxNDczNDA2NDg0LUVtcHR5LWZvbGRlci1yZWFwcGVhcnMtZXZlbi1hZnRlci1hZGRpbmctZm9sZGVyLW5hbWUtdG8tZG9taW5vaWdub3JlLWZpbGUGOwhUOglyYW5raQY%3D--34a0e93b87e3c0e3e34415d93c5f132dd29b6a7c)
*   [Project overview page not displaying markdown tables correctly](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvX5%2BNEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJvqK0FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzE5Mjk5OTYxODc2MzcyLVByb2plY3Qtb3ZlcnZpZXctcGFnZS1ub3QtZGlzcGxheWluZy1tYXJrZG93bi10YWJsZXMtY29ycmVjdGx5BjsIVDoJcmFua2kH--2ca433434c2ea5b74f859f51c4f81bb8c1cc468e)"
https://tickets.dominodatalab.com/hc/en-us/articles/21381473406484-Empty-folder-reappears-even-after-adding-folder-name-to-dominoignore-file,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21381473406484-Empty-folder-reappears-even-after-adding-folder-name-to-dominoignore-file/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You have an empty folder that you're trying to delete in a Domino project. However, it keeps reappearing after you spin up a workspace. You followed the directions in [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/articles/4413808021012) and added the folder's name to the **.dominoignore** file. But the empty folder keeps reappearing.

* * *

## **Root Cause:**

This is due to a **.dominokeep** file that Domino places into empty directories for tracking purposes.

* * *

## **Resolution:**

Delete the empty folder from both the UI and [Domino CLI](https://docs.dominodatalab.com/en/latest/user_guide/30b067/domino-cli/): 

1.  UI: create empty folder
2.  CLI: `domino sync` then `ls` to confirm folder is there
3.  UI: delete empty folder
4.  CLI:
    1.  `domino download`
    2.  `rm -R <folder_name>` to delete the folder and all its contents
    3.  `ls` to confirm folder has been deleted
    4.  `domino sync` then `ls` to confirm folder did not reappear
5.  UI: refresh to confirm that the folder did not reappear

* * *

## **Notes/Information:**

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Copying a Github Git-Based Project](https://tickets.dominodatalab.com/hc/en-us/articles/24965080287508-Copying-a-Github-Git-Based-Project)
*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)
*   [Environment build fails with ""failed to solve: .....: not found""](https://tickets.dominodatalab.com/hc/en-us/articles/11418488677268-Environment-build-fails-with-failed-to-solve-not-found)

### Related articles

*   [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOdasDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOIENyEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4MDgwMjEwMTItSG93LXRvLURlbGV0ZS1hbi1FbXB0eS1Gb2xkZXItRnJvbS1hLURvbWluby1Qcm9qZWN0BjsIVDoJcmFua2kG--033eeb36b6dae2a7ab37eafb9a5b3e2091eee083)
*   [Deleted files and folder keep appearing back in domino project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIebKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOIENyEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzgzMS1EZWxldGVkLWZpbGVzLWFuZC1mb2xkZXIta2VlcC1hcHBlYXJpbmctYmFjay1pbi1kb21pbm8tcHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--012102d0fbde314960073c7a92500220e0053ecd)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQFDAAQDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOIENyEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmy9oYy9lbi11cy9hcnRpY2xlcy8xNjU2MTM5NDY4MTEwOC1Ib3ctdG8tZ2VuZXJhdGUtYS1TdGF0YS1saWNlbnNlLWZpbGUtYW5kLWFwcGx5LWl0LWluLWFuLWVudmlyb25tZW50LXMtRG9ja2VyZmlsZS1zby10aGF0LXlvdS1jYW4tdXNlLVN0YXRhLWFzLWEtd29ya3NwYWNlBjsIVDoJcmFua2kI--59a272469fa4918824aac192966e7922e48c605f)
*   [Out of space error while writing to /var/opt/git in Nucleus FrontEnd logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT%2F1IwtCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOIENyEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzExMTkwNzUyNTc1MzgwLU91dC1vZi1zcGFjZS1lcnJvci13aGlsZS13cml0aW5nLXRvLXZhci1vcHQtZ2l0LWluLU51Y2xldXMtRnJvbnRFbmQtbG9ncwY7CFQ6CXJhbmtpCQ%3D%3D--4f8ce93cf3652dcb4c97450b74f005243ee2dffe)
*   [I have core.123 files taking up large amounts of memory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8iEICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOIENyEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI3MTk1MDgtSS1oYXZlLWNvcmUtMTIzLWZpbGVzLXRha2luZy11cC1sYXJnZS1hbW91bnRzLW9mLW1lbW9yeQY7CFQ6CXJhbmtpCg%3D%3D--f559d950e6fdbb7378f8960e4c7df21a1690e776)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21381473406484-Empty-folder-reappears-even-after-adding-folder-name-to-dominoignore-file) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/9261784517140-500-Internal-Server-Error-when-user-tries-to-login-to-Domino-UI-after-upgrade-to-5-1-from-4-6,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9261784517140-500-Internal-Server-Error-when-user-tries-to-login-to-Domino-UI-after-upgrade-to-5-1-from-4-6/subscription.html ""Opens a sign-in dialog"")

**Problem/Symptom:** 

User is getting 500 Internal Server Error when try to login to Domino UI, 

![Screen_Shot_2022-12-20_at_2.28.32_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11758821650068)

500 on _GET request `requestOfflineToken`_

![Screen_Shot_2022-12-21_at_4.16.52_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11789569293844)

**Cause:** 

*   Mismatch email in mongoDB vs what was in keycloak

```
{
	""_id"" : ObjectId(""619b70a5b330268fdaf864e0""),
	""idpId"" : ""498ae2d9-5996-446d-a33a-5046ae336cfb"",
	""loginId"" : {
		""id"" : ""user1"",
		""lowercaseId"" : ""user1""
	},
	""firstName"" : ""first"",
	""lastName"" : ""last"",
	""fullName"" : ""first last"",
	""email"" : ""first.a.last@company.com"",
	""created"" : ISODate(""2021-11-22T10:27:49.912Z""),
	""planInfo"" : {
		""trialStartDate"" : ISODate(""2021-11-22T10:27:49.912Z""),
		""freeRunsForAllProjects"" : false
	},
	""_systemRoles"" : [
		""Practitioner""
	],
	""sshKeys"" : [ ],
	""gitDomainCredentials"" : [ ],
	""deactivatedFlag"" : false,
	""productOptIn"" : true,
	""marketingOptIn"" : false,
	""isDominoEmployee"" : false,
	""hashedApiKey"" : ""02771e03e79411ab8034dad1f94c0a8bbfb6609b""
}
```

In keycloak for above user id, the email is ""**first.a.last@company\_ext.com**""

*   Some of users such as contractors may have multiple email addresses, like xxxx@company.com and xxxx@company\_ext.com, and hence mismatch between what is in keycloak and what is in mongo, give us encrypted messages about offline token

**Solution:** 

Perform MongoDB surgery to update the user email address to match what's in keycloak, please contact Domino admin to run the command to resolve the issue. 

db.users.update({""loginId.id"" : ""user1""},{$set: {""email"" : ""first.a.last@company\_ext.com""}})

### Recently viewed articles

*   [Empty folder reappears even after adding folder name to .dominoignore file](https://tickets.dominodatalab.com/hc/en-us/articles/21381473406484-Empty-folder-reappears-even-after-adding-folder-name-to-dominoignore-file)
*   [Copying a Github Git-Based Project](https://tickets.dominodatalab.com/hc/en-us/articles/24965080287508-Copying-a-Github-Git-Based-Project)
*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace)
*   [Rebuild of Global Default Environment gives '500 Internal Server Error'](https://tickets.dominodatalab.com/hc/en-us/articles/11669080122132-Rebuild-of-Global-Default-Environment-gives-500-Internal-Server-Error)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRKYG1sCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--f11e229ae6b63e341f948e3f0c98e398d7b453ef)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRKYG1sCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--e14d8915e1ebbca4c54636bd8b9bba3d1e06d9fb)
*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRKYG1sCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kI--d8306d20d28afecee9da1a84e9833bf04c585281)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRKYG1sCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kJ--b0b29e255f7a8f6e1f5fa4e41c92ae06261c48fc)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQJH%2FICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRKYG1sCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2OTg1NjU5MDgtU2FtYmEtY2xpZW50cy1hcy1hbi1hbHRlcm5hdGl2ZS10by1DSUZTLW1vdW50ZWQtc2hhcmVkLWRyaXZlcwY7CFQ6CXJhbmtpCg%3D%3D--ced20dfe146cb5adfcf4f9887567bc45e9529f4e)"
https://tickets.dominodatalab.com/hc/en-us/sections/23339791816596-Authentication,"## Authentication

*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/articles/9261784517140-500-Internal-Server-Error-when-user-tries-to-login-to-Domino-UI-after-upgrade-to-5-1-from-4-6)
*   [Turning off two-factor authentication on your account](https://tickets.dominodatalab.com/hc/en-us/articles/15330360352276-Turning-off-two-factor-authentication-on-your-account)
*   [Unexpected error when authenticating with Identity provider, duplicate key value violates unique constraint constraint\_40](https://tickets.dominodatalab.com/hc/en-us/articles/15157219903252-Unexpected-error-when-authenticating-with-Identity-provider-duplicate-key-value-violates-unique-constraint-constraint-40)
*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/articles/9874610714644-After-Domino-4-x-to-5-x-upgrade-executions-fail-with-HTTP-Error-400-Bad-Request-POSTing-to)
*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/articles/9559147664660-User-is-logged-out-automatically-after-logging-in-or-accessing-their-project)
*   [User login stuck at 'Preparing for first Use'](https://tickets.dominodatalab.com/hc/en-us/articles/4407020218644-User-login-stuck-at-Preparing-for-first-Use)
*   [Why do I get redirected to the login screen when starting a workspace or job?](https://tickets.dominodatalab.com/hc/en-us/articles/4404337625876-Why-do-I-get-redirected-to-the-login-screen-when-starting-a-workspace-or-job)
*   [Cannot Login - Client Disabled](https://tickets.dominodatalab.com/hc/en-us/articles/360062091331-Cannot-Login-Client-Disabled)
*   [Invalid Credentials, Incorrect login or wrong username/password](https://tickets.dominodatalab.com/hc/en-us/articles/360061048232-Invalid-Credentials-Incorrect-login-or-wrong-username-password)
*   [Accessing your Domino JWT Token for the first time (Domino 4.x)](https://tickets.dominodatalab.com/hc/en-us/articles/360058493431-Accessing-your-Domino-JWT-Token-for-the-first-time-Domino-4-x)"
https://tickets.dominodatalab.com/hc/en-us/articles/20149279681684-Project-transfer-appears-to-be-disabled,"If you are attempting to transfer a Domino project ownership to a colleague but the “transfer” button appears to be greyed out, please check to see if there are any workspaces within the project. If so, please delete the workspace, then try again. 

If you are still unable to to transfer the workspace, please feel free to contact Domino support for assistance and include details of what you have already tried."
https://tickets.dominodatalab.com/hc/en-us/articles/15330360352276-Turning-off-two-factor-authentication-on-your-account,"Please follow these procedures to disable your account's Two-Factor Authentication on your Domino deployment.

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507468665236)

2) Navigate to ""Account Settings"" after logging in.

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507468667412)

3) Navigate to ""Manage login profile""

![Screen_Shot_2021-06-28_at_9.09.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507468667796)

4) Navigate to ""Authenticator"" and then click the red line.

![Screen_Shot_2023-05-02_at_11.40.29_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/15330224256660)

5) Logout and re-login to your Domino deployment to see if Two-Factor Authentication is now off.

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/19299961876372-Project-overview-page-not-displaying-markdown-tables-correctly,"**Issue**: When using tables in your README.md files, the Domino Project overview page  does not render the table elements correctly. Instead the table syntax is displayed. 

**Example:**

![](https://tickets.dominodatalab.com/hc/article_attachments/19299710619540)

**Root cause:** This is caused by the fact that the library we use to render markdown has stopped supporting table extensions in it's current version. The following versions of Domino are affected:   
\> 4.6   
\> 5.0

**Solution:** This is a known bug which will be patched in **Domino release 5.8**."
https://tickets.dominodatalab.com/hc/en-us/articles/15157219903252-Unexpected-error-when-authenticating-with-Identity-provider-duplicate-key-value-violates-unique-constraint-constraint-40,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15157219903252-Unexpected-error-when-authenticating-with-Identity-provider-duplicate-key-value-violates-unique-constraint-constraint-40/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

4.x thru latest release 5.5.2, involving Keycloak integrations with SSO (like okta, websso, etc).

* * *

## **Issue:**

An individual user attempts to login and sees ""Unexpected error when authenticating with Identity provider"":

![dup.png](https://tickets.dominodatalab.com/hc/article_attachments/15156193107988)

A first troubleshooting step when encountering issues like this involves testing a different browser and/or removing all cookies and cache.  But that doesn't help in this case, instead grepping/searching for ""exception"" in keycloak logs, like:

`kubectl logs -n domino-platform keycloakpodname --timestamps | grep -i exception`

leads to a clue:

`2023-04-25T13:06:37.247217108Z ESC[0mESC[31m13:06:37,247 ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] (default task-3858) ERROR: duplicate key value violates unique constraint ""constraint_40""`  
`2023-04-25T13:06:37.247219975Z   Detail: Key (identity_provider, user_id)=(domino-credentials, 39a47782-8c3e-46d1-9091-a7105ff795ea) already exists.`

* * *

## **Root Cause:**

Domino requests that Keycloak verify authentication against SSO, and based on the response from SSO, Keycloak is trying to create a new record (user\_id) for the combo of ""Provider Username""  and email address.  Keycloak is behaving this way because it _assumes_ a new record is needed due to detecting some change in the CASING for username or email address or other.  For example if the SSO SAML response returns an email address with an upper case letter keycloak will assume that new record should be added.

The Keycloak error occurs because one of either the username or ""Provider User ID"" already exist, hence the ""duplicate key"" violation.

![sl.png](https://tickets.dominodatalab.com/hc/article_attachments/15156395505812)

* * *

## **Resolution:**

In Keycloak UI navigate into the individual user record, hit the ""Remove"" button on the ""Identify Provider Links"" tab (see above screenshot), then have the user re-attempt login into the Domino UI.

* * *

## **Notes/Information:**

To fully understand why Keycloak is assuming that a new record is needed for the user you need to review the SAML requests and responses between Keycloak and the SSO provider.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Project overview page not displaying markdown tables correctly](https://tickets.dominodatalab.com/hc/en-us/articles/19299961876372-Project-overview-page-not-displaying-markdown-tables-correctly)
*   [Turning off two-factor authentication on your account](https://tickets.dominodatalab.com/hc/en-us/articles/15330360352276-Turning-off-two-factor-authentication-on-your-account)
*   [Project transfer appears to be disabled](https://tickets.dominodatalab.com/hc/en-us/articles/20149279681684-Project-transfer-appears-to-be-disabled)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/articles/9261784517140-500-Internal-Server-Error-when-user-tries-to-login-to-Domino-UI-after-upgrade-to-5-1-from-4-6)
*   [Empty folder reappears even after adding folder name to .dominoignore file](https://tickets.dominodatalab.com/hc/en-us/articles/21381473406484-Empty-folder-reappears-even-after-adding-folder-name-to-dominoignore-file)

### Related articles

*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSOHwyXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRHtRDJDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzEwNTQ0MzQ4MTA2Mzg4LUtleWNsb2FrLVJlY29tbWVuZGVkLXNldHRpbmdzLWZvci1zZXNzaW9uLWFuZC10b2tlbi10aW1lb3V0cwY7CFQ6CXJhbmtpBg%3D%3D--fb4920310df547b6d35f93b5fe0372a4a14ee706)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCLizIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRHtRDJDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTI3Mi1Nb2RpZnlpbmctRG9taW5vLUZpcnN0LUJyb2tlci1Mb2dpbgY7CFQ6CXJhbmtpBw%3D%3D--0dd579da68d9658bef65c052b90a84219db95d01)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRHtRDJDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kI--2e2ff45b11b7d10717175e28c1499b57c77a3cec)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRHtRDJDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kJ--f3a54db0f0c9e3a35b151fd5a5d8bcf34895ced0)
*   [Clearing Git Cache](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgtyndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRHtRDJDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0MDI3MTczMDEyLUNsZWFyaW5nLUdpdC1DYWNoZQY7CFQ6CXJhbmtpCg%3D%3D--57aa98e3f6ba4440b585140592ee99e0e8576536)"
https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6/subscription.html ""Opens a sign-in dialog"")

## **Issue/Scenario :**

Users and admins are unable to change/modify the Notification Preferences for an Org within a Project owned by you. 

## **Root Cause &** **Resolution :**

It was recently discovered and a fix for this has been applied in version 5.7. Meanwhile, the admins could employ below Mongo statement to update the Notification Preferences for an org : 

db.projects.updateOne({""\_id"" : ObjectId(""6411a54d96c56b3a2ba5927d""), ""collaborators.collaboratorId"":ObjectId(""64b135d7ec6281675840d37f"")},{ $set:{""collaborators.$.notificationSettings"" : ""Never""}})  

For the above statement, please replace the project and collaborator Object Ids, these can be located via collections.find() method and also the notification setting.

* * *

### Related articles

*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQ6WmPDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT11V33DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzE0OTA5NjA4Mzk4OTk2LVVzZXItbm90LWFibGUtdG8tYWNjZXNzLXByb2plY3RzLWFmdGVyLWFuLXVwZGF0ZS1pbi10aGVpci1rZXljbG9hay1wcm9wZXJ0aWVzBjsIVDoJcmFua2kG--e9a36a26545be540c34f22d3afe16d6287c27308)
*   ['pip install' throws SSL Certificate Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTiv6UIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT11V33DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2MzQyMTAzMjA5MTYtLXBpcC1pbnN0YWxsLXRocm93cy1TU0wtQ2VydGlmaWNhdGUtRXJyb3IGOwhUOglyYW5raQc%3D--4e412c6f04a34b346a486f08d3cfbd02285088e9)
*   [Can Not Access App: Unauthorized : you must be authenticated to access this page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXze46BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT11V33DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ2NTExNjEwNjUzNjQtQ2FuLU5vdC1BY2Nlc3MtQXBwLVVuYXV0aG9yaXplZC15b3UtbXVzdC1iZS1hdXRoZW50aWNhdGVkLXRvLWFjY2Vzcy10aGlzLXBhZ2UGOwhUOglyYW5raQg%3D--9a0a6ed3c4a2bf9d391413531dbffdea852ce80c)
*   [FAQ: Can I have two versions of a package in the same environment?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCC1IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT11V33DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTYzMi1GQVEtQ2FuLUktaGF2ZS10d28tdmVyc2lvbnMtb2YtYS1wYWNrYWdlLWluLXRoZS1zYW1lLWVudmlyb25tZW50BjsIVDoJcmFua2kJ--37eb00877aa191585818fbbddb07065195513681)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT11V33DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCg%3D%3D--a869d0f8b2ea2abb2f8a863b47efc8ad3c16e1d6)"
https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties/subscription.html ""Opens a sign-in dialog"")

## **Issue/Scenario:**

Some user had their email address updated causing keycloak to generate a new object which in turn created a new user object in mongo. The old keycloak object pertaining to the user was removed by an automated cleaning script. 

* * *

## **Root Cause:**

This broke the mapping between the old mongo user bson object and the projects bson object, meaning, the user wasn't able to navigate to their projects.

* * *

## **Resolution:**

For this instance we'd have to re-map the reference between the 2 mongo collections. We could do this by getting the \_id value for the old user bson object, find all the projects owned by this ObjectId and updating those by the new user's ObjectId, as per : 

```
db.projects.aggregate([{ ""$match"": {""ownerId"": {$exists: true, $eq: ObjectId(""63f796625d213530a02a5ad8"") }}},{ $group: {""id"": ""$_id"", name: {$first:""$name"" }}},{""$unset"":[""ownerId""]},{""$set"" : {""ownerId"":ObjectId(""6324459c527b3129b44289fe"")}}])db.projects.updateMany({""ownerId"" : ObjectId(""6346aa6364fb33141da22c50"")},{""$set"" : {""ownerId"":ObjectId(""6324459c527b3129b44289fe"")},{ upsert: false, multi: true})
```

Substitute the ownerId with the \_id value for the old user in `$eq: ObjectId(""63f796625d213530a02a5ad8"")` and with the \_id value for the new user in `{""$set"" : {""ownerId"":ObjectId(""6324459c527b3129b44289fe"")}`  
Similarly with updateMany, substitute the ownerId with the \_id value for the old user in `{""ownerId"" : ObjectId(""6346aa6364fb33141da22c50"")}` and and with the \_id value for the new user in `{""$set"" : {""ownerId"":ObjectId(""6324459c527b3129b44289fe"")}`   
The user should be able to access the projects after modifying this ownership.

* * *

## **Note:**

It is recommended that the admins consult Domino Support before executing the update statements in Mongo. 

### Recently viewed articles

*   [Unable to update Notification Preferences of an Org for a Project owned by you | Versions 5.3 to 5.6](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6)

### Related articles

*   [Unexpected error when authenticating with Identity provider, duplicate key value violates unique constraint constraint\_40](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRHtRDJDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSQ6WmPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmi9oYy9lbi11cy9hcnRpY2xlcy8xNTE1NzIxOTkwMzI1Mi1VbmV4cGVjdGVkLWVycm9yLXdoZW4tYXV0aGVudGljYXRpbmctd2l0aC1JZGVudGl0eS1wcm92aWRlci1kdXBsaWNhdGUta2V5LXZhbHVlLXZpb2xhdGVzLXVuaXF1ZS1jb25zdHJhaW50LWNvbnN0cmFpbnQtNDAGOwhUOglyYW5raQY%3D--5501458df0c836dc699feac301436b10dc2b1324)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQwPRURBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSQ6WmPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzc3Njk5NTIxNzAwMDQtV2h5LWlzbi10LXRoZS1TcGFyay1VSS12aXNpYmxlLWluLW15LXdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--c15ed46ab51414f39584e3f2c0ffed3e3e7ce158)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQjD1IUBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSQ6WmPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0ODUzMjI1ODA4ODQtRG9taW5vLWlzLXNsb3ctYW5kLUktc2VlLVdhaXRpbmctZm9yLWF2YWlsYWJsZS1zb2NrZXQtaW4tbXktYnJvd3NlcgY7CFQ6CXJhbmtpCA%3D%3D--289cd26da0b4d1cacd88255a27b85061f2470536)
*   [Username Changes in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSQ6WmPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzMjc1NzMxNDAtVXNlcm5hbWUtQ2hhbmdlcy1pbi1Eb21pbm8GOwhUOglyYW5raQk%3D--6640a51b6e7442f0a8089d9f41825470e740ae87)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJclZtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSQ6WmPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjUyNjg3MS1FcnJvci13aGVuLXN0YXJ0aW5nLXdvcmtzcGFjZS1Dcml0aWNhbC1lcnJvci1pbi1ydW4tZmlsZWNhY2hlLXBhdGgtZG9lcy1ub3QtZXhpc3QGOwhUOglyYW5raQo%3D--513b96f4f7e8fb10c363eeb8ca92e710439e3264)"
https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

The resolution applies to Domino versions 4.x and thru the current version of a writing this article which is 5.5.x.

* * *

## **Issue:**

A customer had a few changes unrelated to Domino in their Authentication provider (Okta), rapidly many users began encountering 431 errors.   To workaround these 431 errors users had to clear cookies per [https://tickets.dominodatalab.com/hc/en-us/articles/4410144353684-431-HTTP-error-code-when-accessing-pages-in-Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4410144353684-431-HTTP-error-code-when-accessing-pages-in-Domino)

* * *

## **Root Cause:**

Okta was adding larger and larger strings to it's cookies.  This increase in cookie lengths triggered errors based on settings some of the many network layers that process http requests from the browser, those errors resulted in response code 431.  The 431 could be coming from the ""ingress"" object for the ""web-ui"" component and/or it could be coming from ""nginx-ingress-controller"" component.   Reviewing the logs for both can help indicate how far the request is traveling before triggering the error.  Reviewing the http request/response in your browser's developer tools can help you determine the total size of the headers as well as the size of the individual headers.

* * *

## **Resolution:**

 First, try to test an edit of your kubernetes ing object named web-ui:  
`kubectl edit -n <your namespace> ing web-ui`  
   
Add an annotation:

```
nginx.ingress.kubernetes.io/configuration-snippet: |      more_clear_input_headers ""Cookie"";
```

   
During edit, mine looked like, screenshot attached too.  
 

```
kind: Ingressmetadata:  annotations:    kubernetes.io/ingress.class: nginx    meta.helm.sh/release-name: web-ui    meta.helm.sh/release-namespace: sup501gh7944-platform    nginx.ingress.kubernetes.io/force-ssl-redirect: ""true""    nginx.ingress.kubernetes.io/configuration-snippet: |      more_clear_input_headers ""Cookie"";    nginx.ingress.kubernetes.io/use-regex: ""true""  creationTimestamp: ""2023-02-15T21:02:05Z""   
```

Second, try to test an edit of the configmap of the nginx-ingress-controller deploy

`kubectl edit cm -n <your platform namespace> nginx-ingress-controller`

Set client-header-buffer-size to 32k 

```
apiVersion: v1data:add-headers: vivekc10258-platform/nginx-ingress-custom-add-headersallow-snippet-annotations: ""true""client-header-buffer-size: 32k
```

* * *

## **Notes/Information:**

any useful, additional background if necessary.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties)
*   [Unable to update Notification Preferences of an Org for a Project owned by you | Versions 5.3 to 5.6](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6)

### Related articles

*   [431 HTTP error code when accessing pages in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRtFtECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTc6EdsDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzQ0MTAxNDQzNTM2ODQtNDMxLUhUVFAtZXJyb3ItY29kZS13aGVuLWFjY2Vzc2luZy1wYWdlcy1pbi1Eb21pbm8GOwhUOglyYW5raQY%3D--de675902900e2a649eaab02111ac6cf5712b7386)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRTVzBOEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTc6EdsDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzIwMTI3MDI3Nzc4NDUyLUZhc3RBUEktQXBwLXdpdGgtTXVsdGlwbGUtRW5kcG9pbnRzBjsIVDoJcmFua2kH--202236aab7f178676998458c75faabf024248511)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTc6EdsDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kI--6d1d5c362632f507ce50a41f82f0507d90f57cf1)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTc6EdsDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--d322fe608287acea138a3a3037b072010486bca7)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTc6EdsDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQo%3D--95507d8b49b16068626df34294babbdf62ffe440)"
https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login/subscription.html ""Opens a sign-in dialog"")

If you're and admin and a user reports getting a 500 error page when they are trying to login, there are a few places to begin troubleshooting. 

First, you'll want to login to Keycloak on your deployment and verify the user exists in that console. You'll also want to verify their account has an accurate first name, last name, and email address. If any of the values are missing, please fill them from the Keycloak console with the proper information. 

Next, you'll want to check the user's data in the mongo database. The mongo console can be accessed by going to Admin > Advanced > MongoDB

Here is the query you'll want to run (please modify the domino\_user to the user you are investigating): 

db.users.find({""loginId.id"":""domino\_user""}).pretty()

For example, looking up user _j\_jones_ would look like the following: 

db.users.find({""loginId.id"":""j\_jones""}).pretty()

Once again, please verify the user has the correct information - you'll want to focus on first name, last name, and email address - but skim it all to be safe. 

In addition, please verify the user has the IdpId value set. 

If only the IdpID value is missing, please follow the steps in this article to insert the missing value: [Error-activating-deactivating-user-User-user-does-not-have-idpId-set-](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set-)

If any of the other information in mongo is incorrect, please reach out to Domino support and they will help you get the problematic account back on track. We highly recommend admins do not make any mongo edits without Domino guidance, as any errors can cause major issues for the entire Domino deployment. 

### Recently viewed articles

*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)
*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties)
*   [Unable to update Notification Preferences of an Org for a Project owned by you | Versions 5.3 to 5.6](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6)

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQld9mlCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--6e9b0dcef9b8bd66f48479736113d6d52d210312)
*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTx%2F%2B6XFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQld9mlCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzI0ODQxODA1NjIzNTcyLVVzZS1weXRob24tdG8tY2FsbC1SRVNULWFwaXMtdG8tZmluZC1hLWxpc3Qtb2YtUnVubmluZy1Eb21pbm8tTW9kZWwtQVBJcwY7CFQ6CXJhbmtpBw%3D%3D--223b5a5380b6f29272fb933acb5984854f45cc24)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206706-Workspaces,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000206706-Workspaces/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000206706-Workspaces/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser/subscription.html ""Opens a sign-in dialog"")

If you are seeing slowness in the Domino UI and/or see the message from your browser that it is ""waiting for available socket"" you may have exhausted the available sockets for your browser.  Chrome is limited to 6 web sockets (on Windows this can be set to 32 via the registry).  

You may exhaust your websockets for a few reasons...

*   Browser extensions: antivirus, lastpass for example.
*   Too many open tabs, particularly to Domino

To mitigate this issue, try the following steps...

*   Restart your browser
*   Clear sockets via chrome internals - flush socket pool, (chrome://net-internals/#sockets)
*   Additionally flush DNS, clear cache and cookies
*   If browser is not on auto upgrade, it may need an upgrade
*   Reboot your computer (this may be needed even after clearing the browser as above)
*   Disable browser extensions if possible.

### Recently viewed articles

*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)
*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)
*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties)
*   [Unable to update Notification Preferences of an Org for a Project owned by you | Versions 5.3 to 5.6](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6)

### Related articles

*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShMa0EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQjD1IUBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ0MTgxMzIwOTExNTYtQ29tcGFyaW5nLUpvYnMtV29ya3NwYWNlcy1pbi1Eb21pbm8tdmVyc2lvbnMtNC00LWFuZC1hYm92ZQY7CFQ6CXJhbmtpBg%3D%3D--b0eede92785e3dfa3084dd0696f4cf8b3abf70d8)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJclZtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQjD1IUBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjUyNjg3MS1FcnJvci13aGVuLXN0YXJ0aW5nLXdvcmtzcGFjZS1Dcml0aWNhbC1lcnJvci1pbi1ydW4tZmlsZWNhY2hlLXBhdGgtZG9lcy1ub3QtZXhpc3QGOwhUOglyYW5raQc%3D--cd73fe8752bedc6fbf443fbcc6d3af55c7b74c9e)
*   [What's with this KubernetesClientException error message in my workspace logs?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQFYF0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQjD1IUBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDgwNTIyNDQtV2hhdC1zLXdpdGgtdGhpcy1LdWJlcm5ldGVzQ2xpZW50RXhjZXB0aW9uLWVycm9yLW1lc3NhZ2UtaW4tbXktd29ya3NwYWNlLWxvZ3MGOwhUOglyYW5raQg%3D--88d52f41ddc37411ff1b33860f6d34cce77f07b6)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQjD1IUBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCQ%3D%3D--21ab6f06dacec4964c311948f8c85b72cc83ecd5)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR8ngkGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQjD1IUBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzk5MjE1MzU4MzUxNTYtUnVubmluZy1ELXRhbGUtaW4tSnVweXRlci1ub3RlYm9vawY7CFQ6CXJhbmtpCg%3D%3D--fc5e0e92ee6426fe19b882da182543a5865fb91a)"
https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory/subscription.html ""Opens a sign-in dialog"")

If you're seeing failures when trying to startup a job, workspace or app the best place to check for errors is the setup and user logs. Here are our docs that will help you locate the logs, depending on your Domino version: [https://docs.dominodatalab.com/en/latest/user\_guide/164503/view-workspace-logs/](https://docs.dominodatalab.com/en/latest/user_guide/164503/view-workspace-logs/)

If that doesn't provide you the answer, you'll want to check the support bundle if it's available to you. That can be found here: [https://docs.dominodatalab.com/en/latest/user\_guide/055b74/support-bundles/](https://docs.dominodatalab.com/en/latest/user_guide/055b74/support-bundles/)

If at any point you see an error similar to this (referring to the .api/token directory): 

Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory

Please try manually logging out of Domino in your browser, then manually logging back in. This should recreate the token in question and allow you to start your runs. 

If you try this and still have trouble, please reach out to Domino support and include the support bundle if possible. 

### Recently viewed articles

*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)
*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)
*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties)
*   [Unable to update Notification Preferences of an Org for a Project owned by you | Versions 5.3 to 5.6](https://tickets.dominodatalab.com/hc/en-us/articles/17555105641876-Unable-to-update-Notification-Preferences-of-an-Org-for-a-Project-owned-by-you-Versions-5-3-to-5-6)

### Related articles

*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTS4BTlBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3hrSXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzc1ODA5Njc1NTU3MzItRXJyb3ItUmVhZGluZXNzLXByb2JlLWZhaWxlZC1jYXQtdmFyLWxpYi1kb21pbm8taG9tZS1hcGktdG9rZW4tTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpBg%3D%3D--bf95643edbb9477be95ee2e41990722d68fb72af)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3hrSXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kH--fa6d931adf351f6d70d7712cd3e75741c409fe06)
*   [After self-upgrading Domino, nucleus backup cronjobs fail with a ""secrets is forbidden"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT1VE%2FCCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3hrSXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy8xMjkyOTE4MjUyODc4OC1BZnRlci1zZWxmLXVwZ3JhZGluZy1Eb21pbm8tbnVjbGV1cy1iYWNrdXAtY3JvbmpvYnMtZmFpbC13aXRoLWEtc2VjcmV0cy1pcy1mb3JiaWRkZW4tZXJyb3IGOwhUOglyYW5raQg%3D--9dee40c78103f77eac9c84a83bb75ea357ee2278)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3hrSXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--2d03e3574eebae90a61816ea29889d70745edfbf)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ3hrSXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--ea9e101e35857cd2562d074b2c0f7b9d36111c50)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/sections/23508941198996-CLI,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/23508941198996-CLI/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/23508941198996-CLI/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist/subscription.html ""Opens a sign-in dialog"")

If you are attempting to open a workspace and encounter the below error, please check whether the project has a dataset attached: 

Critical error in run 5ea0a47cc9sdfe77c0007c6732c: java.io.IOException: filecache   
path does not exist: /domino/efs/filecache/dataset-scratch-space-5aaab5bsfsdfa3d4  
74cb5bb58c8eb0-5aaab5b3d474cbsdfd5bb58c8eaf-efb6a028-264d-45a4-9739-fe2d31616c47

If there is a dataset, please remove it from your project and try launching a new workspace again. If that succeeds there is likely an issue with the dataset.

We've seen instances where files became corrupted during the upload process. Simply re-uploading the files fixed the issue, so please try to re-upload/re-create the dataset in question, then launch a new workspace. If that doesn't help, please verify the contents of your domino.yaml file. From our docs [here](https://docs.dominodatalab.com/en/latest/reference/data/datasets/About_domino.yaml.html): 

_The `domino.yaml` file respects the following schema.  Spaces matter._

_datasetConfigurations: \# contains array of configurations
 \- name: string \# identifier for this configuration
   inputs: \# contains array of datasets to mount for input
     \- path: string \# path appended to /domino/datasets
       dataset: string \# name of the dataset to mount as input
   outputs: \# contains array of datasets to mount for input
     \- path: string \# path appended to /domino/datasets
       dataset: string \# name of the dataset to mount for output_

If you're still stuck, please create a ticket with support with the full error attached and a description of the issue. 

### Recently viewed articles

*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)
*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)
*   [User not able to access projects after an update in their keycloak properties](https://tickets.dominodatalab.com/hc/en-us/articles/14909608398996-User-not-able-to-access-projects-after-an-update-in-their-keycloak-properties)

### Related articles

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJclZtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpBg%3D%3D--0e7163fceba8d7780c8af934b4adb7369bfaec73)
*   [Friendly static links to apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNebKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJclZtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzkxMS1GcmllbmRseS1zdGF0aWMtbGlua3MtdG8tYXBwcwY7CFQ6CXJhbmtpBw%3D%3D--d54cafebd7f4bc85c1d6c5825f63bba284d2fef8)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJclZtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kI--c92e3fb834e75395ee217dfe4c547e098e0c6187)
*   [Seeing 99+ merge conflicts when I try to sync](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrGooDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJclZtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDg0MzI5MTYtU2VlaW5nLTk5LW1lcmdlLWNvbmZsaWN0cy13aGVuLUktdHJ5LXRvLXN5bmMGOwhUOglyYW5raQk%3D--d115128a31e3ad8bc035d31ef2c12a357bcfe477)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNuXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJclZtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjg5MS1FeGVjdXRpb24tbWVtb3J5LXNldHRpbmdzBjsIVDoJcmFua2kK--f8d1f22ed868e12d49fbe28b64061838e81568a8)"
https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

5.x or later

* * *

## **Issue:**

When starting existing workspaces, all of the files in /mnt are reported as changed and requiring syncing, even though the workspace was synced right before the workspace was stopped, and no actual changes occurred:  
![image (3).png](https://tickets.dominodatalab.com/attachments/token/kTxtF3KDuWY988nW9TD25oHo5/?name=image+%283%29.png&lotus_request=true)

* * *

## **Root Cause:**

This is expected. What happens is that there is some metadata that Domino records for that file, which can change in some workspace sessions, which is why you may only see it sometimes when you restart the workspace session. These can be file attributes, permissions, or other information provided to our git-0 pod for your project.

You can test this by changing the file permission in a workspace terminal with chmod then seeing the file change appear in **File Changes** Tab.

* * *

## **Resolution:**

At the moment, the only option is to sync the workspace again in order to clear out these changes. If you wish to maintain the metadata from the file, you can add these files to your .dominoignore file, which does not sync changes:  
[https://docs.dominodatalab.com/en/latest/user\_guide/de4abb/domino-file-system/#\_domino\_working\_directory](https://docs.dominodatalab.com/en/latest/user_guide/de4abb/domino-file-system/#_domino_working_directory)

### **References/Internal Records:**

*   DOM-55902

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/25013496924564)

### Recently viewed articles

*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)
*   [Change in authentication provider leads to 431 http errors while browsing Domino](https://tickets.dominodatalab.com/hc/en-us/articles/14758714072084-Change-in-authentication-provider-leads-to-431-http-errors-while-browsing-Domino)"
https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools/subscription.html ""Opens a sign-in dialog"")

**Issue:**

When working with databases in Python or other programming languages, connectivity problems are not unusual. Misconfigured passwords, firewall constraints, or database user rights are common causes of these difficulties. Native testing methods are essential for streamlining the debugging process and ensuring seamless access to databases. In this article, we'll look at how to natively test database connections with common database administration tools such as psql for PostgreSQL and sqlcmd for SQL Server on Linux using Ubuntu.

**1\. Testing PostgreSQL Database Connections  with psql:**  
To test a PostgreSQL database connection natively, we will use psql, PostgreSQL's command-line interface. Here's a step-by-step instructions:

**1.1** Install **telnet** and **postgresql-client** packages:

sudo su -  
apt install telnet -y  
apt install postgresql-client -y

**1.2** Test the connection using telnet:

telnet <db host> <db port>

**1.3** Connect to the database using psql:

psql host=<db host> port=<db port> dbname=<dbname> user=<user> password=<password>

**2\. Testing SQL Server Database Connection with sqlcmd:**  
To test a SQL Server database connection natively, we will use sqlcmd, a SQL Server command-line utility. Take these steps:

**2.1**  Install **prerequisites** and **mssql-tools**:

sudo su -  
curl https://packages.microsoft.com/keys/microsoft.asc | sudo tee /etc/apt/trusted.gpg.d/microsoft.asc  
curl https://packages.microsoft.com/config/ubuntu/20.04/prod.list > /etc/apt/sources.list.d/mssql-release.list  
sudo apt-get update  
sudo apt-get install mssql-tools18 unixodbc-dev

**2.2** Add **mssql-tools** to the **PATH**:

echo 'export PATH=""$PATH:/opt/mssql-tools18/bin""' >> ~/.bash\_profile  
echo 'export PATH=""$PATH:/opt/mssql-tools18/bin""' >> ~/.bashrc  
source ~/.bashrc

**2.3** Test the connection using sqlcmd:

sqlcmd -S <db server> -U <db username> -P <password> -C ""SELECT \* FROM <table>""

Native testing techniques, such as psql for PostgreSQL and sqlcmd for SQL Server, allow **developers** to rapidly check database **connections** before incorporating them into Python or R code. These approaches aid in the early detection and resolution of connection difficulties, resulting in more efficient database operations inside the codebase.

**Notes**

[https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-ver16&tabs=ubuntu-install](https://learn.microsoft.com/en-us/sql/linux/sql-server-linux-setup-tools?view=sql-server-ver16&tabs=ubuntu-install)

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/24555816569492)

### Recently viewed articles

*   [Files reported as not synced on workspace startup despite being synced before](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/articles/12806945973524-User-getting-500-page-when-trying-to-login)

### Related articles

*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRduVhVFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kG--0acb8d603036653bec94f49e5175e6520bf7dc8c)
*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRduVhVFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kH--589098c8d4e06074ff2d004ffffa45ff1cb893d5)
*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLw8GAFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRduVhVFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzI0NzQyMjYyNDI2NTE2LVJzdHVkaW8tbm8tbG9uZ2VyLWluc3RhbGxlZC1ieS1kZWZhdWx0LWluLURTRS1HUFUtZW52aXJvbm1lbnRzBjsIVDoJcmFua2kI--1b143a9c6ce0601bb2aaa73403565f42cce3b17a)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRNs3EMFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRduVhVFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgy9oYy9lbi11cy9hcnRpY2xlcy8yMzE0MzE5MTM2NzA2MC1GaWxlLUZvbGRlci13aXRoLVBsdXMtU3ltYm9sLW9uLU5hbWUtUmVzdWx0cy10by1hbi1FcnJvci1EdXJpbmctU2luZ2xlLWZpbGUtRG93bmxvYWQtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--42c8f43354b2bb088ca5680d3f711f0f81be250e)
*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQqrtx6EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRduVhVFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzIxNDE4NDA5MzM5NDEyLS1FcnJvci1SZXBvTWFuLVNlcnZpY2UtTWVtb3J5LVByZXNzdXJlLXdoZW4tY29ubmVjdGluZy1naXQtcmVwby10by1Eb21pbm8tcHJvamVjdAY7CFQ6CXJhbmtpCg%3D%3D--3b6ee2e608992a96a1009bad01809b0aecee8857)"
https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory/subscription.html ""Opens a sign-in dialog"")

#### _**Environment:**_

Domino images released with Domino 5.9.

## **Issue:**

Your workspace fails to start with an error similar to the below.  Note this can occur for any flavor of IDE,  jupyter is just the example here.

/var/opt/domino/workspaces/jupyter/start: No such file or directory

## **Root Cause:**

The start script is used by Domino to do the work of starting the IDE that is installed in your environment.  The path to this start script is defined in the Pluggable Workspace Tools section of your compute environments definition.

![Screenshot 2024-03-19 at 11.52.27 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/24774065052692)

In the Domino 5.9 Standard Environment (DSE) images the location to these startup scripts is now 

/opt/domino/workspaces/<IDE>/start

## **Resolution:**

Update the Pluggable Workspace Tools section of your Compute Environment definition with the following:

jupyter:  
  title: ""Jupyter (Python, R, Julia)""  
  iconUrl: ""/assets/images/workspace-logos/Jupyter.svg""  
  start: \[ ""/opt/domino/workspaces/jupyter/start"" \]  
  httpProxy:  
    port: 8888  
    rewrite: false  
    internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/{{#if pathToOpen}}tree/{{pathToOpen}}{{/if}}""  
    requireSubdomain: false  
supportedFileExtensions: \[ "".ipynb"" \]  
jupyterlab:  
  title: ""JupyterLab""  
  iconUrl: ""/assets/images/workspace-logos/jupyterlab.svg""  
  start: \[ /opt/domino/workspaces/jupyterlab/start \]  
  httpProxy:  
    internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/{{#if pathToOpen}}tree/{{pathToOpen}}{{/if}}""  
    port: 8888  
    rewrite: false  
    requireSubdomain: false  
vscode:  
  title: ""vscode""  
  iconUrl: ""/assets/images/workspace-logos/vscode.svg""  
  start: \[ ""/opt/domino/workspaces/vscode/start"" \]  
  httpProxy:  
  port: 8888  
  requireSubdomain: false  
rstudio:  
  title: ""RStudio""  
  iconUrl: ""/assets/images/workspace-logos/Rstudio.svg""  
  start: \[ ""/opt/domino/workspaces/rstudio/start"" \]  
  httpProxy:  
  port: 8888  
  requireSubdomain: false

ref: [https://docs.dominodatalab.com/en/latest/user\_guide/fa8137/create-an-environment/](https://docs.dominodatalab.com/en/latest/user_guide/fa8137/create-an-environment/)

Note that you will need to make sure that indentations match after you paste the above stanzas in to your environment.  If you copy directly from our docs at the link above it should preserve the indentations.  If you copy and paste from above you may need to manually add indentations if they are lost.

### **References/Internal Records:**

Documentation located here is currently **incorrect**:

[https://docs.dominodatalab.com/en/latest/user\_guide/03e062/add-workspace-ides/#\_for\_python\_version\_2\_7\_9\_2](https://docs.dominodatalab.com/en/latest/user_guide/03e062/add-workspace-ides/#_for_python_version_2_7_9_2)

This is being corrected under the following internal ticket.

*   DOCS-3130

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24774065055124)

### Recently viewed articles

*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)
*   [Files reported as not synced on workspace startup despite being synced before](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)

### Related articles

*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLw8GAFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRQsieIFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzI0NzQyMjYyNDI2NTE2LVJzdHVkaW8tbm8tbG9uZ2VyLWluc3RhbGxlZC1ieS1kZWZhdWx0LWluLURTRS1HUFUtZW52aXJvbm1lbnRzBjsIVDoJcmFua2kG--429ffb8fca05bb93a17afd0d2a6afdf4e48d28a7)
*   [How do models use environment variables?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN%2BnKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRQsieIFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njk5MS1Ib3ctZG8tbW9kZWxzLXVzZS1lbnZpcm9ubWVudC12YXJpYWJsZXMGOwhUOglyYW5raQc%3D--ea6c09d97c32fedade12d6877adb7d7550a71258)
*   [Workspace link in Idle Workspace Detected email notification leads to 404](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSeT8h9FjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRQsieIFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzI0NzI5NDg3Mzg0MDg0LVdvcmtzcGFjZS1saW5rLWluLUlkbGUtV29ya3NwYWNlLURldGVjdGVkLWVtYWlsLW5vdGlmaWNhdGlvbi1sZWFkcy10by00MDQGOwhUOglyYW5raQg%3D--06d014d091770dd5443ea9c8972d3b1dbcb50cff)
*   [Turning off two-factor authentication on your account](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTermDxDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRQsieIFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE1MzMwMzYwMzUyMjc2LVR1cm5pbmctb2ZmLXR3by1mYWN0b3ItYXV0aGVudGljYXRpb24tb24teW91ci1hY2NvdW50BjsIVDoJcmFua2kJ--075a85938a9b46f1f1b51317ad74662e4a270078)"
https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)
*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command)
*   [Unexpected error: Error while parsing marker file](https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file)
*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine)
*   [Error when using the CLI to create a project owned by an organization](https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config)
*   [CLI failing due to "" Error getting site config""](https://tickets.dominodatalab.com/hc/en-us/articles/10074814000020-CLI-failing-due-to-Error-getting-site-config)
*   [Problem installing CLI on mac, Domino Installer.app hangs in Install4j](https://tickets.dominodatalab.com/hc/en-us/articles/9861111169940-Problem-installing-CLI-on-mac-Domino-Installer-app-hangs-in-Install4j)
*   [""Unexpected error: Something went wrong when creating folder C:\\WINDOWS\\system32\\<project name>>](https://tickets.dominodatalab.com/hc/en-us/articles/8052252632340--Unexpected-error-Something-went-wrong-when-creating-folder-C-WINDOWS-system32-project-name)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/4420067360020-First-rule-of-CLI-Troubleshooting)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23508941198996-CLI)

![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

There are instances when we try to sync our files via CLI or using a workspace it will not push thru and will error out.  One of the most common error you will get is **Unexpected error: Error while parsing marker file**

![parsing](https://tickets.dominodatalab.com/hc/article_attachments/16843207662228)

![Screen](https://tickets.dominodatalab.com/hc/article_attachments/16843176940564)

* * *

## **Root Cause:**

The main cause of this is issue is a corrupted marker file from Domino which is used by the system to track the changes on a users files. This will always indicated a problematic file or folder **( \*\*IMPORTANT NOTE: Please make sure you include the .dominolog file for your if you are using the CLI or the workspace Support Bundle- see links below)** .

Corrupted marker file has been seen on projects where sync has been stopped mid-way. 

* * *

## **Resolution:**

Regardless if a user is utilizing CLI or a Notebook:

A. The best way to solve this error message is by deleting the local project files and downloading it again . Deleting the folder from both your Workspace and your Files tab in DFS should  clean up this error and allow you to add your changed files back to the freshly downloaded project and then sync. 

B. Add the mentioned file to your .dominoignore file

C. Empty Corrupted folder

D. In extreme cases you can create an Environment with an **rm command** in the pre-run script to **remove the file(s)**

* * *

### **Notes:**

**It is always recommended to back up your files first before deleting or making any permanent change.**

* * *

### **References/Internal Records:**

[Workspace Logs And Support Bundle for 5.0 and Above](https://tickets.dominodatalab.com/hc/en-us/articles/5185124068884-Workspace-Logs-And-Support-Bundle-for-5-0-and-Above)

[Domino CLI](https://docs.dominodatalab.com/en/5.3/user_guide/30b067/domino-cli/)

### Recently viewed articles

*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command)
*   [Workspace link in Idle Workspace Detected email notification leads to 404](https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404)
*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory)
*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)
*   [Files reported as not synced on workspace startup despite being synced before](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before)

### Related articles

*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZNZpRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kG--f857acfe7d5cd1a74b4694d35946aac08e49400a)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZNZpRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQc%3D--f6ff7ff0836693f4557209b3611bea9701f79025)
*   [Upload files to Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8V0GiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZNZpRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYxOTQ0MzkxMjYxNjQtVXBsb2FkLWZpbGVzLXRvLURvbWlubwY7CFQ6CXJhbmtpCA%3D%3D--6227713fc69dc20f603a685f4028a28e4d69621d)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZNZpRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCQ%3D%3D--a33c47b865969a87db179457e712d0a8cfdb5a27)
*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZNZpRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2NTAzNDE4ODQxODAtSWdub3JpbmctZmlsZXMtYWJvdmUtdGhlLXNhdmUtbGltaXQtb2YtMTAwMDAtZmlsZXMtdXNpbmctZG9taW5vaWdub3JlBjsIVDoJcmFua2kK--c27f8503537743955915ebbeb4f46b48e48f7ea8)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16843153955092-Unexpected-error-Error-while-parsing-marker-file) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This is relevant to all versions of Domino when using the Domino CLI

* * *

## **Issue:**

A user performs ""domino login"" then ""domino sync"" and receives an error claiming ""`not authorized org.eclipse.jgit...`like:

```
C:\xyz\Model Innovation\greg\ML30\001_Extracted>domino sync
Checking for local changes...
Checking for local changes: 109/109 files checked
Changes to upload: + 106 added, x 0 modified, - 0 deleted
Uploading local changes (131.1 G):
Uploading blobs: 106/106 files uploaded   182.57% (-34m -57s)
Upload complete (4637.624s).
+--------+
| Error! |
+--------+
Unexpected error: https://domino.greg.com/projectrepos/6154/6154d291ea3b4a385e9c735f.git: not authorized org.eclipse.jgit.api.PushCommand.call(PushCommand.java:180)
```

* * *

## **Root Cause:**

This can occur if authentication tokens get stale or become corrupted.

* * *

## **Resolution:**

Find and remove the file named token.file which is under the directory named .dominoconfig.   The .dominoconfig file is often found in the home directory of the user like C:\\Users\\<your username> on windows and in /users/<your username> for MacOS and Linux.  It can also be find in a subdirectory of the directory where Domino CLI was installed and executed from.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Workspace link in Idle Workspace Detected email notification leads to 404](https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404)
*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory)
*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)
*   [Files reported as not synced on workspace startup despite being synced before](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQorK6mEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--f5704c645737783012d5c544abcc3b9ec5e8df22)
*   [Error When Accessing Projects via the CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAQfYNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQorK6mEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjEzMTk3Mi1FcnJvci1XaGVuLUFjY2Vzc2luZy1Qcm9qZWN0cy12aWEtdGhlLUNMSQY7CFQ6CXJhbmtpBw%3D%3D--1faeb20597982a7a4a896444de682b7dac33beca)
*   [Is there a way to run a script after every run?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHunKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQorK6mEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njg5MS1Jcy10aGVyZS1hLXdheS10by1ydW4tYS1zY3JpcHQtYWZ0ZXItZXZlcnktcnVuBjsIVDoJcmFua2kI--977818f2b0d63d964f6e16990b4ae1076eb02fc8)
*   [CLI login fails with the error ""PKIX path building failed""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPSuIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQorK6mEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDA1Mi1DTEktbG9naW4tZmFpbHMtd2l0aC10aGUtZXJyb3ItUEtJWC1wYXRoLWJ1aWxkaW5nLWZhaWxlZAY7CFQ6CXJhbmtpCQ%3D%3D--8612faf61a87c986bfc32bd9140cf2ad76c003e0)
*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTx%2F%2B6XFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQorK6mEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzI0ODQxODA1NjIzNTcyLVVzZS1weXRob24tdG8tY2FsbC1SRVNULWFwaXMtdG8tZmluZC1hLWxpc3Qtb2YtUnVubmluZy1Eb21pbm8tTW9kZWwtQVBJcwY7CFQ6CXJhbmtpCg%3D%3D--362efaa53186767dca2a30d9affe06eff5866b2a)"
https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino versions < 5.11.

* * *

## **Issue:**

**Background:** Admins can configure workspace settings to send users an automatic email before unused workspaces are auto-deleted.

**Issue:** In the **Idle Workspace Detected** email notification sent to the user, the workspace link leads to a 404:

![email notification Idle Workspace Detected.png](https://tickets.dominodatalab.com/hc/article_attachments/24729487358740)

![email URL leads to 404.png](https://tickets.dominodatalab.com/hc/article_attachments/24729456165396)

* * *

## **Root Cause:**

This is a known issue where the URL generated incorrectly uses the project owner’s username in the URL pattern:  
https://your-company-domino-URL/workspace/project-owner-name/workspace-name

This returns a 404 because the route was only querying the project owner since it assumed that the workspace owner was the project owner, and not any of the project’s collaborators.

* * *

## **Resolution:**

This issue is resolved in Domino version 5.11. 

* * *

## **Notes/Information:**

These are the [Central Config settings](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#workspaces) related to automatically delete unused workspaces:

|     |     |     |
| --- | --- | --- |  
| **Key** | **Default** | **Description** |
| **com.cerebro.domino.workbench.workspace.enabledPVCleanup** |     |     |
|     | **false** | ""True"" to enable the unused workspace volume cleaner job, which deletes unused disk volumes to reduce cost. |
| **com.cerebro.domino.workbench.workspace.cleanupFrequencyDays** |     |     |
|     | **1.day** | The frequency, in days, at which the workspace volume cleaner job runs. |
| **com.cerebro.domino.workbench.workspace.idlePeriodThresholdDays** |     |     |
|     | **10** | The number of days a workspace can remain unused before it is marked for deletion and the grace period begins. |
| **com.cerebro.domino.workbench.workspace.unusedGracePeriodDays** |     |     |
|     | **30** | The number of days between when a workspace is marked for deletion and when it is actually deleted, also called the grace period. During this period, the workspace owner is notified in Domino and through email. |

* * *

### References/Internal Records:

*    DOM-45590

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24729456168980)

### Recently viewed articles

*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory)
*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)
*   [Files reported as not synced on workspace startup despite being synced before](https://tickets.dominodatalab.com/hc/en-us/articles/25013490394516-Files-reported-as-not-synced-on-workspace-startup-despite-being-synced-before)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/10547173406484-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)

### Related articles

*   [“ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_'” when trying to deploy a model as a REST API endpoint](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdD%2Bh7FjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSeT8h9FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmS9oYy9lbi11cy9hcnRpY2xlcy8yNDcyMTQzMDEwOTU4OC0tSW1wb3J0RXJyb3ItY2Fubm90LWltcG9ydC1uYW1lLVBST1RPQ09MLVRMUy1mcm9tLXVybGxpYjMtdXRpbC1zc2wtd2hlbi10cnlpbmctdG8tZGVwbG95LWEtbW9kZWwtYXMtYS1SRVNULUFQSS1lbmRwb2ludAY7CFQ6CXJhbmtpBg%3D%3D--6fe4b098f04359bd1421eee1bd23f69f2ecdad07)
*   [Mount error(13): Permission denied when starting a workspace with an external data volume](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTAYSA4FjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSeT8h9FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzI0NDMwMzE3MjU2ODUyLU1vdW50LWVycm9yLTEzLVBlcm1pc3Npb24tZGVuaWVkLXdoZW4tc3RhcnRpbmctYS13b3Jrc3BhY2Utd2l0aC1hbi1leHRlcm5hbC1kYXRhLXZvbHVtZQY7CFQ6CXJhbmtpBw%3D%3D--e8f5e0fbc59ff68c394f9aeeec388770d12bdd8b)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSa63O2DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSeT8h9FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzE2MTc2NzkxNjU3MTA4LVdvcmtzcGFjZS1vci1Kb2ItZmFpbHVyZXMtZHVlLXRvLWxvdy1lcGhlbWVyYWwtc3RvcmFnZQY7CFQ6CXJhbmtpCA%3D%3D--1273a411735b3601998924d9917209746a12e58c)"
https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine/subscription.html ""Opens a sign-in dialog"")

**Issue:** 

When try to use ""domino get"" to get an existing project in Domino onto my local machine, I get error message below, 

```
+--------+
| Error! |
+--------+
Unexpected error: Couldn't access the project. Make sure you have access by checking that you can visit https://<Domino URL>/u/dianapai/genetic_data_ingestion.
Try again later and if the problem persists, contact us.
domino.client.command.ProjectAccessChecker.triggerUnknownProjectError(ProjectAccessChecker.scala:54) domino.client.command.ProjectAccessChecker.assertUserHasAccessToProject(ProjectAccessChecker.scala:23) domino.client.command.GetCommand.get(GetCommand.scala:24) domino.client.Domino.executeCommand(Domino.scala:229) domino.client.Domino$.main(Domino.scala:49) domino.client.Domino.main(Domino.scala) sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) java.lang.reflect.Method.invoke(Method.java:498) com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84) com.install4j.runtime.launcher.UnixLauncher.start(UnixLauncher.java:66) install4j.domino.client.Domino.main(Unknown Source)
```

I've confirmed I have access by checking the Domino URL and I can ""domino get"" the Quick Start project fine. 

**Root Cause:**

The project I try to ""domino get"" is a git-based project and git-based projects are not yet supported by the Domino CLI. This is on the product roadmap for future releases.  

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Unexpected error: Error while parsing marker file](https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file)
*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command)
*   [Workspace link in Idle Workspace Detected email notification leads to 404](https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404)
*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory)
*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/articles/24555816574356-Troubleshooting-database-connectivity-using-native-command-line-tools)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR28MpODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--1e1f520c15de914d9ce0fc6e0d94eac961a5f66b)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR28MpODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpBw%3D%3D--ba013c504eed168dd3e44ae0a7f0e8bc371594f8)
*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXcGaXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR28MpODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzEwNTQ1ODYzMzY2NTQ4LUNMSS1Ib3ctdG8tZG93bmxvYWQtcHJvamVjdC1maWxlcy1pbnRvLXlvdXItbG9jYWwtbWFjaGluZS12aWEtdGhlLURvbWluby1DTEkGOwhUOglyYW5raQg%3D--1877245433598c032bee389e55b886e5fd068bcf)
*   [Problem installing CLI on mac, Domino Installer.app hangs in Install4j](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRDB%2Fj3CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR28MpODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk4NjExMTExNjk5NDAtUHJvYmxlbS1pbnN0YWxsaW5nLUNMSS1vbi1tYWMtRG9taW5vLUluc3RhbGxlci1hcHAtaGFuZ3MtaW4tSW5zdGFsbDRqBjsIVDoJcmFua2kJ--5015c6812cdf7e84c920834a382e88621b6b2464)
*   [Error: “Workspace could not be started. Your role does not authorize you to perform this action”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmh4K9CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR28MpODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy85NjEwMDMxNzUyNzI0LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Zb3VyLXJvbGUtZG9lcy1ub3QtYXV0aG9yaXplLXlvdS10by1wZXJmb3JtLXRoaXMtYWN0aW9uBjsIVDoJcmFua2kK--23f437c39783d7bb515520138ab83ecafa00ad51)"
https://tickets.dominodatalab.com/hc/en-us/articles/24430317256852-Mount-error-13-Permission-denied-when-starting-a-workspace-with-an-external-data-volume,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24430317256852-Mount-error-13-Permission-denied-when-starting-a-workspace-with-an-external-data-volume/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

User's getting permission denied when starting a workspace with an external data volume. 

FailedMount events from workspace pod describe: 

```
Warning  FailedMount             2m8s                 kubelet                  Unable to attach or mount volumes: unmounted volumes=[pvc-aero-imdata-vol], unattached volumes=[jwt-secret-vol execution-vol domino-temporary-credentials logback run-65cbf42ff635f7665bd68045-nginx-config-vol run-65cbf42ff635f7665bd68045-start-run-script-vol user-session-values-vol filecache-vol pvc-aero-imdata-vol custom-certs-vol executor-storage-vol service-account-token-vol execution-secrets-vol]: timed out waiting for the condition
```

```
Warning  FailedMount             102s (x9 over 4m7s)  kubelet                  MountVolume.MountDevice failed for volume ""pv-aero-imdata"" : rpc error: code = Internal desc = volume(pv-aero-imdata) mount ""//ftwgroups/data/ironminer/staging/receive/domino"" on ""/var/lib/kubelet/plugins/kubernetes.io/csi/smb.csi.k8s.io/0229687fdbf9ae365b961e2c10ce6ec22c797101f1f76c7929d09fa0c05e57ca/globalmount"" failed with mount failed: exit status 32
Mounting command: mount
Mounting arguments: -t cifs -o dir_mode=0777,file_mode=0777,vers=2.0,gid=12574,<masked> //ftwgroups/data/ironminer/staging/receive/domino /var/lib/kubelet/plugins/kubernetes.io/csi/smb.csi.k8s.io/0229687fdbf9ae365b961e2c10ce6ec22c797101f1f76c7929d09fa0c05e57ca/globalmount
Output: mount error(13): Permission denied
Refer to the mount.cifs(8) manual page (e.g. man mount.cifs) and kernel log messages (dmesg)
```

However user's able to mount the shared drive on the bastion host that's connected to the domino cluster, 

\[ec2-user@ip-146-69-167-249 aero-imdata-RITM3497880\]$ df -h

Filesystem                                         Size  Used Avail Use% Mounted on

devtmpfs                                           7.7G     0  7.7G   0% /dev

tmpfs                                              7.7G  168K  7.7G   1% /dev/shm

tmpfs                                              7.7G  821M  6.9G  11% /run

tmpfs                                              7.7G     0  7.7G   0% /sys/fs/cgroup

/dev/nvme0n1p2                                     100G   44G   57G  44% /

/dev/nvme1n1                                       150G   26G  125G  17% /domino-admin-data

tmpfs                                              1.6G   16K  1.6G   1% /run/user/1000

**//ftwgroups/data/ironminer/staging/receive/domino  1.3P  921T  394T  71% /mnt/cifs**

* * *

## **Root Cause:**

The CIFS share that was being mounted was not in the same AD domain as the AD service account that was being used to mount the share. The service account had permissions to the share, but since the AD domain for the mounting AD service account was not specified, the implicit AD domain that was used to mount the share was the domain for the share itself.

* * *

## **Remediation** **steps:**

**Explicitly configure the domain in the `Secret` that's used to store the AD service account credentials. This can be done either by specifying the domain in the username (`<DOMAIN_SHORT_NAME>\<username>`), or by setting an explicit `domain` key with the AD domain name _of the AD service account_ within the `Secret`.**

* * *

If you have questions or need further assistance applying the workaround please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine)
*   [Unexpected error: Error while parsing marker file](https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file)
*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command)
*   [Workspace link in Idle Workspace Detected email notification leads to 404](https://tickets.dominodatalab.com/hc/en-us/articles/24729487384084-Workspace-link-in-Idle-Workspace-Detected-email-notification-leads-to-404)
*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/24774037360788-Workspace-fails-to-start-with-var-opt-domino-workspaces-jupyter-start-No-such-file-or-directory)

### Related articles

*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAYSA4FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpBg%3D%3D--e82c6570a4305ef5dba480ede7e45d8274672728)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAYSA4FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQc%3D--6095aa2bb605f47b1cd2170da08fe654c97af6d3)
*   [Getting ""OutOfMemoryError"" when opening workspace with a git repo attached](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSETJ8xFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAYSA4FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzIzMzAyODcwMTcyODIwLUdldHRpbmctT3V0T2ZNZW1vcnlFcnJvci13aGVuLW9wZW5pbmctd29ya3NwYWNlLXdpdGgtYS1naXQtcmVwby1hdHRhY2hlZAY7CFQ6CXJhbmtpCA%3D%3D--4d63f0bf6ce7290ce6a424e48ca959bc08b71625)
*   [RStudio ""Warning message: R graphics engine version 16 is not supported by this version of RStudio.""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRB47l6EjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAYSA4FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgi9oYy9lbi11cy9hcnRpY2xlcy8yMDMxODMxMzk4ODM3Mi1SU3R1ZGlvLVdhcm5pbmctbWVzc2FnZS1SLWdyYXBoaWNzLWVuZ2luZS12ZXJzaW9uLTE2LWlzLW5vdC1zdXBwb3J0ZWQtYnktdGhpcy12ZXJzaW9uLW9mLVJTdHVkaW8GOwhUOglyYW5raQk%3D--be49a1354e8fdcf4139e6966ff8a60894d1062ed)
*   [User getting 500 page when trying to login](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQld9mlCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAYSA4FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzEyODA2OTQ1OTczNTI0LVVzZXItZ2V0dGluZy01MDAtcGFnZS13aGVuLXRyeWluZy10by1sb2dpbgY7CFQ6CXJhbmtpCg%3D%3D--67eb02dcb650f9c482d5b7c5b3e33404ca8ad26e)"
https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization,"According to our docs [here](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/#_create_a_new_project) you should be able to create an organization owned project via the CLI by using the following command: 

domino init --owner myOrg myProject

Unfortunately, there is a bug that may prevent this from working on some deployments. Instead, you can initialize the project via the CLI using the following command:

domino init

And afterwards you can go to the project's setting page in the Domino UI and transfer ownership to the proper organization. 

If you encounter this bug and it's a problem, please let the support team know."
https://tickets.dominodatalab.com/hc/en-us/sections/360000203443-Environments,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203443-Environments/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000203443-Environments/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config/subscription.html ""Opens a sign-in dialog"")

If you are trying to run the CLI on your local machine and are getting the following error, it may be due to some missing files on your machine: 

```
2022-10-13 09:07:01,472 PDT DEBUG d.c.Domino - Error getting site config. java.lang.RuntimeException: java.lang.RuntimeException: There were unexpected issues getting site config from https://domino.science-at-scale.io/cliSiteConfigat domino.client.Domino$.$anonfun$downloadAndSaveSiteConfig$2(Domino.scala:68)at domino.common.util.EitherUtils$.fromTry(EitherUtils.scala:21)at domino.common.syntax.TryOps.toEither(try.scala:17)at domino.client.Domino$.downloadAndSaveSiteConfig(Domino.scala:68)
```

To resolve, please create a file titled`install_config.json`, located at`:\Users\Domino\.dominoconfig\install_config.json` on a windows machine and on a mac at `/Users/<username>/.dominoconfig/install_config.json` 

Here's a copy of the contents of the instal\_config.json file but you'll need to add your personal deployment url, user\_id, username, etc. 

```
{""host"":""https://some.deployment.com"",""user_id"":""123456"",""username"":""dominopetter"",""api_key"":""123456"",""client_blob_mode"":""S3"",""is_cloud_mode"":true,""report_errors_to_server"":false,""cli_installer_location"":""https://some.deployment.com/assets/cli/default""}
```

Once this file is in place, please reorient your terminal to one of your Domino projects and retry your CLI commands. 

### Recently viewed articles

*   [Error when using the CLI to create a project owned by an organization](https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization)
*   [Mount error(13): Permission denied when starting a workspace with an external data volume](https://tickets.dominodatalab.com/hc/en-us/articles/24430317256852-Mount-error-13-Permission-denied-when-starting-a-workspace-with-an-external-data-volume)
*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine)
*   [Unexpected error: Error while parsing marker file](https://tickets.dominodatalab.com/hc/en-us/articles/16843153955092-Unexpected-error-Error-while-parsing-marker-file)
*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/articles/19407592761364-not-authorized-error-during-CLI-domino-sync-command)

### Related articles

*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSBhQmPCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpBg%3D%3D--849d464b61cbfd862a03b7714f097fda8b0617c4)
*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTcE6mjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSBhQmPCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzYyMDA0NzQ0NTkyODQtU2VuZGluZy1lbWFpbHMtaW4tcHl0aG9uLXVzaW5nLXNtdHBsaWIGOwhUOglyYW5raQc%3D--c4bd5f0c0f0c67546f5da12010e94db7d6c40e79)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSBhQmPCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kI--e32aa4b518dbfd088de18468d92fbb43947df422)
*   [Workspace ""errorCode=""NoSuchKey"" errorMessage=""The specified key does not exist."" after CLI upload](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTENGADBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSBhQmPCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy80NDEyNTQ1NDgzNzk2LVdvcmtzcGFjZS1lcnJvckNvZGUtTm9TdWNoS2V5LWVycm9yTWVzc2FnZS1UaGUtc3BlY2lmaWVkLWtleS1kb2VzLW5vdC1leGlzdC1hZnRlci1DTEktdXBsb2FkBjsIVDoJcmFua2kJ--edebda691941d41781e312ad3061700942f73415)
*   [Installing the CLI - error code:launch path not accessible](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSvpw4BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSBhQmPCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJeL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI1ODczNDg4ODQtSW5zdGFsbGluZy10aGUtQ0xJLWVycm9yLWNvZGUtbGF1bmNoLXBhdGgtbm90LWFjY2Vzc2libGUGOwhUOglyYW5raQo%3D--d13b0bad9c1ee6846eaf00f9846356d30609e1eb)"
https://tickets.dominodatalab.com/hc/en-us/articles/4406492054036-ERROR-Could-not-install-packages-due-to-an-EnvironmentError-Errno-13-Permission-denied,"Often times, users customize their environments to tailor their analytic needs. Package installation on the docker file is the most common path a user takes.

But , during the package installation process users sometimes encounter an error :

_**ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:**_ 

followed by the package name. This usually indicates you lack the necessary permissions to continue the install. 

Luckily fixing the error can be simple. Just try installing the package by adding '**\--user**' option. 

`! pip install (package) --user`"
https://tickets.dominodatalab.com/hc/en-us/articles/24742262426516-Rstudio-no-longer-installed-by-default-in-DSE-GPU-environments,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24742262426516-Rstudio-no-longer-installed-by-default-in-DSE-GPU-environments/subscription.html ""Opens a sign-in dialog"")

#### _**Environment:**_

DSE 5.9+ GPU images

## **Issue:**

As of the 5.9 DSE releases, Rstudio is no longer installed by default on DSE GPU images.  For example, example, quay.io/domino/compute-environment-images:ubuntu20-py3.9-r4.3-domino5.9-gpu

## **Root Cause:**

Domino engineering has an ongoing review process to keep DSE image sizes lean to minimize resource usage and startup times.  Any use cases that are not broadly used may be removed from the default images.  Rstudio is not frequently used with GPU hardware and so Rstudio was removed from the GPU images.

## **Resolution:**

If you'd like to add Rstudio back to a GPU image you can use the following docker to do so in your environment build.

USER root

#Install Rstudio  
RUN apt update && \\  
    apt install gdebi-core -y  && \\  
    wget https://download2.rstudio.org/server/focal/amd64/rstudio-server-2023.12.1-402-amd64.deb  && \\    gdebi -n rstudio-server-2023.12.1-402-amd64.deb  && \\  
    rm -f rstudio-server-2023.12.1-402-amd64.deb  && \\     ln -sf /usr/lib/rstudio-server /usr/local/lib/rstudio-server  && \\  
    chown -R ${DOMINO\_USER}:${DOMINO\_GROUP} /usr/lib/rstudio-server  && \\  
    chown -R ${DOMINO\_USER}:${DOMINO\_GROUP} /var/lib/rstudio-server  && \\  
    chown ${DOMINO\_USER}:${DOMINO\_GROUP} /etc/rstudio/rserver.conf  && \\  
    chown ${DOMINO\_USER}:${DOMINO\_GROUP} /etc/rstudio/rsession.conf && \\  
    ln -sf /usr/lib/rstudio-server/bin/pandoc/pandoc /usr/local/bin/pandoc  && \\    ln -sf /usr/lib/rstudio-server/bin/pandoc/pandoc-citeproc /usr/local/bin/pandoc-citeproc

\# create start script  
RUN mkdir /opt/domino/workspaces/rstudio  && \\  
    chown ubuntu:ubuntu /opt/domino/workspaces/rstudio  && \\  
    echo \\#\\!/bin/bash > /opt/domino/workspaces/rstudio/start  && \\  
    echo 'set -o nounset -o errexit -o pipefail' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo 'if \[ -n ""${SPARK\_HOME:-}"" \]; then' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo \\ \\ echo \\"".libPaths\\(c\\(file.path\\(Sys.getenv\\(\\'SPARK\_HOME\\'\\),\\ \\'R\\',\\ \\'lib\\'\\),\\ .libPaths\\(\\)\\)\\)\\""\\>\\> \\~/.Rprofile >> /opt/domino/workspaces/rstudio/start  && \\  
    echo 'fi' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo export R\_HISTFILE=\\'domino.Rhistory\\' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo 'export USER=ubuntu' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo 'printenv >> ~/.Renviron' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo echo\\ \\""session-default-working-dir=\\$\\{DOMINO\_WORKING\_DIR\\}\\"" \\>\\> /etc/rstudio/rsession.conf >> /opt/domino/workspaces/rstudio/start  && \\  
    echo echo\\ \\""server-user=ubuntu\\"" \\>\\> /etc/rstudio/rserver.conf >> /opt/domino/workspaces/rstudio/start  && \\  
    echo echo\\ \\""auth-none=1\\"" \\>\\> /etc/rstudio/rserver.conf >> /opt/domino/workspaces/rstudio/start  && \\  
    echo 'mkdir -p /tmp/rstudio-server' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo 'RSTUDIO\_SERVER\_DATA\_DIR=/tmp/rstudio-server' >> /opt/domino/workspaces/rstudio/start  && \\  
    echo '/usr/lib/rstudio-server/bin/rserver --www-port=8888' >> /opt/domino/workspaces/rstudio/start  && \\  
    chmod 775 /opt/domino/workspaces/rstudio/start

USER ubuntu

You will also need to add the rstudio pluggable definition back to the Pluggable Workspace Tools:

rstudio:  
  title: ""RStudio""  
  iconUrl: ""/assets/images/workspace-logos/Rstudio.svg""  
  start: \[ ""/opt/domino/workspaces/rstudio/start"" \]  
  httpProxy:  
    port: 8888  
    requireSubdomain: false

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24742250763028)

### Recently viewed articles

*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/articles/4406492054036-ERROR-Could-not-install-packages-due-to-an-EnvironmentError-Errno-13-Permission-denied)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config)
*   [Error when using the CLI to create a project owned by an organization](https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization)
*   [Mount error(13): Permission denied when starting a workspace with an external data volume](https://tickets.dominodatalab.com/hc/en-us/articles/24430317256852-Mount-error-13-Permission-denied-when-starting-a-workspace-with-an-external-data-volume)
*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/articles/14632063366804-Error-when-try-to-use-domino-get-CLI-to-sync-an-existing-project-in-Domino-onto-local-machine)

### Related articles

*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0aO3UFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLw8GAFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzI0MDA0MjYwMzEyMjEyLVJlLWFkZC1KdWxpYS10by01LTktRG9taW5vLVN0YW5kYXJkLUVudmlyb25tZW50BjsIVDoJcmFua2kG--55907bacb6319262b1d04870e4d8f423ebe3ff04)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLw8GAFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQc%3D--014a462a30d4d327618d9512a8ce05f38e3a2e3f)
*   [After upgrading R in my environment to 3.6, why do I see an error starting RStudio?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBueKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLw8GAFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDQ5MS1BZnRlci11cGdyYWRpbmctUi1pbi1teS1lbnZpcm9ubWVudC10by0zLTYtd2h5LWRvLUktc2VlLWFuLWVycm9yLXN0YXJ0aW5nLVJTdHVkaW8GOwhUOglyYW5raQg%3D--1871843480f9222b715a3f75ae4be2802e75f528)
*   [Cannot select compute environment after making changes to it when starting my workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTBAoTOEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLw8GAFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzIxNzc3Njk4OTYzNzMyLUNhbm5vdC1zZWxlY3QtY29tcHV0ZS1lbnZpcm9ubWVudC1hZnRlci1tYWtpbmctY2hhbmdlcy10by1pdC13aGVuLXN0YXJ0aW5nLW15LXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--b22a5bda24db70d56ee717c5c18a1b9f6ec9fa69)
*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSn%2FueTEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLw8GAFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8yMTUyNTk3MzM0NjA2OC1HaXRodWItRW50ZXJwcmlzZS1ob3N0ZWQtb24tZ2l0aHViLWNvbS1jYW4tY29uZnVzZS11c2Vycy1hbmQtbGVhZC10by1jcmVkZW50aWFsLWNvbmZ1c2lvbgY7CFQ6CXJhbmtpCg%3D%3D--8535c04cf3f433ad5eff7970542e5a7a839c8af1)"
https://tickets.dominodatalab.com/hc/en-us/articles/21777698963732-Cannot-select-compute-environment-after-making-changes-to-it-when-starting-my-workspace,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21777698963732-Cannot-select-compute-environment-after-making-changes-to-it-when-starting-my-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

5.5.x and later

* * *

## **Issue:**

After making a change to your compute environment and then attempting to start a workspace, you get the red text ""This environment supports clusters and is not suitable as the execution's main environment. please select a different environment."" resulting in the workspace being unable to start:

![Screenshot 2023-12-11 141956.png](https://tickets.dominodatalab.com/hc/article_attachments/21777688530708)

* * *

## **Root Cause:**

This is caused by changing the Supported Cluster Settings option in the environment from 'none' to one of the options displayed. To confirm this, click on the link in the workspace settings to select the environment that the workspace is using:

![2023-12-11 14_53_24-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/21777724062740)

Scroll to the bottom where you see Supported Cluster Settings:  
![](https://tickets.dominodatalab.com/hc/article_attachments/21777711120276)

This can occur by accident when making a change to an environment or when you want an environment to support a cluster but are not familiar with the cluster environment versus using a workspace to work with a cluster environment.

* * *

## **Resolution:**

Click on the environment name on the top left:

![2023-12-11 15_00_51-Environment Revision Details - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/21777688539284)

Select Edit Definition then select 'none':  
![2023-12-11 15_02_43-Environment Details - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/21777724069780)

![2023-12-11 15_03_48-Edit environment - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/21777694349204)

Select 'Build' at the bottom of the page then confirm that the environment is selectable by opening the Settings page for the workspace using that environment:

![Screenshot 2023-12-11 150532.png](https://tickets.dominodatalab.com/hc/article_attachments/21777688550420)

* * *

## **Notes/Information:**

If you want to add support for a cluster workload but not sure how to do so, then follow our documentation which it walks you through creating separate environments. This link is for Spark:  
[https://docs.dominodatalab.com/en/latest/user\_guide/1962f3/configure-prerequisites/](https://docs.dominodatalab.com/en/latest/user_guide/1962f3/configure-prerequisites/)

### Recently viewed articles

*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/articles/24742262426516-Rstudio-no-longer-installed-by-default-in-DSE-GPU-environments)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/articles/4406492054036-ERROR-Could-not-install-packages-due-to-an-EnvironmentError-Errno-13-Permission-denied)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config)
*   [Error when using the CLI to create a project owned by an organization](https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization)
*   [Mount error(13): Permission denied when starting a workspace with an external data volume](https://tickets.dominodatalab.com/hc/en-us/articles/24430317256852-Mount-error-13-Permission-denied-when-starting-a-workspace-with-an-external-data-volume)

### Related articles

*   ['pip install' throws SSL Certificate Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTiv6UIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBAoTOEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2MzQyMTAzMjA5MTYtLXBpcC1pbnN0YWxsLXRocm93cy1TU0wtQ2VydGlmaWNhdGUtRXJyb3IGOwhUOglyYW5raQY%3D--df694d3962abdcd86ee0495ee3ae4bdd32d0b403)
*   [""Cannot archive environment. Project count that use this environment is <number>"" message when trying to archive old environment that does not appear to have any projects using it](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSitUElEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBAoTOEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIB0S9oYy9lbi11cy9hcnRpY2xlcy8yMTA1MDczNzE0MDM3Mi0tQ2Fubm90LWFyY2hpdmUtZW52aXJvbm1lbnQtUHJvamVjdC1jb3VudC10aGF0LXVzZS10aGlzLWVudmlyb25tZW50LWlzLW51bWJlci1tZXNzYWdlLXdoZW4tdHJ5aW5nLXRvLWFyY2hpdmUtb2xkLWVudmlyb25tZW50LXRoYXQtZG9lcy1ub3QtYXBwZWFyLXRvLWhhdmUtYW55LXByb2plY3RzLXVzaW5nLWl0BjsIVDoJcmFua2kH--f39fe492a20f21fe1ba2613eebd8cc17b0b37823)
*   [Getting 500 error when trying to launch a model](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSWqsHMEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBAoTOEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzE5NTcxMTIwMTgyODA0LUdldHRpbmctNTAwLWVycm9yLXdoZW4tdHJ5aW5nLXRvLWxhdW5jaC1hLW1vZGVsBjsIVDoJcmFua2kI--d97c3c2e005d228b16ee6a29786bd5014e82add1)
*   [Failing to push to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQIlQ6QDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBAoTOEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzE0OTEyMzcxMDk5Nzk2LUZhaWxpbmctdG8tcHVzaC10by1CaXRidWNrZXQGOwhUOglyYW5raQk%3D--4f994059f330ec1a9a57d5bdb20c87055dd78d0e)
*   [Environment long-term build logs are missing](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxNuqOCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBAoTOEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzExNjA4OTMxMDcwMjI4LUVudmlyb25tZW50LWxvbmctdGVybS1idWlsZC1sb2dzLWFyZS1taXNzaW5nBjsIVDoJcmFua2kK--8139a4fdc3b2e7722c131ce2ce567d4ca76a59ec)"
https://tickets.dominodatalab.com/hc/en-us/articles/21050737140372--Cannot-archive-environment-Project-count-that-use-this-environment-is-number-message-when-trying-to-archive-old-environment-that-does-not-appear-to-have-any-projects-using-it,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21050737140372--Cannot-archive-environment-Project-count-that-use-this-environment-is-number-message-when-trying-to-archive-old-environment-that-does-not-appear-to-have-any-projects-using-it/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

Admins cannot archive older environments that don't appear to have any projects associated with them. They run into the toast error:

`Cannot archive environment. Project count that use this environment is <number>`

![Cannot archive environment.png](https://tickets.dominodatalab.com/hc/article_attachments/21050751411348)

On the environment's **Projects** tab, there are no projects listed. 

![Env Projects tab - no projects listed.png](https://tickets.dominodatalab.com/hc/article_attachments/21050979436436)

On the **Environments Overview** page, the **\# of Projects** column will list the <number> of private projects that are using the environment.

![number of Projects tab has a value.png](https://tickets.dominodatalab.com/hc/article_attachments/21050979447572)

* * *

## **Root Cause:**

There are private projects using the environment that do not appear under the environment's **Projects** tab. 

* * *

## **Resolution:**

**Workaround to archive the environment**

1\. Go to your environment's **Overview** page

2\. Grab the environment ID at the end of the URL

3\. Paste the ID into these 2 MongoDB commands

4\. Run the commands in MongoDB

```
rs.secondaryOk()db.projects.find({""overrideV2EnvironmentId"": ObjectId(""YOUR_ENVIRONMENT_ID""), ""isArchived"":false}).count()db.projects.find({""overrideV2EnvironmentId"": ObjectId(""YOUR_ENVIRONMENT_ID""), ""isArchived"":false})
```

![MongoDB commands to locate projects.png](https://tickets.dominodatalab.com/hc/article_attachments/21050751418388)

5\. From the output, copy the value for the project's `""name""`  
6\. On the **Admin** > **Projects** page, paste the project name in the search box and then click on the project name  
8\. On the **Project Settings** page, switch the environment  
9\. On the **Environment** page, archive the environment

* * *

### References/Internal Records:

DOM-51619

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Cannot select compute environment after making changes to it when starting my workspace](https://tickets.dominodatalab.com/hc/en-us/articles/21777698963732-Cannot-select-compute-environment-after-making-changes-to-it-when-starting-my-workspace)
*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/articles/24742262426516-Rstudio-no-longer-installed-by-default-in-DSE-GPU-environments)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/articles/4406492054036-ERROR-Could-not-install-packages-due-to-an-EnvironmentError-Errno-13-Permission-denied)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config)
*   [Error when using the CLI to create a project owned by an organization](https://tickets.dominodatalab.com/hc/en-us/articles/12834192899476-Error-when-using-the-CLI-to-create-a-project-owned-by-an-organization)

### Related articles

*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAOnKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSitUElEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njc3MS1Ib3ctY2FuLUktYmVzdC1zaGFyZS1teS1MYXVuY2hlcgY7CFQ6CXJhbmtpBg%3D%3D--12db2f84775b2c967921c4fc9e4056ac387d7ffb)
*   [Compute Environment build error when running apt-get update and installing a package](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHObKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSitUElEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzgxMS1Db21wdXRlLUVudmlyb25tZW50LWJ1aWxkLWVycm9yLXdoZW4tcnVubmluZy1hcHQtZ2V0LXVwZGF0ZS1hbmQtaW5zdGFsbGluZy1hLXBhY2thZ2UGOwhUOglyYW5raQc%3D--5f351eaa4ea2e1b4dbee83c74a3e4e9d1e4fe4a3)
*   [Empty folder reappears even after adding folder name to .dominoignore file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOIENyEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSitUElEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzIxMzgxNDczNDA2NDg0LUVtcHR5LWZvbGRlci1yZWFwcGVhcnMtZXZlbi1hZnRlci1hZGRpbmctZm9sZGVyLW5hbWUtdG8tZG9taW5vaWdub3JlLWZpbGUGOwhUOglyYW5raQg%3D--3c1335f9c19b1a65e858ec0a86ebc508248d0cfc)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSitUElEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kJ--f75fccd2b8526d762bc2f4c80c212a57761b1528)
*   [JupyterLab workspace fails to start with 'Failed with exit code: 1'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSgO7FiEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSitUElEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzIwMjE1MDg5NTY5ODEyLUp1cHl0ZXJMYWItd29ya3NwYWNlLWZhaWxzLXRvLXN0YXJ0LXdpdGgtRmFpbGVkLXdpdGgtZXhpdC1jb2RlLTEGOwhUOglyYW5raQo%3D--cfc979a4f9861c758f71408a8b62f382d8125c7d)"
https://tickets.dominodatalab.com/hc/en-us/articles/20215089569812-JupyterLab-workspace-fails-to-start-with-Failed-with-exit-code-1,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20215089569812-JupyterLab-workspace-fails-to-start-with-Failed-with-exit-code-1/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

Any version of Domino.

* * *

## **Issue:**

After creating a new environment with installed Python packages, a Jupyterlab workspace will fail to start with the following message:  
![image.png](https://tickets.dominodatalab.com/hc/article_attachments/20215082413460)

The User logs show this error:

![image (1).png](https://tickets.dominodatalab.com/hc/article_attachments/20215095156628)

2023-10-20 16:44 : from jupyter\_core.utils import ensure\_async  
2023-10-20 16:44 : ImportError: cannot import name 'ensure\_async' from 'jupyter\_core.utils' (/home/ubuntu/.local/lib/python3.9/site-packages/jupyter\_core/utils/\_\_init\_\_.py)  
2023-10-20 16:44 : Evaluating cleanup command on EXIT with exit code 1: ${CURL} --silent --show-error -X POST http://localhost:9000/executor/endSingleRun/6532f323e31e08382559e648?exitCode=$code\_at\_exit  
2023-10-20 16:44 : Failed with exit code: 1

* * *

## **Root Cause:**

This is likely due to a package in an environment you are using requiring a higher version of the JupyterLab package. In this case, we can check the build logs to confirm that JupyterLabs is being uninstalled for a higher version:

Oct 20 2023 15:47:39 -0500 #6 204.2 Attempting uninstall: jupyter-server   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.2 Found existing installation: jupyter-server 1.18.1   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.2 Uninstalling jupyter-server-1.18.1:   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.3 Successfully uninstalled jupyter-server-1.18.1   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Attempting uninstall: notebook-shim   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Found existing installation: notebook-shim 0.1.0   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Uninstalling notebook-shim-0.1.0:   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Successfully uninstalled notebook-shim-0.1.0   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Attempting uninstall: jupyterlab-server   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Found existing installation: jupyterlab\_server 2.15.1   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.5 Uninstalling jupyterlab\_server-2.15.1:   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:39 -0500 #6 204.6 Successfully uninstalled jupyterlab\_server-2.15.1   
Oct 20 2023 15:47:39 -0500   
Oct 20 2023 15:47:40 -0500 #6 204.6 Attempting uninstall: jupyterlab   
Oct 20 2023 15:47:40 -0500   
Oct 20 2023 15:47:40 -0500 #6 204.6 Found existing installation: jupyterlab 3.4.7   
Oct 20 2023 15:47:40 -0500   
Oct 20 2023 15:47:40 -0500 #6 204.7 Uninstalling jupyterlab-3.4.7:   
Oct 20 2023 15:47:40 -0500   
Oct 20 2023 15:47:40 -0500 #6 205.2 Successfully uninstalled jupyterlab-3.4.7

* * *

## **Resolution:**

There can be many different Python packages that cause this issue to occur. In this example, we have a line that is installing a number of Python packages:  
![Screenshot 2023-10-20 at 4.55.20 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/20215051084564)

We can quickly confirm that a Python package is causing this issue by commenting out this line:  
![image (2).png](https://tickets.dominodatalab.com/hc/article_attachments/20215082418836)

Once you rebuild the environment, you can confirm by going into the Build Logs and looking to see if any JupyterLab packages are being modified:

![image (3).png](https://tickets.dominodatalab.com/hc/article_attachments/20215066246292)

Start a JupyterLab workspace with that environment and it will start.

* * *

## **Notes/Information:**

Once the problem line has been identified, it's a matter of finding which package is causing the issue to occur. This can be done by installing these packages one by one through the terminal and seeing what dependencies install in the output.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [""Cannot archive environment. Project count that use this environment is <number>"" message when trying to archive old environment that does not appear to have any projects using it](https://tickets.dominodatalab.com/hc/en-us/articles/21050737140372--Cannot-archive-environment-Project-count-that-use-this-environment-is-number-message-when-trying-to-archive-old-environment-that-does-not-appear-to-have-any-projects-using-it)
*   [Cannot select compute environment after making changes to it when starting my workspace](https://tickets.dominodatalab.com/hc/en-us/articles/21777698963732-Cannot-select-compute-environment-after-making-changes-to-it-when-starting-my-workspace)
*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/articles/24742262426516-Rstudio-no-longer-installed-by-default-in-DSE-GPU-environments)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/articles/4406492054036-ERROR-Could-not-install-packages-due-to-an-EnvironmentError-Errno-13-Permission-denied)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/articles/12708967973140-CLI-Error-getting-site-config)

### Related articles

*   [How to fully rebuild a custom environment and eliminate a cached package or dependency issue from a previous failed build version](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSi8oIgEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgO7FiEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoy9oYy9lbi11cy9hcnRpY2xlcy8xOTkzMDg0NTE5MjcyNC1Ib3ctdG8tZnVsbHktcmVidWlsZC1hLWN1c3RvbS1lbnZpcm9ubWVudC1hbmQtZWxpbWluYXRlLWEtY2FjaGVkLXBhY2thZ2Utb3ItZGVwZW5kZW5jeS1pc3N1ZS1mcm9tLWEtcHJldmlvdXMtZmFpbGVkLWJ1aWxkLXZlcnNpb24GOwhUOglyYW5raQY%3D--dd1f6b19c6469b53e518d5a67de43d4bfa18adc9)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgO7FiEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQc%3D--c3ccaf95cc0f68438706d09b9472d2da0e4cc0cc)
*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgO7FiEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kI--17f24a4512d6e2e259291978365d38d8c0ad86b8)
*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAufKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgO7FiEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDczMS1DYWxsaW5nLURvbWluby1SRVNULUFQSS1mcm9tLVB5dGhvbi1KdXB5dGVyBjsIVDoJcmFua2kJ--15a9daf4bb873271aed6836ea313d204bedb21b3)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgO7FiEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kK--340b17f4b43728ce2561aac67114ca91a947ce97)"
https://tickets.dominodatalab.com/hc/en-us/articles/19930845192724-How-to-fully-rebuild-a-custom-environment-and-eliminate-a-cached-package-or-dependency-issue-from-a-previous-failed-build-version,"Submitted by Gener Joseph Tomas

**Pr****oblem:**

There are instances in which just rebuilding a custom environment fails without any logs or other useful data because of cache problems that occurred during the last build version.

**Solution:**

When rebuilding the custom environment with cached package or dependency error we can try following the steps below to fully rebuild the environment and make sure there is no cached from previous build version.

1\. Access the Domino deployment![Screenshot 2023-10-11 at 16.13.47.png](https://tickets.dominodatalab.com/hc/article_attachments/19930890409876)

2\. Go to ""Environments Tab""

![Screenshot 2023-10-11 at 16.14.12.png](https://tickets.dominodatalab.com/hc/article_attachments/19930864837652)

3\. Look for your own personal custom environment and double-check that it is yours or the one you are working on.

![Screenshot 2023-10-11 at 16.14.42.png](https://tickets.dominodatalab.com/hc/article_attachments/19930874049556)

4\. Go to ""Edit Definition""

![Screenshot 2023-10-11 at 16.14.53.png](https://tickets.dominodatalab.com/hc/article_attachments/19930887048596)

5\. Before rebuilding the custom environment, select ""Full rebuild without cache"" and then press ""build.""

**![Screenshot 2023-10-11 at 16.15.28.png](https://tickets.dominodatalab.com/hc/article_attachments/19930864842900)**

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/sections/21799671323796-Apps,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/21799671323796-Apps/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/21799671323796-Apps/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All versions of Domino, but this applies specifically to the Gradio library. 

* * *

## **Issue:**

A user publishes their new App which uses the Gradio library and the resulting UI is deranged, inappropriately styled.  Viewing the browser's developer tools, we can see there is a broken reference (404) for a stylesheet named themes.css

![Screenshot 2023-07-17 at 2.17.28 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/17475351582228)

The same code works fine when browsing on the user's ""local"" server, but the reference is breaking when published in Domino.

* * *

## **Root Cause:**

Per the url reference seen in browser developer tools, it seems Gradio expects the theme.css file to be loaded and referenced from https://<domino\_url>/theme.css. This is not valid since the App we deploy is only accessible at a sub-path, https://<domino\_url>/<project\_owner>/<project\_name>/r/notebookSession/<run-id>

* * *

## **Resolution:**

Since the app is at a sub-path we’d like the theme.css to be loaded and referenced from https://<domino\_url>/<project\_owner>/<project\_name>/r/notebookSession/<run-id>/theme.css. (Note the <run-id> can be obtained at run-time from the environment variable DOMINO\_RUN\_ID).

Luckily, there is a solution. Reading through [this github issue](https://github.com/gradio-app/gradio/issues/3472), we come to know of a root\_path parameter in gradio’s launch() method that lets us define where the css files will be loaded from. So now, we can set this root\_path to /<project\_owner>/<project\_name>/r/notebookSession/<run-id>

import gradio as gr  
import os

RUN\_ID = os.environ.get(""DOMINO\_RUN\_ID"")  
PROJECT\_OWNER = os.environ.get(""DOMINO\_PROJECT\_OWNER"")  
PROJECT\_NAME = os.environ.get(""DOMINO\_PROJECT\_NAME"")

def greet(name):  
    return ""Hello "" + name + ""!""

demo = gr.Interface(fn=greet, inputs=""text"", outputs=""text"")

demo.launch(root\_path=""/PROJECT\_OWNER/PROJECT\_NAME/r/notebookSession/{}"".format(RUN\_ID), server\_name=""0.0.0.0"", server\_port=8888)

The addition to the launch method resolves the problem. 

* * *

## **Notes/Information:**

When troubleshooting apps please try to simplify the problem as much as possible by using the most simple ""hello world"" code and simple and ""established"" Compute Environments.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTHT3kBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRklcnkDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzNzY3NDk4NDQtQ29uZmlndXJpbmctU01UUC1Ob3RpZmljYXRpb25zLWluLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--9d3137ede2e31c0570861939d58774db14712532)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQwZvdvEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRklcnkDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzE5MTcyNTg5NzExMzgwLVVzZS1HcmFkaW8taW4tYS1KdXB5dGVyLXdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--712f7d12fd844eee8933fa39efa8c7db6ed67d97)
*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRklcnkDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQg%3D--0a1dff77aade0c0b9efc949d30cc4f23d9b5b73f)
*   [Is it possible to disable datasets?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSwJ86iCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRklcnkDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzEyNzkzODcxMzE1MDkyLUlzLWl0LXBvc3NpYmxlLXRvLWRpc2FibGUtZGF0YXNldHMGOwhUOglyYW5raQk%3D--8d162f6dad7629d3c2ff91199671e75e6965af92)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRiQJUbCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRklcnkDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy84OTE0NTYxMTYzNzk2LVdoYXQtaGFwcGVucy13aGVuLXlvdS1yZXN0YXJ0LXNlcnZpY2VzLXZpYS10aGUtVUktYWZ0ZXItbWFraW5nLWEtQ2VudHJhbC1Db25maWd1cmF0aW9uLWNoYW5nZQY7CFQ6CXJhbmtpCg%3D%3D--d713cead801f3e3acda4e147598371b56a7f025a)"
https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment :**_

Domino version 5.2.2 or later.

* * *

## **Issue:**

Creating a Shiny App or following Domino's [instructions](https://docs.dominodatalab.com/en/latest/user_guide/e92082/publish-a-shiny-app/#tr2) to create a test shiny app, the shiny app will show a gray screen after some time, and the page cannot be interacted with.  
![](https://tickets.dominodatalab.com/hc/article_attachments/14793963959956)

* * *

## **Root Cause:**

In the shiny app configuration, a preconfigured idle timeout is set by default. It is described in more detail here:  
[https://docs.posit.co/shiny-server/#application-timeouts](https://docs.posit.co/shiny-server/#application-timeouts)

It is not clear why this may affect some domino deployments and not others. This is being investigated further at this time.

* * *

## **Resolution:**

Edit the server.R file in Files section of Domino:  
![](https://tickets.dominodatalab.com/hc/article_attachments/14794419716244)

Add these lines to the server.R file:

keep\_alive <- shiny::reactiveTimer(intervalMs = 10000, session = shiny::getDefaultReactiveDomain())  
shiny::observe({keep\_alive()})

In this case, we are using the sample Domino Shiny app, so it looks like this:

\# Rely on the 'WorldPhones' dataset in the datasets  
\# package (which generally comes preloaded).  
library(datasets)

\# Define a server for the Shiny app  
function(input, output) {

keep\_alive <- shiny::reactiveTimer(intervalMs = 10000, session = shiny::getDefaultReactiveDomain())  
shiny::observe({keep\_alive()})

\# Fill in the spot we created for a plot  
output$phonePlot <- renderPlot({

\# Render a barplot  
barplot(WorldPhones\[,input$region\]\*1000,  
main=input$region,  
ylab=""Number of Telephones"",  
xlab=""Year"")  
})  
}

Click **Save** and rerun the app. If you open Chrome Developer tools while having the app open, you should see idle/busy message flow when viewing the websocket:  
![](https://tickets.dominodatalab.com/hc/article_attachments/14794650951956)

* * *

## **Notes/Information:**

[https://tickets.dominodatalab.com/hc/en-us/articles/360015932932-Increasing-the-timeout-for-Shiny-Server](https://tickets.dominodatalab.com/hc/en-us/articles/360015932932-Increasing-the-timeout-for-Shiny-Server)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)

### Related articles

*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSLHrB0DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQY%3D--ccd21cb3fe82028a967459ae9c685a88464872c8)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSLHrB0DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kH--b2df14e0bb534f12693c30c0cbb133239cbfb937)
*   [Start a job with parameters via a published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTzsXiPDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSLHrB0DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzE0OTA5ODU2NDEyNDM2LVN0YXJ0LWEtam9iLXdpdGgtcGFyYW1ldGVycy12aWEtYS1wdWJsaXNoZWQtQXBwBjsIVDoJcmFua2kI--b7d3f356426015555800aded8a04033d956d0728)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSLHrB0DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kJ--a2ec30d38da956d8e4d6c7f27e9e2519902d082d)
*   [Can I publish my Shiny App using rmarkdown?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCKvqVdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSLHrB0DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTQ2MzIxMS1DYW4tSS1wdWJsaXNoLW15LVNoaW55LUFwcC11c2luZy1ybWFya2Rvd24GOwhUOglyYW5raQo%3D--fc59f42e323c04d90283cb673b8a66c4db52c664)"
https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino 5.9.x

* * *

## **Issue:**

When starting an App that relies on files from an External Data Volume (EDV), App fails to start with errors indicating it can't find the file(s) on the EDV.

For example:

can't open file '/domino/edv/pvc-efs-edv/app-dash.py': \[Errno 2\] No such file or directory

* * *

## **Root Cause:**

Starting with Domino 5.9, users have the ability to select which EDVs they want to mount on an execution. This also introduced a bug where Apps do not mount selected EDVs unless the ""Data"" panel in the Publish App page is expanded. If this panel is not expanded prior to starting the App, the `externalVolumeMountIds` are not passed to the call to start the App.

![app_edv-no-edvs.png](https://tickets.dominodatalab.com/hc/article_attachments/23287498365076)

* * *

## **Resolution:**

When publishing an App that utilizes EDVs, expand the ""Data"" panel prior to hitting Start.

![app_edv_panel.png](https://tickets.dominodatalab.com/hc/article_attachments/23287498368148)

Expanding this panel calls `/v4/datamount/projects/<project_id>` and `/v4/datamount/status`:![app_edv-datamount-calls.png](https://tickets.dominodatalab.com/hc/article_attachments/23287498372372)

Once those two endpoints are called, subsequently starting the App will pass the `externalVolumeMountIds` and the App will start successfully:

![app_edv-mounted.png](https://tickets.dominodatalab.com/hc/article_attachments/23287498374036)

* * *

### **References/Internal Records:**

*   DOM-54075

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)

### Related articles

*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEEQsuFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBg%3D%3D--468cc392a1ef54395f3036b1cf9203237be92e75)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEEQsuFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--5df824f29a4ff0932d70e1a7543c0dde7ca9e54f)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEEQsuFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQg%3D--10e452509db5389ba9e76fe651ba3bec874f52ab)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEEQsuFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQk%3D--03a23e618cd3d53280447a93003dc8f8a50b1dbe)
*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEEQsuFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kK--eb04d3938c8276ead9eee375842365c35e15ec9a)"
https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino v5.7.4

## **Issue:**

App authors are able to pass the Domino username of a user accessing their app using the following syntax:

<!DOCTYPE html>  
<html>  
<body>  
<h1>Your username is {{ request.headers.get(""domino-username"") }}</h1>  
</body>  
</html>

_ref: [https://docs.dominodatalab.com/en/latest/user\_guide/cb9195/app-security-and-identity/#\_access\_username\_example](https://docs.dominodatalab.com/en/latest/user_guide/cb9195/app-security-and-identity/#_access_username_example)_ 

_In Domino 5.7.4 this functionality is broken and will always return '**None**'_

## **Root Cause:**

This issue is a bug and an unintentional outcome of a code change in 5.7.4.

## **Resolution:**

This issue has been fixed in Domino 5.8.0, the following release.  Unfortunately no workarounds are available in Domino 5.7.4.

### **References/Internal Records:**

*   DOM-51303
*   [https://docs.dominodatalab.com/release\_notes/5-8-0/#\_bug\_fixes](https://docs.dominodatalab.com/release_notes/5-8-0/#_bug_fixes)
*   [https://docs.dominodatalab.com/release\_notes/5-7-4/#\_known\_issues](https://docs.dominodatalab.com/release_notes/5-7-4/#_known_issues)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)

### Related articles

*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVDJ9yEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzEyOTE2MTg3NTkxMDYwLVN0YXJ0aW5nLWEtam9iLWZyb20tYS1jb21taXQtSWQGOwhUOglyYW5raQY%3D--985f3494ddfb4774a0c10b5b183f2032b4ca5d11)
*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSxzoEEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVDJ9yEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MTc0MDQxODY5MDAtSXMtdGhlcmUtYS1saW1pdC10by10aGUtc2l6ZS1vZi10aGUtZmlsZXMtaW4tbXktbW9kZWwtQVBJBjsIVDoJcmFua2kH--c60ab31a6928641e9f3453104c4b7369e7f1008c)
*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVDJ9yEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpCA%3D%3D--d719667af9b2f816bbfaafd3437e5995166190d0)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQKN5rXDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVDJ9yEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE2MzE5MTY4MDU1ODI4LVdoYXQtb3B0aW9ucy1kby1JLWhhdmUtZm9yLWFkZGluZy1jb2RlLXBhY2thZ2VzLXRvLW15LWV4ZWN1dGlvbnMGOwhUOglyYW5raQk%3D--478abf304e4c98cc55d814d44d6a1b5f8842cf09)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRiQJUbCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVDJ9yEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy84OTE0NTYxMTYzNzk2LVdoYXQtaGFwcGVucy13aGVuLXlvdS1yZXN0YXJ0LXNlcnZpY2VzLXZpYS10aGUtVUktYWZ0ZXItbWFraW5nLWEtQ2VudHJhbC1Db25maWd1cmF0aW9uLWNoYW5nZQY7CFQ6CXJhbmtpCg%3D%3D--5d0eebdaf3e017a62cb4bb27d20ddec34310b5de)"
https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page/subscription.html ""Opens a sign-in dialog"")

**Issue:** 

There's an older version of the App that is no longer needed but can not be stopped from running, 

![02_pre_delete_UI_old_version_of_app_running_for_50_days.png](https://tickets.dominodatalab.com/hc/article_attachments/14638297121940)

We tried to stop it from the Admin UI execution page by clicking on the Stop button but the UI toast message says ""Stopping run"" then it disappears. Nothing happens. The App pod is still running. 

![01_UI_toast_message_Stopping_run_-_but_did_not_actually_stop_it.png](https://tickets.dominodatalab.com/hc/article_attachments/14637002813460)

**Versions Impacted:**  5.2.2., 5.3.2

**Solution:** 

Engineering team is working on a permanent fix in Domino version 5.7.0 - DOM-45511. In the meantime please use steps below as a workaround to force stop the App version. 

1\. Find the App execution run in MongoDB using the query below, 

`db.runs.find({""_id"" : ObjectId(""<runID>"")})`

Where runID is the App version run id, can be obtained from the Pod Label's section

Check the output from the query, ""status"" shows ""Running""

2\. Find the deploy of the App version via kubectl

`kubectl get deploy | grep runID -n <domino-compute>`

3\. Delete the deploy via kubectl: 

`kubectl delete deploy <runID> -n <domino-compute>`

4\. Re-run the MongoDB query from step 1, verify the query output and ensure the ""status"" changed to ""Error"" from ""Running"".  

5\. Go to Project -> App -> App Version then verify the older version is now in Error state: ![07_post_delete_deploy_UI_shows_App_version_in_Error_state.png](https://tickets.dominodatalab.com/hc/article_attachments/14637073207828)

![](blob:https://dominodatalab.atlassian.net/8b06ff92-eef4-490a-810a-f4a9fddc309d#media-blob-url=true&id=7c3f6889-0f97-4a8e-9e54-9188b64db3b8&collection=&contextId=171804&height=522&width=935&alt=)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)
*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)

### Related articles

*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBReF%2FlPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQY%3D--582911bac0705a0c778fb1add1d122c4436d75fc)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBReF%2FlPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBw%3D%3D--af5c252e9c7cb41cdce627ff732d641935033476)
*   [404 errors during Running phase of newly launched workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSuPUFOCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBReF%2FlPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzkxMzIxOTUwMzI1OTYtNDA0LWVycm9ycy1kdXJpbmctUnVubmluZy1waGFzZS1vZi1uZXdseS1sYXVuY2hlZC13b3Jrc3BhY2VzBjsIVDoJcmFua2kI--9349bab548f1dc4bcd1e41ebf091893ad18d4cef)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS2pKwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBReF%2FlPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4Mjc4ODg2NjAtSG93LXRvLUZpbmQtVXNlci1JbmZvcm1hdGlvbi1pbi1hLURvbWluby1SdW4tUG9kBjsIVDoJcmFua2kJ--3a8d6acfdd7b5d3f63d7a94f572a82e1b8f3a897)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBReF%2FlPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCg%3D%3D--b1a28a6a85023b0857365af4806835f5071e0993)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206686-Runs,"## Runs

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)
*   [Results emails may contains results from other jobs or launcher runs.](https://tickets.dominodatalab.com/hc/en-us/articles/12928411236372-Results-emails-may-contains-results-from-other-jobs-or-launcher-runs)
*   [KubernetesConfigurationApplicationFailed error in the User Output logs when starting up a workspace or job](https://tickets.dominodatalab.com/hc/en-us/articles/11999742997780-KubernetesConfigurationApplicationFailed-error-in-the-User-Output-logs-when-starting-up-a-workspace-or-job)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/articles/9905059888788-In-projects-owned-by-orgs-rerun-jobs-fail-if-jobs-access-datasets)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/articles/7737501019540-Run-erroring-due-to-being-above-save-limit-of-10000-files)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/7580967555732-Error-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/articles/6910624144020-Email-notifications-are-not-received-when-using-SES-email)
*   [""ERROR: no packages specified"" in Run logs](https://tickets.dominodatalab.com/hc/en-us/articles/4415137257748--ERROR-no-packages-specified-in-Run-logs)
*   [4.0 thru 4.6.1 Dispatcher restarts and connection problems (improper state transitions for workspaces/runs)](https://tickets.dominodatalab.com/hc/en-us/articles/4413519292308-4-0-thru-4-6-1-Dispatcher-restarts-and-connection-problems-improper-state-transitions-for-workspaces-runs)
*   [Process finished with exit code 137](https://tickets.dominodatalab.com/hc/en-us/articles/4405764413588-Process-finished-with-exit-code-137)
*   [Unable to access scheduled jobs, hardware tier not found.](https://tickets.dominodatalab.com/hc/en-us/articles/4402946392724-Unable-to-access-scheduled-jobs-hardware-tier-not-found)
*   [Your run was unexpectedly killed by the system...](https://tickets.dominodatalab.com/hc/en-us/articles/4401749341588-Your-run-was-unexpectedly-killed-by-the-system)
*   [500 Error - Hash Mismatch](https://tickets.dominodatalab.com/hc/en-us/articles/360062092871-500-Error-Hash-Mismatch)
*   [Why did my run get stuck and how can I prevent this from happening? (3.6.x)](https://tickets.dominodatalab.com/hc/en-us/articles/360058042412-Why-did-my-run-get-stuck-and-how-can-I-prevent-this-from-happening-3-6-x)
*   [PATH environment cannot be set for a run](https://tickets.dominodatalab.com/hc/en-us/articles/115004581903-PATH-environment-cannot-be-set-for-a-run)
*   [Error: Directory not owned by the current user and cache has been disabled.](https://tickets.dominodatalab.com/hc/en-us/articles/115001814743-Error-Directory-not-owned-by-the-current-user-and-cache-has-been-disabled)
*   [File doesn't appear in the Results view](https://tickets.dominodatalab.com/hc/en-us/articles/115001152006-File-doesn-t-appear-in-the-Results-view)
*   [Runs slow to start](https://tickets.dominodatalab.com/hc/en-us/articles/213556403-Runs-slow-to-start)
*   [Recovering files from run errors](https://tickets.dominodatalab.com/hc/en-us/articles/213105663-Recovering-files-from-run-errors)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/articles/204856525-Troubleshooting-common-problems)"
https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0/subscription.html ""Opens a sign-in dialog"")

APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0>)

Users have been getting an **_“AttributeError: ( Read-only: can only be set in Dash constructor or during init\_app ) when trying to set up a URL for an App""._**

This is only happening on newer version of Dash 2.1.0 or higher. If you set the below parameters using an older version of Dash, the configuration will work and provide a working APP Url. 

The sample below shows the set of lines to configure the APP Url:

![Screen_Shot_2022-09-19_at_11.44.00_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9465706034196)

Now if you use Dash greater than 2.1.0 you will get an error similar to the one below:

![dash_error.PNG](https://tickets.dominodatalab.com/hc/article_attachments/9465706850196)

This can be be corrected by correcting a set of lines:

​​1\. Remove  app.config.update() call, 

2.  Change the app = dash.Dash() as follows:

app = dash.Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl)

So for the example app, after your import statements your next bit of code would look like:

df = pd.read\_csv(

   'https://raw.githubusercontent.com/plotly/'

   'datasets/master/gapminderDataFiveYear.csv')

\# Configure Dash to recognize the URL of the container

user = os.environ.get(""DOMINO\_PROJECT\_OWNER"")

project = os.environ.get(""DOMINO\_PROJECT\_NAME"")

runid = os.environ.get(""DOMINO\_RUN\_ID"")

runurl = '/' + user + '/' + project + '/r/notebookSession/'+ runid + '/'

app = dash.Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl)

\# Set layout

### Recently viewed articles

*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)
*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)
*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)

### Related articles

*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEr%2BebCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBg%3D%3D--173213ede636be925b19f604a80ab059d8112d85)
*   [Installing Selenium](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJThIwoBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEr%2BebCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzQ0MDI1MTE2MDIwNjgtSW5zdGFsbGluZy1TZWxlbml1bQY7CFQ6CXJhbmtpBw%3D%3D--a497f814c40e4889bc82b5658764498146098955)
*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRKrKHeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEr%2BebCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzc1NTMyNjQ5Mjk0MjgtVXNpbmctRGFzaC1Cb290c3RyYXAtQ29tcG9uZW50cy1pbi15b3VyLUFwcHMGOwhUOglyYW5raQg%3D--a9bc67debe5182e6f4419739bdb0ef7c7a827f2f)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSBAxQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEr%2BebCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MTEyNjcxODcwOTItT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYW4tQXBwLW9uLURvbWluby1WZXJzaW9uLTQtMy11cAY7CFQ6CXJhbmtpCQ%3D%3D--87e0d2a07f7a320e2b75bb5ba5f93945579a680d)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEr%2BebCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpCg%3D%3D--d2beb98dd41623fc8a62eaba7d0f34b2d6836523)"
https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong/subscription.html ""Opens a sign-in dialog"")

If you are unable to view the jobs dashboard of your project in Domino 4.x, you may have run into a known issue with the timeline feature of the jobs dashboard.  The 'Something Went Wrong' failure can have several root causes, many of which are just transient and a screen refresh will resolve the issue for you. 

In this case the error is persistent and you cannot regain access to the jobs dashboard without first minimizing the jobs timeline.  

![Screen_Shot_2022-01-31_at_12.31.14_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4417881594516)

This problem is usually caused by the sort query exceeding the set limit of 1Gb.  
There are a few methods to confirm this problem. Exploring the actual request via the browser developer console you will be able to see a 500 response to a GET request to URL:

https://www.<YOUR\_DEPLOYMENT\_URL>.com/v4/**jobs/timeline/project**/<HASH>

The second symptom can be observed in the frontend logs and would appear similar to: 

<TIME\_DATE> Caused by: com.mongodb.MongoCommandException: \\  
**Command failed with error 16820** (Location16820): \\  
‘**Sort exceeded memory limit of 104857600 bytes,** \\  
but did not opt in to external sorting.’ on server \\  
<MONGO\_SERVER\_REPLICA\_NUMBER>:27017. The full response is \\  
{“operationTime”: {“$timestamp”: {“t”: <TIMESTAMP> , “i”: 8}}, “ok”: 0.0, \\  
“errmsg”: “**Sort exceeded memory limit of 104857600 bytes**, but did not opt \\  
in to external sorting.“..........

**This issue will be fixed in Domino 5.1.**

In the meantime to correct this issue and unblock your jobs dashboard there are 2 workarounds

First method is to try the following.  

1) Record the Browser URI for the project where you see the failure, e.g.

https://<your-deployment>/jobs/<userid>/<project-name>

Open your browser to any other project you own and navigate to the jobs dashboard.  Notice at the top of the dashboard you will see timeline displayed...

![Screen_Shot_2022-01-31_at_12.45.16_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4417889713684)

2) Minimize the jobs timeline using the ^ symbol next to 'Jobs Timeline'

![Screen_Shot_2022-01-31_at_12.49.16_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4417875393172)

You should now see the timeline go away...

![Screen_Shot_2022-01-31_at_12.51.45_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4417890014868)

3) Now in the same tab, rewrite the URI to point to your original project with the failing jobs dashboard

![Screen_Shot_2022-01-31_at_1.07.24_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4417891175572)

Your Jobs dashboard should now be visible without the timeline visible.

If the previous solution does not work for you then you can try the second method which os to   
copy the project.  Since a copy of the project does not bring the jobs execution history this issue   
will no longer be a problem in the copied version.  Fork would also work however it will create a  
dependancy with the original project. 

Since this problem occurs due to the size of the query that is occurring to populate the jobs timeline.  The problem can occur with as few as 50 completed jobs in the project.  But it can vary greatly depending on how many objects (datasets, imports, git repositories) are attached to the project.  And you may not see this error occur until you have thousands of jobs in the project.  

### Recently viewed articles

*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)
*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)
*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)
*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)

### Related articles

*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTHIm8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ12Z4EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUwNDc1NzItU2NoZWR1bGluZy1SdW5zLWFuZC1Kb2JzLXVzaW5nLUNyb24tRXhwcmVzc2lvbgY7CFQ6CXJhbmtpBg%3D%3D--d3987c9061134fe0ae8741ee07d472e44a5a7bb1)
*   [Seeing 99+ merge conflicts when I try to sync](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrGooDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ12Z4EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDg0MzI5MTYtU2VlaW5nLTk5LW1lcmdlLWNvbmZsaWN0cy13aGVuLUktdHJ5LXRvLXN5bmMGOwhUOglyYW5raQc%3D--7d8263c589a80203b04f6d520ebd2e077dda3a15)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRiQJUbCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ12Z4EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy84OTE0NTYxMTYzNzk2LVdoYXQtaGFwcGVucy13aGVuLXlvdS1yZXN0YXJ0LXNlcnZpY2VzLXZpYS10aGUtVUktYWZ0ZXItbWFraW5nLWEtQ2VudHJhbC1Db25maWd1cmF0aW9uLWNoYW5nZQY7CFQ6CXJhbmtpCA%3D%3D--17d8e3f32e94b0dbfe8e07e5cbfbb9982186f20a)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ12Z4EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kJ--0487f27c16f0a850cd91e81527a1df50f42e0de3)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ12Z4EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kK--1abae783a53301dcc82ec9c505ffce860c1d3411)"
https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Not version specific

* * *

## **Issue:**

A specific platform service was having network connectivity problems which other pods were not facing.  We needed to test that exact pod's container without the container running it's normal code or execution on startup.

* * *

## **Resolution:**

Docker/containers have a default start up if there is no ""command"" passed into the arguments for the container.  To avoid that default behavior you can explicitly add a command to the yaml spec of your resource (statefulset, deployment, etc).   A helpful command to allow you access into the container without running the container's original intentions are to pass `['sleep', 'infinity']`

For example below we create a pod using the same image as our git statefulset but we specify that it just start and run without doing any other executions of processes that it might otherwise do by default:

```
apiVersion: v1
kind: Pod
metadata:
  name: my-test-pod
  namespace: domino-platform
spec:
  containers:
  - name: git-container
    image: image: quay.io/domino/git:5.6.1.3022760
    command: ['sleep', 'infinity']
```

* * *

## **Notes/Information:**

[https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#define-a-command-and-arguments-when-you-create-a-pod](https://kubernetes.io/docs/tasks/inject-data-application/define-command-argument-container/#define-a-command-and-arguments-when-you-create-a-pod) 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)
*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)
*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)
*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)

### Related articles

*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS5mtBIBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTGCvMVFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ3MTA3ODM5NTczOTYtTm8tT3V0cHV0LVJlY2VpdmVkLUZyb20tYW4tT24tRGVtYW5kLVNwYXJrLUpvYi1SdW5uaW5nLW9uLUxhcmdlLUhXLVRpZXJzBjsIVDoJcmFua2kG--0a528961100ce5ddcf8e33026c079cce1aa1e239)"
https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This is relevant to instances using Calico for CNI. 

* * *

## **Issue:**

Timeout issues can occur for Runs, Apps, Workspaces when the `executor` sidecar is prevented from contacting `nucleus-dispatcher` if any Run pod containers are very slow to start, for example when pulling an image build takes a long time (> 10 mins).  

In a support bundle, Executor log, an example error would be: `java.lang.RuntimeException: Timed out while publishing run status update!` typically accompanied by other network connectivity errors to various components like Keycloak, Rabbit, etc.  

`2023-09-05T05:56:07.371Z: 1) Error in custom provider, java.lang.RuntimeException: Unable to configure OIDC from discovery URL http://keycloak-http.domino-platform:80/auth/realms/DominoRealm/.well-known/openid-configuration, replacing 'http://keycloak-http.domino-platform:80' with 'https://domino.glpg.com' 2023-09-05T05:56:07.371Z: keycloak-http.domino-platform: Temporary failure in name resolution`

and 

`2023-09-05T05:56:09.258Z: ERROR [d.m.b.r.a.ConnectionActor] akka://rabbit-config-1/user/Conn-1 in Disconnected received Connect: can't connect to user: executor on vhost: / at: 100.164.39.80:5672 , retrying in 2 seconds thread=""rabbit-config-1-akka.actor.default-dispatcher-34""`

* * *

## **Root Cause:**

Due to an [underlying Kubernetes limitation](https://github.com/kubernetes/kubernetes/issues/85966 ""https://github.com/kubernetes/kubernetes/issues/85966""), Calico will prevent sidecar containers from accessing the network until all containers of a pod have started.   

* * *

## **Resolution:**

In order to remediate this, Calico must be on a version >= 3.21.0 and AWS VPC CNI must have the `ANNOTATE_POD_IP` [configuration override](https://github.com/aws/amazon-vpc-cni-k8s#annotate_pod_ip-v193 ""https://github.com/aws/amazon-vpc-cni-k8s#annotate_pod_ip-v193""). There are no known complete solutions for other cloud providers or on-premise Kubernetes, but to help remediate the problem or non-EKS or Domino versions < 5.8.0, specific timeouts could be partly pacified by setting the central config com.cerebro.domino.executor.executionApiClient.maxAttempts to 100 when encountering ""Timed out while publishing run status update!"" errors.

* * *

## **Notes/Information:  
**

To check Calico version:

kubectl get ds -n calico-system calico-node -ojsonpath='{.spec.template.spec.containers\[\*\].image}{""\\n""}'

### **References/Internal Records:**

*   [https://github.com/kubernetes/kubernetes/issues/85966](https://github.com/kubernetes/kubernetes/issues/85966)
*   Internal: https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/2598961156/Known+Issue+Calico+prevents+sidecar+containers+from+using+the+network+until+all+containers+are+started

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [User unable to view Git Based Project with 500 Internal Server Error](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)
*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)

### Related articles

*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLpgGSEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQY%3D--8ca7fa758e6055ddbf6bf225c487c988a26811e0)
*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJREupxKDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLpgGSEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE1NzEzNjE5ODIxNzE2LUNhbGljby1wb2RzLXVuaGVhbHRoeQY7CFQ6CXJhbmtpBw%3D%3D--8e6909a6c949974942376aac4dc1b116478583af)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLpgGSEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzE1Njc0MDUxMDY3NDEyLU51bWJlci1vZi1qb2JzLXRoYXQtY2FuLXJ1bi1zaW11bHRhbmVvdXNseQY7CFQ6CXJhbmtpCA%3D%3D--9182b76c6b50bf50e8ae9724a0ac193c7682f152)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLpgGSEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--ab62c47d8a4813d744b53be1caefb60b3b66ca8f)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLpgGSEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQo%3D--50b3df62fd069f16d131862af153670abdc19f70)"
https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)
*   [Results emails may contains results from other jobs or launcher runs.](https://tickets.dominodatalab.com/hc/en-us/articles/12928411236372-Results-emails-may-contains-results-from-other-jobs-or-launcher-runs)
*   [KubernetesConfigurationApplicationFailed error in the User Output logs when starting up a workspace or job](https://tickets.dominodatalab.com/hc/en-us/articles/11999742997780-KubernetesConfigurationApplicationFailed-error-in-the-User-Output-logs-when-starting-up-a-workspace-or-job)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/articles/9905059888788-In-projects-owned-by-orgs-rerun-jobs-fail-if-jobs-access-datasets)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206686-Runs)

![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all Domino versions.

* * *

## **Issue:**

In the Jobs search field, it's currently not possible to search for a job by job number.

1.  In the Jobs search field, enter a job number
    
2.  The job does not come up in the search results
    

![cannot search by job number.png](https://tickets.dominodatalab.com/hc/article_attachments/21401532538004)

* * *

## **Root Cause:**

This is a known issue that our Engineering Team is working to resolve. We'll update this article as we learn more about the issue. 

* * *

## **Resolution:**

If you have a large number of jobs, as a workaround until the bug is resolved, please click through the job pages at the bottom of the page to locate the needed job.

* * *

### References/Internal Records:

*   DOM-52323

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [User unable to view Git Based Project with 500 Internal Server Error](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)

### Related articles

*   [Files were deleted by accident - can I bring them back?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRAr7wBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQQWe52EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU1MDcwODAzNDAtRmlsZXMtd2VyZS1kZWxldGVkLWJ5LWFjY2lkZW50LWNhbi1JLWJyaW5nLXRoZW0tYmFjawY7CFQ6CXJhbmtpBg%3D%3D--1d2839cdca32719c78e5c42757d49a24470a8852)
*   [Workspace fails to start with /var/opt/domino/workspaces/jupyter/start: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRQsieIFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQQWe52EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgS9oYy9lbi11cy9hcnRpY2xlcy8yNDc3NDAzNzM2MDc4OC1Xb3Jrc3BhY2UtZmFpbHMtdG8tc3RhcnQtd2l0aC12YXItb3B0LWRvbWluby13b3Jrc3BhY2VzLWp1cHl0ZXItc3RhcnQtTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpBw%3D%3D--48cb57bfb45e67588d3e5ba803c727446e5a6616)
*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRxL5R1EjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQQWe52EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzIwMjk2MjA2NjEwODM2LUhvdy1kby1JLWZpbmQtdGhlLUhhcmR3YXJlLVRpZXItb2YtdGhlLWxhc3Qtam9iBjsIVDoJcmFua2kI--0c3eb747095eabb7c1e9a254bbcad41d02e9ee94)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTEeP6kEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQQWe52EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzE5NDAwMzQxNjM2MjQ0LUpvYnMtcGFnZS1kb2VzLW5vdC1hcHBseS10aGUtc2VhcmNoLWZpbHRlci1jb3JyZWN0bHkGOwhUOglyYW5raQk%3D--1d5fe47a3d840209dd72a5c4f57fa1bc0aa6097a)"
https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to deploys of Domino 5.x

* * *

## **  
Issue:**

User is getting an internal 500 error when trying to view his Git Based projects after Domino 5.X upgrade

 ![Screenshot 2024-02-09 at 1.57.56 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/23606635147540)Browser Inspect Network shows 500 status occurred during the _findProjectByOwnerAndProject_ API call

![500_api_call.png](https://tickets.dominodatalab.com/hc/article_attachments/23578390860436)

Error from nucleus frontend log,

**`! @84eldda43 - Internal server error, for (GET) [/v4/gateway/projects/findProjectByOwnerAndName?ownerName=andjo7r&projectName=bias_mitigation_api] ->   thread=""application-akka.actor.default-dispatcher-165""   play.api.UnexpectedException: Unexpected exception[CredentialNotFoundError: Cannot find credential with id, 651d907c4b826e1d39b2ad2c, in vault]   at play.api.http.ttpErrorHandlerExceptions$.throwableToUsefulException(HttpErrorHandler.scala:358)`**

* * *

## **Root Cause:**

Credentials missing in vault that are needed for the Git Based Projects 

* * *

## **Remediation** **steps:**

1\. Obtain the ownerName and projectName from the API call 

Example: \[/v4/gateway/projects/findProjectByOwnerAndName?ownerName=andjo7r&projectName=bias\_mitigation\_api\] 

2\. Obtain the credId from the frontend log exception

Example: ! @84eldda43 - Internal server error, for (GET) \[/v4/gateway/projects/findProjectByOwnerAndName?ownerName=andjo7r&projectName=bias\_mitigation\_api\] ->  
thread=""application-akka.actor.default-dispatcher-165""  
play.api.UnexpectedException: Unexpected exception\[CredentialNotFoundError: Cannot find credential with id, `651d907c4b826e1d39b2ad2c`, in vault\]

3\. Identify the userId via mongoDB query, 

Example: db.users.find({""loginId.id"": ""andjo7r""}).pretty()

4\. identify the projectId via mongodb query 

Example: db.projects.find({“name”: “bias\_mitigation\_api”})

5\. Find the credential\_mappings record based on the userId, the projectId and the credentialId identified in steps 1-4. 

```
rs.secondaryOk() 
var userId = ObjectId(""5e841828fe3cf1077dbb813d"") 
var projectId = ObjectId(""5f2c2c39115a2f7eb8202ceb"") 
var credId= ObjectId(""5f52d4a11a74e6c94fab7c77"") 
db.credential_mappings.find({""userId"": userId, projectId: projectId, ""credentialId"": credId }) 
db.help()
```

 6. To remove the identified credentialId:

```
rs.secondaryOk() 
var userId = ObjectId(""5e841828fe3cf1077dbb813d"") 
var projectId = ObjectId(""5f2c2c39115a2f7eb8202ceb"") 
var credId= ObjectId(""5f52d4a11a74e6c94fab7c77"") 
db.credential_mappings.remove({""userId"": userId, projectId: projectId, ""credentialId"": credId }) 
db.help()
```

7\. Validate User can now view the Git Based Project

8\. If you see ""Error Invalid Upstream Credentials"" popup, go to Code -> Project Code Repository Page -> re-set your Repo Credentials to a valid credential 

![Screenshot 2024-02-09 at 2.08.59 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/23606618978452)

![Screenshot 2024-02-09 at 2.14.37 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/23606635164308)

* * *

If you have questions or need further assistance applying the workaround please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support

* * *

##  **References/Internal Records:**

*   OT-3074

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)
*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)
*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)

### Related articles

*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEEQsuFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSdnMVxFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzIzMjg3NDk4MzkyNTk2LS1Oby1zdWNoLWZpbGUtb3ItZGlyZWN0b3J5LUVycm9yLWZvci1maWxlcy1vbi1FeHRlcm5hbC1EYXRhLVZvbHVtZS13aGVuLXN0YXJ0aW5nLUFwcAY7CFQ6CXJhbmtpBg%3D%3D--3936dfa755d77145cce6c5a4c2141c046ba6bc35)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSLHrB0DToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSdnMVxFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE0Nzk0ODIyMTU5MTI0LVNoaW55LUFwcC1zaG93cy1hLWdyYXktc2NyZWVuLWFmdGVyLXNvbWV0aW1lLW9yLXRpbWVvdXRzBjsIVDoJcmFua2kH--124e4ddc7e3069a5790ce61f959532ae019b699d)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSdnMVxFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--32f8eb543ddec6b66414bca8cc6994047b2f7f2a)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQwPRURBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSdnMVxFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzc3Njk5NTIxNzAwMDQtV2h5LWlzbi10LXRoZS1TcGFyay1VSS12aXNpYmxlLWluLW15LXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--d39f95a85be0fb0c531e356fc53e7559842c9e31)
*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSdnMVxFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kK--0668b10aeed41370831c5f182ebc2cc7d4c2a6fa)"
https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion,"#### _**Version/Environment (if relevant):**_

All versions

* * *

## **Issue:**

A customer's end-users are using both regular “github” repos and “github enterprise” repos.   Both are hosted at [github.com.  I](http://github.com/)n several cases confusion has led to circumstances where users cannot use Git-based projects due errors like:

![Screenshot 2023-12-04 at 3.33.39 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21525989138580)

* * *

## **Root Cause:**

Since the url/host is github.com, the PAT (personal access tokens) at github.com will work for repos in ""Github Enterprise"" as well as in regular ""Github"" repos.  So on hand you might have the proper PAT, but Domino will only attempt to use, expose, or allow, the user credentials (see your Account Settings page) which match the ""**Git Service Provider**"" chosen at time of creation when trying to browse projects, create project or import repos.

So to use credentials with a project using a regular ""Github"" repo you must have credentials of type ""Github"".  Example, if you try to browse a project that was created with ""Github Enterprise"" as the ""Git Service Provider"", then Domino will only try to use credentials that are type ""Github Enterprise"", and you won't even see the regular Github credentials as an option for connecting when you try to choose ""Git Credentials"" (see screenshots below).

![addCred.png](https://tickets.dominodatalab.com/hc/article_attachments/21525973329172)

* * *

## **Resolution:**

The workaround to the problem above was to create both ""GitHub"" and ""GitHub Enterprise"" credentials with the same PAT since it is difficult to tell if the underlying chosen repo is regular or enterprise.    Via user training, ensure that all users all standardizing on whether they're choose ""Github Enterprise"" or just ""Github"" when choosing their host for BOTH their user credentials as well as when adding new Git-based projects or importing repositories.  

* * *

## **Notes/Information:**

For reference, the ""new project"" page:

![createProj.png](https://tickets.dominodatalab.com/hc/article_attachments/21525995927572)

And the import/Add a repo page:

![addRepo.png](https://tickets.dominodatalab.com/hc/article_attachments/21526012283028)

### **References/Internal Records:**

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all Domino versions.

* * *

## **Issue:**

After connecting your repo to your Domino project, you see this error:

Error  
An unexpected error occurred.  
RepoMan Service Memory Pressure  
If this problem persists, contact your system administrator.  
(Error 206: MEMORY\_PRESSURE)

![error RepoMan Service Memory Pressure.png](https://tickets.dominodatalab.com/hc/article_attachments/21418424780052)

* * *

## **Root Cause:**

This error usually indicates that the clone operation of repoman is likely running out of memory due to a large pull/clone. Sometimes, historical files in git repos take up space despite the ""final"" repo being small. When starting a run, this can result in object size limit errors.

* * *

## **Resolution:**

### Option 1: The user can remove the largest offending files

Users can verify if their git repo is unusually large. Use a git-sizer tool to evaluate the size of the repo and remove the offending largest file(s) using the steps in this article: [Critical Error: Object too large, rejecting the pack. Max object size limit is 2,147,483,639 bytes.](https://tickets.dominodatalab.com/hc/en-us/articles/360058040352)

If this doesn't resolve the issue, please reach out to your local Domino Admin as they'll have to allocate more storage to your repoman pod as described in Option 2.

### Option 2: An Admin can allocate more storage to the `repoman` pod

This requires `kubectl` access. On the backend, edit the repoman statefulset and allocate more memory to it.

kubectl edit sts -n $DOMINO\_PLATFORM repoman

Change the limits/RAM to a higher value, then save the statefulset. For example, if it looks like this, try doubling the value.

resources:  
     limits:  
       cpu: ""2""  
       memory: 3Gi

   
Verify that the repoman pod restarted after saving:

kubectl get pods -A |grep repoman

   
This should take effect immediately. Ask the user to test if they continue to see the error after connecting their git repo to their project. 

* * *

## **Notes/Information:**

Related articles:

*   [Critical Error: Object too large, rejecting the pack. Max object size limit is 2,147,483,639 bytes.](https://tickets.dominodatalab.com/hc/en-us/articles/360058040352)
*   [""Error: Repoman service disk pressure"" when connecting github repo's to Domino projects](https://tickets.dominodatalab.com/hc/en-us/articles/4842232948244)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [User unable to view Git Based Project with 500 Internal Server Error](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)

### Related articles

*   [""Error: Repoman service disk pressure"" when connecting github repo's to Domino projects](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQmk2tnBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQqrtx6EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzQ4NDIyMzI5NDgyNDQtLUVycm9yLVJlcG9tYW4tc2VydmljZS1kaXNrLXByZXNzdXJlLXdoZW4tY29ubmVjdGluZy1naXRodWItcmVwby1zLXRvLURvbWluby1wcm9qZWN0cwY7CFQ6CXJhbmtpBg%3D%3D--e5435672e2c869aaa488be5a53f0be28373f3c97)
*   [Critical Error: Object too large, rejecting the pack. Max object size limit is 2,147,483,639 bytes.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCCwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQqrtx6EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfy9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTgwNDAzNTItQ3JpdGljYWwtRXJyb3ItT2JqZWN0LXRvby1sYXJnZS1yZWplY3RpbmctdGhlLXBhY2stTWF4LW9iamVjdC1zaXplLWxpbWl0LWlzLTItMTQ3LTQ4My02MzktYnl0ZXMGOwhUOglyYW5raQc%3D--ce1010e893c8f8d49a7426ca00a5ee35de69f6b6)
*   [Workspace Won't Start](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMO3UtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQqrtx6EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI6L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTI1MzU3MS1Xb3Jrc3BhY2UtV29uLXQtU3RhcnQGOwhUOglyYW5raQg%3D--f8e6be806cef878559662813f23c5ee155037238)
*   [Cannot select compute environment after making changes to it when starting my workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTBAoTOEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQqrtx6EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzIxNzc3Njk4OTYzNzMyLUNhbm5vdC1zZWxlY3QtY29tcHV0ZS1lbnZpcm9ubWVudC1hZnRlci1tYWtpbmctY2hhbmdlcy10by1pdC13aGVuLXN0YXJ0aW5nLW15LXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--e23be55f0185dd583acde81b6eb75ba6eebb2286)
*   [Starting a workspace fails with the error: /var/lib/domino/launch/runLauncher.sh: line 137: arrayDescs\[$i\]: unbound variable](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTkdP8OEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQqrtx6EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBly9oYy9lbi11cy9hcnRpY2xlcy8yMDk1NTEzNjMyMDY2MC1TdGFydGluZy1hLXdvcmtzcGFjZS1mYWlscy13aXRoLXRoZS1lcnJvci12YXItbGliLWRvbWluby1sYXVuY2gtcnVuTGF1bmNoZXItc2gtbGluZS0xMzctYXJyYXlEZXNjcy1pLXVuYm91bmQtdmFyaWFibGUGOwhUOglyYW5raQo%3D--e62f3e3508d1286dbd843bcc20cb21546f129484)"
https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly/subscription.html ""Opens a sign-in dialog"")

**Issue:** When viewing the Jobs page we have the option to filter the results based on a pattern we provide in the search box. While this works on first attempt, if the following page is selected or the ordering is changed the filter no longer applies. 

**Example:** 

Applying search filter in first attempt. Results match our pattern as expected. 

![](https://tickets.dominodatalab.com/hc/article_attachments/19400145062164)

After this we either select 2nd page of results or use the ordering mechanism and the example filter no linger applies and thus we see all jobs. This view will only reset if we reload the page. 

![](https://tickets.dominodatalab.com/hc/article_attachments/19400221051028)

**Solution:** This is a known bug in Domino UI for version 5.6.1 . The issue has been addressed and fix is shipped with Domino 5.8.0  

### Recently viewed articles

*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project)
*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [User unable to view Git Based Project with 500 Internal Server Error](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error)

### Related articles

*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTEeP6kEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpBg%3D%3D--cfeee7dd0ffd9ba798a2d212be895912eb5be161)
*   [Troubleshooting database connectivity using native command line tools](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRduVhVFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTEeP6kEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzI0NTU1ODE2NTc0MzU2LVRyb3VibGVzaG9vdGluZy1kYXRhYmFzZS1jb25uZWN0aXZpdHktdXNpbmctbmF0aXZlLWNvbW1hbmQtbGluZS10b29scwY7CFQ6CXJhbmtpBw%3D%3D--32c884e456f486270e2d5eb9806985ce09f8be69)
*   [Tuning and experimentation](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEY4o4DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTEeP6kEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzIwNTAzMjAzNS1UdW5pbmctYW5kLWV4cGVyaW1lbnRhdGlvbgY7CFQ6CXJhbmtpCA%3D%3D--c804c9d0ccda8080a0721c27a8c65b3dc28888df)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSe62WSEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTEeP6kEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5MzIwNDcyODM3NjUyLUFkZGluZy1jdXN0b20taGVhZGVycy10by1Eb21pbm8tZnJvbnRlbmQGOwhUOglyYW5raQk%3D--ddce25b0fdfe49fb57d504e1b64793836de39abf)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBStwEuLEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTEeP6kEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE5Mjg5OTY5MDQ0NzU2LVNlbGYtdXBncmFkZS1wcm9ibGVtcwY7CFQ6CXJhbmtpCg%3D%3D--80ce663542e6f3cb4139394f1c3480349635ab0b)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo,"In a few instances users saw odd errors in the UI when trying to add a new repo to their project. If you're seeing something like this, please try updating the ssh key in your Domino account to see if that solves the issue for you. 

If this happens more than once please reach out to the support team so we can verify there is not a bug in your version of Domino. 

![domino-error.PNG](https://tickets.dominodatalab.com/hc/article_attachments/20288533743892)"
https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All Domino versions, the log snippets below pertain to 5.5.x

* * *

## **Issue:**

A customer's Workspace was failing for some unknown reason, never moving to the Running phase, then moving to an Error state.

* * *

## **Root Cause:**

The pod was evicted before the run container was created, ultimately due to a lack of ephemeral storage.  This was determined by reviewing events of the pod (in events.json of the support bundle) and nucleus-dispatcher-nnn log (also in the support bundle).  

events.json contains this lengthy entry:

2023-05-10T08:26:44.848669396Z WARN \[d.e.r.FluentDRunMessagesCollector\] Possibly important execution event did not map to a user-readable message. See execution event: ExecutionEvent(645b55442ad411099b1496d4,ResourceChangeNotification,Some({""name"":""run-645b540b9dba7f1b56ca62d2-wk6wj.175dbac837a21e4f"",""namespace"":""domino-compute"",""kind"":""Event"",""action"":""MODIFIED"",""timestamp"":""2023-05-10T08:26:44.840Z""}),Some(Pod),Some(Failed),Some(Failed to pull image ""381214341103.dkr.ecr.eu-west-1.amazonaws.com/dominodatalab/environment:64257d5d1a600c0a755ac007-2"": rpc error: code = Unknown desc = failed to pull and unpack image ""381214341103.dkr.ecr.eu-west-1.amazonaws.com/dominodatalab/environment:64257d5d1a600c0a755ac007-2"": failed to extract layer sha256:9ab4344ed4c73de1fbabc9edc0012d6da41ea63818a9c8d3e0fda74b55b35dad: write /var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snapshots/2936/fs/home/ubuntu/.cache/pip/http/f/d/c/4/2/fdc4280c998c3e3465da9a6c73e73126e1dd28159cf27c4e9d0ea2b6: no space left on device: unknown),Kubernetes,1,645b55442ad411099b1496d4,2023-05-10T08:26:44.840Z,Some(saga-phYeioUSydq8Tjq7),Some(RunLifecycle),Some(645b540b9dba7f1b56ca62d2),Some(Workspace),Some(Preparing),None,Some(1),Some(Ignored),None,None,None,2023-05-10T08:26:44.845Z,2023-05-10T08:26:44.845Z,None) correlationId=""8doQLDP7bq"" eventId=""645b55442ad411099b1496d4"" executionId=""645b540b9dba7f1b56ca62d2"" thread=""[application-akka.actor](http://application-akka.actor/).default-dispatcher-207""

The important segment from this entry which would also be found in a living pod's ""kubectl describe"" is:  
`""Failed to pull image \""381214341103.dkr.ecr.eu-west-1.amazonaws.com/dominodatalab/environment:64257d5d1a600c0a755ac007-2\"": rpc error: code = Unknown desc = failed to pull and unpack image \""381214341103.dkr.ecr.eu-west-1.amazonaws.com/dominodatalab/environment:64257d5d1a600c0a755ac007-2\"": failed to extract layer sha256:9ab4344ed4c73de1fbabc9edc0012d6da41ea63818a9c8d3e0fda74b55b35dad: write /var/lib/containerd/io.containerd.snapshotter.v1.overlayfs/snapshots/2936/fs/home/ubuntu/.cache/pip/http/f/d/c/4/2/fdc4280c998c3e3465da9a6c73e73126e1dd28159cf27c4e9d0ea2b6: no space left on device: unknown""`

nucleus-dispatcher-nnn.log had snippets containing:

`Some(Evicted),Some(The node was low on resource: ephemeral-storage....`

These two snippets tell us the node's docker cmds couldn't pull an image due to ""no space left on device"" which was occurring because the node was low on ephemeral storage, therefore the pod was evicted.

* * *

## **Resolution:**

Ephemeral-storage contains images (compute environment images, Domino application images, kubernetes images, etc), logs, and any user's Run output which is written somewhere other than a non-persistent volume (for example outside of /mnt/\*) .  

To prevent this problem you need to ensure your nodes have adequate root volume size.  Our documentation at [https://docs.dominodatalab.com/en/latest/admin\_guide/25b6dc/cluster-requirements/#\_node\_pool\_requirements](https://docs.dominodatalab.com/en/latest/admin_guide/25b6dc/cluster-requirements/#_node_pool_requirements) states that Compute nodes should at least have Boot Disk: **400GB**

Find the hardware tier of your broken Run (via UI or support bundle) to determine the node-pool.  Review the ""kubectl describe"" for that node-pool via cmdline or the Admin->infrastructure page to determine how much capacity your root volume is set to for that node-pool.   

Infrastructure page examples showing 100GB ephemeral-storage (capacity can be compared with allocatable too) which is low.

![Screenshot_2023-06-02_at_10.03.38_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/16177103597076)

If it is too low then you need to increase it (for example in AWS you'd likely increase the EBS root volume size via launch templates for the nodegroup in ASG). If you already feel you are sufficiently sized, contact Domino Technical Support.  

* * *

## **Notes/Information:**

If your are curious about disk consumption of ephemeral storage you can also ssh onto a node then delve using `df -h`.  We expect `/var/log`and`/var/lib/kubelet` to be large. 

### Recently viewed articles

*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project)
*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)

### Related articles

*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa63O2DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQY%3D--5a2fe12ff3fd75fe68eb3e746c5161385d14ac10)
*   [Workspace Volume Size](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKlpgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa63O2DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzQ0MDkxOTY0MzE4OTItV29ya3NwYWNlLVZvbHVtZS1TaXplBjsIVDoJcmFua2kH--71a376394698bd80c823e442b30864cd84da2b6c)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQKN5rXDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa63O2DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE2MzE5MTY4MDU1ODI4LVdoYXQtb3B0aW9ucy1kby1JLWhhdmUtZm9yLWFkZGluZy1jb2RlLXBhY2thZ2VzLXRvLW15LWV4ZWN1dGlvbnMGOwhUOglyYW5raQg%3D--d01834212485dd3adfdb4a686c65ecc9051eab91)
*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa63O2DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQk%3D--d21c4505e2d48d25df194286195003d9548b202a)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa63O2DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kK--2a91e04b26d618762f8b7376cb6a25d637f1d5db)"
https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git/subscription.html ""Opens a sign-in dialog"")

## **Issue/Scenario :**

You encounter the following error/exception when creating a git based project or cloning a repo into your workspace or dfs project : _No more authentication methods available![Screenshot 2023-07-27 at 3.36.59 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/17767670503316)_

## **Root Cause &** **Resolution :**

At a first glance it would seem like the prompt/exception is coming from your git provider and we'd recommend you ensure the correct key pair is being used and the correct permissions are provisioned for your remote repo. If, however, you have tested/verified that a clone can be performed on your local machine using the same key pair then it could be the following case, it was recently discovered that rsa 2k/4k isn't supported but ed25519 is, so the next steps would be to create a new ed25519 key and add the key pair to appropriate locations : 

ssh-keygen -t ed25519  
cat ~/.ssh/id\_ed25519.pub  

ed25519 is a pki algorithm different to rsa but is faster, more compact and provides better security, so not using rsa shouldn't concern you. This has been tested for **Domino version 5.2.2**, wherein when using the rsa key pair we were unable to create a git based project but after updating it with ed25519 we were successfully able to create a new git based project. 

### Recently viewed articles

*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)
*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project)
*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion)

### Related articles

*   [Clearing Git Cache](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgtyndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKkN0oEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0MDI3MTczMDEyLUNsZWFyaW5nLUdpdC1DYWNoZQY7CFQ6CXJhbmtpBg%3D%3D--9e8ed57bf83f5974c8dc200c56ff776faefe315b)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKkN0oEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kH--f241221c1b7b6b05f2d54ee206d29f4b2c99bc7b)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKkN0oEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kI--46a01d50f9f72e561523296f02af6f49d84c30e9)
*   [Git pod backup failures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXmrAXDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKkN0oEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzE0Mzk1Mzk4MzMwMjYwLUdpdC1wb2QtYmFja3VwLWZhaWx1cmVzBjsIVDoJcmFua2kJ--6e8b3e1be7a352dcf5ac76ff8e7e1302dc7948b7)
*   [Git Repos or projects fail with ""Invalid remote: origin""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRx2OeNDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKkN0oEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzEzODAzNjE5NjQzNzk2LUdpdC1SZXBvcy1vci1wcm9qZWN0cy1mYWlsLXdpdGgtSW52YWxpZC1yZW1vdGUtb3JpZ2luBjsIVDoJcmFua2kK--b5a4e6e63d33ed18fee37d1abca8cd5acf4904cd)"
https://tickets.dominodatalab.com/hc/en-us/sections/21773627201044-Model-APIs,"## Model APIs

*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs)
*   [“ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_'” when trying to deploy a model as a REST API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint)
*   [500 Error when building Model API](https://tickets.dominodatalab.com/hc/en-us/articles/22608847470228-500-Error-when-building-Model-API)
*   [User is unable to publish new version of a model API, 500 Error](https://tickets.dominodatalab.com/hc/en-us/articles/20290053946900-User-is-unable-to-publish-new-version-of-a-model-API-500-Error)
*   [Getting 500 error when trying to launch a model](https://tickets.dominodatalab.com/hc/en-us/articles/19571120182804-Getting-500-error-when-trying-to-launch-a-model)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)
*   [Model APIs will not find git repositories by tagged release](https://tickets.dominodatalab.com/hc/en-us/articles/17138938513300-Model-APIs-will-not-find-git-repositories-by-tagged-release)
*   [Model APIs: Repeated ""400 Bad Request"" exceptions in Instance Logs when ""Show health checks"" is checked](https://tickets.dominodatalab.com/hc/en-us/articles/16285091672084-Model-APIs-Repeated-400-Bad-Request-exceptions-in-Instance-Logs-when-Show-health-checks-is-checked)
*   [Model API Deployment Failed](https://tickets.dominodatalab.com/hc/en-us/articles/15674810858004-Model-API-Deployment-Failed)
*   [Model API failure using the future package](https://tickets.dominodatalab.com/hc/en-us/articles/15183997577876-Model-API-failure-using-the-future-package)
*   [Model APIs: “TypeError: build\_error\_response() missing 1 required positional argument: 'model\_time\_ms'” error when sending a POST request](https://tickets.dominodatalab.com/hc/en-us/articles/14375473323284-Model-APIs-TypeError-build-error-response-missing-1-required-positional-argument-model-time-ms-error-when-sending-a-POST-request)
*   [Model APIs list is missing columns: Status, Active Version, Owner](https://tickets.dominodatalab.com/hc/en-us/articles/14072666707092-Model-APIs-list-is-missing-columns-Status-Active-Version-Owner)
*   [Errors during model build : Failed to establish a new connection: \[Errno -2\] Name or service not known')': /simple/prometheus-client/](https://tickets.dominodatalab.com/hc/en-us/articles/12668318651412-Errors-during-model-build-Failed-to-establish-a-new-connection-Errno-2-Name-or-service-not-known-simple-prometheus-client)
*   [Unable to deploy Model - \[Errno 13\] Permission denied: '/.cache'](https://tickets.dominodatalab.com/hc/en-us/articles/12460845614740-Unable-to-deploy-Model-Errno-13-Permission-denied-cache)
*   [Model build reports an error about 'hack'](https://tickets.dominodatalab.com/hc/en-us/articles/12401360899860-Model-build-reports-an-error-about-hack)
*   [DMM ingestion fails with 'Expected numeric, but found only non-numeric values for column X'](https://tickets.dominodatalab.com/hc/en-us/articles/11609776155796-DMM-ingestion-fails-with-Expected-numeric-but-found-only-non-numeric-values-for-column-X)
*   [Logrotate error in model api logs](https://tickets.dominodatalab.com/hc/en-us/articles/10910449453332-Logrotate-error-in-model-api-logs)
*   [Model APIs: New builds fail with ""Error during image build and push: timed out waiting for replicator to prepare resources""](https://tickets.dominodatalab.com/hc/en-us/articles/10448305288596-Model-APIs-New-builds-fail-with-Error-during-image-build-and-push-timed-out-waiting-for-replicator-to-prepare-resources)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/articles/9027181072532-Replicator-error-when-building-Model-API-500-Internal-Server-Error-Unknown-error-caused-by-java-io-IOException-Unable-to-delete-directory)
*   [Model permissions change for Domino version 5.0 - 5.2](https://tickets.dominodatalab.com/hc/en-us/articles/8125256142996-Model-permissions-change-for-Domino-version-5-0-5-2)
*   [I am unable to run my model and see a warning that says ""consider increasing buffer size"" in the logs](https://tickets.dominodatalab.com/hc/en-us/articles/7977410529940-I-am-unable-to-run-my-model-and-see-a-warning-that-says-consider-increasing-buffer-size-in-the-logs)
*   [R Model API will not start, gives PSOCK nodes error](https://tickets.dominodatalab.com/hc/en-us/articles/7118046825108-R-Model-API-will-not-start-gives-PSOCK-nodes-error)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/articles/6627751566484-Model-Tester-Returns-Failed-to-call-Model)
*   [How to troubleshoot os error: write error or a broken pipe/socket seen in model api logs](https://tickets.dominodatalab.com/hc/en-us/articles/6199615709716-How-to-troubleshoot-os-error-write-error-or-a-broken-pipe-socket-seen-in-model-api-logs)
*   [Model API in "" Starting "" state forever](https://tickets.dominodatalab.com/hc/en-us/articles/4498729556372-Model-API-in-Starting-state-forever)
*   [Models cannot use requirements.txt](https://tickets.dominodatalab.com/hc/en-us/articles/4404234074004-Models-cannot-use-requirements-txt)
*   [Use imported package project in model api](https://tickets.dominodatalab.com/hc/en-us/articles/360058040312-Use-imported-package-project-in-model-api)
*   [Deploying new version of model api fails with Json validation error List()](https://tickets.dominodatalab.com/hc/en-us/articles/360058493151-Deploying-new-version-of-model-api-fails-with-Json-validation-error-List)
*   [uwsgi: error while loading shared libraries: libpcre.so.1: cannot open shared object file: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/360058039432-uwsgi-error-while-loading-shared-libraries-libpcre-so-1-cannot-open-shared-object-file-No-such-file-or-directory)"
https://tickets.dominodatalab.com/hc/en-us/articles/14395398330260-Git-pod-backup-failures,"## Git pod backup failures

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14395398330260-Git-pod-backup-failures/subscription.html ""Opens a sign-in dialog"")

**Version:** 

Domino 4.x & 5.x 

**Issue:**

When checking the status of your git backup pods they are shown as being in an Error state:

git-backup-1575137100-cblk                       0/1     Error              0          07d  
git-backup-1488142199-s5tg                       0/1     Error              0          07d

**Investigating the failure:**

The first line of investigation is to inspect the logs of the pod to determine the root cause, you can do this like so:

_**kubectl logs -n domino-platform <git-backup pod name>**_

ubuntu@testeval \[/apps/domino\] $ kubectl logs -n domino-platform git-backup-1575137100-cblk --timestamps  
2023-03-07T00:00:11.377099591Z + GIT\_PROJECTREPOS=projectrepos  
2023-03-07T00:00:11.377162439Z + SCRATCH\_PATH=/tmp/backups  
2023-03-07T00:00:11.377173745Z + POSTGRESQL\_HOST=postgresql-headless  
2023-03-08T00:00:11.377182602Z + POSTGRESQL\_USER=postgres  
2023-03-08T00:00:11.377189966Z + \[\[ -n '' \]\]  
2023-03-08T00:00:11.377198897Z + \[\[ -n '' \]\]  
2023-03-08T00:00:11.377207555Z + \[\[ -n '' \]\]  
2023-03-08T00:00:11.377216431Z + \[\[ -n /var/opt/git \]\]  
2023-03-08T00:00:11.377225556Z + mkdir -p /tmp/backups/git  
2023-03-08T00:00:11.382221347Z + cd /var/opt/git  
2023-03-08T00:00:11.382949461Z ++ date +%Y%m%d-%H%M  
2023-03-08T00:00:11.388608105Z + tar -czf /tmp/backups/git/20230308-0000.tar.gz projectrepos  
2023-03-08T00:01:28.111132881Z tar: projectrepos/3d46/5f4406bb7a8bf3605d5f2995.git/objects: file changed as we read it  
2023-03-08T00:01:28.111788397Z tar: projectrepos/3d46/5f4406bb7a8bf3605d5f2995.git: file changed as we read it

From the above we can see that the failure could not be avoided here since a file was changed as a backup was taking place hence the failure. At this time there is currently no locking mechanism in place to prevent this.

**Resolution (workaround)**

1\. Run the cron job manually to re-run the failed backup

```
#Get all Cron Jobskubectl get cronjob -A#Describe the Cron Jobkubectl describe cronjob git-backup -n domino-platform# Create a one time manual run of the cron job and give it a unique name i.e. 'git-backup-manual-test-001'kubectl create job --from=cronjob/git-backup git-backup-manual-test-001 -n domino-platform#Check if it was successfully runkubectl get jobs
```

2.  The alternative here would be to automate the kubectl cron backup jobs to run at **non peak hours** when you know users will be less likely to use the system or make **changes to files.**

Ultimately based on the inspection of the log and what it details, the resolution above is subject to change. If you are unsure on how to proceed then it would be best to contact Domino support.

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/14837893036052)

### Recently viewed articles

*   [Unable to clone or establish an ssh connection with your remote git](https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)
*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project)

### Related articles

*   [Clearing Git Cache](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgtyndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXmrAXDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0MDI3MTczMDEyLUNsZWFyaW5nLUdpdC1DYWNoZQY7CFQ6CXJhbmtpBg%3D%3D--2d544af12e19188a1151a0baa30ff993044c4d5d)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRrIOmBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXmrAXDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzYyMTI3MzE4NTExNTYtTmV3LUFXUy1HUFUtbm9kZXMtYXV0b3NjYWxlLWJ1dC1mYWlsLXRvLWdldC1hZGRlZC10by1LdWJlcm5ldGVzLWNsdXN0ZXIGOwhUOglyYW5raQc%3D--720c348fad9a45364f60d4c0f5198e950a101da8)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXmrAXDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQg%3D--1d590fae72d4d1ad3a225d2d898b70e7d681947f)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXmrAXDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kJ--ea0b57ba314220e6e33beb2b8ec7027ca2716206)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQKN5rXDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXmrAXDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE2MzE5MTY4MDU1ODI4LVdoYXQtb3B0aW9ucy1kby1JLWhhdmUtZm9yLWFkZGluZy1jb2RlLXBhY2thZ2VzLXRvLW15LWV4ZWN1dGlvbnMGOwhUOglyYW5raQo%3D--5711a46adc7e74633bee21bcd35a8f8431ebc86a)"
https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs,"#### _**Version/Environment (if relevant):**_

This is relevant to all Domino versions 5.x or greater.

* * *

## **Issue:**

It is possible to get a list of running Model APIs programatically.  You might want this type of info in a handy list without having to drill thru the Model-specific pages in the Domino UI.

* * *

## **Resolution:**

Attached is a sample python jupyter notebook, this is only meant to be a guide to foster ideas for your python and REST experts.

It makes use of pandas dataframes and these REST apis:

{host}/api/projects/beta/projects  
{host}/v4/modelManager/getModels  {host}/v4/modelManager/{version\_id}/getLast24HoursInvocationCounts

Note for testing the .ipynb limits the results to the first 2000 projects returned by the /projects REST api call.   Edit the third cell to change this.

Note we remove 'description' from the columns of info, but you can add it back.

![Screenshot 2024-03-21 at 2.37.09 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/24841805612564)

* * *

## **Notes/Information:**

For a quick snapshot via kubectl you can also review replicasets created for each running model and this will indicate how many instances for there are for each:

kubectl -n <your namespace> get rs -l modelName -o custom-columns=STARTING-USER:"".metadata.labels.dominodatalab\\.com/starting-user-username"",MODEL:"".metadata.labels.modelName"",PROJECT:"".metadata.labels.dominodatalab\\.com/project-name"",REPLICAS:"".spec.replicas"",STARTDATE:"".metadata.creationTimestamp"" --sort-by=.metadata.creationTimestamp

### **References/Internal Records:**

include any keys to related Jiras here (OTs, Bugs, FRs, etc.)

*   Feature Request DOM-52588

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24841805617556)"
https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino versions < 5.7.0.

* * *

## **Issue:**

You run into this error when trying to [deploy a model as a REST API endpoint](https://docs.dominodatalab.com/en/5.5/user_guide/8dbc91/deploy-models-at-rest/):

ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_' (/opt/conda/lib/python3.10/site-packages/urllib3/util/ssl\_.py)  lxe100512    
unable to load app 0 (mountpoint='') (callable not found or import error)  lxe100512    
\*\*\* no app loaded. GAME OVER \*\*\*  lxe100512    
SIGINT/SIGTERM received...killing workers...

You also see noisy [pypi.org](https://pypi.org/) http traffic.

* * *

## **Root Cause:**

This error occurs because prior to Domino version 5.7.0, there were hardcoded package requirements in the environment build for models, which:

*   downgraded **requests** with pip install requests==2.19.0 
*   downgraded **prometheus-client** with pip install prometheus-client==0.11.0 

* * *

## **Resolution:**

Per the [Release Notes Bug fixes](https://docs.dominodatalab.com/release_notes/5-7-0/#_bug_fixes), this was resolved in Domino version 5.7.0:

When creating Model APIs, Domino no longer runs `pip install requests==2.19.0` and `pip install prometheus-client==0.11.0` during the model building phase. This fixes previous issues where these commands could fail or downgrade the `requests` and `urllib3` libraries in the image, leading to run-time errors in Model APIs. If you are deploying a new Model API, or a new version of a Model API, using a custom environment (rather than a Domino Standard Environment), see our instructions for [customizing images](https://docs.dominodatalab.com/en/5.7/user_guide/c11e1c/deploy-a-custom-image/) when configuring your environment.

* * *

## **Workaround**

On versions < 5.7.0, as a workaround:

1.  Create a new [Domino Standard Environment (DSE)](https://docs.dominodatalab.com/en/5.5/user_guide/0d73c6/domino-standard-environments/) and customize it by [editing the Dockerfile Instructions](https://docs.dominodatalab.com/en/5.5/user_guide/813d89/preload-environment-packages/).
2.  Add the script from the attached file (at the bottom of this article) to the Dockerfile Instructions. This will skip the installation of the packages.
3.  The environment's build logs should then confirm that the downgrade attempts were skipped:

#13 0.117 SKIPPING1: install requests==2.19.0   
#13 0.119 SKIPPING1: install prometheus-client==0.11.0

* * *

### References/Internal Records:

*   DOM-41738
*   PS-11730

* * *

### Recently viewed articles

*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs)
*   [Git pod backup failures](https://tickets.dominodatalab.com/hc/en-us/articles/14395398330260-Git-pod-backup-failures)
*   [Unable to clone or establish an ssh connection with your remote git](https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)
*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo)

### Related articles

*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTcDRNZFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdD%2Bh7FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzI0NTcxODI3NTc1ODI4LUhvdy10by10ZXN0LWEtc2FtcGxlLVNwYXJrLWFwcGxpY2F0aW9uLWluLXlvdXItd29ya3NwYWNlBjsIVDoJcmFua2kG--0fdc3c280cde266a7816672b287054a2b4ec0417)
*   [500 Error when building Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BUgiQFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdD%2Bh7FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzIyNjA4ODQ3NDcwMjI4LTUwMC1FcnJvci13aGVuLWJ1aWxkaW5nLU1vZGVsLUFQSQY7CFQ6CXJhbmtpBw%3D%3D--abfedf51721390da4eb6ddfe1da35ae09ce4b209)
*   [Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ3hrSXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdD%2Bh7FjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzEwNTQ3MTczNDA2NDg0LVJlYWRpbmVzcy1wcm9iZS1mYWlsZWQtY2F0LXZhci1saWItZG9taW5vLWhvbWUtYXBpLXRva2VuLU5vLXN1Y2gtZmlsZS1vci1kaXJlY3RvcnkGOwhUOglyYW5raQg%3D--f21c8d1ab903177bbfdd7cabab8bd28409996d1a)"
https://tickets.dominodatalab.com/hc/en-us/sections/4402660372628-Data-Sources-Datasets,"## Data Sources & Datasets

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/4402660372628-Data-Sources-Datasets/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/4402660372628-Data-Sources-Datasets/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/22608847470228-500-Error-when-building-Model-API,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/22608847470228-500-Error-when-building-Model-API/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

Domino 5.0 and greater

* * *

## **Issue:**

When building a Model API, you receive a 500 error after hitting ""Create Model"":

![model_build-500_error.png](https://tickets.dominodatalab.com/hc/article_attachments/22608847469844)

If you view the specific network activity, you can see the 500 error is being returned from the endpoint `/models/createmodel`.

* * *

## **Root Cause:**

The **prediction\_data** dataset for the Project is in status `MarkedforDeletion` or `DeletionInProgress`. Creation of a Model API relies on the availability of the **prediction\_data** dataset within the Project. If this dataset is missing, the builder will attempt to create a new dataset. However, it cannot create a new dataset with that name if another dataset with that name still technically exists - which it will until it moves from `DeletionInProgress` to being fully deleted. 

* * *

## **Resolution:**

Your **prediction\_data** dataset will either need to be completely deleted or marked as active by your Administrator. If your dataset is ""Marked as Active"", it will immediately reappear in your project and you will be able to create a Model API. If your dataset is fully deleted, creating a Model API will create a new **prediction\_data** dataset for your project.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Unable to delete Datasets or create dataset snapshots - stuck on ""Pending"" status](https://tickets.dominodatalab.com/hc/en-us/articles/22635450024724-Unable-to-delete-Datasets-or-create-dataset-snapshots-stuck-on-Pending-status)
*   [“ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_'” when trying to deploy a model as a REST API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint)
*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs)
*   [Git pod backup failures](https://tickets.dominodatalab.com/hc/en-us/articles/14395398330260-Git-pod-backup-failures)
*   [Unable to clone or establish an ssh connection with your remote git](https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git)

### Related articles

*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BUgiQFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kG--bcae4d9c5fee2c8fbe85d93c8a8c0224c6bd01ce)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BUgiQFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kH--50ef57f45d2a0b47661bfbba400e19a7bafc4633)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BUgiQFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQg%3D--d4f69a64a3aff888e54b3045022074039be58d80)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BUgiQFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQk%3D--a14ff8156b0c87a7413e8b37fd52b271994e9306)
*   [Data Importer failed due to name of the backup file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRG5%2F4tBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BUgiQFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzU2OTUxMDgyMzY5NDgtRGF0YS1JbXBvcnRlci1mYWlsZWQtZHVlLXRvLW5hbWUtb2YtdGhlLWJhY2t1cC1maWxlBjsIVDoJcmFua2kK--1a4ee66d186eac2785861d0237d76185c97cd644)"
https://tickets.dominodatalab.com/hc/en-us/articles/22635450024724-Unable-to-delete-Datasets-or-create-dataset-snapshots-stuck-on-Pending-status,"#### _**Version/Environment (if relevant):**_

This applies to deploys of Domino 5.7.X

* * *

## **  
Issue:**

When attempt to create new Dataset snapshots, or delete Dataset or download dataset the status stuck on ""Pending"" on the dataset page as a DSP, or from the Datasets page in the admin console. 

![Screenshot 2024-01-08 at 4.26.15 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/22637186058260)

![Screenshot 2024-01-08 at 4.25.08 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/22637175824020)

Filetask-watcher pod logs contain message like:

```
1 controller.go:155] error handling 'domino-compute/filetask-sizing-5kk4k': json: error calling MarshalJSON for type *json.RawMessage: invalid character 'K' after object key:value pair, requeuing""
```

  

* * *

## **Root Cause:**

There is a bug in how dataset sizing is completed by Filetask. For sizing jobs where the dataset contains more than 1000 files, filetask will not properly communicate the calculated size back to Nucleus. Once enough of these jobs fail, then all filetask jobs will stop working, since the status of the failed filetask job never shifts to completed and filetask stops accepting new jobs.

* * *

## **Resolution:**

Permanent Solution

This issue has been fixed in Domino version 5.8 onwards.

Workaround Remediation for version 5.7.X

1.  Fix Filetask image by editing the Filetask deployments in Kubernetes:
    1.  Edit the filetask-watcher deployment: change the `image` field to `quay.io/domino/filetask:v5.7.0-3-2314`.   
    2.  Edit the filetask-webserver deployment: change the `image` field to `quay.io/domino/filetask:v5.7.0-3-2314`.   
    3.  Edit the filetask-dispatcher deployment: change the `image` field to `quay.io/domino/filetask:v5.7.0-3-2314`.   Change the field under `FILETASK_SCRIPTS_IMAGE` to [`quay.io/domino/filetask-scripts:v5.7.0-3-2316`](http://quay.io/domino/filetask-scripts:v5.7.0-3-2316)
2.  Amend the sizing on existing datasets (there is a README in the _filetask-sizing-scripts 3.zip_ with more detail) and update size in Mongo:
    1.  **script-job-index.yaml** spawns a Kubernetes job that sizes datasets and creates a CSV with that information
    2.  To view the created CSV, **script-pod.yaml** creates a container that you can exec into and view the CSV
    3.  To update the mongo database with the dataset sizes from the CSV, run **script-job-mongo.yaml** 

* * *

Once the mongo script applied Total Storage Size that is displayed on the Admin Dataset Page can be larger than previously shown. Please note there's no actual increase in the total storage, just that the number being calculated will be more accurate and may be larger as the previously ""Pending"" dataset size will now be included in the calculations.

If you have questions or need further assistance applying the workaround please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support (for Support: internal [reference](https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/2660728961/Known+Issue+operations+involving+Filetask+don+t+work+Can+t+create+Snaphots+download+datasets+delete+files+or+size+datasets)[).](https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/2311454732/Known+Issue+Token+authorization+failures+when+running+on+Kubernetes+1.21)

* * *

##  **References/Internal Records:**

*   [Run a manual backup](https://docs.dominodatalab.com/en/5.7/admin_guide/2722ce/run-a-manual--on-demand-backup/)
*   DOM-51396

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/23868866269204-Special-Character-issue-on-viewing-the-files-through-dataset-viewer,"#### _**Version/Environment (if relevant):**_

* * *

## **Issue:**

When accessing a PDF file with special character on it's file name, it is showing an error ""Failed to load PDF file.""

![Screenshot 2024-02-20 at 02.52.58.png](https://tickets.dominodatalab.com/hc/article_attachments/23868866260884)

* * *

## **Root Cause:**

It is caused by the special character on the file name

* * *

## **Resolution:**

Case sensitivity on the file name in dataset viewer was removed

* * *

## **Notes/Information:**

The issue should be fixed in Domino version 5.10.x

### **References/Internal Records:**

DOM-54450

* * *"
https://tickets.dominodatalab.com/hc/en-us/articles/20290053946900-User-is-unable-to-publish-new-version-of-a-model-API-500-Error,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20290053946900-User-is-unable-to-publish-new-version-of-a-model-API-500-Error/subscription.html ""Opens a sign-in dialog"")

If you are trying to launch a new version of a model and are getting a 500 error there are a few things you can check. 

First of all, verify whether the publishing user has access to the datasets within the project. Generally, they should have access but the permissions may have changed by manual intervention. If dataset permissions look ok we'll want to check on whether any of the dataset's snapshots have been marked for deletion. You can do this by having an Admin go to the Admin page → Data → Datasets → then find the dataset with name `<Project Name>` associated with the project in question.  If it has the status status `MarkedForDeletion` , an admin will want click the kebab menu for that row and click `Mark as Active`, then retry launching a new model version. 

If none of these work, please contact Domino support so they assist. 

### Recently viewed articles

*   [Special Character issue on viewing the files through dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23868866269204-Special-Character-issue-on-viewing-the-files-through-dataset-viewer)
*   [500 Error when building Model API](https://tickets.dominodatalab.com/hc/en-us/articles/22608847470228-500-Error-when-building-Model-API)
*   [Unable to delete Datasets or create dataset snapshots - stuck on ""Pending"" status](https://tickets.dominodatalab.com/hc/en-us/articles/22635450024724-Unable-to-delete-Datasets-or-create-dataset-snapshots-stuck-on-Pending-status)
*   [“ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_'” when trying to deploy a model as a REST API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint)
*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs)

### Related articles

*   [Getting 500 error when trying to launch a model](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSWqsHMEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BdSV0EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzE5NTcxMTIwMTgyODA0LUdldHRpbmctNTAwLWVycm9yLXdoZW4tdHJ5aW5nLXRvLWxhdW5jaC1hLW1vZGVsBjsIVDoJcmFua2kG--ae7c1c829112a6de2f6e0f6e1a7e2704bac45669)
*   [Workspace cannot be deleted from current state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2Fn3aIEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BdSV0EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzE4MTc4MjkxNzQ0NTMyLVdvcmtzcGFjZS1jYW5ub3QtYmUtZGVsZXRlZC1mcm9tLWN1cnJlbnQtc3RhdGUGOwhUOglyYW5raQc%3D--aa1fa2bfa52a82263d9ed1721faf1cf4fe3e34da)
*   [Rstudio no longer installed by default in DSE GPU environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLw8GAFjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BdSV0EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzI0NzQyMjYyNDI2NTE2LVJzdHVkaW8tbm8tbG9uZ2VyLWluc3RhbGxlZC1ieS1kZWZhdWx0LWluLURTRS1HUFUtZW52aXJvbm1lbnRzBjsIVDoJcmFua2kI--f9727a207ff0b5e5789a87a3cfc565f47b343830)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRNR51TEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BdSV0EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzIwMTUwMzMwMjgxMjM2LVJ1bm5pbmctdG9wLWZyZWUtYW5kLW90aGVyLWNvbW1hbmRzLWluLXdvcmtzcGFjZS10ZXJtaW5hbC1yZXR1cm5zLWludGVyZXN0aW5nLXZhbHVlcwY7CFQ6CXJhbmtpCQ%3D%3D--b6f5b7ea87e0724ba8aed1d66ddca0451143e237)
*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJREupxKDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BdSV0EjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE1NzEzNjE5ODIxNzE2LUNhbGljby1wb2RzLXVuaGVhbHRoeQY7CFQ6CXJhbmtpCg%3D%3D--8f557868e9a865913f3997eaa18c4e6edbafb2ab)"
https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors/subscription.html ""Opens a sign-in dialog"")

## Problem:

*   There are problems publishing new Model API's and we see errors related to : replicatorStorage, cached, prepared or event-log folder
*   We see errors like : Body: Unknown error caused by: domino.git.domain.models.GitActionFailure: Clone failed.
*   We see errors 'repository not found <path to replicatorStorage>/\[cached|prepared\]/...
*   We have a disk full on a build node (Models and Environment build may fail)

You have tried to follow instructions from [https://tickets.dominodatalab.com/hc/en-us/articles/9027181072532-replicator-error-when-building-model-API-500-Internal-Server-Error-Unknown-error-caused-by-java-io-IOException-Unable-to-delete-directory-domino-shared-replicatorStorage-cached-directory-](https://tickets.dominodatalab.com/hc/en-us/articles/9027181072532-replicator-error-when-building-model-API-500-Internal-Server-Error-Unknown-error-caused-by-java-io-IOException-Unable-to-delete-directory-domino-shared-replicatorStorage-cached-directory-) or [https://tickets.dominodatalab.com/hc/en-us/articles/10448305288596-Model-APIs-New-builds-fail-with-Error-during-image-build-and-push-timed-out-waiting-for-replicator-to-prepare-resources-](https://tickets.dominodatalab.com/hc/en-us/articles/10448305288596-Model-APIs-New-builds-fail-with-Error-during-image-build-and-push-timed-out-waiting-for-replicator-to-prepare-resources-)

## Resolution:

Stop the replicator pod (remove build label from the node or nodes which are tagged as builders)

On any build node showing issues remedy by deleting the cached, prepared and event-log folder

Add the build label to all build nodes, which starts the replicator and the folders will be recreated.

Get a list of Domino build nodes:

kubectl get no -ldomino/build-node=true

Overwrite the build node’s label, which will prevent builds and the replicator from being scheduled to it during maintenance:

kubectl label no --overwrite <node> domino/build-node=false

Set is back to true after the maintenance:

kubectl label no --overwrite <node> domino/build-node=true

## Root Cause:

Disparity in some Git repos, or partial cleanup may have created a issue and a full cleanup is most likely to work. Issues could also relate to disk full on the node in question.

## Applies to:

Domino 3.6 to 5.2

### Related articles

*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEksXADzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kG--1fe1ae2de07f93cafc51696f59df87cc388e4a46)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEksXADzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kH--33c36b32135a24f473aca74b38f33bbae0dfd901)
*   [Why does my computer use less memory than Domino to do the same job?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSOb10BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEksXADzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDkwNzA0ODQtV2h5LWRvZXMtbXktY29tcHV0ZXItdXNlLWxlc3MtbWVtb3J5LXRoYW4tRG9taW5vLXRvLWRvLXRoZS1zYW1lLWpvYgY7CFQ6CXJhbmtpCA%3D%3D--97ac8a45fdea62fff15ea43df56b18561df97ccb)
*   [Hephaestus environment build failures in Domino 5.2.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCSYhUBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEksXADzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzgwNTk2NDUxNjYyMjgtSGVwaGFlc3R1cy1lbnZpcm9ubWVudC1idWlsZC1mYWlsdXJlcy1pbi1Eb21pbm8tNS0yLTAGOwhUOglyYW5raQk%3D--99b0aae6858f8c30b2793b47ecd510190c74ee3e)
*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSznBsDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTEksXADzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzQ0MTEzOTQ2NjcyODQtRW5hYmxpbmctbXVsdGktdGhyZWFkaW5nLWluLU1vZGVsLUFQSXMGOwhUOglyYW5raQo%3D--ef5d5b273edddd0ec1cca0a44a48607c06eef99c)"
https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

* * *

## **Issue:**

The page is showing unresponsive page or blank page

![Screenshot 2024-03-26 at 01.12.35.png](https://tickets.dominodatalab.com/hc/article_attachments/24961871627284)

* * *

## **Root Cause:**

Complex PDF files

* * *

## **Resolution:**

The current implementation should handle common use case with file sizes on average not exceeding/limited to 100MB reasonably well, and the virtualization enhancement

* * *

## **Notes/Information:**

Some tests were performed with 100 MB, 200 MB, 300 MB, and 500 MB pdfs on a 5.10 deployment, and the rendering was visible, but the responsiveness decreased as the PDF size increased. Conservatively, if 100 MB files worked well, 200–300 MB may be the maximum limit on usability, but it is hard to say without seeing how complex the PDFs are.

### **References/Internal Records:**

DOM-54423

* * *

### Recently viewed articles

*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

### Related articles

*   [Special Character issue on viewing the files through dataset viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSQS2e1FToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlYoi0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzIzODY4ODY2MjY5MjA0LVNwZWNpYWwtQ2hhcmFjdGVyLWlzc3VlLW9uLXZpZXdpbmctdGhlLWZpbGVzLXRocm91Z2gtZGF0YXNldC12aWV3ZXIGOwhUOglyYW5raQY%3D--9b17c6255568c8e49069068d2c256885dc644b0d)
*   [Unable to delete Datasets or create dataset snapshots - stuck on ""Pending"" status](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRD9TmWFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlYoi0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzIyNjM1NDUwMDI0NzI0LVVuYWJsZS10by1kZWxldGUtRGF0YXNldHMtb3ItY3JlYXRlLWRhdGFzZXQtc25hcHNob3RzLXN0dWNrLW9uLVBlbmRpbmctc3RhdHVzBjsIVDoJcmFua2kH--ba77c34ad028169d2f35f805627dead2183e05d4)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRNs3EMFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlYoi0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgy9oYy9lbi11cy9hcnRpY2xlcy8yMzE0MzE5MTM2NzA2MC1GaWxlLUZvbGRlci13aXRoLVBsdXMtU3ltYm9sLW9uLU5hbWUtUmVzdWx0cy10by1hbi1FcnJvci1EdXJpbmctU2luZ2xlLWZpbGUtRG93bmxvYWQtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kI--b5568e97b1c7bc8e65fc785b50777aeda2a1df98)
*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQouUHPEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlYoi0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzIxNzgwODgxODExNjA0LS1JbnZhbGlkLWhvc3QtZXJyb3Itd2hlbi10cnlpbmctdG8tY29ubmVjdC1NaW5pTy1zZXJ2ZXItYXMtYS1HZW5lcmljLVMzLWRhdGEtc291cmNlBjsIVDoJcmFua2kJ--2badabf60797ae476fcc37c50de695f82d0cd053)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLpgGSEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlYoi0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy8yMTUxNzgxMzgyODUwMC1UaW1lb3V0LWlzc3Vlcy1UaW1lZC1vdXQtd2hpbGUtcHVibGlzaGluZy1ydW4tc3RhdHVzLXVwZGF0ZS1mb3ItV29ya3NwYWNlcy1qb2JzLW90aGVyLXJ1bnMGOwhUOglyYW5raQo%3D--4d63e1245e77223352735043158353ebd1757863)"
https://tickets.dominodatalab.com/hc/en-us/articles/19571120182804-Getting-500-error-when-trying-to-launch-a-model,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19571120182804-Getting-500-error-when-trying-to-launch-a-model/subscription.html ""Opens a sign-in dialog"")

This issue affects Domino version 5.5.0 but is fixed in versions 5.4+ 

If you are see a 500 error like the below when trying to start your model there may be a few explanations. 

![500.png](https://tickets.dominodatalab.com/hc/article_attachments/19571110831764)

The first place to start troubleshooting is to look at the network requests in your browser. For chrome this can be found in by going to View > Developer > Developer Tools. When the window opens you'll want to select the ""Network"" tab.

Next, go through the steps to republish your model and keep an eye on the network requests. Once you see the 500 Error come up, take a look at the details. In some cases you may see the 500 error appear with the API call that has the following format: 

**https://<baseurl>.com/models/<modelnumber>/versions**

If this is the case, please go to your model's project page and verify that the user who produces the error when publishing the model has access to all the project's datasets. In the past we've seen this error come up when a user did not have sufficient permissions to a dataset required by the model.

### Recently viewed articles

*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

### Related articles

*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSWqsHMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQY%3D--4b01521c164c1c5308091b43410dac470fbad381)
*   [User is unable to publish new version of a model API, 500 Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2BdSV0EjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSWqsHMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzIwMjkwMDUzOTQ2OTAwLVVzZXItaXMtdW5hYmxlLXRvLXB1Ymxpc2gtbmV3LXZlcnNpb24tb2YtYS1tb2RlbC1BUEktNTAwLUVycm9yBjsIVDoJcmFua2kH--fd4968c1557f0cf5c8fb5a3b25405c190745ce4f)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSWqsHMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCA%3D%3D--42e95b98a21fd55d0cf8cc72814768653167ede8)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSWqsHMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpCQ%3D%3D--7a87ceb8a4e4d140461fce4aefba3171336925fb)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSOHwyXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSWqsHMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzEwNTQ0MzQ4MTA2Mzg4LUtleWNsb2FrLVJlY29tbWVuZGVkLXNldHRpbmdzLWZvci1zZXNzaW9uLWFuZC10b2tlbi10aW1lb3V0cwY7CFQ6CXJhbmtpCg%3D%3D--2eb856435c0e21d25c4e2de0206704aa0feea489)"
https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

5.0- 5.7

* * *

## **Issue:**

File and folder names containing plus symbol + (at least in datasets) need to escape the plus sign properly because otherwise the + is translated to %20 (space) instead. The download process will result to an ""error 500"" .

**How Replicate issue:**

1.  Create a dataset
2.  Add a file/folder with a + symbol on the name.
3.  Save dataset and work as normal
4.  Try to download the file/folder with the + symbol  
    \*\*Note, this should be done on single file download not multiple file download selection since it will result to a tar file

## **Root Cause:**

The + symbol is part of a the reserved characters and are treated as a space when used on file names. 

## **Resolution:**

The solution involves encoding the filename when constructing the download URI so that characters like '+' are preserved. 

**Work Around:**

1\. For Domino 5.7 and below, users would need to change the file/folder name to a different accepted characted

2\. For Domino 5.8 and above , users can use the _Ellipse Action Button_ instead of the the single file file download option in Dataset

3\. The most obvious solution is select at least 2 files so that the files will be download as a zip/tar file. After which users just need to extract the files. 

## **Notes/Information:**

This issue is resolved on Domino 5.10. 

### **References/Internal Records:**

*   DOM-53985

### Recently viewed articles

*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

### Related articles

*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQouUHPEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRNs3EMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzIxNzgwODgxODExNjA0LS1JbnZhbGlkLWhvc3QtZXJyb3Itd2hlbi10cnlpbmctdG8tY29ubmVjdC1NaW5pTy1zZXJ2ZXItYXMtYS1HZW5lcmljLVMzLWRhdGEtc291cmNlBjsIVDoJcmFua2kG--c4d0adc14b4fe66d789db3af1c39665f31c85941)
*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSlYoi0FToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRNs3EMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzIzODY1MTI2NDYyNzQwLVJlbmRlcmluZy1vZi1QREYtZmlsZXMtd2hlbi12aWV3ZWQtd2l0aC10aGUtZGF0YXNldC12aWV3ZXIGOwhUOglyYW5raQc%3D--93e0e77e74d7f9c9a6d6d0290eb4e2daa711fd5f)
*   [RStudio terminal being flooded with what appear to be environment variables](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTYGbTlFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRNs3EMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzIyOTc2ODAxNjU4OTAwLVJTdHVkaW8tdGVybWluYWwtYmVpbmctZmxvb2RlZC13aXRoLXdoYXQtYXBwZWFyLXRvLWJlLWVudmlyb25tZW50LXZhcmlhYmxlcwY7CFQ6CXJhbmtpCA%3D%3D--18130c4ec681737220782744bd1d153f4cc84f49)
*   [Cannot delete dataset files and folders even when there are no invalid characters in the files/folders names](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvv2R4EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRNs3EMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBji9oYy9lbi11cy9hcnRpY2xlcy8yMTQwNzgwNzI1NDQyMC1DYW5ub3QtZGVsZXRlLWRhdGFzZXQtZmlsZXMtYW5kLWZvbGRlcnMtZXZlbi13aGVuLXRoZXJlLWFyZS1uby1pbnZhbGlkLWNoYXJhY3RlcnMtaW4tdGhlLWZpbGVzLWZvbGRlcnMtbmFtZXMGOwhUOglyYW5raQk%3D--b46e3333490f272f7de1034fef984bd3622e3140)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQFDAAQDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRNs3EMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmy9oYy9lbi11cy9hcnRpY2xlcy8xNjU2MTM5NDY4MTEwOC1Ib3ctdG8tZ2VuZXJhdGUtYS1TdGF0YS1saWNlbnNlLWZpbGUtYW5kLWFwcGx5LWl0LWluLWFuLWVudmlyb25tZW50LXMtRG9ja2VyZmlsZS1zby10aGF0LXlvdS1jYW4tdXNlLVN0YXRhLWFzLWEtd29ya3NwYWNlBjsIVDoJcmFua2kK--4c9d9b12c87881c53267efea24928fe20f931b11)"
https://tickets.dominodatalab.com/hc/en-us/sections/21773790799764-Launchers,"## Launchers

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/21773790799764-Launchers/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/21773790799764-Launchers/subscription.html?subscribe_to_grandchildren=true)

*   [Launcher User receives 403 error when attempting to access Input or Ouput files](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files)"
https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to any Domino version. 

* * *

## **Issue:**

You run into this error when trying to connect [MiniO](https://min.io/) as a new [Generic S3 data source in Domino](https://docs.dominodatalab.com/en/latest/user_guide/947ddd/connect-to-generic-s3/):

**Invalid host**

**please check DataSource Proxy Service logs for more details**

![error Invalid host - please check DataSource Proxy Service logs for more details.png](https://tickets.dominodatalab.com/hc/article_attachments/21780890755860)

The DataSource proxy logs show:

*   `""msg"":""unable to ping"",""error"":""Type: configObjectError, Subtype: invalidHost. Message: RequestError: send request failed\ncaused by: Get`
*   `""msg"":""unable to ping"",""error"":""Type: internalError, Subtype: . Message: InvalidArgument: S3 API Requests must be made to API port`

* * *

## **Root Cause:**

MinIO requires the use of port **9000**. In this example, the user is using port **9001** from their MinIO URL, e.g. https://abcdefghij010.klmn.yourdomain.com:**9001**

![MinIOWebPortal URL port 9001.png](https://tickets.dominodatalab.com/hc/article_attachments/21780876500500)

Per MinIO docs:

*   [https://min.io/docs/minio/linux/index.html](https://min.io/docs/minio/linux/index.html):

> While the port **9000** is used for connecting to the API, MinIO automatically redirects browser access to the MinIO Console.

*   [https://min.io/docs/minio/linux/administration/minio-console.html#static-vs-dynamic-port-assignment](https://min.io/docs/minio/linux/administration/minio-console.html#static-vs-dynamic-port-assignment)

> respond to S3 API operations on the default MinIO server port **:9000** and browser access on the MinIO Console port **:9090**  

* * *

## **Resolution:**

In the **Host** field, replace the port number with **9000**: 

![Host - use port 9000 instead of 9001.png](https://tickets.dominodatalab.com/hc/article_attachments/21780896436116)

* * *

## **Notes/Information:**

If changing the port to 9000 doesn't resolve the issue, please open a Support ticket and send in the following output for the `datasource-proxy` pod. This requires the Admin to have `kubectl` access:

1.  Data Source Pod Status: `kubectl -n <platform-namespace> get po --selector=app.kubernetes.io/name=datasource-proxy`
2.  Data Source Logs: `kubectl -n <platform-namespace> logs --selector=app.kubernetes.io/name=datasource-proxy -c datasource-proxy`
3.  Data Source Proxy Pod describe: `kubectl describe pod -n domino-platform <datasource-proxy-name>`

Depending on the issue, Support may also ask for: 

1.  Data Source Proxy Deployment: `kubectl get deployment -n domino-platform datasource-proxy -o yaml`
2.  Data Source Proxy Configure Map: `kubectl get configmap -n domino-platform datasource-proxy -o yaml`
3.  Data Source Proxy Service: `kubectl get service datasource-proxy -n domino-platform -o yaml`

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Launcher User receives 403 error when attempting to access Input or Ouput files](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset)
*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

### Related articles

*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQouUHPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kG--8b81fb107d6dfd63f8f7c19d4382b4aa2fa51f05)
*   [Special Character issue on viewing the files through dataset viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSQS2e1FToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQouUHPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzIzODY4ODY2MjY5MjA0LVNwZWNpYWwtQ2hhcmFjdGVyLWlzc3VlLW9uLXZpZXdpbmctdGhlLWZpbGVzLXRocm91Z2gtZGF0YXNldC12aWV3ZXIGOwhUOglyYW5raQc%3D--05b28616d87fd5c3c70624bb5363eaceb0b8966a)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRNs3EMFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQouUHPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgy9oYy9lbi11cy9hcnRpY2xlcy8yMzE0MzE5MTM2NzA2MC1GaWxlLUZvbGRlci13aXRoLVBsdXMtU3ltYm9sLW9uLU5hbWUtUmVzdWx0cy10by1hbi1FcnJvci1EdXJpbmctU2luZ2xlLWZpbGUtRG93bmxvYWQtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kI--8e770e4dea12ba421640a8800d3c1a33174c57e7)
*   [Unable to delete Datasets or create dataset snapshots - stuck on ""Pending"" status](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRD9TmWFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQouUHPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzIyNjM1NDUwMDI0NzI0LVVuYWJsZS10by1kZWxldGUtRGF0YXNldHMtb3ItY3JlYXRlLWRhdGFzZXQtc25hcHNob3RzLXN0dWNrLW9uLVBlbmRpbmctc3RhdHVzBjsIVDoJcmFua2kJ--43af6e9fa8de58ea2afe68184e578cad3fedeab2)
*   [New workspaces start but existing workspaces will not get past assigning on a new hardware tier](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT5R24qFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQouUHPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgS9oYy9lbi11cy9hcnRpY2xlcy8yMjE3MjQ3MTM5MjUzMi1OZXctd29ya3NwYWNlcy1zdGFydC1idXQtZXhpc3Rpbmctd29ya3NwYWNlcy13aWxsLW5vdC1nZXQtcGFzdC1hc3NpZ25pbmctb24tYS1uZXctaGFyZHdhcmUtdGllcgY7CFQ6CXJhbmtpCg%3D%3D--a20bdd644d1fd15a1c4ebd5517d8c8e444e313e8)"
https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino versions 5.3.x to 5.7.x.

* * *

## **Issue:**

When trying to delete [dataset](https://docs.dominodatalab.com/en/latest/user_guide/ba5bad/manage-data-in-domino-datasets/) files/folders via the UI, you run into this error even when there are no invalid characters in the files/folders names:

`The following files/folders could not be deleted because they have an invalid character in their name.`

![Deletion error - Invalid character in their name.png](https://tickets.dominodatalab.com/hc/article_attachments/21407775800852)

* * *

## **Root Cause:**

This bug was due to a race condition. For example, if a user deletes a file/folder via the UI and then a collaborator deletes the same file/folder via the terminal, then this would create a race condition since the file/folder is already gone.

* * *

## **Resolution:**

This bug is resolved in Domino version 5.8, where there is now a check before deletion if the file no longer exists. If it doesn’t, then a detailed deletion error message will inform that user that:

`One or more of the files/folders in this dataset have been altered and could not be deleted. Please refresh the page to update the dataset and try again.`

![Deletion error - Dataset have been altered and could not be deleted.png](https://tickets.dominodatalab.com/hc/article_attachments/21407795062420)

* * *

### References/Internal Records:

*   DOM-45140

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source)
*   [Launcher User receives 403 error when attempting to access Input or Ouput files](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset)
*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

### Related articles

*   [File Changes button grayed out or unclickable](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTkMgqzDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvv2R4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzE1MDYyNjIxNDE0NDIwLUZpbGUtQ2hhbmdlcy1idXR0b24tZ3JheWVkLW91dC1vci11bmNsaWNrYWJsZQY7CFQ6CXJhbmtpBg%3D%3D--133a66181b0d671b64c5a7b15af7c0adcf241f54)
*   [Critical Error: Object too large, rejecting the pack. Max object size limit is 2,147,483,639 bytes.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCCwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvv2R4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfy9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTgwNDAzNTItQ3JpdGljYWwtRXJyb3ItT2JqZWN0LXRvby1sYXJnZS1yZWplY3RpbmctdGhlLXBhY2stTWF4LW9iamVjdC1zaXplLWxpbWl0LWlzLTItMTQ3LTQ4My02MzktYnl0ZXMGOwhUOglyYW5raQc%3D--49635843513a8f394f6a406c8b4b8bc3e2854b37)
*   [""Permission denied"" when trying to access the DMM prediction data logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT6TiPlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvv2R4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzUzODIxODY0MDAyNzYtLVBlcm1pc3Npb24tZGVuaWVkLXdoZW4tdHJ5aW5nLXRvLWFjY2Vzcy10aGUtRE1NLXByZWRpY3Rpb24tZGF0YS1sb2dzBjsIVDoJcmFua2kI--05f411a41e8a7ccf7a29aafb0e44c154cadc0536)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvv2R4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--5074c5c4c0e48ab07cd3aeb0c4fb0bbcaaa09238)
*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvv2R4EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpCg%3D%3D--6c054dce9f9c14f23bb16da2e0032a80a5fabf18)"
https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

All

## **Issue:**

If a collaborator has been set to the Launcher User role in your project so that they have limited access to your project but can use your project launchers, they will receive a 403 error when attempting to access any files in your project, except results.  This will occur even from the links sent to the Launcher User in the results email.

## **Root Cause:**

Launcher Users do not have read/write access to project files except for results.

See project collaborator permissions, here:

[https://docs.dominodatalab.com/en/latest/user\_guide/7876f1/collaborator-permissions/](https://docs.dominodatalab.com/en/latest/user_guide/7876f1/collaborator-permissions/)

## **Resolution:**

There is no way to give a Launcher User access to these files and no way to remove the links from the results email.  You could give these users the higher permission level of Collaborator.  But this gives full Read/Write access to the project and may not be desirable.  

## **Notes/Information:**

Domino Engineering is working on a fix to the issue.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset)
*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)

### Related articles

*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTp5oiVCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQY%3D--93f5999496d5fde6f4749016a05fc739f5968a2c)
*   [What does the message ""No live updates, please refresh for latest"" in the UI mean?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShuz4DBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTp5oiVCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzQ0MTE5ODM4OTY4NTItV2hhdC1kb2VzLXRoZS1tZXNzYWdlLU5vLWxpdmUtdXBkYXRlcy1wbGVhc2UtcmVmcmVzaC1mb3ItbGF0ZXN0LWluLXRoZS1VSS1tZWFuBjsIVDoJcmFua2kH--7649f056b774579771914fc65f201ca676b1f5ac)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQKN5rXDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTp5oiVCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE2MzE5MTY4MDU1ODI4LVdoYXQtb3B0aW9ucy1kby1JLWhhdmUtZm9yLWFkZGluZy1jb2RlLXBhY2thZ2VzLXRvLW15LWV4ZWN1dGlvbnMGOwhUOglyYW5raQg%3D--52fe14d914b1f95a0cbea36f5e8235a0fcd7032a)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTp5oiVCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kJ--bd01ca8bd85b227e78827952e8b4668b68f81f29)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTp5oiVCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCg%3D%3D--127111d0eba5833826fc1298d7ad22cc44f54c1e)"
https://tickets.dominodatalab.com/hc/en-us/sections/23511520451476-Rest-API,"## Rest API

*   [DMM file uploads fail with HTTP 500 errors using the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/21113648873492-DMM-file-uploads-fail-with-HTTP-500-errors-using-the-REST-API)
*   [I keep getting a 415 Error (Unsupported media type) when I call Domino's REST API. What am I doing wrong?](https://tickets.dominodatalab.com/hc/en-us/articles/15131705931284-I-keep-getting-a-415-Error-Unsupported-media-type-when-I-call-Domino-s-REST-API-What-am-I-doing-wrong)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage)"
https://tickets.dominodatalab.com/hc/en-us/sections/23340095867540-Models,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/23340095867540-Models/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/23340095867540-Models/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This affects all Domino versions.

* * *

## **Issue:**

You've [registered your model](https://docs.dominodatalab.com/en/latest/user_guide/d1f8bb/register-a-model/) and [registered the ground truth data](https://docs.dominodatalab.com/en/latest/user_guide/ce3835/set-up-model-quality-monitoring/#ingest-gtd) as part of [setting up model quality monitoring](https://docs.dominodatalab.com/en/latest/user_guide/ce3835/set-up-model-quality-monitoring/). But then you realize that the ground truth is incorrect or you need to make a change. So you'd like to be able to un-register the ground truth, make the changes, then re-register it. 

* * *

## **Root Cause:**

Although there is a way to [Unregister a Model](https://docs.dominodatalab.com/en/latest/user_guide/c2eba7/unregister-a-model/), unfortunately, it's currently not possible to unregister just the ground truth. 

Related article:

*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620)

* * *

## **Notes/Information:**

We currently have a feature request for the option to remove or unregister ground truth from Model Monitoring: DOM-55665. If you find this functionality valuable, please [submit a ticket with Domino Support](https://docs.dominodatalab.com/en/latest/user_guide/80328c/contact-technical-support/) so that we can ""add your vote"" to this feature request.

### References/Internal Records:

*   DOM-55665

* * *

 ![domino_logo_black.png](https://tickets.dominodatalab.com/hc/article_attachments/24842499455124)

### Recently viewed articles

*   [Cannot delete dataset files and folders even when there are no invalid characters in the files/folders names](https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names)
*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source)
*   [Launcher User receives 403 error when attempting to access Input or Ouput files](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset)
*   [Rendering of PDF files when viewed with the dataset viewer](https://tickets.dominodatalab.com/hc/en-us/articles/23865126462740-Rendering-of-PDF-files-when-viewed-with-the-dataset-viewer)

### Related articles

*   [Models registered via the MLflow API are not displaying under Models registry page.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSshNUMFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQtDRqYFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzIzMTQ0ODY2MDMyNjYwLU1vZGVscy1yZWdpc3RlcmVkLXZpYS10aGUtTUxmbG93LUFQSS1hcmUtbm90LWRpc3BsYXlpbmctdW5kZXItTW9kZWxzLXJlZ2lzdHJ5LXBhZ2UGOwhUOglyYW5raQY%3D--f7cd48499ca85b2cc3cfbc15cfefb37e0b459f8c)
*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR28MpODToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQtDRqYFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfy9oYy9lbi11cy9hcnRpY2xlcy8xNDYzMjA2MzM2NjgwNC1FcnJvci13aGVuLXRyeS10by11c2UtZG9taW5vLWdldC1DTEktdG8tc3luYy1hbi1leGlzdGluZy1wcm9qZWN0LWluLURvbWluby1vbnRvLWxvY2FsLW1hY2hpbmUGOwhUOglyYW5raQc%3D--c6dc22b99b289dff8a2bfd1612f94423ed72f75d)"
https://tickets.dominodatalab.com/hc/en-us/articles/21113648873492-DMM-file-uploads-fail-with-HTTP-500-errors-using-the-REST-API,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21113648873492-DMM-file-uploads-fail-with-HTTP-500-errors-using-the-REST-API/subscription.html ""Opens a sign-in dialog"")

**Version:** 

Domino 5.6

**Issue:**

When uploading files using the [REST API](https://docs.dominodatalab.com/en/5.6/api_guide/f31cde/model-monitoring-api-reference/#_registerDatasetConfig), users are faced with HTTP 500 error responses within the command line.

**Why does the issue occur:**

As of Domino 5.6 DMM API keys have been deprecated, and new DMM API keys cannot be generated.

**How its manifested in the** **logs:**

**DMM Plier Pod Logs**

2023-10-19T09:05:12.916717139Z 2023-10-19T09:05:12,915 - MainThread - aiohttp.server:403 - ERROR - Error handling request  
2023-10-19T09:05:12.916740906Z Traceback (most recent call last):  
2023-10-19T09:05:12.916745310Z File ""/opt/plier/.venv/lib/python3.11/site-packages/aiohttp/web\_protocol.py"", line 433, in \_handle\_request  
2023-10-19T09:05:12.916759871Z resp = await request\_handler(request)  
2023-10-19T09:05:12.916763476Z ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916766623Z File ""/opt/plier/.venv/lib/python3.11/site-packages/newrelic/common/async\_proxy.py"", line 148, in \_\_next\_\_  
2023-10-19T09:05:12.916770236Z return self.send(None)  
2023-10-19T09:05:12.916773893Z ^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916777329Z File ""/opt/plier/.venv/lib/python3.11/site-packages/newrelic/common/async\_proxy.py"", line 120, in send  
2023-10-19T09:05:12.916780926Z return self.\_\_wrapped\_\_.send(value)  
2023-10-19T09:05:12.916784050Z ^^^^^^^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916787118Z File ""/opt/plier/.venv/lib/python3.11/site-packages/newrelic/hooks/framework\_aiohttp.py"", line 364, in \_coro  
2023-10-19T09:05:12.916790433Z response = await coro  
2023-10-19T09:05:12.916793334Z ^^^^^^^^^^  
2023-10-19T09:05:12.916796374Z File ""/opt/plier/.venv/lib/python3.11/site-packages/aiohttp/web\_app.py"", line 504, in \_handle  
2023-10-19T09:05:12.916799886Z resp = await handler(request)  
2023-10-19T09:05:12.916804360Z ^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916808721Z File ""/opt/plier/.venv/lib/python3.11/site-packages/aiohttp/web\_middlewares.py"", line 117, in impl  
2023-10-19T09:05:12.916812940Z return await handler(request)  
2023-10-19T09:05:12.916817076Z ^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916821553Z File ""/opt/plier/app/external/prometheus\_metrics.py"", line 99, in middleware\_handler  
2023-10-19T09:05:12.916826102Z response = await handler(request)  
2023-10-19T09:05:12.916829940Z ^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916833560Z File ""/opt/plier/app/middlewares.py"", line 137, in enforcer  
2023-10-19T09:05:12.916837371Z return await handler(request)  
2023-10-19T09:05:12.916841351Z ^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916845196Z File ""/opt/plier/app/middlewares.py"", line 171, in enforcer 2023-10-19T09:05   
2023-10-19T09:05:12.916849066Z return await handler(request)  
2023-10-19T09:05:12.916852985Z ^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916857121Z File ""/opt/plier/app/middlewares.py"", line 100, in validator  
2023-10-19T09:05:12.916861063Z response = await handler(request)  
2023-10-19T09:05:12.916865389Z ^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916869622Z File ""<string>"", line 5, in wrapper  
2023-10-19T09:05:12.916874296Z File ""/opt/plier/app/auth/authn.py"", line 53, in wrapper  
2023-10-19T09:05:12.916879487Z await allow.authenticate(request)  
2023-10-19T09:05:12.916883745Z File ""/opt/plier/app/auth/authn.py"", line 30, in authenticate  
2023-10-19T09:05:12.916894556Z user: RequestUser = await get\_user\_method(request)  
2023-10-19T09:05:12.916899204Z ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916904851Z File ""/opt/plier/app/auth/get\_user\_api\_key.py"", line 67, in get\_user\_from\_api\_key\_auth  
2023-10-19T09:05:12.916909376Z if global\_settings.disable\_dmm\_api\_keys:  
2023-10-19T09:05:12.916913668Z ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  
2023-10-19T09:05:12.916918049Z AttributeError: 'NoneType' object has no attribute 'disable\_dmm\_api\_keys'  
2023-10-19T09:05:12.917118029Z 2023-10-19T09:05:12,916 - MainThread - aiohttp.access:206 - INFO - 10.99.12.11 \[19/Oct/2023:09:05:12 +0000\] ""PUT /v2/api/model/31b823ff521C2011b53a0d93/register-dataset/prediction HTTP/1.1"" 500 245 ""-"" ""python-requests/2.26.0""

**Resolution:**

Use Domino API keys to authenticate requests to the Model Monitoring API using the `X-Domino-Api-Key` header. Existing DMM API keys will continue to authenticate Model Monitoring API queries using the `X-Domino-Api-Key` header. 

![domino logo.png](https://tickets.dominodatalab.com/hc/article_attachments/21140631257876)

### Recently viewed articles

*   [Model monitoring: Feature request to un-register ground truth](https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth)
*   [Cannot delete dataset files and folders even when there are no invalid characters in the files/folders names](https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names)
*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source)
*   [Launcher User receives 403 error when attempting to access Input or Ouput files](https://tickets.dominodatalab.com/hc/en-us/articles/12736874866964-Launcher-User-receives-403-error-when-attempting-to-access-Input-or-Ouput-files)
*   [File/Folder with Plus (+) Symbol on Name Results to an Error During Single file Download from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/23143191367060-File-Folder-with-Plus-Symbol-on-Name-Results-to-an-Error-During-Single-file-Download-from-Dataset)

### Related articles

*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR23A3DDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAiuczEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE1MTMxNDAyMzM1NzY0LUFQSS1FeGFtcGxlcy1mb3ItRG9taW5vLXMtNS14LVJFU1QtQVBJBjsIVDoJcmFua2kG--bbf5f8f53903e3481930f098d86df424afe0fd43)
*   [kubectl - An error occurred (AccessDenied) when calling the AssumeRole operation:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxooLYCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAiuczEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk3MjU5OTc2MjU3NDgta3ViZWN0bC1Bbi1lcnJvci1vY2N1cnJlZC1BY2Nlc3NEZW5pZWQtd2hlbi1jYWxsaW5nLXRoZS1Bc3N1bWVSb2xlLW9wZXJhdGlvbgY7CFQ6CXJhbmtpBw%3D%3D--c2b845afeb6f5973ceb03ef3a7930bda0df0c246)
*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSznBsDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAiuczEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzQ0MTEzOTQ2NjcyODQtRW5hYmxpbmctbXVsdGktdGhyZWFkaW5nLWluLU1vZGVsLUFQSXMGOwhUOglyYW5raQg%3D--82652d2d32d44df6d0b3d1be2b2478ed52e537c0)
*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHS2IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAiuczEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTk3Mi1Db25uZWN0LXRvLU1pY3Jvc29mdC1TUUwtRGF0YWJhc2UtdXNpbmctb2ZmaWNpYWwtdG9vbHMGOwhUOglyYW5raQk%3D--1bc4a8421e5b51c24a60dd2f5e915862e9c6d755)
*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEEQsuFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAiuczEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzIzMjg3NDk4MzkyNTk2LS1Oby1zdWNoLWZpbGUtb3ItZGlyZWN0b3J5LUVycm9yLWZvci1maWxlcy1vbi1FeHRlcm5hbC1EYXRhLVZvbHVtZS13aGVuLXN0YXJ0aW5nLUFwcAY7CFQ6CXJhbmtpCg%3D%3D--68ef7d8f900859850d3b4ddac9a6d052505640ca)"
https://tickets.dominodatalab.com/hc/en-us/articles/15131705931284-I-keep-getting-a-415-Error-Unsupported-media-type-when-I-call-Domino-s-REST-API-What-am-I-doing-wrong,"I keep getting ""unsupported media type"" when calling the Domino API. What file format should I be using when calling the Domino API? 

To resolve this specific issue, please try adding this to your API header: 

```
Content-Type': 'application/json'
```

Since your header should also include your API key, the full header section will look like this: 

```
headers = {  'Content-Type': 'application/json',    'X-Domino-Api-Key': '<api key>'}
```

If you are getting this kind of error when calling the Domino API, we highly suggest trying to use Postman to test out your API calls. This is a free Application which can be downloaded here: [https://www.postman.com/](https://www.postman.com/)

Within Postman you can test out different media types without too much overhead. 

Other API examples can be found here: [https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764)"
https://tickets.dominodatalab.com/hc/en-us/articles/23144866032660-Models-registered-via-the-MLflow-API-are-not-displaying-under-Models-registry-page,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23144866032660-Models-registered-via-the-MLflow-API-are-not-displaying-under-Models-registry-page/subscription.html ""Opens a sign-in dialog"")

**Issue:** When you register a model from the Experiments page or using the MLflow API it is not showing under Models page (https://<Your\_Domino\_URL>/model-registry) 

**Domino versions in scope:** 5.5.x - 5.7.x

**Root cause:**  Domino provides a hosted solution and proxies access to MLflow APIs. This feature allows for exporting/registering models via the API or the Experiment page UI. Starting in version 5.6.0  the Experiment management feature is enabled by default.  However in version 5.5.x-5.7.x the required feature flag that allows users to use this feature is disabled by default. This setting is now changed to default ""true"" starting Domino 5.8.0 and up.  

**Solution:** As the model-registry feature is considered ""tech preview"" in versions 5.6.x - 5.7.x to allow users to view and manage their models via the registry an admin will have to enable feature flag ""ShortLived.ModelRegistry"" . This flag can be applied in the context of ""User-Scoped Overrides"" or ""Deployment Global"" and does not require service restart. Starting Domino 5.8.0 this feature default state is changed to ""true"" and is referenced in the Domino Admin guide [here](https://docs.dominodatalab.com/en/5.8/admin_guide/6469bf/feature-flags/) . 

Once the feature is enabled for a specific user or globally for the entire deployment, a new menu ""Models"" item be visible. 

![](https://tickets.dominodatalab.com/hc/article_attachments/23144851094676)

More information regarding registering models can be found in the Domino User guide [here](https://docs.dominodatalab.com/en/5.8/user_guide/3b6ae5/manage-models-with-model-registry/) .

### Recently viewed articles

*   [I keep getting a 415 Error (Unsupported media type) when I call Domino's REST API. What am I doing wrong?](https://tickets.dominodatalab.com/hc/en-us/articles/15131705931284-I-keep-getting-a-415-Error-Unsupported-media-type-when-I-call-Domino-s-REST-API-What-am-I-doing-wrong)
*   [DMM file uploads fail with HTTP 500 errors using the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/21113648873492-DMM-file-uploads-fail-with-HTTP-500-errors-using-the-REST-API)
*   [Model monitoring: Feature request to un-register ground truth](https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth)
*   [Cannot delete dataset files and folders even when there are no invalid characters in the files/folders names](https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names)
*   [""Invalid host"" error when trying to connect MiniO server as a Generic S3 data source](https://tickets.dominodatalab.com/hc/en-us/articles/21780881811604--Invalid-host-error-when-trying-to-connect-MiniO-server-as-a-Generic-S3-data-source)

### Related articles

*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSshNUMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBg%3D%3D--814a9fcdd304dfeb5f8980f6a917be602cdd1a67)
*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT0bhYNFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSshNUMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzIzMTQ1OTU1MTI4NDY4LURvbWluby1Nb25nb0RCLXNlcnZpY2Utc2NhbGUtZG93bi1hbmQtcmVtb3ZlLXJlcGxpY2F0aW9uLW1lbWJlci1mcm9tLVJlcGxpY2EtU2V0BjsIVDoJcmFua2kH--b622c325ee1eac5f17b31cf6db1b7e181f23228d)
*   [“Failed to register. Datasource not found.” error when trying to register ground truth data in Domino Model Monitor (DMM)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSc02hyEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSshNUMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBli9oYy9lbi11cy9hcnRpY2xlcy8yMTM4MjEwNTg5ODEzMi0tRmFpbGVkLXRvLXJlZ2lzdGVyLURhdGFzb3VyY2Utbm90LWZvdW5kLWVycm9yLXdoZW4tdHJ5aW5nLXRvLXJlZ2lzdGVyLWdyb3VuZC10cnV0aC1kYXRhLWluLURvbWluby1Nb2RlbC1Nb25pdG9yLURNTQY7CFQ6CXJhbmtpCA%3D%3D--d8a57e95d32da3a73de6b1ac44642f718d3daf00)
*   [CLI - Error getting site config](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSBhQmPCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSshNUMFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzEyNzA4OTY3OTczMTQwLUNMSS1FcnJvci1nZXR0aW5nLXNpdGUtY29uZmlnBjsIVDoJcmFua2kJ--915d31ce0be347d7998f12c8f947992fc930ed70)"
https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage/subscription.html ""Opens a sign-in dialog"")

In long-running scripts which make calls using the Python wrapper for Domino's REST api, [python-domino](https://docs.dominodatalab.com/en/latest/api_guide/d9cc25/python-wrapper-for-domino-api/), depending on your authentication scenario you might encounter 403 Forbidden errors as a result of the JWT token expiring.  

One way to workaround or prevent such expiration is to re-authenticate via the authenticate() method added in version 1.04 of the binding:

def authenticate(self, api\_key=None, auth\_token=None, domino\_token\_file=None):

For example:

from domino import Domino  
domino = Domino(""integration-test/quick-start"")  
\# do stuff, then sleep long enough to tickle something an “Access token lifespan""  
time.sleep(360)  
domino.authenticate(domino\_token\_file = os.environ\['DOMINO\_TOKEN\_FILE'\])  
\# do more stuff that would hit an expired token and result in  
\# a 403 Forbidden for the wrapper's REST request if it weren't for the re-authentication you just made

### Recently viewed articles

*   [Models registered via the MLflow API are not displaying under Models registry page.](https://tickets.dominodatalab.com/hc/en-us/articles/23144866032660-Models-registered-via-the-MLflow-API-are-not-displaying-under-Models-registry-page)
*   [I keep getting a 415 Error (Unsupported media type) when I call Domino's REST API. What am I doing wrong?](https://tickets.dominodatalab.com/hc/en-us/articles/15131705931284-I-keep-getting-a-415-Error-Unsupported-media-type-when-I-call-Domino-s-REST-API-What-am-I-doing-wrong)
*   [DMM file uploads fail with HTTP 500 errors using the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/21113648873492-DMM-file-uploads-fail-with-HTTP-500-errors-using-the-REST-API)
*   [Model monitoring: Feature request to un-register ground truth](https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth)
*   [Cannot delete dataset files and folders even when there are no invalid characters in the files/folders names](https://tickets.dominodatalab.com/hc/en-us/articles/21407807254420-Cannot-delete-dataset-files-and-folders-even-when-there-are-no-invalid-characters-in-the-files-folders-names)

### Related articles

*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAufKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRlLH0BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDczMS1DYWxsaW5nLURvbWluby1SRVNULUFQSS1mcm9tLVB5dGhvbi1KdXB5dGVyBjsIVDoJcmFua2kG--9db1c84962b67b170e9e489c5e0dc333bdd0430a)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRlLH0BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpBw%3D%3D--9a2975e1bedcd4e858188f664dc0c7599f6f26e7)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRlLH0BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--58e0e955c151f7cdedf4e15e12dce92cbdd379fc)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRlLH0BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpCQ%3D%3D--1902cdeb5f7e56295b197c932373db17a6701389)
*   [What's with this KubernetesClientException error message in my workspace logs?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQFYF0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRlLH0BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDgwNTIyNDQtV2hhdC1zLXdpdGgtdGhpcy1LdWJlcm5ldGVzQ2xpZW50RXhjZXB0aW9uLWVycm9yLW1lc3NhZ2UtaW4tbXktd29ya3NwYWNlLWxvZ3MGOwhUOglyYW5raQo%3D--6891093915a7af99f2d5f25206416bdd880039e5)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/21382105898132--Failed-to-register-Datasource-not-found-error-when-trying-to-register-ground-truth-data-in-Domino-Model-Monitor-DMM,"#### _**Version/Environment (if relevant):**_

This applies to all Domino versions

* * *

## **Issue:**

After [connecting your Domino Data Source to your project](https://docs.dominodatalab.com/en/latest/user_guide/fa5f3a/use-data-sources/): ![example - Data Sources added to project.png](https://tickets.dominodatalab.com/hc/article_attachments/21382112436244)

you see this error when trying to [Register Ground Truth](https://docs.dominodatalab.com/en/latest/user_guide/ce3835/set-up-model-quality-monitoring/#ingest-gtd) data and set up model quality monitoring:

Failed to register  
\[“Datasource not found.”\]

**![error - Failed to register - Datasource not found.png](https://tickets.dominodatalab.com/hc/article_attachments/21382090680596)**

* * *

## **Root Cause:**

When using DMM, you’ll also need to explicitly [connect the data source to DMM](https://docs.dominodatalab.com/en/latest/user_guide/8c7833/connect-a-data-source/) in order to access your training, prediction, and ground truth data in the data source.

* * *

## **Resolution:**

1.  [Connect the data source to DMM](https://docs.dominodatalab.com/en/latest/user_guide/8c7833/connect-a-data-source/)
2.  [Re-register your model](https://docs.dominodatalab.com/en/latest/user_guide/d1f8bb/register-a-model/)
3.  [Re-register your ground truth data](https://docs.dominodatalab.com/en/latest/user_guide/ce3835/set-up-model-quality-monitoring/)

![example - Still need to add Data Source to DMM.png](https://tickets.dominodatalab.com/hc/article_attachments/21382126975892)

* * *"
https://tickets.dominodatalab.com/hc/en-us/sections/23535103518484-Git-Integration,"## Git Integration

*   [User unable to view Git Based Project with 500 Internal Server Error](https://tickets.dominodatalab.com/hc/en-us/articles/23578390863252-User-unable-to-view-Git-Based-Project-with-500-Internal-Server-Error)
*   [Github Enterprise hosted on github.com can confuse users and lead to credential confusion](https://tickets.dominodatalab.com/hc/en-us/articles/21525973346068-Github-Enterprise-hosted-on-github-com-can-confuse-users-and-lead-to-credential-confusion)
*   [""Error: RepoMan Service Memory Pressure"" when connecting git repo to Domino project](https://tickets.dominodatalab.com/hc/en-us/articles/21418409339412--Error-RepoMan-Service-Memory-Pressure-when-connecting-git-repo-to-Domino-project)
*   [Getting 504 Gateway Issue When Adding a New Repo](https://tickets.dominodatalab.com/hc/en-us/articles/20288538170644-Getting-504-Gateway-Issue-When-Adding-a-New-Repo)
*   [Unable to clone or establish an ssh connection with your remote git](https://tickets.dominodatalab.com/hc/en-us/articles/17767701940884-Unable-to-clone-or-establish-an-ssh-connection-with-your-remote-git)
*   [Git pod backup failures](https://tickets.dominodatalab.com/hc/en-us/articles/14395398330260-Git-pod-backup-failures)
*   [Clearing Git Cache](https://tickets.dominodatalab.com/hc/en-us/articles/14144027173012-Clearing-Git-Cache)
*   [Git Repos or projects fail with ""Invalid remote: origin""](https://tickets.dominodatalab.com/hc/en-us/articles/13803619643796-Git-Repos-or-projects-fail-with-Invalid-remote-origin)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [New GIT repo not added to durable workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8351858920340-New-GIT-repo-not-added-to-durable-workspace)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/articles/6194966685076-Error-connecting-to-shared-Git-based-project)
*   [Git submodules in a ""read only"" use-case](https://tickets.dominodatalab.com/hc/en-us/articles/5048270285076-Git-submodules-in-a-read-only-use-case)
*   [""Error: Repoman service disk pressure"" when connecting github repo's to Domino projects](https://tickets.dominodatalab.com/hc/en-us/articles/4842232948244--Error-Repoman-service-disk-pressure-when-connecting-github-repo-s-to-Domino-projects)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/articles/4415428901396-I-m-unable-to-add-a-GIT-repo-to-my-project)
*   [202 Insuffucient\_Scope Error message for GitLab despite following guides](https://tickets.dominodatalab.com/hc/en-us/articles/4410639504788-202-Insuffucient-Scope-Error-message-for-GitLab-despite-following-guides)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)
*   [My Domino account doesn't seem to recognize my Github ssh key](https://tickets.dominodatalab.com/hc/en-us/articles/4407752606484-My-Domino-account-doesn-t-seem-to-recognize-my-Github-ssh-key)
*   [Workspace fails to launch after adding git repo to project](https://tickets.dominodatalab.com/hc/en-us/articles/360058043292-Workspace-fails-to-launch-after-adding-git-repo-to-project)
*   [Critical Error: Object too large, rejecting the pack. Max object size limit is 2,147,483,639 bytes.](https://tickets.dominodatalab.com/hc/en-us/articles/360058040352-Critical-Error-Object-too-large-rejecting-the-pack-Max-object-size-limit-is-2-147-483-639-bytes)"
https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure,"**Issue:** 

Getting MLflowException when executing MLflow commands, 

404 !=200 error code sample: 

\# create a new experiment  
mlflow.set\_experiment(experiment\_name=""Domino Experiment"")

MlflowException Traceback (most recent call last)  
Cell In \[6\], line 1  
\----> 1 mlflow.set\_experiment(""Domino Experiment"")

File /opt/conda/lib/python3.9/site-packages/mlflow/tracking/fluent.py:135, in set\_experiment(experiment\_name, experiment\_id)  
133 client = MlflowClient()  
134 if experiment\_id is None:  
\--> 135 experiment = client.get\_experiment\_by\_name(experiment\_name)  
136 if not experiment:  
137 \_logger.info(  
138 ""Experiment with name '%s' does not exist. Creating a new experiment."",  
139 experiment\_name,  
140 )

File /opt/conda/lib/python3.9/site-packages/mlflow/tracking/client.py:513, in MlflowClient.get\_experiment\_by\_name(self, name)  
482 def get\_experiment\_by\_name(self, name: str) -> Optional\[Experiment\]:  
483 """"""  
484 Retrieve an experiment by experiment name from the backend store  
485  
(...)  
511 Lifecycle\_stage: active  
512 """"""  
\--> 513 return self.\_tracking\_client.get\_experiment\_by\_name(name)

File /opt/conda/lib/python3.9/site-packages/mlflow/tracking/\_tracking\_service/client.py:221, in TrackingServiceClient.get\_experiment\_by\_name(self, name)  
216 def get\_experiment\_by\_name(self, name):  
217 """"""  
218 :param name: The experiment name.  
219 :return: :py:class:\`mlflow.entities.Experiment\`  
220 """"""  
\--> 221 return self.store.get\_experiment\_by\_name(name)

File /opt/conda/lib/python3.9/site-packages/mlflow/store/tracking/rest\_store.py:306, in RestStore.get\_experiment\_by\_name(self, experiment\_name)  
304 try:  
305 req\_body = message\_to\_json(GetExperimentByName(experiment\_name=experiment\_name))  
\--> 306 response\_proto = self.\_call\_endpoint(GetExperimentByName, req\_body)  
307 return Experiment.from\_proto(response\_proto.experiment)  
308 except MlflowException as e:

File /opt/conda/lib/python3.9/site-packages/mlflow/store/tracking/rest\_store.py:59, in RestStore.\_call\_endpoint(self, api, json\_body)  
57 endpoint, method = \_METHOD\_TO\_INFO\[api\]  
58 response\_proto = api.Response()  
\---> 59 return call\_endpoint(self.get\_host\_creds(), endpoint, method, json\_body, response\_proto)

File /opt/conda/lib/python3.9/site-packages/mlflow/utils/rest\_utils.py:210, in call\_endpoint(host\_creds, endpoint, method, json\_body, response\_proto, extra\_headers)  
208 call\_kwargs\[""json""\] = json\_body  
209 response = http\_request(\*\*call\_kwargs)  
\--> 210 response = verify\_rest\_response(response, endpoint)  
211 js\_dict = json.loads(response.text)  
212 parse\_dict(js\_dict=js\_dict, message=response\_proto)

File /opt/conda/lib/python3.9/site-packages/mlflow/utils/rest\_utils.py:148, in verify\_rest\_response(response, endpoint)  
143 else:  
144 base\_msg = (  
145 f""API request to endpoint {endpoint} ""  
146 f""failed with error code {response.status\_code} != 200""  
147 )  
\--> 148 raise MlflowException(  
149 f""{base\_msg}. Response body: '{response.text}'"",  
150 error\_code=get\_error\_code(response.status\_code),  
151 )  
153 # Skip validation for endpoints (e.g. DBFS file-download API) which may return a non-JSON  
154 # response  
155 if endpoint.startswith(\_REST\_API\_PATH\_PREFIX) and not \_can\_parse\_as\_json\_object(response.text):

MlflowException: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 404 != 200. Response body: '<html>  
<head><title>404 Not Found</title></head>  
<body>  
<center><h1>404 Not Found</h1></center>  
<hr><center>openresty</center>  
</body>  
</html>

Error logged in the mlflow-proxy.log

{""level"":""error"",""ts"":1700081549.5937166,""logger"":""http.authentication.providers.jwt"",""msg"":""error"",""error"":""refresh error (\\""[https://domino.customerx.com/auth/realms/DominoRealm/protocol/openid-connect/certs](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)\\""): failed to transform HTTP response for \\""[https://domino.](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)[customerx](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)[.com/auth/realms/DominoRealm/protocol/openid-connect/certs](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)\\"": failed to parse JWK set at \\""[https://domino.](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)[customerx](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)[.com/auth/realms/DominoRealm/protocol/openid-connect/certs](https://domino.evidation.com/auth/realms/DominoRealm/protocol/openid-connect/certs)\\"": failed to unmarshal JWK set: invalid character '<' looking for beginning of value""}

401 !=200 error code sample: 

![01 replicated the 401 error.png](https://tickets.dominodatalab.com/hc/article_attachments/24149693921428)

**Root Cause:** 

The MLflow-proxy unable to rely on DNS resolving the Domino ingress to access keycloak JWKS. This issue is fixed in Domino version 5.8 and onwards. 

**Resolution:** 

For earlier Domino versions the workaround is to update the mlflow deployment configuration to update the `JWKS_URI` value

from 

`[https://keycloak-http/auth/realms/DominoRealm/protocol/openid-connect/certs](http://keycloak-http/auth/realms/DominoRealm/protocol/openid-connect/certs)` to

`[http://keycloak-http/auth/realms/DominoRealm/protocol/openid-connect/certs](http://keycloak-http/auth/realms/DominoRealm/protocol/openid-connect/certs)`

$ kubectl edit mlflow -n <domino-platform> 

![Screenshot 2024-02-28 at 6.29.38 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/24149835498004)

Reference: https://dominodatalab.atlassian.net/browse/DOM-49608

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out,"**Version**

Domino v4.6 - 5x

**Issue**

Sometimes customers submit large ingestions in DMM which hit hardcoded limits and therefore get stuck in a processing and pending state, this can be ground truth, prediction, training data etc.

**Pre-requisite:**

Read: [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244) & [Connecting to Domino Model Monitor (DMM) Redis](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604),  prior to running with the steps below and ensure that you have a running session to the DMM mongoDB shell

**How does this issue manifest in different parts of Domino?**

On the **backend** (kubernetes), in the logs under the **dmm-compute** pod, you will see a retry message like this:

**Command:** Identify dmm pods & retrieve logs

_kubectl get pods -A | grep dmm_

_kubectl logs -n <domino-platform-namespace> <dmm-compute-pod name> --timestamps_

**Log Output:**

```
{""message"":""Will retry in 30000 milliseconds!"",""timestamp"":1693818723237,""log.level"":""ERROR"",""logger.name"":""utils.RetryHelper$"",""thread.name"":""main"",""class.name"":""Main$"",""method.name"":""$anonfun$runSparkCompute$1"",""line.number"":162,""trace.id"":""b7b454ea302d8b77713cc8a535a4db39"",""hostname"":""dmm-compute-69c9d5c6bd-8pppd"",""entity.type"":""SERVICE"",""entity.guid"":""MjgzMTc4N3xBUE18QVBQTElDQVRJT058NzAzMjkzNjc0"",""entity.name"":""Domino Model Monitor - Compute"",""span.id"":""77fe9bfc158ffa33""}
{""message"":""Error encountered: java.net.SocketException: Unexpected end of file from server"",""timestamp"":1693818878245,""log.level"":""ERROR"",""logger.name"":""utils.RetryHelper$"",""thread.name"":""main"",""class.name"":""Main$"",""method.name"":""$anonfun$runSparkCompute$1"",""line.number"":162,""trace.id"":""b7b454ea302d8b77713cc8a535a4db39"",""hostname"":""dmm-compute-69c9d5c6bd-8pppd"",""entity.type"":""SERVICE"",""entity.guid"":""MjgzMTc4N3xBUE18QVBQTElDQVRJT058NzAzMjkzNjc0"",""entity.name"":""Domino Model Monitor - Compute"",""span.id"":""77fe9bfc158ffa33""}
{""message"":""Will retry in 30000 milliseconds!"",""timestamp"":1693818878245,""log.level"":""ERROR"",""logger.name"":""utils.RetryHelper$"",""thread.name"":""main"",""class.name"":""Main$"",""method.name"":""$anonfun$runSparkCompute$1"",""line.number"":162,""trace.id"":""b7b454ea302d8b77713cc8a535a4db39"",""hostname"":""dmm-compute-69c9d5c6bd-8pppd"",""entity.type"":""SERVICE"",""entity.guid"":""MjgzMTc4N3xBUE18QVBQTElDQVRJT058NzAzMjkzNjc0"",""entity.name"":""Domino Model Monitor - Compute"",""span.id"":""77fe9bfc158ffa33""}
{""message"":""Error encountered: java.net.SocketException: Unexpected end of file from server"",""timestamp"":1693819034602,""log.level"":""ERROR"",""logger.name"":""utils.RetryHelper$"",""thread.name"":""main"",""class.name"":""Main$"",""method.name"":""$anonfun$runSparkCompute$1"",""line.number"":162,""trace.id"":""b7b454ea302d8b77713cc8a535a4db39"",""hostname"":""dmm-compute-69c9d5c6bd-8pppd"",""entity.type"":""SERVICE"",""entity.guid"":""MjgzMTc4N3xBUE18QVBQTElDQVRJT058NzAzMjkzNjc0"",""entity.name"":""Domino Model Monitor - Compute"",""span.id"":""77fe9bfc158ffa33""}
```

In addition to this the _dmm-plier_ pods will be in a crashloop restarting state

On the **Domino frontend UI,** when browsing <[https://<your-](https://<your)platform-url/model-monitor> your met with:

_'Something went wrong! It's not you, it's us, If this error continues to happen, Please contact support to help, so we can help out'_

In cases where the UI is accessible, you would see Ingest history in a Pending, Processing state for a long period of time:

![image-20221101-004441.png](https://tickets.dominodatalab.com/hc/article_attachments/19389479489172)

**Steps to resolution**

**1\. Within the [DMM MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244) and the model-monitor db,**

**a) Query the list of pending or processing jobs:**

db.dataset\_jobs.find({""status"": {$in: \[""pending"",""processing""\]}})

For example:

rs0:PRIMARY> db.dataset\_jobs.find({""status"": {$in: \[""pending"",""processing""\]}})  
{ ""\_id"" : ObjectId(""62b0063e14b17f8e615c18234""), ""created\_at"" : 1655703102, ""updated\_at"" : 1655703102, ""model\_id"" : ObjectId(""61b303ee521b272134232""), ""dataset\_id"" : ObjectId(""62b0063e14b17f8e234236""), ""datasource\_id"" : ObjectId(""61700dbc521b2721a74c7dd9""), ""dataset\_name"" : ""something"", ""dataset\_path"" : ""something.csv"", ""job\_type"" : ""prediction"", ""granularity"" : 3600, ""model\_type"" : ""classification"", ""workbench\_model\_version\_id"" : null, ""status"" : ""pending"", ""status\_updates"" : \[ \], ""records"" : null, ""errors"" : \[ \], ""config"" : null, ""variables\_config"" : null }  
{ ""\_id"" : ObjectId(""62b0063e14b17f8e615c18235""), ""created\_at"" : 1655703102, ""updated\_at"" : 1655703102, ""model\_id"" : ObjectId(""61b303ee521b272134232""), ""dataset\_id"" : ObjectId(""62b0063e14b17f8e234236""), ""datasource\_id"" : ObjectId(""61700dbc521b2721a74c7dd9""), ""dataset\_name"" : ""something"", ""dataset\_path"" : ""something.csv"", ""job\_type"" : ""prediction"", ""granularity"" : 3600, ""model\_type"" : ""classification"", ""workbench\_model\_version\_id"" : null, ""status"" : ""pending"", ""status\_updates"" : \[ \], ""records"" : null, ""errors"" : \[ \], ""config"" : null, ""variables\_config"" : null }  
{ ""\_id"" : ObjectId(""62b0063e14b17f8e615c18236""), ""created\_at"" : 1655703102, ""updated\_at"" : 1655703102, ""model\_id"" : ObjectId(""61b303ee521b272134232""), ""dataset\_id"" : ObjectId(""62b0063e14b17f8e234236""), ""datasource\_id"" : ObjectId(""61700dbc521b2721a74c7dd9""), ""dataset\_name"" : ""something"", ""dataset\_path"" : ""something.csv"", ""job\_type"" : ""prediction"", ""granularity"" : 3600, ""model\_type"" : ""classification"", ""workbench\_model\_version\_id"" : null, ""status"" : ""pending"", ""status\_updates"" : \[ \], ""records"" : null, ""errors"" : \[ \], ""config"" : null, ""variables\_config"" : null }  
...

**b) Set the pending or processing jobs to failed:**

db.dataset\_jobs.updateMany({""status"": {$in: \[""pending"",""processing""\]}}, {$set:{""status"":""failed""}})

For example:

rs0:PRIMARY> db.dataset\_jobs.updateMany({""status"": {$in: \[""pending"",""processing""\]}}, {$set:{""status"":""failed""}})  
{ ""acknowledged"" : true, ""matchedCount"" : 5683, ""modifiedCount"" : 5683 }

**c) Verify that there are now no pending or processing jobs:**

db.dataset\_jobs.find({""status"": {$in: \[""pending"",""processing""\]}}).count()

For example:

rs0:PRIMARY> db.dataset\_jobs.find({""status"": {$in: \[""pending"",""processing""\]}}).count()  
0

**2\. Clear the offending keys within [DMM redis](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604)**

 **a) Firstly list the keys**

Keys \*

For example:

127.0.0.1:6379> KEYS \*  
1) ""dmm\_session\_16063753c9a04687b18a75f0c0d19a91""  
2) ""dmm\_session\_034c2996ad3b4f44b46c74026d1d97fe""  
3) ""dmm\_session\_e1063fa9616148dc95ed96f4f4a56747""  
4) ""dmm\_session\_ea9058d67a714dc9ba6beca9d214c839""  
5) ""dmm\_session\_fad2a4243bfc4710ae3ded7a23bd5188""  
6) ""dmm\_session\_ff5d30843381475da1db83a5865ecc2c""  
7) ""dmm\_session\_8d64797456164ab5919e624703624b6c""  
8) ""dmm\_session\_ae28233c4b134e23981eec742b198aa6""  
9) ""dmm\_session\_2e10a55944554ba889f60c1f99bbbc74""  
10) ""dmm\_session\_6e9cd24991c543dcae6d82e3b992c43b""  
11) ""dmm\_session\_76c3ad400ad34d5b8206259c335432a6""  
12) ""dmm\_session\_b2a804d988504c34aee6da13b5c50dcb""  
13) ""pending\_jobs""  
14) ""state-64a296c6a9123774be10817e""  
15) ""dmm\_session\_31de61cc592f4d0995cf1736d1e6795f""  
16) ""dmm\_session\_c3cfb69e18334e869feb00786f757a3e""  
17) ""dmm\_session\_ac598e28dfdb45f99cf3e2aaa6ca34dd""  
18) ""dmm\_session\_6e048efcf45a401a813047a35e75c0a5""  
19) ""dmm\_session\_6eca3ebaac234a51be3f634edaf76410""  
20) ""dmm\_session\_3f5e1cf93c874bbb9dcab6078f9594f8""  
21) ""dmm\_session\_87fc5bc44cac43599f934f738836f897""  
22) ""dmm\_session\_83f082655fdf412aa37395ad1a079256""  
23) ""dmm\_session\_f187f9e0a1684bf9a8a62fd4bc633324""  
24) ""dmm\_session\_247ed346ea7449159f99d58cb0d726c2""  
25) ""state-64a2939d0c4dfd4b408706f0""  
26) ""dmm\_session\_c0defdd8a44b496d8568b3c0fbee9213""

**b) Delete any keys that are outputted above for running jobs by running**

DEL (running-job-id) state-(running-job-id) lock-state-(running-job-id)

For example:

127.0.0.1:6379> DEL state-64a296c6a9123774be10817e state-64a2939d0c4dfd4b408706f0  
(integer) 2

**c) Print the list of running jobs**

LRANGE running\_jobs

For example:

127.0.0.1:6379> LRANGE running\_jobs 0 -1  
1) ""64b4daab474f4c3d9055c04d""  
2) ""64d08a48f2a94796a329e138""  
3) ""64d08a4af2a94796a329e13a""  
4) ""64ec39acd01951902515f987""  
5) ""64ec39b0d01951902515f989""

**d) Remove all running jobs from the list**

LPOP running\_jobs (length of list)

For example:

127.0.0.1:6379> LPOP running\_jobs 5  
1) ""64b4daab474f4c3d9055c04d""  
2) ""64d08a48f2a94796a329e138""  
3) ""64d08a4af2a94796a329e13a""  
4) ""64ec39acd01951902515f987""  
5) ""64ec39b0d01951902515f989""

**e) Verify that there are no running jobs remaining**

LRANGE running\_jobs

For example:

127.0.0.1:6379> LRANGE running\_jobs 0 -1  
(empty array)

**f) Remove all pending jobs**

Print the list of pending jobs

LRANGE pending\_jobs

For example:

127.0.0.1:6379> LRANGE pending\_jobs 0 -1  
1) ""64b4daab474f4c3d9055c04d""  
2) ""64d08a48f2a94796a329e138""  
3) ""64d08a4af2a94796a329e13a""  
4) ""64ec39acd01951902515f987""  
5) ""64ec39b0d01951902515f989""

**g) Remove all pending jobs from the list**

LPOP pending\_jobs (length of list)

For example:

127.0.0.1:6379> LPOP pending\_jobs 5  
1) ""64b4daab474f4c3d9055c04d""  
2) ""64d08a48f2a94796a329e138""  
3) ""64d08a4af2a94796a329e13a""  
4) ""64ec39acd01951902515f987""  
5) ""64ec39b0d01951902515f989""

**h) Verify that there are no pending jobs remaining**

LRANGE pending\_jobs

For example:

127.0.0.1:6379> LRANGE pending\_jobs 0 -1  
(empty array)

**3\. Restart spark (optional for “spark3-worker that are currently running”).**

kubectl rollout restart statefulset spark3-master -n <domino-platform>  
kubectl rollout restart statefulset spark3-worker -n <domino-compute>

**4\. Restart dmm compute & dmm plier**

kubectl rollout restart deployment dmm-compute -n <domino-platform>  
kubectl rollout restart deployment dmm-plier -n <domino-platform>

**Notes:** \*In a few isolated cases the above steps may not work when run in succession and a additional step of temporarily disabling the dmm-plier pods readiness and liveliness probes is required. Please get in touch with support as a first means to getting this done."
https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino versions < 5.6

* * *

## **Issue:**

When trying to configure a model with Domino Model Monitoring (DMM), you run into this error: `Security not valid for any requirement`

* * *

## **Root Cause:**

This error occurs when in the auth token parameter of your Model Monitoring REST API call, either:

*   You haven’t entered the [DMM API key](https://docs.dominodatalab.com/en/5.5/api_guide/d982cc/get-api-key/#_find_your_model_monitoring_api_token) 
*   You’ve incorrectly entered the [Domino Rest API key](https://docs.dominodatalab.com/en/5.5/api_guide/d982cc/get-api-key/#_find_your_domino_rest_api_key) instead of the DMM API key

* * *

## **Resolution:**

1.  [Generate your DMM API key](https://docs.dominodatalab.com/en/5.5/api_guide/d982cc/get-api-key/#_find_your_model_monitoring_api_token): From the navigation pane, click **Model Monitor** > **Settings** > **API Token** > **Copy Token** icon.
2.  Use the **DMM API key** to authenticate requests to the Model Monitoring API using the `**X-DMM-API-KEY**` header. 

![Generate DMM API Token.png](https://tickets.dominodatalab.com/hc/article_attachments/19343712465684)

* * *

## **Notes/Information:**

DMM API keys have been deprecated in Domino 5.6 where you can no longer generate new DMM API keys. Instead, in Domino 5.6 and newer, use [Domino API keys](https://docs.dominodatalab.com/en/5.6/user_guide/661f8e/get-api-key/) to authenticate requests to the Model Monitoring API using the `X-Domino-Api-Key` header.

![versions 5-6 and newer use Domino API keys to auth requests to Model Monitoring API.png](https://tickets.dominodatalab.com/hc/article_attachments/19343666707348)

### References/Internal Records:

*   DOM-49309, ZD-80446

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure)
*   [“Failed to register. Datasource not found.” error when trying to register ground truth data in Domino Model Monitor (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/21382105898132--Failed-to-register-Datasource-not-found-error-when-trying-to-register-ground-truth-data-in-Domino-Model-Monitor-DMM)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage)
*   [Models registered via the MLflow API are not displaying under Models registry page.](https://tickets.dominodatalab.com/hc/en-us/articles/23144866032660-Models-registered-via-the-MLflow-API-are-not-displaying-under-Models-registry-page)

### Related articles

*   [After self-upgrading Domino, nucleus backup cronjobs fail with a ""secrets is forbidden"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT1VE%2FCCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4M2XEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy8xMjkyOTE4MjUyODc4OC1BZnRlci1zZWxmLXVwZ3JhZGluZy1Eb21pbm8tbnVjbGV1cy1iYWNrdXAtY3JvbmpvYnMtZmFpbC13aXRoLWEtc2VjcmV0cy1pcy1mb3JiaWRkZW4tZXJyb3IGOwhUOglyYW5raQY%3D--0f2a21c8f082bf603cf904913f085585e2bd0c02)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4M2XEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQc%3D--cc78e6f0e0deb9fbe08abfa75289bd7954b972f6)
*   [Image Cache Agent Continually restarts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTV%2FgDPDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4M2XEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE3MzgxNzQ5MzQ3NzMyLUltYWdlLUNhY2hlLUFnZW50LUNvbnRpbnVhbGx5LXJlc3RhcnRzBjsIVDoJcmFua2kI--51b4f9b33f8a5cb6bf6a27c02c9eefd1b14da1d0)
*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZeeAmDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4M2XEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBlC9oYy9lbi11cy9hcnRpY2xlcy8xNDQ2MDYyNjAwMDI3Ni1TcGFyay1vbi1Eb21pbm8ta2xpc3QtTm8tY3JlZGVudGlhbHMtY2FjaGUtZm91bmQtZXJyb3Itd2hlbi10cnlpbmctdG8tdXNlLUtlcmJlcm9zLXRvLWF1dGhlbnRpY2F0ZS1pbnRvLVNRTC1TZXJ2ZXIGOwhUOglyYW5raQk%3D--ef0d3de27c7a00a88c1369a3c4e89b23429d587a)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509225985556-Distributed-Compute,"## Distributed Compute

*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server)
*   [Troubleshooting a disabled Dask/Spark web UI](https://tickets.dominodatalab.com/hc/en-us/articles/12650946650004-Troubleshooting-a-disabled-Dask-Spark-web-UI)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/articles/9870437581972-Workspaces-with-Spark-clusters-suddenly-fail-during-assigning-no-endpoints-available-for-service-distributed-compute-operator-webhook-server)
*   [After starting a Spark on-demand cluster new executions are stuck in ""Assigning""](https://tickets.dominodatalab.com/hc/en-us/articles/8246411880212-After-starting-a-Spark-on-demand-cluster-new-executions-are-stuck-in-Assigning)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/7769952170004-Why-isn-t-the-Spark-UI-visible-in-my-workspace)
*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/articles/4710783957396-No-Output-Received-From-an-On-Demand-Spark-Job-Running-on-Large-HW-Tiers)
*   [Errors when setting up Spark: ""Java gateway process exited before sending its port number""](https://tickets.dominodatalab.com/hc/en-us/articles/4413249042324-Errors-when-setting-up-Spark-Java-gateway-process-exited-before-sending-its-port-number)"
https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

In a Domino Spark cluster, you're using Kerberos to authenticate to the SQL server using PySpark. When adding the Kerberos to Domino spark cluster, you get this Kerberos authentication error:

Caused by: GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos tgt)     
WARN TaskSetManager: Lost task 0.1 in stage 0.0 (TID 1) (12.34.567.89 executor 0): com.microsoft.sqlserver.jdbc.SQLServerException: Integrated authentication failed. ClientConnectionId:1234d56a-78c9-1234-beda-eedc1234b567

You've set the [Spark configuration](https://docs.dominodatalab.com/en/latest/user_guide/f11f6a/work-with-your-cluster/#_spark_executors_versus_workers) on the code level as well as on the Spark Web UI's Project Integration page. You can successfully run `kinit` in the Spark driver (workspace) and see the token via `klist`. So you're able to validate `klist` in the workspace logs.

I have no name!@spark-123456cf7c89123b456fa789-spark-worker-2:/tmp$ klist  
Ticket cache: FILE:/tmp/krb5cc\_12345  
Default principal: sys-data@AD.COMPANY.COM

Valid starting     Expires            Service principal  
03/29/23 15:28:44  03/29/23 23:28:44  krbtgt/AD.COMPANY.COM@AD.COMPANY.COM  
        renew until 04/03/23 15:28:44

However, you're unable to view the `klist` on the executor Spark workers pods. When you run `klist` in the executor and/or the workspace, it'll always look for the default location e.g. `/tmp/krb5cc_12345` and you run into the `klist: No credentials cache found` error:

I have no name!@spark-1234567f1c23456b789faed1-spark-worker-0:/opt/bitnami/spark$ klist  
klist: No credentials cache found (filename: /tmp/krb5cc\_12345)

* * *

## **Root Cause:**

1.  When setting environment variables, `spark.executorEnv.ENVNAME` will not work. You need to use `ENV` in the cluster environment to set them.
2.  When setting multiple `extraJavaOptions` parameters, having one line per `extraJavaOptions` will only set the last parameter.

* * *

## **Resolution:**

### Dockerfile Instructions 

Set environment variables within the executor cluster environment's Dockerfile using:

*   `ENV KRB5CCNAME=FILE:/mnt/data/workspace_name/krb5cc_12345`
*   `ENV KRB5_CONFIG=/mnt/data/workspace_name/krb5.conf`
*   This successfully changes the default `ccache` directory to a shared directory (that’s accessible by both driver and executor) so that executors can read the `ccache` previously generated from the driver during pre-run. 
*   Trying to change it within the `spark.executorEnv.KRB5CCNAME` option or anywhere else will not work. When you try to validate by logging into the executor and performing `klist` in the executor and/or the workspace, it'll always look for the default location `/tmp/krb5cc_12345`).
*   Use `ENV KRB5_CONFIG=/mnt/data/workspace_name/krb5.conf`  instead of `ARG KRB5_CONFIG=/mnt/data/workspace_name/krb5.conf`

### Pre Run Script

*   You need to run `kinit` In the Spark driver's environment’s Pre Run script to get the token and create the cached token on the dataset so that executors can rely on it for authenticating. 

### `extraJavaOptions` parameters

Under **Project Settings** > **Integrations** > **Apache Spark mode** > **Spark Configuration Options**, when setting multiple `extraJavaOptions`, having one line per parameter will not work:

spark\_conf.set(""spark.executor.extraJavaOptions"",""-Djavax.security.auth.useSubjectCredsOnly=false"")  
spark\_conf.set(""spark.executor.extraJavaOptions"",""-Djava.security.auth.login.config=/mnt/data/workspace\_name/SQLJDBCDriver2.conf"")  
spark\_conf.set(""spark.executor.extraJavaOptions"",""-Djava.security.krb5.conf=/mnt/data/workspace\_name/krb5.conf"")  
spark\_conf.set(""spark.executor.extraJavaOptions"",""-Dsun.security.krb5.debug=true"")

![Project_settings_-_Integrations_-_Apache_Spark_mode.png](https://tickets.dominodatalab.com/hc/article_attachments/14460667058196)

This is because during runtime, only the one last option (`-Dsun.security.krb5.debug=true` in the above example) will be seen in the Spark WebUI environment variables under **Spark Web UI** > **Spark Properties,** which highlights that it was overwriting the previous three options.

![Spark_Web_UI_-_Env_-_Spark_Properties_-_only_last_param.png](https://tickets.dominodatalab.com/hc/article_attachments/14460744873236)

You need to change runtime code to concatenate multiple `spark.driver.extraJavaOptions` parameters into one line with each additional option separated by spaces:

spark\_conf.set(""spark.executor.extraJavaOptions"",""-Djavax.security.auth.useSubjectCredsOnly=false -Djava.security.auth.login.config=/mnt/data/workspace\_name/SQLJDBCDriver2.conf -Djava.security.krb5.conf=/mnt/data/workspace\_name/krb5.conf -Dsun.security.krb5.debug=true"")

![Spark_Web_UI_-_Environment_-_Spark_Properties_-_all_params.png](https://tickets.dominodatalab.com/hc/article_attachments/14460806084372)

* * *

## **Notes/Information:**

Additional resources:

*   [Apache Spark 3.0](https://spark.apache.org/docs/3.0.0-preview/security.html#using-a-ticket-cache): By setting `spark.kerberos.renewal.credentials` to `ccache` in Spark’s configuration, the local Kerberos ticket cache will be used for authentication. Spark will keep the ticket renewed during its renewable life, but after it expires a new ticket needs to be acquired (e.g. by running `kinit`). It’s up to the user to maintain an updated ticket cache that Spark can use. The location of the ticket cache can be customized by setting the `KRB5CCNAME` environment variable.
*   [Spark on Domino > Configure Prerequisites](https://docs.dominodatalab.com/en/latest/user_guide/1962f3/configure-prerequisites/): You must configure the PySpark compute environments for workspaces and/or jobs that will connect to your cluster.
*   [Domino supports Kerberos Authentication](https://docs.dominodatalab.com/en/latest/user_guide/ed5f5a/kerberos-authentication/) including **Keytab file based authentication**, allowing users to authenticate as themselves when connecting to Kerberos-secured systems. Users can enable Kerberos authentication at the project-level or user-level by uploading a Kerberos keytab and principal into Domino. After set up, Runs started by Kerberos-enabled users or in Kerberos-enabled projects in Domino will automatically run kinit and retrieve the ticket to be able to authenticate.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Error “Security not valid for any requirement” when trying to configure a model for Domino Model Monitoring (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure)
*   [“Failed to register. Datasource not found.” error when trying to register ground truth data in Domino Model Monitor (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/21382105898132--Failed-to-register-Datasource-not-found-error-when-trying-to-register-ground-truth-data-in-Domino-Model-Monitor-DMM)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage)

### Related articles

*   [Can't Start Workspace - kinit: Preauthentication failed while getting initial credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNuhKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTZeeAmDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTQ1MS1DYW4tdC1TdGFydC1Xb3Jrc3BhY2Uta2luaXQtUHJlYXV0aGVudGljYXRpb24tZmFpbGVkLXdoaWxlLWdldHRpbmctaW5pdGlhbC1jcmVkZW50aWFscwY7CFQ6CXJhbmtpBg%3D%3D--1ce40f2edd324b8429ede562798ba84f66bfa6b3)
*   [Model APIs: “TypeError: build\_error\_response() missing 1 required positional argument: 'model\_time\_ms'” error when sending a POST request](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQd%2BwwTDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTZeeAmDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoi9oYy9lbi11cy9hcnRpY2xlcy8xNDM3NTQ3MzMyMzI4NC1Nb2RlbC1BUElzLVR5cGVFcnJvci1idWlsZC1lcnJvci1yZXNwb25zZS1taXNzaW5nLTEtcmVxdWlyZWQtcG9zaXRpb25hbC1hcmd1bWVudC1tb2RlbC10aW1lLW1zLWVycm9yLXdoZW4tc2VuZGluZy1hLVBPU1QtcmVxdWVzdAY7CFQ6CXJhbmtpBw%3D%3D--59621a16e7877c61b99d2ee718931efe69b9db87)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTZeeAmDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpCA%3D%3D--b70968028e9b02088e8c10bda2e0bd749d20ba33)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTZeeAmDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kJ--a19817c28ad511257bbadcc7e455f610d1fbbb1f)
*   [Why isn't the Spark UI visible in my workspace?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQwPRURBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTZeeAmDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzc3Njk5NTIxNzAwMDQtV2h5LWlzbi10LXRoZS1TcGFyay1VSS12aXNpYmxlLWluLW15LXdvcmtzcGFjZQY7CFQ6CXJhbmtpCg%3D%3D--ec0b362625388003aadf8c85da787685f96985fb)"
https://tickets.dominodatalab.com/hc/en-us/articles/9870437581972-Workspaces-with-Spark-clusters-suddenly-fail-during-assigning-no-endpoints-available-for-service-distributed-compute-operator-webhook-server,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9870437581972-Workspaces-with-Spark-clusters-suddenly-fail-during-assigning-no-endpoints-available-for-service-distributed-compute-operator-webhook-server/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

Workspaces with Spark clusters attached are no longer launching, they don't progress past assigning or pending.

Logs indicate a problem with the distributed-compute-operator pod

2022-04-22 08:13:53 : Failure in processing event on attempt 1 out of 1
domino.server.dispatcher.infrastructure.KubernetesConfigurationApplicationFailed: Applying Kubernetes configuration failed with status code 1:  
Error from server (InternalError): error when creating ""/opt/domino-nucleus/tmp/execution-configurations/spark-6262c1ea6711b8302f69a719.yaml"":  
Internal error occurred: failed calling webhook ""[msparkcluster.kb.io](http://msparkcluster.kb.io/)"":   
Post ""[https://distributed-compute-operator-webhook-server.domino-compute.svc:443/mutate-distributed-compute-dominodatalab-com-v1alpha1-sparkcluster?timeout=10s](https://distributed-compute-operator-webhook-server.domino-compute.svc/mutate-distributed-compute-dominodatalab-com-v1alpha1-sparkcluster?timeout=10s)"":  
no endpoints available for service ""distributed-compute-operator-webhook-server""

* * *

## **Root Cause:**

The general symptom could occur for various reasons (including node capacity / autoscaling issues), but if you see the above error then you might have too little memory defined for a specific component.

If ""kubectl get po -A | grep dist"" reveals 0/1 containers in the pod running and a high number for Restart Count, like below,

`domino-compute distributed-compute-operator-c7d6b6f8f-sg554 0/1 Running 3909 21`

then describe this pod to determine the memory limits and Last State = Terminated.  If limit is still set to the default 100Mi then these will need to be increased if you are using your clusters a moderate amount.

![Screen_Shot_2022-10-05_at_3.10.47_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9870331291924)

* * *

## **Resolution:**

You can patch the deploy object to increase the limits to 500Mi:

`kubectl patch deployment -n domino-compute distributed-compute-operator -p \`

`'{""spec"":{""template"":{""spec"":{""containers"":[{""name"":""manager"", ""resources"":{""limits"":{""cpu"":""150m"",""memory"":""500Mi""}}}]}}}}'`

Then delete the distributed-compute-operator-nnnn pod so it will pickup the new memory limits.

* * *

## **Notes/Information:**

This type of problem has been reported in late 4.x thru current versions of of this post which is 5.2.1.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server)
*   [Error “Security not valid for any requirement” when trying to configure a model for Domino Model Monitoring (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure)
*   [“Failed to register. Datasource not found.” error when trying to register ground truth data in Domino Model Monitor (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/21382105898132--Failed-to-register-Datasource-not-found-error-when-trying-to-register-ground-truth-data-in-Domino-Model-Monitor-DMM)

### Related articles

*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTyrmMEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQE7SP6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzQ0MTY4OTg3OTAwMzYtQVdTLVBvbGljeS10by1jbGVhbnVwLXVuYXR0YWNoZWQtdm9sdW1lcy1kZWxldGVkLXJlc3RhcnRhYmxlLXdvcmtzcGFjZXMGOwhUOglyYW5raQY%3D--0a39e0c93f9f29c1d9a2bbfb648204642b453994)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQE7SP6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--dff0dc77bc7a03e85c88667f255a741911f20b23)
*   [Diagnosing a stuck queue](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMsRi8YaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQE7SP6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzExNTAwMDE1MjUyMy1EaWFnbm9zaW5nLWEtc3R1Y2stcXVldWUGOwhUOglyYW5raQg%3D--a342b715561778e339e0faa25927b06b2d5f0301)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQE7SP6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kJ--ac03c8a1a6303b9495b205b84a51d24b28eeefde)
*   [Troubleshooting On-Demand Ray Clusters in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmNINhBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQE7SP6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzU5MTYzNzEyMzIyNzYtVHJvdWJsZXNob290aW5nLU9uLURlbWFuZC1SYXktQ2x1c3RlcnMtaW4tRG9taW5vBjsIVDoJcmFua2kK--a1a1b86fcc8d6a2caf2f0a7742fc8c6f89d4d5ca)"
https://tickets.dominodatalab.com/hc/en-us/articles/12650946650004-Troubleshooting-a-disabled-Dask-Spark-web-UI,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12650946650004-Troubleshooting-a-disabled-Dask-Spark-web-UI/subscription.html ""Opens a sign-in dialog"")

If your Dask/Spark clusters are up and running and you can get your clusters to run code but are still having trouble getting the web UI to work, there are a few other settings to check. Please note that if you have not confirmed the clusters are running, you'll want to start with some general troubleshooting tips here: [Troubleshooting Dask](https://tickets.dominodatalab.com/hc/en-us/articles/5917059458836-Troubleshooting-On-Demand-Dask-Clusters-in-Domino)

The next steps will require admin access on your Domino deployment and/or backend access to kubectl so please engage with your local Domino admin as needed. 

The first you'll want to navigate to Admin > Advanced > Central Config and verify this setting:

_com.cerebro.domino.computegrid.computeCluster.dask.disableIstio_

If that's not present or is set to _false_ please set it to _true_ and restart services to get the change to take effect. 

Next, please re-test your workspace to see if the Dask/Spark web UI is now showing. 

If that does not fix the issue, please create a ticket with Domino Support.

Before you create the ticket, please login to the backend and run the following scan from the central host: 

kubectl get mutations -A

Include any output in your support ticket. If the above command did not return any results, please include that information in your ticket as well. 

### Recently viewed articles

*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/articles/9870437581972-Workspaces-with-Spark-clusters-suddenly-fail-during-assigning-no-endpoints-available-for-service-distributed-compute-operator-webhook-server)
*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server)
*   [Error “Security not valid for any requirement” when trying to configure a model for Domino Model Monitoring (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure)

### Related articles

*   [Spark Web UI tab grayed and no Spark Cluster indicator](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSnEGCmEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfLoeBCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzE5NDA2MjczOTQ3NDEyLVNwYXJrLVdlYi1VSS10YWItZ3JheWVkLWFuZC1uby1TcGFyay1DbHVzdGVyLWluZGljYXRvcgY7CFQ6CXJhbmtpBg%3D%3D--f47e152bf709d86476b6f26b5b1e6c24248aa4a3)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfLoeBCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kH--49e0c00d1ee16c620973bc19cc8311e5ad489e7c)
*   [Troubleshooting On-Demand Dask Clusters in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQnOqxhBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfLoeBCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzU5MTcwNTk0NTg4MzYtVHJvdWJsZXNob290aW5nLU9uLURlbWFuZC1EYXNrLUNsdXN0ZXJzLWluLURvbWlubwY7CFQ6CXJhbmtpCA%3D%3D--290e2909166c75a76fc193d7501c9b819f6f8f84)
*   [Ray Client Connection Timeout](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQXyiLICDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfLoeBCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzk2NTU2NzAxNTEwNjAtUmF5LUNsaWVudC1Db25uZWN0aW9uLVRpbWVvdXQGOwhUOglyYW5raQk%3D--277640c4523e49251c738f0a3e4e58be688d69ba)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfLoeBCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQo%3D--e881f0275ce2ec0cc2e3412fabc786bec74cec65)"
https://tickets.dominodatalab.com/hc/en-us/articles/8246411880212-After-starting-a-Spark-on-demand-cluster-new-executions-are-stuck-in-Assigning,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8246411880212-After-starting-a-Spark-on-demand-cluster-new-executions-are-stuck-in-Assigning/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All.

## **Issue:**

After starting a spark cluster you might run in to a situation where subsequent executions will not start.  Those executions will never leave the Assigning stage. In versions past 5.1.0 you will see the following warning below the Stage list...

**User is over quota; limit is X**; **current execution is number X in queue**.

Note: In domino versions 4.x, 5.0.x, 5.1.0 there is no user facing warning.

## **Root Cause:**

There is a per user limitation on the number of executions that can be run simultaneously.  This value has a default value of 25 which most users will never hit. However spark clusters also count towards this execution quota.  If you start a spark cluster with a maximum number of workers set to the 'cluster size limit' you will not be able to start any subsequent executions.

A workspace or job with an on demand spark cluster behaves as following...

*   one execution slot will be consumed for each Spark executor which includes autoscaled clusters
*   one for the Spark master
*   one for the workspace or job

Apart from the lack of warning is some Domino versions this is behavior as expected.

## **Resolution:**

There are two ways to work around this issue:

1) Decrease the number of workers in the on-demand spark cluster.

2) An administrator can increase the Central Config value of the setting...

**_com.cerebro.domino.computegrid.userExecutionsQuota.maximumExecutionsPerUser_**

## **Notes/Information:**

There are several feature requests in progress with engineering around this...

1) Add messaging to the spark clusters setup UI to notify users of this outcome; [DOM-39661](https://dominodatalab.atlassian.net/browse/DOM-39661?atlOrigin=eyJpIjoiMjU3YjkzZDk5NjJkNGRjNDk1Y2ZjMzdmOThiMzM4MzkiLCJwIjoiemVuZGVzay1qaXJhIn0)

2) Notify users that they are over the executions quota; [DOM-17370](https://dominodatalab.atlassian.net/browse/DOM-17370)

3) Document this behaviour in public documentation set; [DOCS-1423](https://dominodatalab.atlassian.net/browse/DOCS-1423)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Troubleshooting a disabled Dask/Spark web UI](https://tickets.dominodatalab.com/hc/en-us/articles/12650946650004-Troubleshooting-a-disabled-Dask-Spark-web-UI)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/articles/9870437581972-Workspaces-with-Spark-clusters-suddenly-fail-during-assigning-no-endpoints-available-for-service-distributed-compute-operator-webhook-server)
*   [Spark on Domino: ""klist: No credentials cache found"" error when trying to use Kerberos to authenticate into SQL Server](https://tickets.dominodatalab.com/hc/en-us/articles/14460626000276-Spark-on-Domino-klist-No-credentials-cache-found-error-when-trying-to-use-Kerberos-to-authenticate-into-SQL-Server)
*   [Error “Security not valid for any requirement” when trying to configure a model for Domino Model Monitoring (DMM)](https://tickets.dominodatalab.com/hc/en-us/articles/19343691793556-Error-Security-not-valid-for-any-requirement-when-trying-to-configure-a-model-for-Domino-Model-Monitoring-DMM)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)

### Related articles

*   [Troubleshooting On-Demand Dask Clusters in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQnOqxhBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRncwSABzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzU5MTcwNTk0NTg4MzYtVHJvdWJsZXNob290aW5nLU9uLURlbWFuZC1EYXNrLUNsdXN0ZXJzLWluLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--7bf0297bbad9e86bcefeb10c382b7fb624bd9f23)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRncwSABzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpBw%3D%3D--c0e49aa9d491e95b35d63953ba724ae108d1b677)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRncwSABzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kI--0b9c3d9d45a595623fa9757dc2a72d7228f88885)
*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRCZoTGCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRncwSABzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzk2NDg3MTc4NDA5MTYtR2V0LW5vdGlmaWNhdGlvbi13aGVuLW90aGVycy1hZGQtY29sbGFib3JhdG9ycy10by1wcm9qZWN0cy15b3Utb3duBjsIVDoJcmFua2kJ--7f811a74b00e53960ddf3de226288756fd9eeb08)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRncwSABzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kK--19a45b658fad25e1b6f08d3ae3e24bd8b5ae205c)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203463-FAQ,"[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360000203463-FAQ/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360000203463-FAQ/subscription.html?subscribe_to_grandchildren=true)"
https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Not version specific

## **Issue:**

When trying to start an execution in your project, the hardware tier pulldown menu will present you with all the options that are available to you.  You may be expecting to see a specific tier that you do not see, however.![Screenshot 2023-12-14 at 11.30.48 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21883478832276)

## **Root Cause:**

The hardware tiers you are looking for may have restricted access.  Your local Domino admin team will often restrict access to larger GPU/CPU tiers in order to contain costs on those tiers.  There is nothing to stop all tiers being managed in this way though.

## **Resolution:**

If you don't see hardware tiers you are looking for, reach out to your local admin team for access to those tiers.  Access to hardware tiers in Domino is managed at the organization level.  So you will likely just need to be added to the appropriate Domino org. with access to that hardware tier by your local admin team.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQKN5rXDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ1iyjnEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE2MzE5MTY4MDU1ODI4LVdoYXQtb3B0aW9ucy1kby1JLWhhdmUtZm9yLWFkZGluZy1jb2RlLXBhY2thZ2VzLXRvLW15LWV4ZWN1dGlvbnMGOwhUOglyYW5raQY%3D--832b2928b5f568d482512656c9f18c79c9cd42be)
*   [Workspace in Git Based Project Fails to Start](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSeHdlnBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ1iyjnEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzU5NDM1ODIzNjcyNTItV29ya3NwYWNlLWluLUdpdC1CYXNlZC1Qcm9qZWN0LUZhaWxzLXRvLVN0YXJ0BjsIVDoJcmFua2kH--cb4ca71689f6a17a21662bac0a117c847324094a)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ1iyjnEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kI--a48cfa48f7bc1f16de80c433d8276be360cf9116)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRoXHWYEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ1iyjnEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzIxNTQ1NTI0OTQ3MDkyLUhvdy10by11cGRhdGUtVlNDb2RlLXRvLWEtbmV3ZXItdmVyc2lvbi1pbi1Eb21pbm8tNS04LW9yLWhpZ2hlcgY7CFQ6CXJhbmtpCQ%3D%3D--c0c171c2cfa438d76a7d08d1ad5ce0d29a7d8190)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ1iyjnEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpCg%3D%3D--fb2808c9d8a335b1b07e2db8b2bc93ef4f4681cb)"
https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions,"#### _**Version:**_

All

## **Issue:**

If you want to add additional data science packages to your experiment there are several ways to achieve this in Domino although its not necessarily intuitive which of the options best suit your use case. 

## **Notes:**

There are 4 typical ways to add new packages in Domino.

### Use a Compute Environment (CE) via Docker

This option is best if you need to create a working environment that you will be using for some time or want to use in multiple projects or share with others.  The CE persists over time and can be updated and shared as needed making this the most efficient path for longer term usage. 

Creating a Compute Environment requires some basic understanding of how to use Docker and the Domino build features.  Docker builds can be time consuming so this is not the best way to play or experiment with new packages. Additionally some admins block this feature for users to maintain some control over CE sprawl.

There is no way to understand if an existing Compute Environment (CE) you may choose to use has any particular package installed in it, unless the creator chose to document it in the description of the CE.  All environments are based on Linux and by default Ubuntu Linux.  Other operating systems are not possible, although you can use other Linux based images.

### Use a Terminal in Your IDE Workspace

If you simply need to quickly test or experiment with a particular package, then installing the package using the terminal of your IDE, Rstudio, Jupyter, etc, is a faster path.  Most IDEs have terminals of some kind, which can be used for manual installs with pip, apt, conda, bioconda, R, etc.

These installs will not persist through stops and starts of your workspace, only the /mnt partition is persisted across restarts, so you will need to reinstall each time you start your workspace.

### Use [requirements.txt](https://docs.dominodatalab.com/en/latest/user_guide/9c4f82/use-requirements-txt--python-only-/) for Python Packages

Just for python package installs and makes sense if you are not comfortable with the environment subsystem in Domino & Docker or just need a quick change and don't want to wait for a build of a CE to complete.

For a [Domino File Sytem (DFS) based project](https://docs.dominodatalab.com/en/latest/user_guide/ca786d/domino-file-system-projects/), the requirements.txt file should just be in the root directory of your projects files, this is the [/mnt directory](https://docs.dominodatalab.com/en/latest/user_guide/de4abb/domino-file-system/) inside your execution.  For a [Git Based project](https://docs.dominodatalab.com/en/latest/user_guide/910370/git-based-projects/), the requirements.txt file should be in the Code directory, see this [article](https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects) for more information.

Has the advantage of persisting the install across executions.  Disadvantages of this method are slowdown of startup while packages are installed and additionally packages may update versions automatically if you do not pin to a specific version in the requirements.txt file.

### Use a Script from the Compute Environment on Startup of the Execution

This option is for the slightly more advanced users.  It requires an understanding of linux shell scripting.  The use cases that make sense for this option are mostly around startup order. 

If for example the package you need to install is only available on a shared drive at your company, then that shared drive would need to be mounted to your execution as it starts.  Once the shared drive was mounted you could then install your package from a script in the scripting section of the Compute Environment definition. 

Another example might be the need for custom R environment variables that are based on the userid of the user starting the execution.  These could be defined prior to the package install via this scripting method.

Basically anything non standard that needs to occur prior to your package being installed can be achieved with startup scripts as they provide a great deal of flexibility.  The use cases here are somewhat narrow and for most users the use of these scripts does not add much value,  as the other 3 methods described above will achieve the same outcome with simpler methodology.

### A Word on Installers

To wrap up, just a note on installers.  Domino executions are Linux based.  Any installer that works in Linux, _apt, pip, R, conda, bioconda, etc_, should work.  Which installer you use is purely your preference or tied to the method recommended by the package authors.  You may find some installers may need to be installed, but the more common installers are already installed in our [default environments](https://docs.dominodatalab.com/en/5.5/user_guide/0d73c6/domino-standard-environments/).  Our default environments are based on Ubuntu Linux, so _apt_ is the installer that is used for the OS packages if your code package requires any additional OS package updates. 

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fcategories%2F360000081183&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/13791329664532-Can-you-help-me-collect-Kubernetes-logs,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13791329664532-Can-you-help-me-collect-Kubernetes-logs/subscription.html ""Opens a sign-in dialog"")

## Issue

You have asked me for logs from the backend, this is time-consuming. Can you make it easier?

I need to gather nucleus logs and heap dump - I need instructions for this.

I need the Domino logs to troubleshoot internally.

## Resolution

Please find two scripts attached which collect and gather a number of logs and details, the gatherLogs.sh script will run the heap dump too. Place them in the same folder on a box that can run kubectl commands.

There will be a tar.gz file for logs and a folder in /tmp for heap dumps generated from these scripts. Please review or provide them via tickets to Domino for further review.

If the heap dump/java logs are not needed, comment out the last line of gatherLogs.sh to skip this step.

**Warning:**

The files generated by this script contain sensitive information, including customer data and infrastructure secrets. They must be handled accordingly.

Some of the pods may not be present if you have an older environment however these should be platform agnostic for Domino 4 and later.

### Recently viewed articles

*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions)
*   [Why can't I see the hardware tier I was expecting to see in my project?](https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project)

### Related articles

*   [PATH environment cannot be set for a run](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCA%2BozsYaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BTguLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzExNTAwNDU4MTkwMy1QQVRILWVudmlyb25tZW50LWNhbm5vdC1iZS1zZXQtZm9yLWEtcnVuBjsIVDoJcmFua2kG--4fdc0b0d166356f27556bffca14b31be83a4123d)
*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJREupxKDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BTguLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE1NzEzNjE5ODIxNzE2LUNhbGljby1wb2RzLXVuaGVhbHRoeQY7CFQ6CXJhbmtpBw%3D%3D--b4375de40baca813dd0f77d226ec3c720972b7e0)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BTguLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kI--c20f07366da8cb3be055cdbf08f89b6fb2e3f21d)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BTguLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kJ--1827ab237d9041b634e22388a7e3e4fb79258230)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2BTguLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQo%3D--758bd3ec7db1f1519057d92d7ab3f7559677f2ae)"
https://tickets.dominodatalab.com/hc/en-us/articles/12738102426004-How-large-is-my-Compute-Environment-image,"#### _**Version:**_

All

## **Issue:**

Compute Environments can vary in size, anywhere from a few gigabytes to 40~50 gigabytes.  Large compute environments can slow down execution start times significantly and of course consume more disk space on your docker image registry.  It's valuable to understand how large the Compute Environment you've built is.

## **Resolution:**

At the moment, however, there is no way to find the size of a Compute Environment from the Domino UI.  If you need to understand the size of your image you must locate the image on your docker image registry

## **Notes/Information:**

Domino Engineering is assessing the viability of adding the image size do the Domino UI.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history,"If a user has opened a workspace and the system detects that it's going to crash, Domino may automatically issue a sync to prevent the user from losing any work. In that case you may see that ""Domino"" issued an update when you check your project's history. 

Here is an example:

![Screen_Shot_2023-01-06_at_3.08.44_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/12834675463316)

If this is causing issues and you'd like to revert your project to its previous state, please follow the steps described here: [Revert a project](https://docs.dominodatalab.com/en/latest/user_guide/fcd594/revert-a-project/)"
https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean/subscription.html ""Opens a sign-in dialog"")

## Popular Projects

The top **popular projects** are calculated based on how many jobs are getting executed, the number of tags, and the number of collaborators with specific weightings. In Domino's config (this config is not exposed to users), you can add weights to each value (tags, collaborators, job count).

## Suggested Projects

For the **suggested projects**, Domino compiles the following projects:

\- Projects your collaborators work on: Domino finds all of the collaborators that you work with - collaborators on your projects and projects you are a collaborator on. Using these collaborators, we find projects they work on and recommend them to you.

\- Projects that fork projects you are the owner of or collaborator on.

\- Projects with the same tags of projects that you are an owner of or collaborator on. If there are no related projects to your work, we fill in more popular projects, not in the popular projects tabs. The suggested projects get shuffled (i.e., there is no order)

### Recently viewed articles

*   [Why is Domino showing up my in my project's commit history?](https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history)
*   [How large is my Compute Environment image?](https://tickets.dominodatalab.com/hc/en-us/articles/12738102426004-How-large-is-my-Compute-Environment-image)
*   [Can you help me collect Kubernetes logs?](https://tickets.dominodatalab.com/hc/en-us/articles/13791329664532-Can-you-help-me-collect-Kubernetes-logs)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions)
*   [Why can't I see the hardware tier I was expecting to see in my project?](https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project)

### Related articles

*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSHfi%2B0BjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRXt9pTCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzczNzA5NjA3MDEyMDQtSG93LXRvLWNyZWF0ZS1hLW5ldy1Pcmdhbml6YXRpb24taW4teW91ci1Eb21pbm8tZGVwbG95bWVudAY7CFQ6CXJhbmtpBg%3D%3D--3fe47e413c8073b37ea335a2b1a25836ed3d7833)
*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSgT62fBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRXt9pTCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzcyODI4NzcyNDM0MTItU3ByaW5nNFNoZWxsLWZyYW1ld29yay12dWxuZXJhYmlsaXR5LUNWRS0yMDIyLTIyOTY1BjsIVDoJcmFua2kH--70d943ddd83ba757428199b0caec99143285a0e3)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRXt9pTCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQg%3D--9ef505aedb38d49e25ee0c65c172572aaa8add41)
*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRXt9pTCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQk%3D--6e2ee0b38cdcf466411b5a19041954d7b515e071)
*   [Is there training available for Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZzPf9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRXt9pTCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzY1ODgzNDIyNjIxNjQtSXMtdGhlcmUtdHJhaW5pbmctYXZhaWxhYmxlLWZvci1Eb21pbm8GOwhUOglyYW5raQo%3D--9f8cf37aff078645b0b11fd19573fa8e4a7c71e0)"
https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)

## Spring4Shell framework vulnerability (CVE-2022-22965)

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965/subscription.html ""Opens a sign-in dialog"")

**Versions**

Domino all versions

**Issue:**

Spring WebFlux application running on JDK 9+ is vulnerable to remote code execution (RCE) via data binding. The specific exploit requires the application to run on Tomcat as a WAR deployment.

**How does this impact Domino?**

Domino does not make use of the Spring4Shell framework and so is not effected by the vulnerability.

**Additional Notes:**

Further details on CVE-2022-22965 can be found here: [https://nvd.nist.gov/vuln/detail/CVE-2022-22965](https://nvd.nist.gov/vuln/detail/CVE-2022-22965)

![domino-image.png](https://tickets.dominodatalab.com/hc/article_attachments/7287190180756/domino-image.png)

### Recently viewed articles

*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean)
*   [Why is Domino showing up my in my project's commit history?](https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history)
*   [How large is my Compute Environment image?](https://tickets.dominodatalab.com/hc/en-us/articles/12738102426004-How-large-is-my-Compute-Environment-image)
*   [Can you help me collect Kubernetes logs?](https://tickets.dominodatalab.com/hc/en-us/articles/13791329664532-Can-you-help-me-collect-Kubernetes-logs)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions)

### Related articles

*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgT62fBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyOTY5MzgyNjAtLWxvZzRqLXplcm8tZGF5LXZ1bG5lcmFiaWxpdHkGOwhUOglyYW5raQY%3D--74eebe22895cb10eed5bb6a2ecc733450ae54d71)
*   [Is my data secure on Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkE%2BaUrDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgT62fBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzIwNDE4NzEyOS1Jcy1teS1kYXRhLXNlY3VyZS1vbi1Eb21pbm8GOwhUOglyYW5raQc%3D--76b9eaec93c3629556bbfab33ab8fd2a4db1efe2)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRXt9pTCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSgT62fBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzExMzU1MjY4MDExOTI0LVdoYXQtZG9lcy1TdWdnZXN0ZWQtYW5kLVBvcHVsYXItUHJvamVjdHMtbWVhbgY7CFQ6CXJhbmtpCA%3D%3D--54b2674091dec055c637c789bd02cdc907d90f5f)"
https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability,"## log4j zero day vulnerability

![](https://tickets.dominodatalab.com/system/photos/361173258292/robw.PNG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability/subscription.html ""Opens a sign-in dialog"")

### What is Log4j?

Log4j is a framework to record user activity and the behavior of applications for subsequent review. Distributed free by the nonprofit Apache Software Foundation. 

### How does this impact Domino?

Domino is not affected by the log4j issue outlined as CVE-2021-44228.  Domino has undergone a source code review, including a thorough third party integration and library review, to make this determination.  In addition, Domino has tested our software for attack vectors to validate our findings.  While Domino does utilize log4j, it is not a vulnerable version.

Domino does utilize a third party service, ElasticSearch, which ships with a library flagged to be potentially vulnerable (log4j v2.11.1).  However, as configured and deployed, ElasticSearch is NOT vulnerable via utilization of Java Security Manager.  More information from Elastic may be found here : https://discuss.elastic.co/t/apache-log4j2-remote-code-execution-rce-vulnerability-cve-2021-44228-esa-2021-31/291476

**Optional Partner Integrations**

Domino offers optional partner integration containers as outlined in our [docs](https://docs.dominodatalab.com/en/5.6/user_guide/71a047/overview/#compute-env).

These integrations _are not included by default_ in Domino, but rather are added by Domino administrators after setup and configuration. Your deployment of Domino may not include these integrations, please check with your Domino admin.

Please refer directly to the software vendors’ statements for risk & recommendations: 

[SAS Statement](https://support.sas.com/en/security-bulletins/remote-code-execution-vulnerability-cve-2021-44228.html) 

[Mathworks Statement](https://www.mathworks.com/matlabcentral/answers/1610640-apache-log4j-vulnerability-cve-2021-44228-how-does-it-affect-matlab-run-time)

[NVIDIA Statement](https://nvidia.custhelp.com/app/answers/detail/a_id/5294)

Domino continues to monitor this situation and will update customers as necessary.

### Recently viewed articles

*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean)
*   [Why is Domino showing up my in my project's commit history?](https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history)
*   [How large is my Compute Environment image?](https://tickets.dominodatalab.com/hc/en-us/articles/12738102426004-How-large-is-my-Compute-Environment-image)
*   [Can you help me collect Kubernetes logs?](https://tickets.dominodatalab.com/hc/en-us/articles/13791329664532-Can-you-help-me-collect-Kubernetes-logs)

### Related articles

*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBg%3D%3D--e0ea74e4b15309e6c2f54f9a50c0e427d1213d31)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kH--c5ab5520724731e7f1dcd4574661d81444a484d7)
*   [What is my Domino version?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTirHoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTI5ODk1NjM1NDAtV2hhdC1pcy1teS1Eb21pbm8tdmVyc2lvbgY7CFQ6CXJhbmtpCA%3D%3D--9727727331dc6faddd9a8335d424c14a67ea54e9)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kJ--31bc32a5cbfa939ed38f0ec723a190ba946b7afb)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCg%3D%3D--b8c9dd487b74e845d225eb6bf1db2a4de4633de0)"
https://tickets.dominodatalab.com/hc/en-us/sections/360003086132-Announcements,"## Announcements

[Follow](# ""Opens a sign-in dialog"") [New articles](https://tickets.dominodatalab.com/hc/en-us/sections/360003086132-Announcements/subscription.html?subscribe_to_grandchildren=false) [New articles and comments](https://tickets.dominodatalab.com/hc/en-us/sections/360003086132-Announcements/subscription.html?subscribe_to_grandchildren=true)

*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fcategories%2F21803876812948&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

Katie

*   1 month ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team/subscription.html ""Opens a sign-in dialog"")

If you have a file you want to share with the Domino team, such as a large log file, what's the best way to do so? This comes up frequently, so here are the primarily options we recommend, starting with the simplest and most commonly used:

1.  Simply attach the file to an email to [support@dominodatalab.com](mailto:support@dominodatalab.com), which will save them securely in our user ticketing system on our end.  Please do not attach any files with proprietary or sensitive information.
2.  Smaller files can be shared by pasting the text into a privatebin file. Please let the support person you are working with know if you'd like to use this method.
3.  Large files can uploaded to an S3 bucket -- either one that you set up or that Domino has set up, as long as our team can access it.
4.  Another option is to share the files with us via Keybase. Please let the support person you are working with know if you'd like to use this method.

Questions? Comments? Let us know below.

### Recently viewed articles

*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)
*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean)
*   [Why is Domino showing up my in my project's commit history?](https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history)
*   [How large is my Compute Environment image?](https://tickets.dominodatalab.com/hc/en-us/articles/12738102426004-How-large-is-my-Compute-Environment-image)

### Related articles

*   [Conda Terms of Service (TOS) change.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCfTMtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTE2MzQzMS1Db25kYS1UZXJtcy1vZi1TZXJ2aWNlLVRPUy1jaGFuZ2UGOwhUOglyYW5raQY%3D--31ccbcbb72045de3ad18c6ee59d0d9ce39e9d6db)
*   [Support Maintenance Exhibit: Terms and Conditions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRV6LApFToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzIzMjY4ODA1ODU4NTgwLVN1cHBvcnQtTWFpbnRlbmFuY2UtRXhoaWJpdC1UZXJtcy1hbmQtQ29uZGl0aW9ucwY7CFQ6CXJhbmtpBw%3D%3D--f1815661a2d1cac9beaf63bdb3f457cda7ac7116)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058041892-Sharing-Files-With-The-Domino-Team) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions,"![](https://tickets.dominodatalab.com/system/photos/360980763491/profile.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions/subscription.html ""Opens a sign-in dialog"")

**Support Maintenance Exhibit: Terms and Conditions**

_**Updated: January 30, 2024**__**![](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)**_

During the License Term, Domino will provide to Customer the maintenance and support described in this Exhibit (“Maintenance”), specific to the level selected and purchased by the Customer (Essential, Premium, or Enterprise Support levels). Maintenance consists of undertaking reasonable commercial efforts to resolve problems or bugs in the Domino product which cause the Domino product not to function in material conformity with the Documentation. Maintenance shall include both technical support services and software releases.  Use of any new versions of Domino product will be governed by this Agreement.

1.  **Domino Software Maintenance.** Domino will provide Customer with all updates, upgrades, and enhancements of the Products, including those made to correct Errors, that are generally released by Domino during the License Term (“Maintenance Releases”) and in accordance with the Domino Product Version Lifecycle and Support Policies found at [https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies) which are expressly incorporated by reference.
2.  **Limitations on Scope of Domino Product Maintenance.**  Maintenance does not include: (a) development of custom code or computer programs, (b) repairs or service relating to any third party software, (c) installation (except for Domino Cloud), (d) training, (e) designing systems or networks, (f) guidance related to unofficial or “beta” software, or (g) authoring or dictating security practices for a Customer.  Maintenance does not encompass the remediation of problems or bugs determined by Domino to have been caused by the failure or malfunction of any software, tools, equipment, or facilities not provided by Domino.  Maintenance extends only to material non-conformities of which Domino is notified during the License Term. Maintenance does not apply or extend to the Domino product in the event of (i) installation, repair, addition, alteration, modification or enhancement of the Domino product, performed by parties other than Domino; (ii) use of the Domino product in conjunction with another vendor’s products resulting in the defect or non-conformance; (iii) failure to follow applicable operation or maintenance requirements; (iv) negligence, abuse, mishandling, misuse or damage to the Domino product; or (v) failure to follow the Documentation.
3.  **Domino Software Customer Obligations.** Domino is not responsible for the security of Customer’s proprietary, and confidential information or the monitoring of access to Customer’s network or for maintaining adequate procedures apart from the Domino product to reconstruct lost or altered files, data or programs.  Customer is responsible for its users’ use of the Domino product in accordance with this Agreement.
4.  **Domino Cloud Services - Services Level Agreement** 
    1.  Services Availability. Domino agrees the Services will be available for access and use not less than 99.0% of the time in a given year, provided: (i) downtime due to regularly scheduled support and Exclusion Events (defined below) will not count as time during which the Services is not available, and (ii) Domino shall not be responsible for unavailability due to Customer’s loss of Internet connectivity (the “Uptime Commitment”). Unavailability is the time the Services are not available to the Customer as a function of failures in Domino’s or its hosting provider’s hardware or software. 
    2.  Support and Updates to Services. Domino reserves the right to limit Customer’s access to the Services in order to perform support or repairs, to make modifications or as a result of circumstances beyond Domino’s reasonable control. Domino reserves the right, in its sole discretion, to make necessary unscheduled deployments of changes, updates, or enhancements to the Services at any time. Domino may add or remove functionalities or features, and Domino may suspend or stop a component of the Services altogether. 
    3.  **Exclusion Events.** Domino will not be responsible for any Services level deficiency resulting from any of the following (“Exclusion Events”):
        1.  A failure or interruption of any component or Services for which Domino is not responsible, including but not limited to, electrical power, networking equipment, computer hardware or software, or Internet and telecommunications Services;
        2.  Any force majeure event;
        3.  Viruses, other malicious code or denial of Services attacks, unless Domino fails to implement commercially reasonable threat management solutions or the Services level deficiency resulted from Domino’s failure to property update such threat management solutions;
        4.  Acts or omissions of Customer or its employees, agents, third party contractors or vendors (except Domino); or
        5.  Customer inaccessibility, where such inaccessibility either caused the problem or prevents or delays its resolution. 
5.  **Support.** Domino will provide to Customer all reasonably necessary consultation requested by Customer in connection with its use of the Domino product or any problems therewith during Domino Business Hours. If the Customer has elected to purchase Premium or Enterprise Support (optional), any issue reported as “Urgent” or “Critical” will receive a response 24x7, including holidays and weekends.
6.  **Domino Business Hours.** \*Domino Support’s business hours are Sunday 6 PM US Pacific time to Friday 6 PM US Pacific time, excluding company holidays (unless otherwise agreed to by Domino in writing). Weekend and holiday coverage is provided for tickets meeting ALL of the following conditions:
    1.  The Customer has purchased _Premium_ or _Enterprise_ Support for their Domino subscription
    2.  The Priority is specified as “Urgent” or the Business Impact is specified as “Critical” on the ticket
7.  **Subcontractors.** Customer consents to the use of subcontractors to provide Maintenance and Support services herein.
8.  **Priority Codes.**
    
    |     |     |
    | --- | --- | 
    | **Priority Code** | **Definition** |
    | **Urgent:** | An urgent priority is given to an issue that renders the Domino product inoperable, or substantially degrades the performance thereof, or adversely affects Customer’s business operations, or causes financial liability due to operational or informational deficiency. |
    | **High:** | A high priority is given to an issue that is not adversely affecting Customer’s business operations or causing financial liability, but has no viable workaround, and is repeatedly affecting Customer’s usage of the Domino product, or negatively affecting data integrity, or degrading performance of the Domino product. |
    | **Normal:** | A normal priority is given to an issue which does not significantly impact Customer’s operation or use of the Domino product. |
    | **Low:** | A low priority is given to questions that do not relate to the disruption of core Domino functionality. These may include “how-to” questions, especially those related to unique workflows or requirements, as well as common feature requests. |
    
9.  **Response time SLAs** are based on 1) ticket priority and 2) selected service level (Essential, Premium, or Enterprise) in the applicable order form. 
    
    **Response Times:** Domino will respond to requests from our Customers for Support within the following response time frames.
    
    |     |     |     |     |
    | --- | --- | --- | --- |   
    |     | **Service Level** |     |     |
    | **Priority Code** | **Essential Support SLA** | **Premium Support SLA** | **Enterprise Support SLA** |
    | **Urgent:** | Within 2<br><br>business days | Within 2 hours | Within 1 hour |
    | **High:** | Within 4 business hours\* | Within 4 business hours\* |
    | **Normal:** | Within 2<br><br>business days | Within 1<br><br>business day |
    | **Low:** |
    | **Support Service Hours**<br><br>Live Support (based on time issue submitted) | 7 AM–6 PM,<br><br>business days | Urgent/Critical: 24x7x365<br><br>High/Normal/Low: During Domino Business Hours | Urgent/Critical: 24x7x365<br><br>High/Normal/Low: During Domino Business Hours |
    | **Support Contact Limits** | 5   | Unlimited | Unlimited |
    
10.  **Support Contact Limits.** 
    *   Customers who select “Essential  Support” as their service level will be allowed a _maximum of FIVE Support Contacts_.
    *   A “Support Contact” is one named individual (not a distribution list) within the Customer’s organization who is enabled to log tickets directly with Domino Support. This individual should be familiar with Domino’s product, and able to act as a member of a “center of excellence” within the Customer’s organization. This “center of excellence” will be capable of addressing questions related to Domino products from other individuals within the Customer’s organization before escalating to Domino Support. 
    *   All inquiries from Customer personnel NOT listed as “Support Contacts” will be routed to the Customer’s Support Contacts or “center of excellence.” 
    *   PREMIUM and ENTERPRISE Support levels offer UNLIMITED Support Contacts, therefore all end users can interact _directly_ with Domino Support.
11.  **Designated Support Advocate.** Customers who elect to purchase Enterprise Support will be assigned a “Designated Support Advocate,” or “DSA.” A DSA is a highly skilled and experienced Technical Support Professional. DSAs provide a personalized and responsive level of support that can help avoid downtime, improve productivity, and achieve business goals.

          Scope of DSA services:

*   *   The DSA will attend Customer meetings remotely as requested (up to 2 hours per week)
    *   The DSA will ensure technical issues are triaged and resolved as quickly as possible
    *   The assigned DSA will assist in the triaging of incoming tickets conforming to the defined scope of service for Domino Support, specifically related to core product functionality, as defined [on this page](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage). Issues outside of this scope will be referred by the DSA to other parties for further investigation as appropriate, including the account’s assigned RSE, RSA, SE, CSM, or Customer Administrator.
    *   The DSA will assist in coordinating tasks with other parties who perform work outside of contractual Support scope (Professional Services, CS Engineering, Customer administrators, etc.)
    *   Support Analytics: The Designated Support Advocate will provide reporting on open tickets, tickets resolved, and any dependencies. Identified ticket themes will be raised with the CSM and/or Professional Services to provide suggestions and improvements.
    *   The DSA will ensure a continuous flow of communication between internal parties and the Customer
    *   The DSA will  advocate for Customer’s requests within the product and engineering teams

          Limitations of DSA services:

*   *   DSA service will be provided exclusively remote. The parties may agree however, to elect to send a Domino DSA to a Customer site and travel and expenses will be billed to Customer.
    *   DSA service is included with Enterprise Support. Customers selecting Premium Support may select to add a DSA as an add-on for an additional fee.
    *   Domino reserves the right to change DSA personnel. Should a planned personnel change be necessary, another DSA will be identified by Domino Support Management. A warm handoff between DSAs and Support Management will take place. To the extent possible, Domino Support will provide the Customer with two months’ notice if such a change takes place.
    *   When a DSA is out of office, they will relay this information in advance to the Customer and provide time frames. While the assigned DSA is away, if another DSA is available, (s)he will be assigned to the Customer temporarily. Upon the return of the Customer’s assigned DSA, (s)he will resume normal activities.

### Recently viewed articles

*   [Sharing Files With The Domino Team](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)
*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean)
*   [Why is Domino showing up my in my project's commit history?](https://tickets.dominodatalab.com/hc/en-us/articles/12834841242004-Why-is-Domino-showing-up-my-in-my-project-s-commit-history)

### Related articles

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRV6LApFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQY%3D--4338cf3a0a093d4b0c6f39340f68490b9b1c11e6)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRV6LApFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBw%3D%3D--74eb2f20e42cccb95e3385b44a24760e8e53b10e)
*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRV6LApFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kI--5f8d2eb9726e579ec2624ccb17c4d09695e4309c)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRV6LApFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCQ%3D%3D--150315e974dfe5fc5d380e949e6efc3cfd84928e)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN97QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRV6LApFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODU5MS1TdXBwb3J0LURlZmluaXRpb25zBjsIVDoJcmFua2kK--b57606495104c29fed271360d55f2b5d05ffe8e2)"
https://tickets.dominodatalab.com/hc/en-us/articles/360059163431-Conda-Terms-of-Service-TOS-change,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360059163431-Conda-Terms-of-Service-TOS-change/subscription.html ""Opens a sign-in dialog"")

Anaconda's TOS have recently changed. Please see [https://www.anaconda.com/blog/sustaining-our-stewardship-of-the-open-source-data-science-community.](https://www.anaconda.com/blog/sustaining-our-stewardship-of-the-open-source-data-science-community)   

Domino's stance on this is below.

### Domino provides Anaconda's open source Python, R, and accompanying libraries as part of our Domino Analytics Distribution. This software has an open source license and as such we freely package and distribute it in our compute environment image for you to use. We do not download from Anaconda's repositories as part of a Domino installation or runtime.

### If there is additional access to the Anaconda repo, it's not due to Domino itself accessing the repo. It's likely from other users in your organization accessing the repo or actively refreshing the libraries that are packaged in our Domino Analytics Distribution.

Please note that in order to comply with the new TOS Domino has begun disabling conda in our [Domino Analytics Distribution (DAD) environments](https://docs.dominodatalab.com/en/latest/reference/environments/Domino_4_standard_environments.html?highlight=DAD#domino-analytics-distribution) by default.  

The installation of libraries and packages to customize Compute Environments is [generally out of scope for Domino Support](https://tickets.dominodatalab.com/hc/en-us/articles/360058516472), but we can assist if you've hit a road block.

### Recently viewed articles

*   [Support Maintenance Exhibit: Terms and Conditions](https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions)
*   [Sharing Files With The Domino Team](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)
*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)
*   [What does Suggested and Popular Projects mean?](https://tickets.dominodatalab.com/hc/en-us/articles/11355268011924-What-does-Suggested-and-Popular-Projects-mean)

### Related articles

*   [Conda binary is not executable](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSpUB0zBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCfTMtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzY4MTY2MDQ5MjQzMDgtQ29uZGEtYmluYXJ5LWlzLW5vdC1leGVjdXRhYmxlBjsIVDoJcmFua2kG--8fce59f75493e554c186197788e42587897e773e)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCfTMtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQc%3D--4ba384983a36bac7e68cc3a821db9f5ed8800aae)
*   [My Workspace appears to have died - did python run out of memory?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR4lOsABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCfTMtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzQ0MDE5OTg4ODcwNjAtTXktV29ya3NwYWNlLWFwcGVhcnMtdG8taGF2ZS1kaWVkLWRpZC1weXRob24tcnVuLW91dC1vZi1tZW1vcnkGOwhUOglyYW5raQg%3D--04b8f8c9e8f54aff4efa0cff365408678c4b1995)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCfTMtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--9d09769cc1f44eb525b0e1c756384b5e24150131)
*   [Model permissions change for Domino version 5.0 - 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQAc9jBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCfTMtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzgxMjUyNTYxNDI5OTYtTW9kZWwtcGVybWlzc2lvbnMtY2hhbmdlLWZvci1Eb21pbm8tdmVyc2lvbi01LTAtNS0yBjsIVDoJcmFua2kK--cefe3b355686ea0fe84095e8c6bbca70653da404)"
https://tickets.dominodatalab.com/hc/en-us/articles/360032174331-Support-Site-Sign-In-Please-Verify-Your-Email,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360032174331-Support-Site-Sign-In-Please-Verify-Your-Email/subscription.html ""Opens a sign-in dialog"")

If you have signed up for an account on our support site ([https://tickets.dominodatalab.com](https://tickets.dominodatalab.com/)), you will need to verify your email address before you can log in. 

You can verify your account by clicking on the ""Confirm My Account"" link provided in the automated message sent to the email address you entered during registration (_subject=""Verify your email""_). After registering, check the inbox for the email account that you signed up with for an email from [support@dominodatalab.com](mailto:support@dominodatalab.com) with subject line ""Verify your email"" (it may take up to 5 minutes to receive this message).  If you didn't receive such a message, you can reach out to [support@dominodatalab.com](mailto:support@dominodatalab.com) for assistance.  

**_Screenshot:_** _""Verify your email"" message containing the ""Confirm my account"" link._

_Use this link to verify your account and email address._

![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/4416578252180)

Once you have registered and signed in to the Support site, you will be able to submit tickets and see past tickets in our system. F_YI, you can also submit tickets without registering_, but will not be able to view your [ticket history](https://tickets.dominodatalab.com/hc/en-us/requests?). 

On the same site ([https://tickets.dominodatalab.com](https://tickets.dominodatalab.com/)), you will also be able to access our [Knowledge Base](https://tickets.dominodatalab.com/hc/en-us/categories/360005759691-Product-Areas). Once again, we recommend registering so you can take full advantage of this tool. It is usable to anonymous/non-registered users, but the scope of searches for registered users is greater (it includes a user's ticket history and other features).

### Recently viewed articles

*   [Conda Terms of Service (TOS) change.](https://tickets.dominodatalab.com/hc/en-us/articles/360059163431-Conda-Terms-of-Service-TOS-change)
*   [Support Maintenance Exhibit: Terms and Conditions](https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions)
*   [Sharing Files With The Domino Team](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)
*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/articles/7282877243412-Spring4Shell-framework-vulnerability-CVE-2022-22965)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPsAl9NTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--6076a7bdd91d77478f84f541e1c063873965a387)
*   [Runs slow to start](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEs5y6DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPsAl9NTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI0L2hjL2VuLXVzL2FydGljbGVzLzIxMzU1NjQwMy1SdW5zLXNsb3ctdG8tc3RhcnQGOwhUOglyYW5raQc%3D--25d3404e3fb225ddb10b3754397eb0b55492b52c)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRP0uABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPsAl9NTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYxMTMzNTc3MTYtVGhlLWhhcmR3YXJlLXRpZXItY29zdC1zZWVtcy1pbmNvbnNpc3RlbnQGOwhUOglyYW5raQg%3D--23702e1eb57096956a3821d9500764ed8ce7d7a2)
*   [Jupyter timeout errors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEQwS0DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPsAl9NTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzIxMzEyNDE2My1KdXB5dGVyLXRpbWVvdXQtZXJyb3JzBjsIVDoJcmFua2kJ--4bf1970be3167d039ba9671daf5ea7319641fed4)"
https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRrIOmBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTrDHcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzYyMTI3MzE4NTExNTYtTmV3LUFXUy1HUFUtbm9kZXMtYXV0b3NjYWxlLWJ1dC1mYWlsLXRvLWdldC1hZGRlZC10by1LdWJlcm5ldGVzLWNsdXN0ZXIGOwhUOglyYW5raQo%3D--36877584893a620663e4946b8e8149d47d5c9958,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6212731851156-New-AWS-GPU-nodes-autoscale-but-fail-to-get-added-to-Kubernetes-cluster/subscription.html ""Opens a sign-in dialog"")

**Problem:** 

When GPU-based runs or workspaces cause a new AWS node to be auto-scaled, the node might encounter a specific failure during initialization which results in the workspace/run UI stuck on 'Assigning' perpetually. 

Pods events show:

2022-05-03 12:44:27 : pod triggered scale-up: \[{ddl-nvidia\_worker\_a 0->1 (max: 2)}\] 

2022-05-03 01:16:28 : pod triggered scale-up: \[{ddl-nvidia\_worker\_a 0->1 (max: 2)}\]

**Background/symptoms:**

Starting April 27, 2022, NVIDIA has rotated the signing key used for the CUDA and GPU driver repositories.  In Domino-managed deploys these are used for Rancher/AWS deployments.  

[https://forums.developer.nvidia.com/t/notice-cuda-linux-repository-key-rotation/212772](https://forums.developer.nvidia.com/t/notice-cuda-linux-repository-key-rotation/212772)

Workloads that require additional nodes in GPU node pools will not be schedulable as those new nodes will not provision due to a failure in initialization scripts stemming from launch templates or launch configurations.

This problem can manifest in various ways depending on how you provision and initialize your nodes.

In Domino-managed deployments, when viewing the bootstrap logs of newly provisioned nodes in `/tmp/domino-bootstrap.log`, the following error can be seen indicating that the new signing key is not trusted:

GPG error: http://developer.download.nvidia.com/compute/cuda/repos/ubuntu1604/x86\_64 InRelease: The following signatures couldn’t be verified because the public key is not available: NO\_PUBKEY A4B469963BF863CC

**Testing/validation:**

To test, in addition to triggering scale-up thru workspace/run activity you can also run the following, then validate the new node has joined the Kubernetes cluster either through the Domino UI, `kubectl get nodes`:

$ aws autoscaling update-auto-scaling-group --auto-scaling-group-name \[deploy\_id\]-nvidia\_worker\_a --desired-capacity 1

**Resolution:**

If you witness this problem and your deployment is Domino-managed, please contact [support@dominodatalab.com](mailto:support@dominodatalab.com).  If not, read on.

One option is to upgrade your nodes' OS to a version (in Ubuntu's case Ubuntu 20.4) that moves from the NVIDIA CUDA repositories to using upstream Ubuntu repositories to manage the NVIDIA driver.

Alternatively you can modify your existing GPU autoscaling groups' initialization scripts or directives to use the new NVIDIA signing key. 

For example, Domino-managed deployments often involve launch templates or configurations using user-data ([https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html%20)), but perhaps your scripts are baked into your images (AMI) or other.

To correct [user-data](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/user-data.html) in Domino-managed deployments we needed to replace:

`apt-key adv --fetch-keys ""$nvidia_repo/7fa2af80.pub""`

with:

`apt-key adv --fetch-keys ""$nvidia_repo/3bf863cc.pub""`

Note:  In case you are using launch templates or launch configurations similar to ours, we've attached a script which will update user-data, swapping the specific .pub for the apt-key command (asg\_update.sh).  This has been attached only to help foster your own ideas for your update.

### Recently viewed articles

*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/articles/360032174331-Support-Site-Sign-In-Please-Verify-Your-Email)

### Related articles

*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRrIOmBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kG--9f647e9f84b7411448221c9713e883f15cf2c6e0)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRrIOmBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--84aa2fda3ce8df96dd315f54a76ce9268dfb080f)
*   [Environment build fails with GPG error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGTYX9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRrIOmBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjExMzg5Mi1FbnZpcm9ubWVudC1idWlsZC1mYWlscy13aXRoLUdQRy1lcnJvcgY7CFQ6CXJhbmtpCA%3D%3D--42bb8ae15b2ece545fdffc4e102030de5c7cd8c4)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRrIOmBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--d71e073dc389a6ee9c84435462f0cbd31d88f083)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRrIOmBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQo%3D--90fa7b44538570e34d10cdf2db21cb8fcabfd11f)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16522548681364-R-Studio-breaking-changes-in-2023&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19694550009748-Rebuild-environment-failed-with-additional-R-packages-failed,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19694550009748-Rebuild-environment-failed-with-additional-R-packages-failed/subscription.html ""Opens a sign-in dialog"")

**Problem:** 

When try to rebuild an existing environment with additional R packages specified in the Dockerfile Instructions build failed with following message in the build log, 

```
Aug 03 2023 12:51:53 -0400 #21 0.267 > cmdstanr::installcmdstan() Aug 03 2023 12:51:53 -0400 Aug 03 2023 12:51:54 -0400 #21 0.267 Error in loadNamespace(x) : there is no package called ‘cmdstanr’ Aug 03 2023 12:51:54 -0400 Aug 03 2023 12:51:54 -0400 #21 0.267 Calls: loadNamespace -> withRestarts -> withOneRestart -> doWithOneRestart Aug 03 2023 12:51:54 -0400 Aug 03 2023 12:51:54 -0400 #21 0.267 Execution halted Aug 03 2023 12:51:54 -0400 Aug 03 2023 12:51:54 -0400 #21 ERROR: process ""/bin/bash -c R --no-save -e \""cmdstanr::installcmdstan()\"""" did not complete successfully: exit code: 1
```

**Cause:** 

When installing R packages, R searches for packages in the CRAN repository, which is hosted across many mirrors. The default CRAN mirror that Domino was using previously ([https://cran.us.r-project.org](https://cran.us.r-project.org/ ""https://cran.us.r-project.org"")) has recently stopped working, which means you may experience trouble installing packages.

**Solution:** 

The compute environment can be updated with the following Dockerfile configuration to point to the new CRAN repo URL, 

USER ubuntu  
\# Update default CRAN mirror  
RUN sed -i 's/cran.us.r-project.org/cloud.r-project.org/g' /home/ubuntu/.Rprofile

## **Note:** 

While Domino Support does try to help users with environment issues, our main focus is Domino's core product. If you run into issues with your environments, the best first step is to connect with your local admins. 

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Compute environment installs the wrong R package after it has been built](https://tickets.dominodatalab.com/hc/en-us/articles/19699077941268-Compute-environment-installs-the-wrong-R-package-after-it-has-been-built)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/articles/6212731851156-New-AWS-GPU-nodes-autoscale-but-fail-to-get-added-to-Kubernetes-cluster)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)

### Related articles

*   [TinyTex package does not work after install.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSBeWwPBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHqH7pEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzQ0NjQyOTA5MjI3NzItVGlueVRleC1wYWNrYWdlLWRvZXMtbm90LXdvcmstYWZ0ZXItaW5zdGFsbAY7CFQ6CXJhbmtpBg%3D%3D--e0eaf7c36747d2f0aa645be6019b84ac4aa2d6de)
*   [Models cannot use requirements.txt](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS3znABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHqH7pEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQyMzQwNzQwMDQtTW9kZWxzLWNhbm5vdC11c2UtcmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBw%3D%3D--2e66c25057a0f15215ed857dc51a4eaa3b3454e5)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHqH7pEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kI--f7fabfcbface35294966e4bccb4211e69346f3d3)
*   [How to use requirements.txt file for git based projects](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSNseEqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHqH7pEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzc4ODA3NTY1MzA0NTItSG93LXRvLXVzZS1yZXF1aXJlbWVudHMtdHh0LWZpbGUtZm9yLWdpdC1iYXNlZC1wcm9qZWN0cwY7CFQ6CXJhbmtpCQ%3D%3D--a9ef72f4e1b5e61b6f0aace5a2067a7d29523b1d)
*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHqH7pEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kK--dd62cd93473970ed84018c28ceb302d4b58612b4)"
https://tickets.dominodatalab.com/hc/en-us/articles/19699077941268-Compute-environment-installs-the-wrong-R-package-after-it-has-been-built,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19699077941268-Compute-environment-installs-the-wrong-R-package-after-it-has-been-built/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

All versions.

* * *

## **Issue:**

After building an environment, you confirm the installed package is the wrong version or the latest version compared to the version you set in the docker file instructions. In this example, the package gdtools needs to be on version 0.2.4:

![2023-10-04 12_27_58-Edit environment - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19754738808852)

However, when starting a workspace with this environment, the gdtools is version is 0.3.3:

![2023-10-04 12_55_39-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19754710162324)

* * *

## **Root Cause:**

This is usually due to the package you want installed being required for a dependency, which will overwrite the package install with the latest version or required version that it is requesting. In this case, the flextable package has gdtools as a dependency which is installing the 0.3.3 version:

Oct 04 2023 12:38:53 -0500 #7 2.110 Downloading package from url: https://cloud.r-project.org/src/contrib/Archive/flextable/flextable\_0.6.9.tar.gz   
Oct 04 2023 12:38:53 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 fontLiber... (NA -> 0.1.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 fontBitst... (NA -> 0.1.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 fs (1.6.1 -> 1.6.3 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 triebeard (NA -> 0.4.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 sass (0.4.5 -> 0.4.7 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 cachem (1.0.7 -> 1.0.8 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 bslib (0.4.2 -> 0.5.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 withr (2.5.0 -> 2.5.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 promises (1.2.0.1 -> 1.2.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 later (1.3.0 -> 1.3.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 fontawesome (0.5.0 -> 0.5.2 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 httpuv (1.6.9 -> 1.6.11) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 rlang (1.1.0 -> 1.1.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 digest (0.6.31 -> 0.6.33) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 httpcode (NA -> 0.3.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 urltools (NA -> 1.7.3 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 curl (5.0.0 -> 5.1.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 jsonlite (1.8.4 -> 1.8.7 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 crul (NA -> 1.4.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 shiny (1.7.4 -> 1.7.5 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 htmltools (0.5.5 -> 0.5.6 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 xfun (0.38 -> 0.40 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 vctrs (0.6.1 -> 0.6.3 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 evaluate (0.20 -> 0.22 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 sys (3.4.1 -> 3.4.2 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 askpass (1.1 -> 1.2.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 fontquiver (NA -> 0.2.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 gfonts (NA -> 0.2.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 tinytex (0.44 -> 0.47 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 knitr (1.42 -> 1.44 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 uuid (1.1-0 -> 1.1-1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 openssl (2.0.6 -> 2.1.1 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 xml2 (1.3.3 -> 1.3.5 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 zip (2.2.2 -> 2.3.0 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 gdtools (0.2.4 -> 0.3.3 ) \[CRAN\] <--------------  
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 rmarkdown (2.21 -> 2.25 ) \[CRAN\]   
Oct 04 2023 12:38:55 -0500   
Oct 04 2023 12:38:55 -0500 #7 3.258 officer (NA -> 0.6.2 ) \[CRAN\]

* * *

## **Resolution:**

You can just move the installation of your desired R package to the bottom the docker file instructions or where you stop installing packages:

![2023-10-04 13_02_05-Edit environment - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19754710168596)

Rebuild the environment and the package is installing the version that is specified with:

RUN R --no-save -e ""devtools::install\_version('gdtools', version = '0.2.4')""

  
![2023-10-04 13_14_55-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19754738827796)

* * *

### **References/Internal Records:**

*   ZD - 80373

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/articles/6212731851156-New-AWS-GPU-nodes-autoscale-but-fail-to-get-added-to-Kubernetes-cluster)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)

### Related articles

*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQIi4zqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQY%3D--92b9264e806487c563cddb8443067efc8cf9cc3f)
*   [Multiple Spark Applications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJcNUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQIi4zqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE0NDQ3MS1NdWx0aXBsZS1TcGFyay1BcHBsaWNhdGlvbnMtaW4tRG9taW5vBjsIVDoJcmFua2kH--4ea06ae85c5890f5513eefdc306c0d16b184ffa1)
*   [Rebuild environment failed with additional R packages failed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHqH7pEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQIi4zqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzE5Njk0NTUwMDA5NzQ4LVJlYnVpbGQtZW52aXJvbm1lbnQtZmFpbGVkLXdpdGgtYWRkaXRpb25hbC1SLXBhY2thZ2VzLWZhaWxlZAY7CFQ6CXJhbmtpCA%3D%3D--1c7a47bd828e48d34ab9dcf1968768ffa91ed0bd)
*   [Compute Environment build failed to watch endpointslices](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSPx8LoEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQIi4zqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE5NjkxMzk3OTQzMTg4LUNvbXB1dGUtRW52aXJvbm1lbnQtYnVpbGQtZmFpbGVkLXRvLXdhdGNoLWVuZHBvaW50c2xpY2VzBjsIVDoJcmFua2kJ--4ebd5c8b29a4ea7ac735adea468dbe54387b5fe4)"
https://tickets.dominodatalab.com/hc/en-us/articles/19691397943188-Compute-Environment-build-failed-to-watch-endpointslices,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19691397943188-Compute-Environment-build-failed-to-watch-endpointslices/subscription.html ""Opens a sign-in dialog"")

**Issue:** 

Compute environments cannot be created or modified, new Model API also impacted with following error message during build process in the build log, 

""Failed to acquire buildkit worker: failed to watch endpointslices: the server could not find the requested resource (get endpointslices.discovery.k8s.io)""

![image003.png](https://tickets.dominodatalab.com/hc/article_attachments/19691382736532)

Hephaestus Buildkit Manager log:

```
2023-09-26T15:44:40.481906384Z ERROR Reconciler error {""controller"": ""imagebuild"", ""controllerGroup"": ""hephaestus.dominodatalab.com"", ""controllerKind"": ""ImageBuild"", ""imageBuild"": {""name"":""domino-build-6512fc324a74226e5a7117c1"",""namespace"":""domino-compute""}, ""namespace"": ""domino-compute"", ""name"": ""domino-build-6512fc324a74226e5a7117c1"", ""reconcileID"": ""b3b3f7f1-a824-4cb1-a661-db420d094ee6"", ""error"": ""buildkit service lookup failed: failed to watch endpointslices: the server could not find the requested resource (get endpointslices.discovery.k8s.io)"", ""errorCauses"": [{""error"": ""buildkit service lookup failed: failed to watch endpointslices: the server could not find the requested resource (get endpointslices.discovery.k8s.io)""}]}sigs.k8s.io/controller-runtime/pkg/internal/controller.(Controller).processNextWorkItem /go/pkg/mod/sigs.k8s.io/controller-runtime@v0.12.3/pkg/internal/controller/controller.go:273 sigs.k8s.io/controller-runtime/pkg/internal/controller.(Controller).Start.func2.2/go/pkg/mod/sigs.k8s.io/controller-runtime@v0.12.3/pkg/internal/controller/controller.go:2342023-09-26T15:44:40.482014497Z INFO controller.imagebuild Starting reconcile {""imagebuild"": ""domino-compute/domino-build-6512fc324a74226e5a7117c1""}
```

**Root Cause:** 

Customer upgraded Kubernetes version to 1.25 from 1.24 that is not compatible with the version of Domino they are currently on. 

**Solution:** 

To upgrade Domino to the version that is compatible with the kubernetes version, [https://docs.dominodatalab.com/en/latest/admin\_guide/7b2cbe/kubernetes-compatibility/](https://docs.dominodatalab.com/en/latest/admin_guide/7b2cbe/kubernetes-compatibility/)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSPx8LoEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--ec8bad8d84a87e312b5d583f6b5887505b0390b7)
*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvZDkzBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSPx8LoEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzU3MTc1NjQzMzgwNjgtVXNlZnVsLUxhYmVscy1mb3ItUnVubmluZy1LdWJlY3RsLUNvbW1hbmRzLUFnYWluc3QtUG9kcy1pbi10aGUtQ29tcHV0ZS1OYW1lc3BhY2UGOwhUOglyYW5raQc%3D--9ce0f962cc7758be0e53b8cd7bf033f341b9a22c)
*   [Environment builds never leave queued: Hephaestus-manager logging ""X509: certificate has expired or is not yet valid""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT1EiQDDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSPx8LoEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBky9oYy9lbi11cy9hcnRpY2xlcy8xNjUwNjE2NDU0MDgyMC1FbnZpcm9ubWVudC1idWlsZHMtbmV2ZXItbGVhdmUtcXVldWVkLUhlcGhhZXN0dXMtbWFuYWdlci1sb2dnaW5nLVg1MDktY2VydGlmaWNhdGUtaGFzLWV4cGlyZWQtb3ItaXMtbm90LXlldC12YWxpZAY7CFQ6CXJhbmtpCA%3D%3D--4eca857dd44d8a6c595c19d85b8d6ccb2d939703)
*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGOXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSPx8LoEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjc3MS1Vc2luZy1TQVMtaW4tRG9taW5vLUdldHRpbmctU3RhcnRlZC1hbmQtQmVzdC1QcmFjdGljZXMGOwhUOglyYW5raQk%3D--4be509097d0916379d7939f11b5583a31e2a5518)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSPx8LoEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--5999dfd00ce535cb37158259f11717153503ecc7)"
https://tickets.dominodatalab.com/hc/en-us/articles/19636383866388-Cluster-compute-environment-does-not-show-up-or-is-missing-from-my-workspace-settings-when-created,"#### _**Version/Environment:**_

Any version

* * *

## **Issue:**

After creating an environment for a Spark, Ray, or other supported cluster, the environment does not show up for a Spark workspace under 'Workspace Environment':  
![2023-10-02 13_16_37-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19691941157908)

* * *

## **Root Cause:**

This is due to selecting a cluster in the **Supported Cluster Settings** when attempting to create a workspace cluster environment:  
![2023-10-02 13_21_28-Environment Details - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19691941169684)

This setting is intended to be used for environments that are being used as the **Cluster Compute Environment** for the cluster nodes. As such, they cannot be used for workspace environments.

* * *

## **Resolution:**

Select **'none'** when editing the environment and click **'Build.'** After the environment is rebuilt, it should now show up as a workspace environment.

You will need to mark one compute environment as the **Cluster Compute Environment** with a **Supported Cluster Settings** and then create another compute environment with Spark, Ray, Dask, or other cluster packages that you wish to communicate with the cluster.

* * *

## **Notes/Information:**

Clustered workloads require 2 separate compute environments to operate. You can review our documentation to check the prerequisites when creating these two environments:

1.  [Spark on Domino](https://docs.dominodatalab.com/en/latest/user_guide/68faaa/spark-on-domino/)
    
2.  [On-Demand Ray](https://docs.dominodatalab.com/en/latest/user_guide/d13903/on-demand-ray/)
    
3.  [On-Demand Dask](https://docs.dominodatalab.com/en/latest/user_guide/747a51/on-demand-dask/)
    
4.  [On-Demand Open MPI](https://docs.dominodatalab.com/en/latest/user_guide/d60880/distributed-gpus-with-open-mpi/)
    

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQY%3D--4907d547898e5549e5cae27dd9ba84696be458ee,"Submitted originally by: katie.shakman

**From the Support Bundle of the execution, look for these autoscaling failures in the execution.log or the events.json.**  

execution.log:

2023-06-26T15:06:39.204Z: pod didn't trigger scale-up: 2 node(s) had volume node affinity conflict, 26 node(s) didn't match Pod's node affinity/selectorPlease check if the hardware tier 'p3-Large-GPU' has a valid nodePool

events.json:

""resourceKind"" : ""Pod"",  
""reason"" : ""NotTriggerScaleUp"",  
""description"" : ""pod didn't trigger scale-up: 26 node(s) didn't match Pod's node affinity/selector, 2 node(s) had volume node affinity conflict"",

**Ensure that your cluster's yaml file has autoscaling enabled.**

autoscaler:  
    enabled: true

**Describe the pod not being scheduled and inspect its ""Events"" section at the bottom.  Example pod events that involve the Autoscaler:**

Autoscaler is working, and intentionally not triggering scaleup.  This can happen when the pods request more memory/cpu than the nodes can provide.

Normal NotTriggerScaleUp 2m24s (x18 over 27m) cluster-autoscaler pod didn't trigger scale-up (it wouldn't fit if a new node is added): 45 Insufficient memory, 3 max node group size reached, 45 Insufficient cpu

Autoscaler is not getting triggered when it should, assuming your deployment of Domino is not On Prem.  This can result from a mismatch between the ASG's that are configured in AWS, and what is set in K8s.

Warning  FailedScheduling  <unknown>  default-scheduler  0/12 nodes are available: 1 Insufficient memory, 1 node(s) didn't match node selector, 10 Insufficient cpu.

Autoscaling groups (ASGs) need to be set to one AZ per group.  Additionally, your ASG AZs must match storage AZs.  For example, if storage volumes may be in us-east-1a, us-east-1b, & us-east-1c, then the ASG must be configured for instances in those three zones as well.  If they are not, this volume node affinity conflict may appear because the node (ec2 instance for example) and volume are in different AZs.

pod didn't trigger scale-up (it wouldn't fit if a new node is added): 1 node(s) had volume node affinity conflict

**Make sure the autoscaler deployment's ASG settings match the ASG settings in AWS.  Edit deployment to resolve any differences.**

kubectl get configmap cluster-autoscaler-status -n <install namespace> -o yaml

kubectl edit deployment -n <platform namespace> <cluster autoscaler deployment name>

**Check that each ASG has only 1 Availability Zone.  This should be checked both in AWS console, and in the configmap command shown above.**

**If the Autoscaler is intentionally not triggering scaleup, try reducing the memory and cpu that the pods are requesting from nodes.  Use this guide to help reduce the resources that new pods request.**  [https://admin.dominodatalab.com/en/4.4.1/compute/hardware-tiers.html?highlight=hardware%20tier](https://admin.dominodatalab.com/en/4.4.1/compute/hardware-tiers.html?highlight=hardware%20tier)

Normal NotTriggerScaleUp 2m24s (x18 over 27m) cluster-autoscaler pod didn't trigger scale-up (it wouldn't fit if a new node is added): 45 Insufficient memory, 3 max node group size reached, 45 Insufficient cpu

\*If the autoscaler **deployment** in K8s is edited, add the new changes to the autoscaler section of the cluster yaml file(deploy manifest) so that changes are persisted after an upgrade or maintenance.  

Other less common messages and their meanings:

`2 node(s) didn't match pod affinity rules, 2 node(s) didn't match pod affinity/anti-affinity rules.`

This often means labels or rules for the pod aren't aligned with something specific to the two nodes.  One example is the data-importer needing to run on the same volume as the 'git' pod, but in this case neither of the two available nodes meet this condition.  Describe the pod to check:  

  affinity:
    nodeAffinity:

`11 node(s) didn't match Pod's node affinity`  or   `20 node(s) didn't match Pod's node affinity/selector` or `4 node(s) didn't match node selector`

These can occur when nodes exist but don't have a label matching the Node-Selector label set on your pod via the Hardware Tier.  For example if your Hardware Tier sets the label  
""Node-Selectors:  dominodatalab.com/node-pool=xlarge-memory"" but 11 pods are lacking this label because they're labeled ""default"" or some other node-pool instead, then you'd see this message.  
Again, check the pod's affinity as above, but also mind the Node-Selector and other labels.  

`3 max node group size reached`

This would occur if the maximum count designated for the AutoScalerGroup in AWS (maxSize) has been reached, thus it cannot spin up any new nodes.

You can quickly review your min, max, and currently running nodes by describing the cluster-autoscaler configmap`kubectl describe cm -n <could be platform namespace, could be something like kube-system> cluster-autoscaler-status`"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--139421020a2593657ed610b3de1113f21d17740e,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9495401866900-GPU-Workspace-not-able-to-start-and-exits-with-error/subscription.html ""Opens a sign-in dialog"")

**Version:** All Domino versions

**Issue:**  When starting a GPU workspace the following or similar error can be observed in the support bundle events.json log file.

 ""description"" : ""Error: failed to start container \\""run\\"":   
Error response from daemon: OCI runtime create failed: container\_linux.go:346:   
starting container process caused \\""process\_linux.go:449: container init caused \\\\\\  
""process\_linux.go:432: running prestart hook 0 caused \\\\\\\\\\\\\\  
""error running hook: exit status 1, stdout: , stderr: nvidia-container-cli:   
requirement error: unsatisfied condition: cuda>=11.0,   
please update your driver to a newer version, or use an earlier cuda container\\\\\\\\\\\\\\\\n  
\\\\\\\\\\\\\\""\\\\\\""\\"": unknown"",

**Root cause:**  This problem indicates that the kubernetes node that your container is trying to start on, has a different version of CUDA compared to the version installed in your container.  Both the node and the container   
are required to have matching CUDA and driver versions. 

**Troubleshooting:** A way to check the exact versions running on the node is to login to it and run ""nvidia-smi"" . This will print the available GPU hardware along with the CUDA and driver versions.    
Example: 

```
[root@host ~]# nvidia-smiFri Sep 10 10:07:00 2022+-----------------------------------------------------------------------------+| NVIDIA-SMI 410.104      Driver Version: 410.104      CUDA Version: 10.0     ||-------------------------------+----------------------+----------------------+| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC || Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. ||===============================+======================+======================||   0  Tesla V100-SXM2...  Off  | 00000000:00:17.0 Off |                    0 || N/A   36C    P0    42W / 300W |      0MiB / 16130MiB |      0%      Default |+-------------------------------+----------------------+----------------------+|   1  Tesla V100-SXM2...  Off  | 00000000:00:18.0 Off |                    0 || N/A   36C    P0    44W / 300W |      0MiB / 16130MiB |      0%      Default |+-------------------------------+----------------------+----------------------++-----------------------------------------------------------------------------+| Processes:                                                       GPU Memory ||  GPU       PID   Type   Process name                             Usage      ||=============================================================================||  No running processes found                                                 |+-----------------------------------------------------------------------------+
```

Once you have the version running on your node you can then inspect the version present in your docker image.   
Since a workspace fails when running the specific GPU environment with GPU hardware tier you can start a  
workspace on a normal hardware tier using the same environment. This way you will be able to check the exact   
versions you have installed in the image .  As we are testing the environment on a non-GPU hardware tier the actual  
nvidia driver will not be running thus you can check the versions by checking the installed packages. 

Example: 

```
ubuntu@run-<ID>:/mnt$ dpkg -l | egrep -i ""nvidia|driver|cuda""ii  cuda-compat-11-0                                              450.51.06-1                         amd64                               CUDA Compatibility Platformii  cuda-cudart-11-0                                              11.0.221-1                          amd64                               CUDA Runtime native Librariesii  cuda-libraries-11-0                                           11.0.3-1                            amd64                               CUDA Libraries 11.0 meta-packageii  cuda-nvrtc-11-0                                               11.0.221-1                          amd64                               NVRTC native runtime librariesii  cuda-nvtx-11-0                                                11.0.167-1                          amd64                               NVIDIA Tools Extensionii  cups                                                          2.2.7-1ubuntu2.8                    amd64                               Common UNIX Printing System(tm) - PPD/driver support, web interfaceii  cups-core-drivers                                             2.2.7-1ubuntu2.8                    amd64                               Common UNIX Printing System(tm) - driverless printingii  cups-filters-core-drivers                                     1.20.2-0ubuntu3.1                   amd64                               OpenPrinting CUPS Filters - Driverless printingii  libasound2-data                                               1.1.3-5ubuntu0.5                    all                                 Configuration files and profiles for ALSA drivershi  libcudnn8                                                     8.0.2.39-1+cuda11.0                 amd64                               cuDNN runtime librariesii  libcusolver-11-0                                              10.6.0.245-1                        amd64                               CUDA solver native runtime librarieshi  libnccl2                                                      2.7.8-1+cuda11.0                    amd64                               NVIDIA Collectives Communication Library (NCCL) Runtim
```

As we can see in this example the CUDA packages are for version 11.0 and the nvidia driver is 450.51 which is  
higher than what we have on the node and as such causing the problem .  

**Resolution:** You will need to make sure the image you are running does match the exact versions   
on your ""hardware"" nodes. You can use one of the   Domino provided images here: 

[https://quay.io/repository/domino/base?tab=tags&tag=cuda](https://quay.io/repository/domino/base?tab=tags&tag=cuda)

Or in the case you need a different version, then you can edit the environment and install the exact  
versions needed. 

### Recently viewed articles

*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851-How-to-Troubleshoot-Autoscaling-ASG-Issues)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)
*   [Cluster compute environment does not show up or is missing from my workspace settings when created](https://tickets.dominodatalab.com/hc/en-us/articles/19636383866388-Cluster-compute-environment-does-not-show-up-or-is-missing-from-my-workspace-settings-when-created)

### Related articles

*   [Push Failed workspace syncing error in 5.3.0 & 5.3.1](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR1oF5lCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmDtKiCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzExNDMwNDk1NTQ4NjkyLVB1c2gtRmFpbGVkLXdvcmtzcGFjZS1zeW5jaW5nLWVycm9yLWluLTUtMy0wLTUtMy0xBjsIVDoJcmFua2kG--ce22418284c109c2bbca716f85d3fd11deb04f7b)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmDtKiCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kH--9b3af48f15c50f6bf112c3231e84d764bbb8bec7)
*   [Tensorflow is not recognizing GPU's](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR8lN0ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmDtKiCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0MDE3NjQwMDY5MzItVGVuc29yZmxvdy1pcy1ub3QtcmVjb2duaXppbmctR1BVLXMGOwhUOglyYW5raQg%3D--6f66b1c4d2429f597a08e148b21b79b15c706a65)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmDtKiCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQk%3D--eb3e9f6ba836c9fce696ff6296a017e51dcef9e2)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmDtKiCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kK--a9b2d43206ba893a86b91a8c7cab1a79a8b9c23a)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQc%3D--30014ccc26acbaa4ffc61a6e53a6291a47301f78,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this/subscription.html ""Opens a sign-in dialog"")

## My App/Model has a timeout which makes it hard to complete tasks

## My App or Model can only process a request for 60/75/300 seconds?

## I see 504 Gateway Timeout in my App?

Various timeouts exist in Domino. Some can be changed, some are fixed. Alternatives to the manual intervention would include using (nonscheduled) Runs and the API to start off a process - which will not carry any timeout but requires some development, launcher to upload files and kick off processing or Model API and upload files from App to Model - larger setup but may have additional benefits.

If you see a _**300 second timeout**_, perhaps in _**App**_ processing this is baked into the configmap but in Domino 4.6 a system-wide value for timeout can be set via Central Config which will override the 300 second default.

You can find the runId of your App and edit the configmap. Please take care, since bad configmaps can cause your application to fail and editing the wrong configmap can have dire consequences!

Once you have the runId, you can find the objects:

kubectl get cm -A | grep run-<runId>  
kubectl get pods -A | grep run-<runId>

Edit the configmap:

kubectl edit cm -n <compute namespace> run-<runId>

This is usually [vim](https://opensource.com/article/19/3/getting-started-vim), search for '300' using the / key. You'll find the timeout values. There are two values (in two locations, 4 in total). There are two values, read and connect timeout:

 \\ location / {\\n proxy\_pass http://run;\\n proxy\_read\_timeout **300**;\\n proxy\_connect\_timeout  
**300**;\\n proxy\_http\_version 1.1;\\n proxy\_set\_header Upgrade $http\_upgrade;\\n

These are duplicated later in the code as well. Avoid the 'counter' parameter which is also set at 300.

Once saved, you'll need to restart the run container with:

kubectl delete pod -n <compute namespace> run-<runId>-<unique identifier>

This is a temporary change and will be reset if you stop your App!

### Recently viewed articles

*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851-How-to-Troubleshoot-Autoscaling-ASG-Issues)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)
*   [Cluster compute environment does not show up or is missing from my workspace settings when created](https://tickets.dominodatalab.com/hc/en-us/articles/19636383866388-Cluster-compute-environment-does-not-show-up-or-is-missing-from-my-workspace-settings-when-created)
*   [Compute Environment build failed to watch endpointslices](https://tickets.dominodatalab.com/hc/en-us/articles/19691397943188-Compute-Environment-build-failed-to-watch-endpointslices)

### Related articles

*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRqjyYEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kG--01249b75d03e9786585a7c4076399adc63483086)
*   [Flask, Shiny, Python projects with url\_for or links stopped working in Domino 4](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS7pfgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRqjyYEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY1MTMwODkzMDAtRmxhc2stU2hpbnktUHl0aG9uLXByb2plY3RzLXdpdGgtdXJsLWZvci1vci1saW5rcy1zdG9wcGVkLXdvcmtpbmctaW4tRG9taW5vLTQGOwhUOglyYW5raQc%3D--5b7fe4edc720d4995fbcf81fe648a6960fc41b7f)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRqjyYEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCA%3D%3D--6ecd4ffd2f3981aa82563107a207b6a1349e5c02)
*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmzWN7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRqjyYEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzkzMjYwNDg0MjEzOTYtU3VicHJvY2Vzcy1tYW5hZ2VtZW50LWluLUp1cHl0ZXIGOwhUOglyYW5raQk%3D--3348956f7d88f5b298a40e53db2de43c6fb2327c)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRqjyYEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--0afb4e1d6f636927a4f9d8fd26ee2dfa9c77a71c)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQapfQGDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kK--fad5e02d90cbcea0fb2286d21151183fd2d8e74b,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI/subscription.html ""Opens a sign-in dialog"")

**Versions:**   
This affects versions 5.1 and newer.  

**Issue:**

Error ""Cannot access Git repository with URI"" when adding an Azure DevOps git repository . 

**Cause:**

This is a known bug with Domino versions 5.1 to 5.3 where the platform appends .git extension to the provided git repository URI. In the case of Azure DevOps repositories there is no .git extension by default and as such the attempt to add the repo fails.  Azure Git service has not yet been officially supported, thus not tested.

**Solution:**

Corrected behaviour has been logged as a feature request with intention of resolution when Azure integration is fully supported in the product. 

**Workaround:**

There are 2 possible workarounds in this situation.

\- Use git cli client in the workspace instead of adding the repository to the project 

\- Alternatively, from the Azure DevOps dashboard you can simply rename the repository to include "".git"" at the end. Which will then allow for it to be added to the project.  

* * *

### References/Internal Records:

*   DOM-43443

* * *

### Recently viewed articles

*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/articles/9495401866900-GPU-Workspace-not-able-to-start-and-exits-with-error)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851-How-to-Troubleshoot-Autoscaling-ASG-Issues)
*   [R Studio - breaking changes in 2023](https://tickets.dominodatalab.com/hc/en-us/articles/16522548681364-R-Studio-breaking-changes-in-2023)

### Related articles

*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRyhJLSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kG--9fa059f6a68553f9708191c0a05091d12307a45a)
*   [New GIT repo not added to durable workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSLlZGYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRyhJLSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzgzNTE4NTg5MjAzNDAtTmV3LUdJVC1yZXBvLW5vdC1hZGRlZC10by1kdXJhYmxlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--7b4c0769bb48d8ab60d0545f8924dc82180fd600)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRyhJLSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--4e7418142fcb1e5444894e266886b84189bc511c)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRyhJLSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kJ--e0103575c16be6b21a7e7d1c772a8475765fc1ba)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRyhJLSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQo%3D--f781ede053506e885c9b231c3d984f81d91b014c)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16522548681364-R-Studio-breaking-changes-in-2023,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""vm\_memory\_high\_watermark"" error in RabbitMq service logs](https://tickets.dominodatalab.com/hc/en-us/articles/21515678338708--vm-memory-high-watermark-error-in-RabbitMq-service-logs)
*   [Running top, free, and other commands in workspace terminal returns interesting values](https://tickets.dominodatalab.com/hc/en-us/articles/20150330281236-Running-top-free-and-other-commands-in-workspace-terminal-returns-interesting-values)
*   [Workspaces not scaling up nodes and stuck in 'Assigning' stage](https://tickets.dominodatalab.com/hc/en-us/articles/19636199182868-Workspaces-not-scaling-up-nodes-and-stuck-in-Assigning-stage)
*   [Self upgrade problems](https://tickets.dominodatalab.com/hc/en-us/articles/19289969044756-Self-upgrade-problems)
*   [Image Cache Agent Continually restarts](https://tickets.dominodatalab.com/hc/en-us/articles/17381749347732-Image-Cache-Agent-Continually-restarts)
*   [Postgres slave in a crashloopbackoff](https://tickets.dominodatalab.com/hc/en-us/articles/17034955220628-Postgres-slave-in-a-crashloopbackoff)
*   [smarter-device-manager pods in CrashLoopBackOff](https://tickets.dominodatalab.com/hc/en-us/articles/15741756421012-smarter-device-manager-pods-in-CrashLoopBackOff)
*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/articles/15713619821716-Calico-pods-unhealthy)
*   [Changing Nginx Side Car limits](https://tickets.dominodatalab.com/hc/en-us/articles/15601020434196-Changing-Nginx-Side-Car-limits)
*   [Pods stuck in ContainerCreating with an event mentioning errno 524](https://tickets.dominodatalab.com/hc/en-us/articles/15477616228628-Pods-stuck-in-ContainerCreating-with-an-event-mentioning-errno-524)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23339918993940-Infrastructure-and-Kubernetes)

![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

5.3 and beyond due to introduction of Dataplane Agent. 

* * *

## **Issue:**

Nucleus services were manually restarted by an Admin, but ClusterStatus page is NOT listing healthy, and the Dataplane Agent crashloops with errors in its pod logs:

```
2023/01/24 14:48:43.599 INFO  [main] d.d.a.api.utils.BootstrapHelpers$ - logging in to vault via AppRole
2023/01/24 14:48:43.630 ERROR [main] d.d.a.api.utils.HttpRequestUtils$ - status code: 400, response body: {""errors"":[""invalid secret id""]}

2023/01/24 14:48:43.641 INFO  [main] d.d.agent.server.messaging.Agent$ - Failed to create injector for messaging modules. {}
com.google.inject.CreationException: Unable to create injector, see the following errors:

1) Error in custom provider, domino.dataplane.agent.api.utils.HttpException: {""errors"":[""invalid secret id""]}

  at domino.dataplane.agent.server.vault.VaultModule.providesVaultProvider(VaultModule.scala:31)
  while locating domino.dataplane.agent.server.vault.VaultProvider
    for the 1st parameter of domino.dataplane.agent.server.vault.VaultModule.providesRabbitMqCredentialsProvider(VaultModule.scala:62)
  at domino.dataplane.agent.server.vault.VaultModule.providesRabbitMqCredentialsProvider(VaultModule.scala:62)
  while locating domino.dataplane.agent.server.vault.RabbitMqCredentialsProvider
    for the 2nd parameter of domino.dataplane.agent.server.messaging.DataPlaneMessagingServerModule.providesConnectionEnvelope(DataPlaneMessagingServerModule.scala:104)
  at domino.dataplane.agent.server.messaging.DataPlaneMessagingServerModule.providesConnectionEnvelope(DataPlaneMessagingServerModule.scala:104)
  while locating domino.messaging.DominoMessagingConnectorEnvelope
    for the 1st parameter of domino.dataplane.agent.server.messaging.DataPlaneMessagingServerModule.providesMessagingConnector(DataPlaneMessagingServerModule.scala:41)
  at domino.dataplane.agent.server.messaging.DataPlaneMessagingServerModule.providesMessagingConnector(DataPlaneMessagingServerModule.scala:41)
  while locating domino.messaging.DominoMessagingConnector
    for the 1st parameter of domino.dataplane.agent.server.messaging.DataPlaneMessagingServerProvider.<init>(DataPlaneMessagingServerModule.scala:194)
  while locating domino.dataplane.agent.server.messaging.DataPlaneMessagingServerProvider
  at domino.dataplane.agent.server.messaging.DataPlaneMessagingServerModule.configure(DataPlaneMessagingServerModule.scala:32)
  while locating domino.dataplane.agent.server.messaging.DataPlaneMessagingServer

1 error
 at com.google.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:554)
 at com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:188)
 at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:111)
 at com.google.inject.Guice.createInjector(Guice.java:87)
 at com.google.inject.Guice.createInjector(Guice.java:69)
 at domino.dataplane.agent.server.messaging.Agent$.main(Agent.scala:57)
 at domino.dataplane.agent.server.messaging.Agent.main(Agent.scala)
Caused by: domino.dataplane.agent.api.utils.HttpException: {""errors"":[""invalid secret id""]}
```

* * *

## **Root Cause:**

There is a complex renewal and rotation mechanism for credentials involving Vault for communication between Nucleus and Dataplane Agent.  If there is a long period of time in which Nucleus and Dataplane Agent are not able to communicate with each other (like downtime, etc) then the Agent gets into an unrecoverable state.

* * *

## **Resolution:**

Local only deploys:

1.  Delete `agent-app-role` secret.
2.  Restart nucleus dispatcher pod
3.  Restart DataPlane Agent pod

Multi-plane deploys

1.  Obtain new bootstrap token by generating a Helm install command in the Admin UI.
    
2.  Delete `agent-app-role` secret.
    
3.  Edit `data-plane` Deployment to update the bootstrap token environment variable with the new token.
    
4.  This should cause the Agent to restart and bootstrap a new identity.
    

* * *

## **Notes/Information:**

Following the restart of data-plane-agent, also consider restarting the pusher-service

kubectl delete pod -n domino-platform -l app.kubernetes.io/name=pusher-service

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/articles/9495401866900-GPU-Workspace-not-able-to-start-and-exits-with-error)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851-How-to-Troubleshoot-Autoscaling-ASG-Issues)

### Related articles

*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQwJweFCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQY%3D--8b706340709f508dcc4a6113ee8efe06946c5908)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQwJweFCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--f418ace89f087b14ecdcaf5702b9f8dd40586685)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQwJweFCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCA%3D%3D--88ee69a1775f83fa7888e17d927a1cf3cbae1de3)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQwJweFCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kJ--601db6dec45881f6982553612768d261a866fcfe)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQwJweFCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--5fcbb6fb4c4e6f2137d6c3ca03bc6387c785103f)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsearch&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/18178291744532-Workspace-cannot-be-deleted-from-current-state,"## **Version:**

Domino 5.x

## **Issue:**

If you are unable to delete a workspace that appears Stopped and see a message like ""Workspace cannot be deleted from current state"", it likely means that the mongo collections that record the status of a workspace and workspace session did not correctly receive all of the information required to put the workspace in a completely ""Stopped"" status that allows it to be deleted.

![workspace_delete_error.png](https://tickets.dominodatalab.com/hc/article_attachments/18178244802196)

## **Root Cause:**

There are mongoDB collections that record the status of a Workspace and of each individual session of a Workspace. If the communication path to mongoDB is unavailable or unhealthy it is possible that not all of the proper information associated with the shutdown of a workspace gets recorded correctly. 

To check the records for a Workspace and it's latest session and verify this is the issue occurring, you will need the **WorkspaceId** and **Workspace SessionId**. These can both be found in a Workspace's history by going to History>>Sessions.  Select the latest session and find your workspaceId and sessionId from the URL:

![workspace_and_session_ids.png](https://tickets.dominodatalab.com/hc/article_attachments/18178261098260)

Next go to the MongoDB CLI in the admin UI, Admin>>Advanced>>MongoDB.

### Check and Backup the Workspace record

```
rs.secondaryOk()
```

Results will look like this:

{
	""\_id"" : ObjectId(""64b9af0415dc470ecd76ddc1""),
	""projectId"" : ObjectId(""63bef167dac2b02870d01981""),
	""ownerId"" : ObjectId(""63bef165dac2b02870d0197f""),
	""name"" : ""DSE 5.5"",
......
	""state"" : ""Stopped"",
	""stateUpdatedAt"" : ISODate(""2023-08-10T20:14:37.642Z""),
	""sessionStats"" : {
		""runTimeSec"" : NumberLong(0),
		""lastEndTime"" : ISODate(""2023-08-10T20:14:37.642Z""),
		""lastStartTime"" : ISODate(""2023-08-10T17:00:09.654Z"")
	},
	""markedForDeleteTime"" : null,
	""startRequested"" : null,
	""currentSessionId"" : null,
	""stopRequested"" : null
}

Take a copy of these results as a backup.

In the results above, the most important values for a properly Stopped and ready to be deleted Workspace are ""state"", ""startRequested"", ""currentSessionId"", and ""stopRequested"". If any of these are different from the above, you'll need to run a query to update the Workspace as detailed under 'Resolution' below.

### Check and Backup the most recent Workspace Session

```
rs.secondaryOk()
```

Results will look like this:

{
	""\_id"" : ObjectId(""64d51787384ff45e1185bbb3""),
	""workspaceId"" : ObjectId(""64b9af0415dc470ecd76ddc1""),
	""executionId"" : ObjectId(""64d51787384ff45e1185bbb4""),
......
	""start"" : {
		""time"" : ISODate(""2023-08-10T16:59:51.632Z"")
	},
	""sessionExecutionState"" : ""Ended"",
	""rawExecutionDisplayStatus"" : ""Stopped"",
	""rawExecutionDisplayStatusUpdatedAt"" : ISODate(""2023-08-10T20:14:37.642Z""),
.....
	""end"" : {
		""time"" : ISODate(""2023-08-10T20:14:37.670Z""),
		""exitStatus"" : ""Succeeded"",
		""repoDirty"" : true
	}
}

Take a copy of these results as a backup.

In the results above, the most important values for a properly Stopped and ready to be deleted Workspace Session are ""sessionExecutionState"" and ""rawExecutionDisplayStatus"". If any of these are different from the above, you'll need to run a query to update the Workspace Session as detailed under 'Resolution' below.

## **Resolution:**

Fixing these records to allow a problematic Workspace to be deleted requires running mongo queries to update the mongo database. If your administrator is comfortable making a mongo database change like this, the process is below.

If your administrator is not comfortable with making this change, the Domino Support team can  
assist. We still treat these changes with care and document a change request internally.  This can take us a day or two to get approved and turned around.

**Caution!  
**Manual editing of the mongo database that backs Domino is not recommended.  It is an inherently dangerous task and incorrect changes in the mongo database can make an entire deployment inaccessible. 

### To update the Workspace record:

```
db.workspace.update({""_id"" : ObjectId(""<workspaceId>"")}, {$set: {""state"": ""Stopped"", ""currentSessionId"": null, ""stopRequested"": null, ""startRequested"": null}})
```

### To update the Workspace Session record:

db.workspace\_session.update({""\_id"" : ObjectId(""<SessionId>"")},   
{$set: {""sessionExecutionState"" : ""Ended"", ""rawExecutionDisplayStatus"" : ""Stopped""}}) 

After checking and updating the mongoDB records for a Workspace and its latest Session as described above, you should now be able to go back to the Domino UI and successfully delete the Workspace.

If you run into issues please don't hesitate to raise a ticket with our Support team and provide details on the Workspace, the backup copies taken from the Workspace and Workspace Session mongoDB records, as well as any mongoDB queries you've already run.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/16506164540820-Environment-builds-never-leave-queued-Hephaestus-manager-logging-X509-certificate-has-expired-or-is-not-yet-valid,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16506164540820-Environment-builds-never-leave-queued-Hephaestus-manager-logging-X509-certificate-has-expired-or-is-not-yet-valid/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino v5.2.0+

## **Issue:**

Symptoms in the UI will be that Compute Environment builds never leave queued.  A kubernetes admin will note that the logs from the hephaestus-manager pod will include the error:

X509: certificate has expired or is not yet valid

This failure will require intervention from an admin with kubernetes access.  Reach out to Domino support if you are uncertain who your internal administrators are.

## **Root Cause:**

The hephaestus builder is the v3 builder in Domino that was released with Domino v5.2.  If it is unable to renew its cert it may expire and cause builds to fail to initiate. 

We have seen a few failure modes for this, the cert-manager pod was OOMkilled, in another failure instance two separate cert-manager pods were running in the deployment which caused a race condition, in another failure instance the cert-manager related pods have lost connections and not recovered due to a bug in that opensource product (bug [here](https://github.com/cert-manager/cert-manager/issues/4685)) .  There may be other failure modes that have not yet been documented as well.  

## **Resolution:**

Steps to recover from this failure are to first stabilize your cert-manager.  If your cert-manager has been OOMKilled, edit the cert-manager deployment and increase the memory limit.  Per the bug above if cert-manager and cert-manager-webhook contain EOF errors you will need to restart them.  If you find two cert-manager's are deployed, you may need to reach out to Domino support for assistance (see note on this below).  

Once you have stabilized the cert-manager you may need to refresh the kubernetes secret and restart the hephaestus deployment, buildkit, and nucleus.   Optionally you can ask Tech Support for a restart script.

kubectl delete secret -n domino-platform hephaestus-webhook-tls  
kubectl -n domino-platform rollout restart deploy hephaestus-manager

Wait for hephaestus manager to restart before proceeding then scale buildkit to 0 and back to 5

kubectl scale sts -n domino-compute hephaestus-buildkit --replicas=0

Wait for hephaestus-buildkit pots to terminate than scale back to 5.

kubectl scale sts -n domino-compute hephaestus-buildkit --replicas=5

A final step is to restart nucleus services. 

**Caution!  
**Prior to Domino **5.6.2** restart of the Domino nucleus-dispatcher can kill existing workloads and the restart should not be done if critical workloads are running at these versions.

Nucleus services can always be restarted from the Domino UI, `Admin>>Advanced>>Restart Services`.  This will do a rolling restart of all 3 of Domino's nucleus services including the dispatcher.   

But if you are already on the command line, you can execute the following restarts.

kubectl rollout restart deploy nucleus-frontend -n domino-platform  
kubectl rollout restart deploy nucleus-dispatcher -n domino-platform #(see caution above)  
kubectl rollout restart deploy nucleus-train -n domino-platform

**Notes/Information:**

When looking at whether you have two cert manager's running, do not be confused by a list of cert-manager pods that looks like the following, this is normal.

kubectl get po -A | grep cert-manager  
cert-manager-6cfc95b946-lg9ds   
cert-manager-cainjector-6cdb78646f-28vqk   
cert-manager-webhook-75bfcb95c8-jdpfr  
custom-cert-manager-68cdd9477c-tvz2r

What you should look for are multiple cert-manager deployments

kubectl get deployments -A -l 'app.kubernetes.io/instance=cert-manager'

If this returns more than one cert-manager deployment, this can create a race condition and failures in the build manager.  If you are uncertain how to resolve multiple cert-manager deployments, reach out to support for assistance.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/articles/9495401866900-GPU-Workspace-not-able-to-start-and-exits-with-error)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this)

### Related articles

*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT1EiQDDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQY%3D--35f49c32ce42c3a7fb8e51a40cbdccaafa1ae7fa)
*   [Hephaestus environment build failures in Domino 5.2.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCSYhUBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT1EiQDDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzgwNTk2NDUxNjYyMjgtSGVwaGFlc3R1cy1lbnZpcm9ubWVudC1idWlsZC1mYWlsdXJlcy1pbi1Eb21pbm8tNS0yLTAGOwhUOglyYW5raQc%3D--4c480ecd2f137a93245f963b51ea93297b63928b)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT1EiQDDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--11954beab104abd0f7a9c40839bcd237bf95a16c)
*   [Pod Disruption Budget prevents cluster maintenance](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTAOYCPBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT1EiQDDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzcyMTM0MDEzNTgzNTYtUG9kLURpc3J1cHRpb24tQnVkZ2V0LXByZXZlbnRzLWNsdXN0ZXItbWFpbnRlbmFuY2UGOwhUOglyYW5raQk%3D--102bf848d16e2a8ac5c1cad7deca0ba110245509)
*   ['pip install' throws SSL Certificate Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTiv6UIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT1EiQDDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2MzQyMTAzMjA5MTYtLXBpcC1pbnN0YWxsLXRocm93cy1TU0wtQ2VydGlmaWNhdGUtRXJyb3IGOwhUOglyYW5raQo%3D--0835870195ff712dd9fd039eaa72e607dc19f973)"
https://tickets.dominodatalab.com/hc/en-us/articles/19423266573588-Can-I-upgrade-my-Environment-to-Python-3-10,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19423266573588-Can-I-upgrade-my-Environment-to-Python-3-10/subscription.html ""Opens a sign-in dialog"")

### Issue

I have Python 2, Python 3 etc. I need Python 3.10 or better

Can I upgrade Python 3.10 with security patches or fixes?

I have DSE 5.3 up to 5.7 and would like Python 3.10

### Solutions to the above

There is an option to re-install Miniconda to a release more suitable to your purpose.

Please find included the Dockerfile which will work for Domino 5.2 and later and will allow you to repeat the installation steps of the Python installation and run basic upgrade of conda, which is assumed to stabilise the Environment. This may downgrade some packages and upgrade others and you will need to review the particular versions you need and run the preceding conda or pip install commands - through the Dockerfile, requirements.txt or other means.

### Tested and compliant

Python 3.8 and Python 3.9 are available in DSE images and tested. Depending on the release you require, you might be able to test using an upstream DSE image for the next Domino release. This may have unintended consequences and some IDE's may not work. There is no testing done for new Environments on older releases.

### Security requirements and patches for Python 3.9 or 3.10

To upgrade conda and Python, you can make an derivative of your Environment or append it with:

RUN conda install -c conda-forge -y --force-reinstall python==3.9.18 conda  
or  
RUN conda install -c conda-forge --force-reinstall python=3.10.12

This will rebuild the conda packages and install Python 3.9.18 or Python 3.10.12 based on which path and requirement.

### My DSE base image has an older Python (3.8 or 3.9), can I upgrade to Python 3.10?

Please find attached Dockerfile examples which should enable upgrading Domino provided default Environments and will also install conda to match. These are tested against standard Environments from quay.io.

Primarily what they do is download Miniconda, re-install a few base packages BUT does not aim for highest releases of python or conda installed packages. Your dependancy may require additional work.

Since there are known issues with older DAD/DSE images, please check the KB articles for additional Dockerfile assistance if you're stuck on OS or apt commands (i.e. yarn, nvidia, sbt, pgp related errors show up in your build).

Use the Dockerfile at your own risk and leisure - each file extension has the Domino release it was tested against. Remove the FROM line, which shows which quay.io image was tested against as well.

The attached Dockerfile is primarily tested against a Domino 5.2 Environment.

### Recently viewed articles

*   [Workspace cannot be deleted from current state](https://tickets.dominodatalab.com/hc/en-us/articles/18178291744532-Workspace-cannot-be-deleted-from-current-state)
*   [Environment builds never leave queued: Hephaestus-manager logging ""X509: certificate has expired or is not yet valid""](https://tickets.dominodatalab.com/hc/en-us/articles/16506164540820-Environment-builds-never-leave-queued-Hephaestus-manager-logging-X509-certificate-has-expired-or-is-not-yet-valid)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/articles/9495401866900-GPU-Workspace-not-able-to-start-and-exits-with-error)

### Related articles

*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSN51SqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpBg%3D%3D--28686b98fc6ea41bcb371e9afd930caa935ded79)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS31UaqEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSN51SqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE5NDIzMDMwNTIzNjY4LUNhbi1JLXVwZ3JhZGUtUHl0aG9uLWluLW15LUVudmlyb25tZW50BjsIVDoJcmFua2kH--6157cdeef5daf9ca75a169ff89a79dde27bfd08e)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSN51SqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQg%3D--96965e66ca7ff4e92f03fe1094500fe8ca615f0e)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSN51SqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--bf7365624649e0517f5b4af3df2ae2eade43190f)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTyjGWqEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSN51SqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzE5NDIzNTQ1ODQ4MzQwLUNhbi1JLXVwZ3JhZGUtbXktRW52aXJvbm1lbnQtdG8tUHl0aG9uLTMtMTEGOwhUOglyYW5raQo%3D--125a609e014ce9adfb7e32b513e9fd30e32c8673)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360059918151-Domino-Support-Operating-Procedures&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCKp6sdFTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEdXPtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDAwMDM1NDk4Ni1XaGF0LW1hY2hpbmUtaXMtbXktd29ya3NwYWNlLXJ1bm5pbmctb24GOwhUOglyYW5raQo%3D--cc0fda283e652d87ad3e44b1cb47d8425e1ee561,"![](https://tickets.dominodatalab.com/system/photos/380339863/Screen_Shot_2017-11-01_at_9.18.15_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360000354986-What-machine-is-my-workspace-running-on/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

3.x, 4.x & 5.5.x

* * *

## **Issue:**

Admins and users might be curious which machine their runs (workspace/app/job) is running on.

* * *

## **Root Cause:**

Runs are containers (virtualization) are organized into pods by kubernetes and these pods are assigned to particular nodes, partly determined by chosen Hardware Tier. 

* * *

## **Resolution:**

In 4.x and 5.5.x an Admin can determine this information by browsing the Admin -> Executions page and hitting the 'Node' link under Infrastructure Details.

![exec.png](https://tickets.dominodatalab.com/hc/article_attachments/14202460622228)

Node link page example:

![Screenshot_2023-03-23_at_2.24.02_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14202603182356)

A user might be able to see this in the run's Setup log, depending on how longer certain entries remain visible in that log page, for example, look for the ""Successfully assigned"" message:

![setup.png](https://tickets.dominodatalab.com/hc/article_attachments/14202505485332)

In 3.x When you launch a workspace, you will be able to see which instance your workspace is running on in two places:

1\. Popup info bubble on the workspaces page 

![upatel_quick-start_-_Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/360000783966/upatel_quick-start_-_Domino.png)

2\. Details page on the runs dashboard

### Recently viewed articles

*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Can I upgrade my Environment to Python 3.10?](https://tickets.dominodatalab.com/hc/en-us/articles/19423266573588-Can-I-upgrade-my-Environment-to-Python-3-10)

### Related articles

*   [What hardware will my code run on?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEDaYrDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKp6sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzIwNDE4NzE0OS1XaGF0LWhhcmR3YXJlLXdpbGwtbXktY29kZS1ydW4tb24GOwhUOglyYW5raQY%3D--fe8e94e26d6725e937420b66415576114bb73283)
*   [How to Share log files with Support in Domino 3.6.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSDcFCjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKp6sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzYxOTg5ODczNTkxMjQtSG93LXRvLVNoYXJlLWxvZy1maWxlcy13aXRoLVN1cHBvcnQtaW4tRG9taW5vLTMtNi14BjsIVDoJcmFua2kH--0fa19e45174db85a34525eacee5030a659565d0a)
*   [How to Get Workspace Logs : versions 4.0-.4.3](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAfiXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKp6sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTc1MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLXZlcnNpb25zLTQtMC00LTMGOwhUOglyYW5raQg%3D--12c49308fc83ca3048036eee4e5c7b04c6d3fa64)
*   [Uploading Files To Domino Using Your Browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBCmStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKp6sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyNDc1Mi1VcGxvYWRpbmctRmlsZXMtVG8tRG9taW5vLVVzaW5nLVlvdXItQnJvd3NlcgY7CFQ6CXJhbmtpCQ%3D%3D--8e67c82978f865b7056201d9c8ed997661392278)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKp6sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpCg%3D%3D--de3255fca1ecaacfcfbdaa4df438566d06a2b7ab)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360013096432-Domino-Support-Policies-and-Procedures&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/6198987359124-How-to-Share-log-files-with-Support-in-Domino-3-6-x,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [How to submit a Support request](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Sharing Files With The Domino Team](https://tickets.dominodatalab.com/hc/en-us/articles/360058041892-Sharing-Files-With-The-Domino-Team)
*   [Support Maintenance Exhibit: Terms and Conditions](https://tickets.dominodatalab.com/hc/en-us/articles/23268805858580-Support-Maintenance-Exhibit-Terms-and-Conditions)
*   [Conda Terms of Service (TOS) change.](https://tickets.dominodatalab.com/hc/en-us/articles/360059163431-Conda-Terms-of-Service-TOS-change)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/articles/360032174331-Support-Site-Sign-In-Please-Verify-Your-Email)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360013096432-Domino-Support-Policies-and-Procedures)

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6198987359124-How-to-Share-log-files-with-Support-in-Domino-3-6-x/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 3.6.  Note that Domino 3.6 is EOL and no longer supported except by prior contractual agreement.

## **Issue:**

The nucleus services on 3.6.x are deployed as a standalone container on either the central node or on a dedicated frontend node.  Logs in Domino 3.6 are persisted to disk and their locations are deployment specific. They are usually under /opt or /domino. Note that frontend logs and dispatcher logs are both named application.log and are located on their individual central or frontend hosts.

Also, the logs files are set to rotate every hr or so (again deployment specific), meaning it will be best to grab them immediately after the problem occurs.

## **Notes/Information:**

If you are familiar with moving files from your deployment follow the steps you know.  If not a brief, generalized guideline is below, but reach out to support for assistance if needed.

*   ssh into appropriate node from your bastion or directly if allowed
*   cd to the logs location (mentioned above)
*   next we archive the files and compress them :
    *   \# tar -clf - . | gzip --best > ../""archive-name.tar.gz""
*   next we copy the compressed archive to the bastion host :- (from the bastion) scp ubuntu@ip:path/to/file path/to/local (make sure you have apt permissions to the remote file)
*   use pscp to copy the archive from bastion to local workstation (or you could use the mail builtin from dispatcher node, you could also do a curl to your smtp server and generate an email using that )
*   send the file across to the support via email or by uploading it to a Domino deployment accessible by both the parties.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [What machine is my workspace running on?](https://tickets.dominodatalab.com/hc/en-us/articles/360000354986-What-machine-is-my-workspace-running-on)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)

### Related articles

*   [Extending a LV from existing disks](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTl6mH2BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDcFCjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzY1NTU3NjI4Nzc3MTYtRXh0ZW5kaW5nLWEtTFYtZnJvbS1leGlzdGluZy1kaXNrcwY7CFQ6CXJhbmtpBg%3D%3D--1f7aa170fd0ce39192cca23e5460aefd36261c86)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDcFCjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpBw%3D%3D--50b3df767c6084311d9db885128295160463a842)
*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPsAl9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDcFCjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMjE3NDMzMS1TdXBwb3J0LVNpdGUtU2lnbi1Jbi1QbGVhc2UtVmVyaWZ5LVlvdXItRW1haWwGOwhUOglyYW5raQg%3D--bc64fcced8b115c43aacda53d0775081637efc60)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDcFCjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQk%3D--dc2085a631a2340119881f7f2321f2a3badd88bf)
*   [Splitting big files in a terminal](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQc5mKjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDcFCjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzYxOTkyOTcwNTU4OTItU3BsaXR0aW5nLWJpZy1maWxlcy1pbi1hLXRlcm1pbmFsBjsIVDoJcmFua2kK--9b792512a40ad91c13e86586e517d0f52b66cf28)"
https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360059504652-Scope-of-Support-Coverage&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwIONVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCg%3D%3D--270541ba9eccf6d73da69f9a21044b9745316f3a,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4403282866452-Bintray-repository-fix-E-Failed-to-fetch-https-dl-bintray-com-sbt-debian-InRelease/subscription.html ""Opens a sign-in dialog"")

If your Compute Environment's dockerfile instructions contains ""apt-get update"" or ""apt update"" and the base image is based on the DAD, you may encounter an error while trying to revise then build that Environment.  See below for details.

As of the 4th of July, 2021, the JFrog Bintray service has been sunset and is no longer operational.

Please see the following links for additional information:

[https://status.bintray.com/](https://status.bintray.com/)

[https://jfrog.com/center-sunset/](https://jfrog.com/center-sunset/)

The Bintray service is referenced by Ubuntu's apt-get package manager in our Domino Analytics Distribution environments (DAD).

This can cause build errors in **ALL** Domino images that are based upon our default Domino Analytics Distribution environment (DAD).  The trigger which causes the error upon build is the presence of Dockerfile instructions involving commands ""apt-get update"" or ""apt update"". 

Please consider the following two options to avoid the environment build error `failed to fetch e: https://dl.bintray.com/sbt/debian/InRelease.`

## Option 1) Add the below code to the top of your dockerfile.

If you would prefer to maintain the same DAD version as your base image, add this code to the top of your dockerfile.

NOTE: Once your base image is corrected with this code, remove the code or remove the apt remove commands: **&& apt -y remove sbt && apt -y purge sbt**

\# if you also have the nvidia repo fix, put this AFTER that  
RUN rm -f /etc/apt/sources.list.d/sbt.list && \\  
 sed 's/deb http:\\/\\/apt.postgresql.org\\/pub\\/repos\\/apt\\/ precise-pgdg main//' /etc/apt/sources.list.d/pgdg.list -i && \\  
 sed -i 's/precise/bionic/g' /etc/apt/sources.list.d/pgdg.list && \\  
 # Correct GPG key expiration for cloud.r-project.org -- [https://community.dominodatalab.com/post/editdiscussion/484](https://community.dominodatalab.com/post/editdiscussion/484)  
    gpg --keyserver [hkp://keyserver.ubuntu.com:80](hkp://keyserver.ubuntu.com:80) --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9 && \\  
    gpg -a --export E298A3A825C0D65DFD57CBB651716619E084DAB9 | sudo apt-key add -  
RUN <<EOF  
 apt update -qqq || echo ""Error is ok here""  
 apt -y remove sbt || echo ""Error is ok here""  
 apt -y purge sbt || echo ""Error is ok here""  
EOF  
RUN curl -L [https://github.com/sbt/sbt/releases/download/v1.4.7/sbt-1.4.7.tgz](https://github.com/sbt/sbt/releases/download/v1.4.7/sbt-1.4.7.tgz) --output /tmp/sbt.tgz && \\  
 cd /usr/share && \\  
 tar xfz /tmp/sbt.tgz && \\  
 ln -sf /usr/share/sbt/bin/sbt /usr/bin/sbt && \\  
 rm -f /tmp/sbt.tgz

## Caveat - port 80 or hkp not working

### (this can lead to neverending timeout)

\# if you also have the nvidia repo fix, put this AFTER that  
RUN rm -f /etc/apt/sources.list.d/sbt.list && \\  
 sed 's/deb http:\\/\\/apt.postgresql.org\\/pub\\/repos\\/apt\\/ precise-pgdg main//' /etc/apt/sources.list.d/pgdg.list -i && \\  
 sed -i 's/precise/bionic/g' /etc/apt/sources.list.d/pgdg.list && \\  
 # Correct GPG key expiration for cloud.r-project.org -- [https://community.dominodatalab.com/post/editdiscussion/484](https://community.dominodatalab.com/post/editdiscussion/484)  
curl -sSL \\  
'http://keyserver.ubuntu.com/pks/lookup?op=get&search=0xE298A3A825C0D65DFD57CBB651716619E084DAB9' \\  
  | sudo apt-key add -  
RUN <<EOF  
apt update -qqq || echo ""Error is ok here""  
apt -y remove sbt || echo ""Error is ok here""  
apt -y purge sbt || echo ""Error is ok here""  
EOF  
RUN curl -L [https://github.com/sbt/sbt/releases/download/v1.4.7/sbt-1.4.7.tgz](https://github.com/sbt/sbt/releases/download/v1.4.7/sbt-1.4.7.tgz) --output /tmp/sbt.tgz && \\  
 cd /usr/share && \\  
 tar xfz /tmp/sbt.tgz && \\  
 ln -sf /usr/share/sbt/bin/sbt /usr/bin/sbt && \\  
 rm -f /tmp/sbt.tgz

## Option 2) Update your DAD base image

For a more permanent fix, you can rebuild your image using our latest version of the DAD that no longer attempts to load the bintray repo. 

1.  First, find the latest version of our DAD in [quay.io](https://quay.io/domino/base) (or docker.io for deprecated versions).
2.  Add it to your organization's container registry (Quay, Dockhub, etc.) Use the Fetch Tag, to view the Pull Tag for the appropriate format.
3.  Now you can use it as your base image when building the environment. Example below:  
    ![Screen_Shot_2021-07-14_at_9.27.56_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4403650446228)

If you're new to environment management, consider reviewing our docs site:  [https://docs.  dominodatalab.com/en/4.5/  reference/environments/Video\_  introduction\_to\_Domino\_  Environmen...](https://docs.dominodatalab.com/en/4.5/reference/environments/Video_introduction_to_Domino_Environments.html)

**NOTE:** Starting with our next minor release of Domino (v4.5.1), new installations will have the fixed DAD pre-installed for use. However, the time of that release is TBD.

### Recently viewed articles

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Support Definitions](https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxHDgBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--f69cb826213395de7034e6f782667ae33998c4c9)
*   [Environment build fails with GPG error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGTYX9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxHDgBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjExMzg5Mi1FbnZpcm9ubWVudC1idWlsZC1mYWlscy13aXRoLUdQRy1lcnJvcgY7CFQ6CXJhbmtpBw%3D%3D--72f9650fabc594a8386086700025fede47591b51)
*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxHDgBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kI--4a11b11766f40009236636c5051c38d9480dbeb6)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxHDgBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCQ%3D%3D--af7592c44931f73eb371c66b99ec9422fec61299)
*   [Project clone succeeds but creates error, ""Your metadata headers exceed the maximum allowed metadata size""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjMPMABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxHDgBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiC9oYy9lbi11cy9hcnRpY2xlcy80NDAyMTI2NTYyMDY4LVByb2plY3QtY2xvbmUtc3VjY2VlZHMtYnV0LWNyZWF0ZXMtZXJyb3ItWW91ci1tZXRhZGF0YS1oZWFkZXJzLWV4Y2VlZC10aGUtbWF4aW11bS1hbGxvd2VkLW1ldGFkYXRhLXNpemUGOwhUOglyYW5raQo%3D--db1aaa28190ac8a40661bfb225575e14f65c02f3)"
https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360060058871-Service-Level-Agreement&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360001279683-How-to-submit-a-Support-request&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360001279683-How-to-submit-a-Support-request/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQg%3D--8d999024ead5cab490f729ca32b4e94e54a95ae7,"### Issue

I want to download multiple files and folders and get a feature rich Filebrowser or Filemanager.

### Solutions

[https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset) has a basic Flask-based browser!

Or use [filebrowser.org](https://tickets.dominodatalab.com/hc/en-us/related/filebrowser.org)'s more feature-rich method. See the bottom of this page first!

#### Create an Environment or add this command to an existing environment:

RUN curl -fsSL https://raw.githubusercontent.com/filebrowser/get/master/get.sh | bash

#### Create an app.sh file, note you must replace DominoUser and DominoProject with your user name and Project:

#!/bin/bash

filebrowser -a 0.0.0.0 -p 8888 -b /<Domino User>/<DominoProject>/r/notebookSession/${DOMINO\_RUN\_ID}/ -r /mnt

Note, you keep the ${DOMINO\_RUN\_ID} which maps the reverse URL (i.e. ReverseProxied in Flask)

The -r parameter will be the base path, i.e. /mnt or / to see all files.

This is **not** an endorsed solution and the filebrowser.org's install is a binary which cannot be edited, or reviewed. The filebrowser.org github is: [https://github.com/filebrowser/filebrowser](https://github.com/filebrowser/filebrowser) for review and vetting, and _you may want to compile the binary internally_ for audit reasons."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ66c4DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzE1NjM2NDk4MjA2ODY4LURvbWluby1EYXRhc2V0cy1GZWF0dXJlLXJlcXVlc3QtdG8tYmUtYWJsZS10by1tb3VudC1kYXRhc2V0cy10by1Nb2RlbC1BUElzBjsIVDoJcmFua2kH--0d234140cd561ec207979fd4c28494d21e3bc719,"#### _**Version/Environment (if relevant):**_

All versions

* * *

## **Issue:**

It is currently not possible to mount a dataset to a Model API.

* * *

## **Root Cause:**

Datasets are integrated in almost all execution workflows. This includes: Workspaces, Jobs, Scheduled Jobs, Launchers, and Apps. However, datasets are not available in Model APIs. 

* * *

## **Resolution:**

We have a feature request to support Datasets with Model APIs. For reference: DOM-26073

If you find this functionality valuable, please [submit a ticket with Domino Support](https://tickets.dominodatalab.com/hc/en-us/articles/360001279683) so that we can ""add your vote"" to this feature request.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kJ--cc018f3f4f9082e8e8944e91d450b7166050a85b,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6101281885076-Build-error-for-nvidia-GPG-key/subscription.html ""Opens a sign-in dialog"")

If your build is failing during an 'apt-get update' command with the following error...

Reading package lists... Done  
W: GPG error: https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86\_64 InRelease: The following signatures couldn't be verified because the public key is not available: NO\_PUBKEY A4B469963BF863CC  
E: The repository 'https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86\_64 InRelease' is not signed.  
N: Updating from such a repository can't be done securely, and is therefore disabled by default.  
N: See apt-secure(8) manpage for repository creation and user configuration details.

...you have run in to a known issue that occurred due to an expiration of the nvidia gpg key. 

A new key is available and can be installed in your build with the following process.  Take note of the inline comments as they are important.

#fix nvidia gpg key  
\# if you also have gpg/pgsql/sbt fix, put this before  
RUN \\  
#The following files may not exist in your environment and the commands will fail the build if they don't,  
#so comment out the next two lines as needed  
sudo rm /etc/apt/sources.list.d/cuda.list || echo ""This can fail if non-existent""  
RUN sudo rm /etc/apt/sources.list.d/nvidia-ml.list || ""This can fail if non-existent""  
#  
#The ubuntu version in the URL below is important, note this example is for Ubuntu 18.04.   
#You can find your ubuntu version with the command in a workspace terminal.  
#lsb\_release -a  
#  
#Update the URL as per the following nvidia article  
#https://developer.nvidia.com/blog/updating-the-cuda-linux-gpg-repository-key/  
RUN wget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu1804/x86\_64/cuda-keyring\_1.0-1\_all.deb && \\  
sudo apt-key del 7fa2af80 && \\  
sudo dpkg -i cuda-keyring\_1.0-1\_all.deb

**NOTE**: when adding the additional instructions make sure the new RUN commands are executed prior to any other update operations (apt or yum), otherwise the run will fail . 

### Recently viewed articles

*   [Domino Datasets: Feature request to be able to mount datasets to Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/15636498206868-Domino-Datasets-Feature-request-to-be-able-to-mount-datasets-to-Model-APIs)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/articles/6212731851156-New-AWS-GPU-nodes-autoscale-but-fail-to-get-added-to-Kubernetes-cluster)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [Environment build fails with GPG error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGTYX9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLvZCMBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjExMzg5Mi1FbnZpcm9ubWVudC1idWlsZC1mYWlscy13aXRoLUdQRy1lcnJvcgY7CFQ6CXJhbmtpBg%3D%3D--5d1d8ed095002f1a2b0f6329609ad4a8f889fe6a)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRrIOmBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLvZCMBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzYyMTI3MzE4NTExNTYtTmV3LUFXUy1HUFUtbm9kZXMtYXV0b3NjYWxlLWJ1dC1mYWlsLXRvLWdldC1hZGRlZC10by1LdWJlcm5ldGVzLWNsdXN0ZXIGOwhUOglyYW5raQc%3D--a6c0ee97be9a70ff7d8bcc6658c4e13eee0c17e1)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLvZCMBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kI--304c7c6468fd5a859f2a6289c712f10cabaf3143)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLvZCMBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kJ--7c02d146b93b36c8cb45559ddd910f57ee05a9e6)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRLvZCMBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--b266596de3c00b366f7a8ddd4b824e3120aa4541)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS12Q7lBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMOWv9FTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzUzODE4NDMxNzA1ODAtVW5hYmxlLXRvLXJlZ2lzdGVyLWEtTW9kZWwtTW9uaXRvci10aGF0LXVzZXMtYS1maWxlLWZyb20tUzMtRGF0YXNvdXJjZQY7CFQ6CXJhbmtpCg%3D%3D--2e71e8a7e0dcc95e3681b2ec12521f58c004ea08,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5381843170580-Unable-to-register-a-Model-Monitor-that-uses-a-file-from-S3-Datasource/subscription.html ""Opens a sign-in dialog"")

If you're seeing Dataset Details Status stuck in Pending or Failed status with Calculation errors (like the below) when attempting to register a Model Monito that uses a file from datasource in Domino releases of 5.0.0, 5.0.1, 5.0.2 or 5.1.0...

![Screen_Shot_2022-03-16_at_11.07.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/5381612195092)

DMM compute node it logs, 

No AWS Credentials provided by InstanceProfileCredentialsProvider : com.amazonaws.SDKClientException: Unable to load credentials from service endpoint

And Plier log has 

ERROR: root: Model variable not found for model id: 

...Please contact your local administrator to check and add the label:

`**aws-metadata-client: ""true""**`to spark3-worker nodes as a workaround (**_this issue is fixed in Domino 5.2.0_**). 

\[ec2-user@ip-10-0-0-9 ~\]$ kubectl -n domino-compute get sts spark3-worker -o yaml  
apiVersion: apps/v1  
kind: StatefulSet  
metadata:  
  annotations:  
    meta.helm.sh/release-name: spark3  
    meta.helm.sh/release-namespace: domino-platform  
  creationTimestamp: ""2022-03-28T17:35:31Z""  
  generation: 1  
  labels:  
    app.kubernetes.io/component: worker  
    app.kubernetes.io/instance: spark3  
    app.kubernetes.io/managed-by: Helm  
    app.kubernetes.io/name: spark  
    helm.sh/chart: spark3-3.0.2-0.5.3  
  name: spark3-worker  
  namespace: domino-compute  
  resourceVersion: ""34752""  
  uid: 5ec369e3-6340-4d5a-9865-62f3895918f4  
**spec:**  
  podManagementPolicy: OrderedReady  
  replicas: 1  
  revisionHistoryLimit: 10  
  selector:  
    matchLabels:  
      app.kubernetes.io/component: worker  
      app.kubernetes.io/instance: spark3  
      app.kubernetes.io/name: spark  
  serviceName: spark3-worker-headless  
  template:  
    metadata:  
      annotations:  
        prometheus.io/path: /metrics/  
        prometheus.io/port: ""8081""  
        prometheus.io/scrape: ""true""  
      creationTimestamp: null  
      labels:  
        app.kubernetes.io/component: worker  
        app.kubernetes.io/instance: spark3  
        app.kubernetes.io/name: spark  
        `**aws-metadata-client: ""true""**`  
        compute-client: ""true""  
        zookeeper-client: ""true""  

### Recently viewed articles

*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/articles/6101281885076-Build-error-for-nvidia-GPG-key)
*   [Domino Datasets: Feature request to be able to mount datasets to Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/15636498206868-Domino-Datasets-Feature-request-to-be-able-to-mount-datasets-to-Model-APIs)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/articles/6212731851156-New-AWS-GPU-nodes-autoscale-but-fail-to-get-added-to-Kubernetes-cluster)

### Related articles

*   [RStudio 1.4.x in Domino - Temporary solution](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCD%2BhTNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS12Q7lBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDg1NDU5MS1SU3R1ZGlvLTEtNC14LWluLURvbWluby1UZW1wb3Jhcnktc29sdXRpb24GOwhUOglyYW5raQY%3D--84ead00539288cdc3274f725e807dce360133061)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS12Q7lBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kH--e868afa9051a3d9bff961a618247a8fcd48eec07)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS12Q7lBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kI--e7ca3aee6460c3e2b209795da15adab4729244c6)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTy%2FRZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS12Q7lBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NjQ3NzM2NTItQ2hhbmdlLURNTS1JTU0tY3JvbmpvYi1zY2hlZHVsZQY7CFQ6CXJhbmtpCQ%3D%3D--2ed5d42c8d43088d8f40c04dff3d1e388191a2b8)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS12Q7lBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--80ee64573f68d607f630a249552599e539d9af92)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360001279683-How-to-submit-a-Support-request,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360060058591-Support-Definitions&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360060058591-Support-Definitions/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT083YBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN97QNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzcxNzc2MjAtV2h5LWRvZXMtbXktd29ya3NwYWNlLWtlZXAtZ2V0dGluZy1zaHV0LWRvd24GOwhUOglyYW5raQo%3D--307fc713a76e933631a4f1e470210e91890ee8b4,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4404337177620-Why-does-my-workspace-keep-getting-shut-down/subscription.html ""Opens a sign-in dialog"")

If you tend to leave workspaces open and notice they are getting shut down at regular intervals, you may want to check with your local admin. To reduce server costs, Domino has a setting that will automatically terminate any workspaces that run beyond a specified time limit. We recommend syncing and shutting down workspaces regularly but know that users have varying workflows, so it's best to check with your local admin about the limit. Please note this only applies to workspaces and not jobs. 

Admins can check this setting by going to central config and looking for com.cerebro.domino.workspaceAutoShutdown.globalMaximumLifetimeInSeconds. 

### Recently viewed articles

*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/articles/360059918151-Domino-Support-Operating-Procedures)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/articles/360060058871-Service-Level-Agreement)

### Related articles

*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT083YBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--93d28195faddaa39a7ff64d69fe112b8ffd788e9)
*   [""R is taking longer to start than usual""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2FYP8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT083YBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzMzEwNDE1NTYtLVItaXMtdGFraW5nLWxvbmdlci10by1zdGFydC10aGFuLXVzdWFsBjsIVDoJcmFua2kH--77f2bcce908c33125054c8bab3b47ba3e4f773e8)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT083YBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kI--a18fc9dcb11bbb160806a4b2e74fdc3a2f5e24b6)
*   [Why does my computer use less memory than Domino to do the same job?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSOb10BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT083YBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDkwNzA0ODQtV2h5LWRvZXMtbXktY29tcHV0ZXItdXNlLWxlc3MtbWVtb3J5LXRoYW4tRG9taW5vLXRvLWRvLXRoZS1zYW1lLWpvYgY7CFQ6CXJhbmtpCQ%3D%3D--17c9dd0b76561a39e62849cd2b51ca6e7ff195a8)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT083YBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQo%3D--4a8573adf49ec428d85dc7e2f6cd3cad0356be51)"
https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23508980659348-Collaborating/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23508980659348-Collaborating&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360000203383-Working-with-Data&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23508980659348-Collaborating/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress/subscription.html ""Opens a sign-in dialog"")

**Question:** 

**Can a Domino Dataset be mounted as a shared dataset while a snapshot is in progress?** 

We were attempting to mount dataset A.1 from project A into project B as a shared dataset. When we selected the dataset and clicked the button to mount it…nothing happened.

We checked dataset A.1 and noticed it had a snapshot in progress. There was apparently a problem with the snapshot, as it had been under creation for about 6 hours. It was stuck at 99% but the estimated time remaining continued to grow.

When we cancelled the snapshot, dataset A.1 was immediately visible as a shared dataset for project B.

**Answer:** 

The answer to your question is **no**, a Domino dataset can not be mounted as a shared dataset while a snapshot is in progress.   
   
It is by design - when provisioning a dataset as a mount for an execution, the status of that dataset/snapshot must be `Active`. Once a snapshotting process initiates, it sets the status of that dataset/snapshot to `Copying` and thus it will not be provisioned as an execution mount (until the copy is complete, and the status goes back to `Active`).This is to prevent (to the best extent possible) concurrent writing and copying, which could  cause confusion as to what data is actually copied over to a new snapshot if folks are actively writing to it. 

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Why does my workspace keep getting shut down?](https://tickets.dominodatalab.com/hc/en-us/articles/4404337177620-Why-does-my-workspace-keep-getting-shut-down)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPY%2BBODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kG--e4cca99f0d9055261f0f59cf2b9c8a3cd7e80a05)
*   [Error ""Workspace could not be started. environment \_\_\_\_ not valid or authorized""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRhEaEDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPY%2BBODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2MzM2ODM3MzItRXJyb3ItV29ya3NwYWNlLWNvdWxkLW5vdC1iZS1zdGFydGVkLWVudmlyb25tZW50LW5vdC12YWxpZC1vci1hdXRob3JpemVkBjsIVDoJcmFua2kH--0e2f603e61a80f6681046c900151719b5e73dc80)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPY%2BBODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCA%3D%3D--87ba8db51c385aa51bcaf9de3d5bbf489ad11822)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR9iyAFBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPY%2BBODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MjAwNjczNjAwMjAtRmlyc3QtcnVsZS1vZi1DTEktVHJvdWJsZXNob290aW5nBjsIVDoJcmFua2kJ--fdc6554a01ad2a93ab9bb971343ae92fbdedb93d)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPY%2BBODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQo%3D--5dabad77e7a884a7d54f3764c5f36851e967396f)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API,"#### _**Version/Environment (if relevant):**_

Current version release of Domino at time of writing this article is 5.5.0

* * *

## **Issue:**

The Domino Data API has handy code for reading and extracting a resultset into a pandas dataframe described [here](https://docs.dominodatalab.com/en/latest/user_guide/fa5f3a/retrieve-data/)

ds = DataSourceClient().get\_datasource(""MySnowFlake"")  
res = ds.query....

But it doesn't yet provide means for writing a dataframe to snowflake.

* * *

## **Root Cause:**

In the current version this functionality has not been implemented directly in the Domino Data API.

* * *

## **Resolution:**

And simple example in Domino python script might be:

###Pull the OAuth token used to authenticate with the DataSourceClient and passed it to the snowflake connector via something like:

def get\_sf\_token():  
    """"""  
    Gets the Snowflake OAuth token to authenticate with the Python connector.

    Returns  
    -------  
    str  
        Snowflake OAuth token string used to authenticate

    """"""

    location = os.getenv(""DOMINO\_TOKEN\_FILE"", os.environ.get(""DOMINO\_TOKEN\_FILE""))

    with open(location, encoding=""ascii"") as token\_file:  
        return token\_file.readline().rstrip()

\### Get Snowflake username based on environment variables  
    sf\_username = os.environ.get(""DOMINO\_STARTING\_USERNAME"")\\  
                      .replace(""\_"", ""."") + ""@yourcompany.com""

    ### Set the connection  
    ctx = snowflake.connector.connect(  
        user=sf\_username,  
        authenticator=""oauth"",  
        token=get\_sf\_token(),  
        account=account,  
        warehouse=warehouse,  
        database=database,  
        schema=schema,  
        )

*   Then you can pass this to the very handy [write\_pandas](https://docs.snowflake.com/en/user-guide/python-connector-api.html#write_pandas) function mentioned above, which allows for inserts, overwrites, chunking, etc,

* * *

## **Notes/Information:**

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino/subscription.html ""Opens a sign-in dialog"")

Data Source are one of the new features we have in Domino. We have different ways to connect like DataRobot, Google Cloud Storage etc ( Kindly check [Domino Data Sources](https://docs.dominodatalab.com/en/latest/user_guide/fbb41f/domino-data-sources/) for specifics). One of them is Oracle. 

Below are some questions on how Oracle is managed under the hood that you might find useful.

A. Type of connector (e.g. Linux client + Python wrapper, or thin JDBC client, or whatever) and version(s)

\- We use a native go client ([https://github.com/sijms/go-ora#go-ora](https://github.com/sijms/go-ora#go-ora)) in our datasource proxy service

B. What security options are supported out-of-the-box, specifically about wire encryption & authentication

\- The client supports AES encryption starting[2.1.21](https://github.com/sijms/go-ora#version-2121), oracle auto-login starting[2.1.23](https://github.com/sijms/go-ora#version-2123), TCPS/SSL starting[2.1.24](https://github.com/sijms/go-ora#version-224)

C. How do we override the default Oracle client configuration used by your DataSource service, if needed (e.g. to use HTTP+TLS transport instead of the default TCP+proprietary-pseudo-SSL)?

\-We would need to add configuration support for the previous options which requires some engineering cycles (nothing major IMO) -- we already use version v2.5.2 in the proxy

D. Which versions of Oracle server are supported by the Oracle client you use in which version of Domino (i.e. compatibility matrix), because Domino upgrades occur more frequently than Oracle upgrades.?

\-The documentation suggests anything >`10.2`should be supported by go\_ora v2. For anything bellow we might need to test.

It would is suggested to check the links below for further reading and references. 

\*\* SEE:

[Domino Data Source](https://docs.dominodatalab.com/en/latest/user_guide/fbb41f/domino-data-sources/)

[Github Go Oracle](https://github.com/sijms/go-ora#go-ora))

### Recently viewed articles

*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)

### Related articles

*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTcE6mjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMk18fCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzYyMDA0NzQ0NTkyODQtU2VuZGluZy1lbWFpbHMtaW4tcHl0aG9uLXVzaW5nLXNtdHBsaWIGOwhUOglyYW5raQY%3D--4f1c088f1cf7e7e07b22130b40b20759b4c6fbf7)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQJH%2FICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMk18fCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2OTg1NjU5MDgtU2FtYmEtY2xpZW50cy1hcy1hbi1hbHRlcm5hdGl2ZS10by1DSUZTLW1vdW50ZWQtc2hhcmVkLWRyaXZlcwY7CFQ6CXJhbmtpBw%3D%3D--a73f0b6275e32682d64bfef67234cdcbf7d6d2eb)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMk18fCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kI--20a33f78be2cfb8048f60b66f073c96d30a5f289)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMk18fCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQk%3D--ceb7d92f5bb5b429c58258e6b37962227c74d1a5)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDCYddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSMk18fCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTg3NjcyMzk5NTYtRXh0cmFjdC11c2VybmFtZS1mcm9tLWxhdW5jaGVyLXJ1bnMtaW4tUHl0aG9uBjsIVDoJcmFua2kK--89f70e0998d0e8931ba9d4e443ae07a15638b2ef)"
https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset,"## Downloading files from Dataset

![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset/subscription.html ""Opens a sign-in dialog"")

**Environment**  
This article applies for all Domino platform versions as of the time of this writing. 

**Issue**

While the benefits of using Datasets are enormous, there is the obstacle of downloading files from the UI or any other method (API) . At present there is no functionality build to do this outside of a workspace .  In this article we will review a method for downloading files via a small flask application. 

**Resolution**

We are using a few components to put together an app which will allow for browsing and downloading 

files from our attached datasets. 

Setting up flask app and routing: 

[https://tickets.dominodatalab.com/hc/en-us/articles/360061119171-Publishing-A-Flask-Web-App-In-Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360061119171-Publishing-A-Flask-Web-App-In-Domino)

The code for the app: 

[https://github.com/MrAmbiG/folderview](https://github.com/MrAmbiG/folderview)

**Important:** _To setup the application we will require to first setup an environment which satisfies the code requirements. See requirements.txt and make sure you have the required packages._ 

Once the environment is setup we can start adding our files.   
To start the application we will use **app.sh** with the following content: 

```
export LC_ALL=C.UTF-8export LANG=C.UTF-8export FLASK_APP=app.pyexport FLASK_DEBUG=1python -m flask run --host=0.0.0.0 --port=8888
```

And for the application file we will use **app.py** file with the following content: 

```
# app.pyfrom flask import Flask from flask_autoindex import AutoIndexapp = Flask(__name__)ppath = ""/domino/datasets/local/"" class ReverseProxied(object):  def __init__(self, app):      self.app = app  def __call__(self, environ, start_response):      script_name = environ.get('HTTP_X_SCRIPT_NAME', '')      if script_name:          environ['SCRIPT_NAME'] = script_name          path_info = environ['PATH_INFO']          if path_info.startswith(script_name):              environ['PATH_INFO'] = path_info[len(script_name):]      return self.app(environ, start_response)app = Flask(__name__)AutoIndex(app, browse_root=ppath)    app.wsgi_app = ReverseProxied(app.wsgi_app)if __name__ == ""__main__"":    app.run()
```

**Note:**  the variable ""**ppath**"" is set to ""/domino/datasets/local/"" which is the mountpoint of all attached datasets to the current project . This is where you can change the base/root folder of our app . Before starting the app make sure you have attached the required datasets. 

Once we have our files in place we need to start the application. 

  
![Screenshot_2022-08-02_at_16.51.09.png](https://tickets.dominodatalab.com/hc/article_attachments/8266967790612) 

**Note:**  It is possible to use curl to pull files from the application however you will be required to use 

the authentication token.  An easy way to construct the **curl** request is to copy it from the 

developer console/networking tab , which will contain your authentication details .

curl 'https://<DOMINO DEPLOYMENT URL>/<USERNAME>/<PROJECT>/r/notebookSession/<SESSION ID>/TEST\_DOWNLOAD/test\_file.txt' \\  
\-H 'Cookie: dominoSession=<SESSION ID>; PLAY\_SESSION=<ID>; kc\_session\_state=<ID>' \\  
\--output ./test\_file.txt

### Recently viewed articles

*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [Scheduled Jobs: Feature request to make Git Reference section available on Git-based projects](https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects)

### Related articles

*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT2uwOFBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQY%3D--d646f58195b6c539412a1ddb144a2b9a6ce5542c)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT2uwOFBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQc%3D--dc2d8c410361f0deb6e121eaa62cc3c4f03dead0)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT2uwOFBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kI--e546ca3194ef7eeee0a1a9a3c61416d9bcfd772e)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT2uwOFBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--2ec37cf5db96daa37796559fff33e866493f09ad)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT2uwOFBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kK--4d91938ebbb5951128ea36bbeaa2fdfe9758f7cf)"
https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Copying data to & from a dataset within a Domino workspace terminal](https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data)

## Connecting to Bitbucket

![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket/subscription.html ""Opens a sign-in dialog"")

Domino supports importing several different Git repositories to projects, including [Bitbucket](https://bitbucket.org/product). There are two methods for connecting your Bitbucket repository to Domino: [SSH Key](#h_01G5PXRDGWQDW1YVXJHJQ607WY) and [App Password](#h_01G5PXSGECK4GS14TRD5SYPP0S). Once you have set up your Bitbucket credentials with Domino, you can [add your Bitbucket repo to your project](#h_01G5PXT6R3GKRZYPFYMXPBHG61). 

###   
**Method One: SSH Keys**

You will need to use a Terminal to create ssh keys. This can be done through your preferred Terminal, or, since you’re already using Domino, even in a Terminal in a Domino Workspace:

1.  Open a Terminal. Use the command `ssh-keygen` to create the key pair. You may optionally specify a folder and passphrase for the key, or simply hit ‘Enter’ to use the default settings.
2.  Get the _Private Key,_ which will be the one added to Domino. You can view and copy this with the command `cat ~/.ssh/id_rsa` (if you specified a different folder in the previous step you’ll need to substitute that here). Copy this key, including the text **\-----BEGIN RSA PRIVATE KEY-----** and **\-----END RSA PRIVATE KEY-----**.
3.  In another Domino window, access your Git Credentials in Account Settings (Click your name in the bottom left-hand corner > Account Settings > Git Credentials). Click the button to _Add Credentials._
4.  Give your credentials a **Nickname** to help you identify them, and select _Bitbucket_ under **Git Service Provider**.
5.  Select _Private SSH Key_ under **Access Type**. Paste the _Private Key_ you copied from your Terminal, including **\-----BEGIN RSA PRIVATE KEY-----** and **\-----END RSA PRIVATE KEY-----**. If you set up a **Passphrase** in Step 1 above you'll need to specify it here, or leave it blank if you hit 'Enter' to use the default settings in step 1. Click Save.
    
    ![bitbucket4.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7089320402964/bitbucket4.JPG)
    
6.  Back in the Terminal, we’ll now get the _Public Key_. You can view and copy this with the command `cat ~/.ssh/id_rsa.pub` (if you specified a different folder you’ll need to substitute that here as well). Copy this key, including the text **ssh-rsa** at the beginning.
7.  In Bitbucket, click your avatar in the top right-hand corner and select **Personal Settings**. Then go to **SSH keys** on the left-hand side.
8.  Click _Add key_. Give it a label to help you remember what the key is for, and then paste in your _Public Key_, including the text **ssh-rsa**.
    
    ![bitbucket2.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7089320407316/bitbucket2.JPG) 
    

### **Method Two: App Password**

Connecting with this method will use an App Password created directly through your Bitbucket account:

1.  In Bitbucket, click your avatar in the top right-hand corner and select **Personal Settings**. On the left under Access Management, navigate to **App passwords**.
2.  Click the _Create app password_ button. Give you App password a label and the Permissions you desire - at a minimum, you must provide Read and Write access to the Repositories.
    
    ![bitbucket3.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7089357561236/bitbucket3.JPG)
    
3.  _**Important!**_ When you hit the _Create_ button, be sure to copy the password that’s generated. You won’t be able to view the password again once you close the window, so it’s a good idea to paste it somewhere such as Notepad until you’re done setting up your credentials in Domino.
4.  Switch over to Domino and access your Git Credentials in Account Settings (Click your name in the bottom left-hand corner > Account Settings > Git Credentials). Click the button to _Add Credentials._
5.  Give your credentials a **Nickname** to help you identify them, and select _Bitbucket_ under **Git Service Provider**.
6.  Select _App Password_ under **Access Type**. Your **Username** will be your Bitbucket username, and your **Password** will be the App password you generated and copied from Bitbucket. Click Save.
    
    ![bitbucket4.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7089320402964/bitbucket4.JPG)
    

###   
**After using one of the Methods above, add your Bitbucket repo to your project**

1.  In Files > Git Repositories, click _Add New Repository._
2.  The **URI** format will depend on if you are using an App Password or SSH Key. Please note that both URI formats call for a <workspace\_ID>. This is not to be confused with your Domino Workspace ID. The <workspace\_ID> referenced here comes straight from Bitbucket, and can be checked in the URL when you browse to your repo on Bitbucket: `https://bitbucket.org/<workspace_ID>/<repo_name>`
    *   For a connection using App Password credentials, your **URI** will be: `https://<your_username>@bitbucket.org/<workspace_ID>/<repo_name>.git` 
    *   For a connection using an SSH Key, your **URI** will be: `git@bitbucket.org:<workspace_ID>/<repo_name>.git` _**or**_ `ssh://git@bitbucket.org/<workspace_ID>/<repo_name>.git`
3.  Select the Bitbucket credentials you created under **Git Credentials**, and _Bitbucket_ under **Git Service Provider**. You may optionally reference a different tag, branch commit ID, etc under **Git Reference** and optionally specify a different **Directory Name** than the default. 

### Recently viewed articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)

### Related articles

*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtj0RyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kG--90d532b9d2a5a06972ab8f50817d5dcabd07079f)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtj0RyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBw%3D%3D--5bac92fd5ce144ed274222ec47c0afa6ed5f24c4)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtj0RyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpCA%3D%3D--c0e14e1599bde3d1c0d27180732b1d1439bb33c9)
*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtj0RyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kJ--1275fc3108d150641385270f32abb5c28f0ac581)
*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTdnsd3BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtj0RyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYwMTIwMDgzMjQ1MDAtRGVhY3RpdmF0aW9uLW9mLWEtdXNlcgY7CFQ6CXJhbmtpCg%3D%3D--4747bde0ae32ec6bdb79b7fcb6789cee491531a6)"
https://tickets.dominodatalab.com/hc/en-us/articles/6199297055892-Splitting-big-files-in-a-terminal,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Copying data to & from a dataset within a Domino workspace terminal](https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data)

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6199297055892-Splitting-big-files-in-a-terminal/subscription.html ""Opens a sign-in dialog"")

Support might request the local admins to provide them with big files, such as output from tcpdump or a log file which might be big in size. Depending on the size of the file, we could either generate a compressed archive or split the files into multiple small files.

I have published another article to generate compressed archives, so if the size of the compressed archive isn't relatively big you can share that with the support or otherwise you could always split the archive as well.

This article is to demonstrate how to split and combine files using a linux terminal and a simple cmd utility.

*   have a look at the size of the target file : du -h /path-to-filename
*   using the split utility we split the file into blocks of a predefined size : split -b 100M /path-to-file file-initials. (last arg is optional) (-b flag is also optional, default is 1000 lines per file)
*   next we cat the files in stdin and redirect it to a new file, yes, it's that simple : cat file-initial.??or cat x\* and redirect using : > new-file-name.extension

We could also directly split the contents of a dir directly via the zip utility (note : this can't be achieved using gzip since gzip is only capable of compression) :- 

*   zip -s 2g -r target-name.zip /path-to-dir (this will create a split archive of the dir with splits no bigger than 2gb, note: that the last file would be a .zip file, others would be of the type z01, z02, etc)
*   concatenate using the following :- zip -F target-name.zip --out new-target.zip (note: the F option is used to fix the new offset entries generated by the split -s option)

### Recently viewed articles

*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)

### Related articles

*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQzDBwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQc5mKjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MTE0MDE5NzQ1NDgtU3luY2luZy1maWxlcy1mcm9tLXB1Ymxpc2hlZC1BcHBzBjsIVDoJcmFua2kG--602633b85e5056aa42747e9ab42883b907b3ce00)
*   [Unzip a zip file to a dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMehKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQc5mKjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTQzMS1VbnppcC1hLXppcC1maWxlLXRvLWEtZGF0YXNldAY7CFQ6CXJhbmtpBw%3D%3D--4b6af55c03833ea79d6079edaa0602991222e482)
*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQB9XNGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQc5mKjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzEwMTk4MTk3Nzk3MTQwLVNhbHZhZ2luZy1hLVBWQy1GaWxlLVJlY292ZXJ5LWZyb20td2l0aGluLWEtd29ya3NwYWNlLWluLWFuLUVycm9yLXN0YXRlBjsIVDoJcmFua2kI--fbee16c907d2f71a6049d984e889af738a37302c)"
https://tickets.dominodatalab.com/hc/en-us/articles/5910532224532-How-to-create-a-Dataset-Snapshot-from-files-in-a-workspace-in-Domino-5-x,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

Daniel Stern

*   2 years ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5910532224532-How-to-create-a-Dataset-Snapshot-from-files-in-a-workspace-in-Domino-5-x/subscription.html ""Opens a sign-in dialog"")

1.  Create new dataset.  From your project go to Materials>>Data and create new dataset.![Screen_Shot_2022-04-27_at_3.47.16_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5910127808660)
2.  Go To Run>>Workspace and create a new workspace with IDE of your choice.  
    ![Screen_Shot_2022-04-27_at_3.50.48_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5910104153620)
3.  Once your Workspace opens decide whether to use a linux terminal or the IDEs graphical file browser.
4.  Select Data and then Datasets and use the copy icon to copy the dataset path to the clipboard.  Or use the file browser to navigate to the Dataset path.  I chose the linux terminal in a Jupyter IDE.![Screen_Shot_2022-04-27_at_3.58.16_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5910103913620)
5.  Move the files that you wish to create your snapshot in your dataset with to the Dataset path, in my case `/domino/datasets/local/new_test`
6.  At this point you can stop the workspace or just go back to Material>>Data>>Domino Datasets and select your dataset.
7.  If you want to only add some of your files to the dataset use the checkbox to select them.
8.  Now goto 'Take a Snapshot' and choose Include All Files or Include Selected Files.![Screen_Shot_2022-04-27_at_4.07.28_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5910119285140)
    
    You now have a new snapshot.
    

### Recently viewed articles

*   [Splitting big files in a terminal](https://tickets.dominodatalab.com/hc/en-us/articles/6199297055892-Splitting-big-files-in-a-terminal)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)

### Related articles

*   [Opening a file from the workspace file browser does not open in a Domino framed window](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTfhF04BzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2LCdgBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzc5Mzg2Njg1NTE5NTYtT3BlbmluZy1hLWZpbGUtZnJvbS10aGUtd29ya3NwYWNlLWZpbGUtYnJvd3Nlci1kb2VzLW5vdC1vcGVuLWluLWEtRG9taW5vLWZyYW1lZC13aW5kb3cGOwhUOglyYW5raQY%3D--d3d4d1c0b25a424619ad299228e592a2e22e7838)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2LCdgBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kH--d77556d66bce3d1e828f13c9a412746627fea1f9)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2LCdgBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQg%3D--b2194fd819fd09a0dd599b56a7df80c90c3dd90f)
*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR2ikICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2LCdgBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI4MTYyNzYtSG93LWRvLUktbW92ZS1maWxlcy1mcm9tLWEtcHJvamVjdC10by1hLWRhdGFzZXQGOwhUOglyYW5raQk%3D--d9708ea0d82d7da9b26529ad03af8746194aba5d)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2LCdgBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kK--2f7f200ffebc5b6315fd3f50262eff14b2ef0a09)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F5910532224532-How-to-create-a-Dataset-Snapshot-from-files-in-a-workspace-in-Domino-5-x) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/4410698565908-Samba-clients-as-an-alternative-to-CIFS-mounted-shared-drives,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4410698565908-Samba-clients-as-an-alternative-to-CIFS-mounted-shared-drives/subscription.html ""Opens a sign-in dialog"")

As of Domino 4.x it is not possible to mount CIFS (Microsoft) shared drives. Instead, we've found success with the \`smbclient\` utility, the docs for which can be found here: [https://www.samba.org/samba/docs/current/man-html/smbclient.1.html](https://www.samba.org/samba/docs/current/man-html/smbclient.1.html)

You can install this tool by running \`sudo apt-get update && sudo apt-get install -y smbclient\` from within your workspace terminal. Once it's installed, you can use it to download and upload files between your workspace and the remote share. Some examples to get you started:

`smbclient //nas.server.name.xyz.com/sharename $password -W MYDOMAIN -U $username -c 'get path/to/file.csv file.csv'`

This will connect to the //nas.server.name.xyz.com/sharename share using the user's credentials, where ""MYDOMAIN"" is the domain name in this case. The \`-c\` flag passes in the \`get\` command to retrieve the remote file from 'path/to/file.csv' and copies it to 'file.csv' in the current working directory in the Domino workspace. 

To push the file back to the remote share:

`smbclient //nas.server.name.xyz.com/sharename $password -W MYDOMAIN -U $username -c 'put file.csv path/to/file.csv'`

Another alternative would be setting up SCP via ssh functionality.

In all cases, we recommend storing your username and password as environment variables under your Domino user account, and then using those variables instead of typing usernames/passwords directly into your workspace terminal.   

### Recently viewed articles

*   [How to create a Dataset Snapshot from files in a workspace in Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/5910532224532-How-to-create-a-Dataset-Snapshot-from-files-in-a-workspace-in-Domino-5-x)
*   [Splitting big files in a terminal](https://tickets.dominodatalab.com/hc/en-us/articles/6199297055892-Splitting-big-files-in-a-terminal)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)

### Related articles

*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRdSqAEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJH%2FICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzQ0MTc5MTU2MDgzNDAtTWFwcGluZy1hLW5ldHdvcmstZm9sZGVyLXRvLWEtRG9taW5vLXBvZC1pcy1naXZpbmctbWUtY2lmcy1tb3VudC1mYWlsZWQtdy1yZXR1cm4tY29kZQY7CFQ6CXJhbmtpBg%3D%3D--b787e212359e3d8cccab511f91d072fc12ba60b0)
*   [My Workspace appears to have died - did python run out of memory?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR4lOsABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJH%2FICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzQ0MDE5OTg4ODcwNjAtTXktV29ya3NwYWNlLWFwcGVhcnMtdG8taGF2ZS1kaWVkLWRpZC1weXRob24tcnVuLW91dC1vZi1tZW1vcnkGOwhUOglyYW5raQc%3D--8e2fa9398deabd92b61e884c252f65e4e2a27f79)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJH%2FICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQg%3D--cc9d8bc1f49f23650ad00930a281443812547029)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJH%2FICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kJ--12a2fe715881a8ee9476ba42a05512e4cc7550e5)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQJH%2FICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kK--376c03513c492eba740408ea3e91f11ee28471da)"
https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset/subscription.html ""Opens a sign-in dialog"")

If you have project with a lot of files and want to move those into a dataset, please go to Project > Datasets > ""Create new dataset"" in the Domino UI, then choose ""Create by launching a workspace"". After opening a workspace, start a terminal and use the ""mv"" command to transfer the files to the Output directory. Once that's complete go back to the workspace and sync. That should create a snapshot for you. 

We generally recommend using datasets for larger projects to keep Domino running smoothly. 

### Related articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR2ikICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kG--37aa17557e7d9b8ede1555eea09a0adfdebaf6d3)
*   [How to create a Dataset Snapshot from files in a workspace in Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2LCdgBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR2ikICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzU5MTA1MzIyMjQ1MzItSG93LXRvLWNyZWF0ZS1hLURhdGFzZXQtU25hcHNob3QtZnJvbS1maWxlcy1pbi1hLXdvcmtzcGFjZS1pbi1Eb21pbm8tNS14BjsIVDoJcmFua2kH--a32d723889374787c1e40d5c8abfdaab942d85e8)
*   [Why do I get ""Error Message: head of empty stream"" when trying to create a dataset?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQo%2BXYBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR2ikICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzc1MTg3NDAtV2h5LWRvLUktZ2V0LUVycm9yLU1lc3NhZ2UtaGVhZC1vZi1lbXB0eS1zdHJlYW0td2hlbi10cnlpbmctdG8tY3JlYXRlLWEtZGF0YXNldAY7CFQ6CXJhbmtpCA%3D%3D--55553b30601a27d4c832820424cbdb2d97dc2b20)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR2ikICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpCQ%3D%3D--c180c5c5d2d1c467134ebe0343b31d4dc5cd1fe8)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTOh6x9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR2ikICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI2L2hjL2VuLXVzL2FydGljbGVzLzYwMzczMjM2MzIyNzYtLXRyYXNoLURpcmVjdG9yeQY7CFQ6CXJhbmtpCg%3D%3D--5aa42df41e7752e36e796a8150685eaf9cd10e94)"
https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space/subscription.html ""Opens a sign-in dialog"")

The limits on dataset and scratch space (see note) files are documented as 

> You can solve these problems with Domino Datasets:
> 
> 1.  There is no limit to the number of files that can be stored in a Domino Dataset.
> 2.  There is no limit to the size of any individual file stored in a Domino Dataset.

ref: [https://docs.dominodatalab.com/en/latest/reference/data/Datasets\_best\_practices.html#store-more-files-bigger-files-and-access-them-faster](https://docs.dominodatalab.com/en/latest/reference/data/Datasets_best_practices.html#store-more-files-bigger-files-and-access-them-faster)

Although not explicit, there is also not an overall size limit.  Datasets and scratch are a storage cost though, so best practice should be considered to keep these spaces as clean as possible and not indefinitely store data that is no longer needed.

Note: as of Domino v4.5 scratch space is deprecated as datasets have been redesigned to make them more intuitive and less complex to use.

### Recently viewed articles

*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset)

### Related articles

*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSxzoEEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTkqgEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MTc0MDQxODY5MDAtSXMtdGhlcmUtYS1saW1pdC10by10aGUtc2l6ZS1vZi10aGUtZmlsZXMtaW4tbXktbW9kZWwtQVBJBjsIVDoJcmFua2kG--4ac1cd5b800a469d33fb97e65a06ad584d11b7c3)
*   [Unzip a zip file to a dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMehKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTkqgEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTQzMS1VbnppcC1hLXppcC1maWxlLXRvLWEtZGF0YXNldAY7CFQ6CXJhbmtpBw%3D%3D--f12d09442e004d08b793df1f6d55417e8b04ddfa)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTkqgEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCA%3D%3D--92645251cb31b7f7b455ccc12e91cdecb54c22cb)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTkqgEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--4b436190973a348f1281079149cecc2a3d49c569)
*   [My Workspace has died. Did R/RStudio run out of memory?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSSHO8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTkqgEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIwNTgxMzgxMzItTXktV29ya3NwYWNlLWhhcy1kaWVkLURpZC1SLVJTdHVkaW8tcnVuLW91dC1vZi1tZW1vcnkGOwhUOglyYW5raQo%3D--b7db99add8c65c3dfe982a68f95db4723f22add4)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: katie.shakman

I'd been using the terms data lake and data warehouse pretty much interchangeably until I recently learned the difference. In case others are in the same boat, I wanted to share what I learned:

A **data lake** refers to a digital location where raw, unstructured data is stored.

A **data warehouse**, by contrast, is a digital store of structure data.

Here's a link to the article that first laid out this difference for me:

Check it out and let me know what you think.

Do you agree with the other differences they draw between data lakes and warehouses, e.g. that data warehouses house data that's been preprocessed for a particular purpose, and are more likely to be used by business intelligence analysts than data scientists? In my experience data scientists use data warehouses all the time, so I'm skeptical about that one.

What about the difference in cost that they describe? Do you find data warehouses to be costlier to update than data lakes?

Do you think there are other key differences?

### Recently viewed articles

*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space)
*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset)

### Related articles

*   [Voilà Dashboards in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCC%2BeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCTAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDUxMS1Wb2lsJUMzJUEwLURhc2hib2FyZHMtaW4tRG9taW5vBjsIVDoJcmFua2kG--5636872f92297a0bcb3ecf45bfc63e902491969a)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCTAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQc%3D--343c90125a8c33d6686b7389aea1a84684d0e28c)
*   [Troubleshooting On-Demand Ray Clusters in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmNINhBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCTAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzU5MTYzNzEyMzIyNzYtVHJvdWJsZXNob290aW5nLU9uLURlbWFuZC1SYXktQ2x1c3RlcnMtaW4tRG9taW5vBjsIVDoJcmFua2kI--ddac1e73571c2ef71fde17b2a3411a21fc21f032)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCTAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kJ--4be14b439690d4f103e3f4c92e7469e4b945ca8b)
*   [Basic notebook which tests on-demand Spark functionality.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQGUnhTEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCTAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzIwMTQ5NzEwMjI2OTY0LUJhc2ljLW5vdGVib29rLXdoaWNoLXRlc3RzLW9uLWRlbWFuZC1TcGFyay1mdW5jdGlvbmFsaXR5BjsIVDoJcmFua2kK--38dd990da3077be77fbdc686627e611a6a95eaad)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: petter.olsson

### **Overview**

This article describes how to connect to a [Microsoft SQL Server](https://www.microsoft.com/en-us/sql-server/sql-server-2016) (MSSQL) from Domino.

### **Options for connecting to MSSQL from Domino**

*   [Using the pymssql package to interact with MSSQL from Python](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#python)
    *   [Environment setup](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#python-env)
    *   [Credential setup](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#python-credentials)
    *   [Usage](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#python-usage)
*   [Using the RODBC package to interact with MSSQL from R](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#r)
    *   [Environment setup](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#r-env)
    *   [Usage](https://support.dominodatalab.com/hc/en-us/articles/360021214491-Connecting-to-MSSQL-from-Domino#r-usage)

### **Python and MSSQL**

Domino recommends the [pymssql](http://www.pymssql.org/en/stable/) package for interacting with MSSQL databases from Python.

**Environment setup**

Use the Dockerfile instruction below to [install pymssql](http://www.pymssql.org/en/stable/intro.html) in your environment.

This instruction assumes you already have [pip](https://pypi.org/project/pip/) installed.

RUN pip install pymssql

For a basic introduction to modifying Domino environments, watch [this tutorial video](https://support.dominodatalab.com/hc/en-us/articles/360017555072).

**Credential setup**

There are several environment variables you should set up to store secure information about your MSSQL connection. Set the following as Domino environment variables on your user account:

*   `DB_SERVER`
*   `DB_USERNAME`
*   `DB_PASSWORD`

Read [Environment variables for secure credential storage](https://support.dominodatalab.com/hc/en-us/articles/204139529-Secure-configuration) to learn more about Domino environment variables. 

**Usage**

Read the [pymssql documentation](http://www.pymssql.org/en/stable/pymssql_examples.html) for detailed information on how to use the package. Below is a simple example for connecting to MSSQL with Python where:

*   you have set up environment variables noted above
*   the server hosts a database named ""myData"" with a table named ""addresses""

from os import getenv
import pymssql

server = getenv(""DB\_SERVER"")
user = getenv(""DB\_USERNAME"")
password = getenv(""DB\_PASSWORD"")

conn = pymssql.connect(server, user, password, ""myData"")
cursor = conn.cursor()

cursor.execute('SELECT \* FROM addresses')
row = cursor.fetchone()
while row:
    print(""ID=%d, Name=%s"" % (row\[0\], row\[1\]))
    row = cursor.fetchone()

conn.close()

### **R and RODBC to MSSQL**

Domino recommends the [RODBC](https://db.rstudio.com/odbc/) library for interacting with MSSQL databases from R.

**Environment setup**

Use the Dockerfile instruction below to add the MSSQL drivers to your Ubuntu 16.04 environment.

RUN curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -
RUN curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list > /etc/apt/sources.list.d/mssql-release.list
RUN apt-get update
RUN ACCEPT\_EULA=Y apt-get install msodbcsql17

For a basic introduction to modifying Domino environments, watch [this tutorial video](https://support.dominodatalab.com/hc/en-us/articles/360017555072).

**Usage**

Read the [RStudio RODBC documentation](https://db.rstudio.com/databases/microsoft-sql-server/) for detailed information on how to use the package.

### Recently viewed articles

*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse)
*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space)
*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset)

### Related articles

*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIucKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHerKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDA5MS1TZXR0aW5nLVVwLWEtSkRCQy1vci1PREJDLUNvbm5lY3Rpb24tZnJvbS1Eb21pbm8tSW5jbHVkaW5nLUluZm9ybWF0aWNhLUNvbm5lY3Rpb25zBjsIVDoJcmFua2kG--c3c86bdc5129a520ec59affcea53dffd891b0aec)
*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHS2IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHerKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTk3Mi1Db25uZWN0LXRvLU1pY3Jvc29mdC1TUUwtRGF0YWJhc2UtdXNpbmctb2ZmaWNpYWwtdG9vbHMGOwhUOglyYW5raQc%3D--a68982c12c25c6e610f8f9d5966d666df00c0bec)
*   [I need to test connectivity to my MS-SQL server from a Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRONSYCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHerKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDcyNzc0NzM0MjgtSS1uZWVkLXRvLXRlc3QtY29ubmVjdGl2aXR5LXRvLW15LU1TLVNRTC1zZXJ2ZXItZnJvbS1hLVdvcmtzcGFjZQY7CFQ6CXJhbmtpCA%3D%3D--c678e7f96053ab5d9babeabc227e12e693e04c88)
*   [Workspace Won't Start](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMO3UtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHerKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI6L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTI1MzU3MS1Xb3Jrc3BhY2UtV29uLXQtU3RhcnQGOwhUOglyYW5raQk%3D--887dc718b713fd734fcbf9a16dcc2787c8b7069c)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHerKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpCg%3D%3D--34ca01600507921f43a5052df56b58439f29a0a9)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058041972-Connect-to-Microsoft-SQL-Database-using-official-tools,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058041972-Connect-to-Microsoft-SQL-Database-using-official-tools/subscription.html ""Opens a sign-in dialog"")

Hi,

As we have seen pymssql not being developed for a while due to Microsoft open sourcing these tools we can now use this Dockerfile to have native MS SQL Client support in Linux. This describes Ubuntu (Specifically 16.04) but can very easily be changed.

#Gives you Sudo access in container
RUN echo ""ubuntu    ALL=NOPASSWD: ALL"" >> /etc/sudoers

# SQL Server Command Line Tools
LABEL maintainer=""Domino Data Lab""

# apt-get and system utilities
RUN apt-get update && apt-get install -y update-manager-core apt dpkg curl apt-transport-https debconf-utils
RUN rm -rf /var/lib/apt/lists/\*

# adding custom MS repository - change Ubuntu version here as needed
RUN curl https://packages.microsoft.com/keys/microsoft.asc | apt-key add -
RUN curl https://packages.microsoft.com/config/ubuntu/16.04/prod.list > /etc/apt/sources.list.d/mssql-release.list

# install SQL Server drivers and tools
RUN apt-get update && ACCEPT\_EULA=Y apt-get install -y msodbcsql17 mssql-tools
RUN echo 'export PATH=""$PATH:/opt/mssql-tools/bin""' >> ~/.bashrc
RUN /bin/bash -c ""source ~/.bashrc""

USER ubuntu 
RUN echo 'export PATH=""$PATH:/opt/mssql-tools/bin""' >> ~/.bashrc
RUN /bin/bash -c ""source ~/.bashrc""

USER root
RUN apt-get -y install locales
RUN locale-gen en\_US.UTF-8
RUN update-locale LANG=en\_US.UTF-8

CMD /bin/bash

There are several environment variables you optionally can set up to store secure information about your MSSQL connection. Set the following as Domino environment variables on your user account:

DB\_SERVER
DB\_USERNAME
DB\_PASSWORD

For more information on how-to use the sqlcmd itself we suggest the following read: [https://docs.microsoft.com/en-us/sql/tools/sqlcmd-utility?view=sql-server-ver15](https://docs.microsoft.com/en-us/sql/tools/sqlcmd-utility?view=sql-server-ver15)

Have a powerful day!

Petter

### Recently viewed articles

*   [Dataset Snapshot Limit](https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit)
*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino)
*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse)
*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space)
*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset)

### Related articles

*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHerKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NzkxMS1Db25uZWN0aW5nLXRvLU1TU1FMLWZyb20tRG9taW5vBjsIVDoJcmFua2kG--7047466314444e7b1a442ea2a7e221bf5d9efc88)
*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIucKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDA5MS1TZXR0aW5nLVVwLWEtSkRCQy1vci1PREJDLUNvbm5lY3Rpb24tZnJvbS1Eb21pbm8tSW5jbHVkaW5nLUluZm9ybWF0aWNhLUNvbm5lY3Rpb25zBjsIVDoJcmFua2kH--b95ba906ebd384170178b69a51e4a7cc3798fed3)
*   [I need to test connectivity to my MS-SQL server from a Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRONSYCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDcyNzc0NzM0MjgtSS1uZWVkLXRvLXRlc3QtY29ubmVjdGl2aXR5LXRvLW15LU1TLVNRTC1zZXJ2ZXItZnJvbS1hLVdvcmtzcGFjZQY7CFQ6CXJhbmtpCA%3D%3D--5599e892dcf2b263eb30afc564585d64cc3bf022)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpCQ%3D%3D--6e149ba0212c335b73330c38ef12b39af38b34f9)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQJH%2FICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHS2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2OTg1NjU5MDgtU2FtYmEtY2xpZW50cy1hcy1hbi1hbHRlcm5hdGl2ZS10by1DSUZTLW1vdW50ZWQtc2hhcmVkLWRyaXZlcwY7CFQ6CXJhbmtpCg%3D%3D--57f400563c4ae7edc3a8d438bc85c52eb6e4e543)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058041912-Mount-multiple-snapshots-of-the-same-dataset-to-the-same-project-Domino-4-6,"![](https://tickets.dominodatalab.com/system/photos/360352320752/image.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058041912-Mount-multiple-snapshots-of-the-same-dataset-to-the-same-project-Domino-4-6/subscription.html ""Opens a sign-in dialog"")

In the below example project, I have a dataset called data\_science with 3 snapshots. Following are the steps to mount each one of them to the project:

1\. Add a tag to each snapshot by navigating to the snapshot under Datasets/data\_science and clicked 'Add Tag' to add a meaningful tag to each of the snapshots. Tag the 3 snapshots as diamonds, iris, and wine respectively

2\. Next, create a domino.yaml file in your project files and add the below contents to it:

`datasetConfigurations:`

  `- name: data_science`

    `inputs:`

      `- path: /diamonds`

        `dataset: data_science:diamonds`

      `- path: /iris`

        `dataset: data_science:iris`

      `- path: /wine`

        `dataset: data_science:wine`

Provide the dataset name as the value for the name label under datasetConfigurations. Under inputs, specify each dataset with the corresponding tag- data\_science:diamonds, data\_science:iris, and data\_science:wine- and provide the respective paths at which you want them to be mounted. 

3\. Next, navigate to workspaces, select JupyterLab workspace (you can choose any workspace) and click on Datasets > Advanced and select the new configuration (it was named data\_science). Then, click Launch. The snapshots will be mounted to /domino/datasets/diamonds, /domino/datasets/iris, and /domino/datasets/wine.

4\. Finally in the workspace terminal, navigate to /domino/datasets and from this path you can further access any of the snapshots by changing directory to /diamonds or /iris or /wine

### Recently viewed articles

*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/articles/360058041972-Connect-to-Microsoft-SQL-Database-using-official-tools)
*   [Dataset Snapshot Limit](https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit)
*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino)
*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse)
*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space)

### Related articles

*   [I deleted or archived my 4.0 thru 4.4 Dataset but I need it back!](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCDkPdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDi2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTg4ODY3Mi1JLWRlbGV0ZWQtb3ItYXJjaGl2ZWQtbXktNC0wLXRocnUtNC00LURhdGFzZXQtYnV0LUktbmVlZC1pdC1iYWNrBjsIVDoJcmFua2kG--10b6195bdacf2738ff8c2e410762d813ab7e07ad)
*   [Unzip a zip file to a dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMehKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDi2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTQzMS1VbnppcC1hLXppcC1maWxlLXRvLWEtZGF0YXNldAY7CFQ6CXJhbmtpBw%3D%3D--e35d85c5bb10674505e2e415119053cca2f795a1)
*   [How to create a Dataset Snapshot from files in a workspace in Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2LCdgBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDi2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzU5MTA1MzIyMjQ1MzItSG93LXRvLWNyZWF0ZS1hLURhdGFzZXQtU25hcHNob3QtZnJvbS1maWxlcy1pbi1hLXdvcmtzcGFjZS1pbi1Eb21pbm8tNS14BjsIVDoJcmFua2kI--0c7aa5bf78b09fae5e62c5ea04bd6677f942e2b5)
*   [Transferring Project Ownership](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIimStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDi2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyNDg3Mi1UcmFuc2ZlcnJpbmctUHJvamVjdC1Pd25lcnNoaXAGOwhUOglyYW5raQk%3D--93052c2fa08772ef0565794c000c9b82c68c9b53)
*   [Can't Start Workspace - kinit: Preauthentication failed while getting initial credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNuhKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDi2IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTQ1MS1DYW4tdC1TdGFydC1Xb3Jrc3BhY2Uta2luaXQtUHJlYXV0aGVudGljYXRpb24tZmFpbGVkLXdoaWxlLWdldHRpbmctaW5pdGlhbC1jcmVkZW50aWFscwY7CFQ6CXJhbmtpCg%3D%3D--347334b3a2bc9db6afb9bf4e629c5f7999695605)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit,"## Dataset Snapshot Limit

![](https://tickets.dominodatalab.com/system/photos/360278014832/IMG_1530.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit/subscription.html ""Opens a sign-in dialog"")

Administrators are able to increase the limit from 20 snapshots globally in the deployment or to authorize individual projects to ignore these snapshot limits, both of those options are outlined here: [https://docs.dominodatalab.com/en/latest/admin\_guide/902e0a/datasets-administration/#\_set\_limits\_on\_datasets\_usage](https://docs.dominodatalab.com/en/latest/admin_guide/902e0a/datasets-administration/#_set_limits_on_datasets_usage)

To keep these limits in place for the project and still avoid this error, snapshots can be marked for deletion: [https://docs.dominodatalab.com/en/latest/user\_guide/0a8d11/datasets-overview/#\_manage\_datasets\_and\_snapshots](https://docs.dominodatalab.com/en/latest/user_guide/0a8d11/datasets-overview/#_manage_datasets_and_snapshots)

And deleted by an Administrator: [https://docs.dominodatalab.com/en/latest/admin\_guide/902e0a/datasets-administration/#deleting-snapshots-from-datasets](https://docs.dominodatalab.com/en/latest/admin_guide/902e0a/datasets-administration/#deleting-snapshots-from-datasets)

In addition, for version 3.6+ there is the option to delete snapshots using the Domino API:  [https://dominodatalab.github.io/api-docs/#/reference/datasets/snapshot-operations/archive-snapshot](https://dominodatalab.github.io/api-docs/#/reference/datasets/snapshot-operations/archive-snapshot)

To get the list of snapshot IDs for each dataset, you can use the API for retrieving dataset details:  [https://dominodatalab.github.io/api-docs/#/reference/datasets/dataset-operations/get-dataset-details](https://dominodatalab.github.io/api-docs/#/reference/datasets/dataset-operations/get-dataset-details). It would be possible to set up a scheduled run using these API calls for deleting snapshots on a regular basis, though you'll want to be very careful with this operation to avoid losing critical data. 

### Recently viewed articles

*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino)
*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse)
*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space)
*   [How do I move files from a project to a dataset?](https://tickets.dominodatalab.com/hc/en-us/articles/4407752816276-How-do-I-move-files-from-a-project-to-a-dataset)

### Related articles

*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTkqgEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCK%2BlKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzNjk0NTUyNTItQXJlLXRoZXJlLWxpbWl0cy10by1ob3ctbXVjaC1kYXRhLUktY2FuLXB1dC1pbi1hLWRhdGFzZXQtb3Itc2NyYXRjaC1zcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--1a90858b68fd9859c66d0236d1941ac9007c78ba)
*   [Can you sync a specific folder on your computer to a project in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR38UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCK%2BlKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI3ODk1MjQtQ2FuLXlvdS1zeW5jLWEtc3BlY2lmaWMtZm9sZGVyLW9uLXlvdXItY29tcHV0ZXItdG8tYS1wcm9qZWN0LWluLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--4cc748c52d18868284cbb2603f7e7b7a9d4cba88)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJThBPJeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCK%2BlKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzcwMDQ4NTcwOTg2NDQtQWRkLUFyY0dJUy1mb3ItSnVweXRlcmxhYgY7CFQ6CXJhbmtpCA%3D%3D--edcb13fd8b413c11abc0b57b4291b7a2984181e3)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCK%2BlKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--f9ae9f35c5ff3112d2d2ddb7b42efcc867737473)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCK%2BlKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kK--6801956bf7e6154bf2e7746e5d0c25436c7673a3)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058495431-Unzip-a-zip-file-to-a-dataset,"![](https://tickets.dominodatalab.com/system/photos/360352320752/image.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058495431-Unzip-a-zip-file-to-a-dataset/subscription.html ""Opens a sign-in dialog"")

You may need to unzip a file that is either in your project or that you uploaded as a snapshot, to a dataset. Both cases are covered below:

a. **Unzip a zip file in your project files to a dataset**

1\. Create a new dataset by navigating to Datasets > Create New Dataset

2\. Give a meaningful name to the dataset and click on Upload Contents

3\. Choose Create with Interactive Workspace and select Jupyter or RStudio. Make a note of the output directory. It should be something on the lines of /domino/datasets/output/<dataset-name>

4\. Open a terminal and use a command like unzip <zip file name> -d /domino/datasets/output/<dataset-name> to unzip the file to the dataset 

5\. Click on Stop > Stop and Commit to save changes to the dataset. 

6\. Navigate to the dataset and make sure your unzipped files are all there

b. **Unzip a zip file in your dataset**

1\. Open your dataset that has the zip file and click on New Snapshot

2\. Choose Create with Interactive Workspace and select Jupyter or RStudio. Make a note of the output directory. It should be something on the lines of /domino/datasets/output/<dataset-name>

3\. Open a terminal and use a command like unzip /domino/datasets/local/<dataset-name> -d /domino/datasets/output/<dataset-name> to unzip the file to the dataset 

4\. Navigate to /domino/datasets/output/<dataset-name> and make sure your unzipped files are all there

5\. Click on Stop > Stop and Commit to save changes to the dataset. 

6\. Navigate to the dataset and make sure your unzipped files are all there

### Recently viewed articles

*   [Mount multiple snapshots of the same dataset to the same project (Domino <4.6)](https://tickets.dominodatalab.com/hc/en-us/articles/360058041912-Mount-multiple-snapshots-of-the-same-dataset-to-the-same-project-Domino-4-6)
*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/articles/360058041972-Connect-to-Microsoft-SQL-Database-using-official-tools)
*   [Dataset Snapshot Limit](https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit)
*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino)
*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse)

### Related articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMehKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kG--0250e740be436e32a40672ca6d358d2b6aa076ff)
*   [Upload files to Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8V0GiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMehKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYxOTQ0MzkxMjYxNjQtVXBsb2FkLWZpbGVzLXRvLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--c3d05618ba5565303e1b9f8f0a9764e62ccf2003)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMehKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQg%3D--da5215ad4f313b929146169647889e866ec0c0b5)
*   [How to Get Workspace Logs : versions 4.0-.4.3](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAfiXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMehKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTc1MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLXZlcnNpb25zLTQtMC00LTMGOwhUOglyYW5raQk%3D--f59c906754968660d402a8f26d07da4c4f688697)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMehKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQo%3D--ce3c4b30a3c0cfb09fc832acb6ee531c41110b84)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058494091-Setting-Up-a-JDBC-or-ODBC-Connection-from-Domino-Including-Informatica-Connections,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Copying data to & from a dataset within a Domino workspace terminal](https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal)
*   [Data Sources: Changing/Editing Configurations](https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [Adding Credentials to an Existing Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source)
*   [How To Locate Projects Associated with Data Source](https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [Can we write a dataframe to Snowflake using the Snowflake Datasource/Domino Data API?](https://tickets.dominodatalab.com/hc/en-us/articles/12601064613908-Can-we-write-a-dataframe-to-Snowflake-using-the-Snowflake-Datasource-Domino-Data-API)
*   [Oracle DataSource || How is it Managed Within Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/12229375397012-Oracle-DataSource-How-is-it-Managed-Within-Domino)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000203383-Working-with-Data)

![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494091-Setting-Up-a-JDBC-or-ODBC-Connection-from-Domino-Including-Informatica-Connections/subscription.html ""Opens a sign-in dialog"")

You can use Domino to connect to essentially any data source that is accessible from a Linux machine. For a few types of connections, such as Informatica JDBC (Java Database Connection) and ODBC (Open Database Connection), as well as Informatica data sources that use these connection formats, you may need some guidance on what setup steps to take before trying to connect to your data source. This guide aims to give you a brief, easy-to-follow set of steps to get up and running:

1.  Determine the programming language you'll primarily use to interact with the data source in your Domino project, e.g. Python, R, SAS, MATLAB, etc.
2.  Identify the package that your chosen language uses for JDBC/ODBC. In the case of Python, a common choice is [pyodbc](https://github.com/mkleehammer/pyodbc), but there are [other options](https://wiki.python.org/moin/ODBC) available.
3.  If you are using Informatica, you will likely need to obtain a driver file named infadsjdbc.jar from your Informatica administrator or account owner. 
4.  If you are using Informatica, host the jar file from Step 3 in a location that is accessible to Domino's compute environment build process. A good choice is web location that can be accessed with a presigned URL or a public project within your Domino deployment (you can make the project private after the compute environment is built). If those options are unsuitable, speak with your Domino account team for other options to make the jar file into the compute environment.
5.  Edit your compute environment (or Duplicate the compute environment you use and customize your own). You will need to add the appropriate packages for your language to your compute environment's Dockerfile Instructions. For instance, if you want to use Python you would add the following to add pyodbc: \`RUN pip install pyodbc\`. Note that if you are building off of a Domino Analytics Distribution (or DAD base image), it will usually have pyodbc and other common drivers/db connection packages preinstalled.
6.  If you are using Informatica you will also need to add the jar and the jaydebeapi package as follows: \`RUN java –jar infadsjdbc.jar && pip install JayDeBeApi\`
7.  Click Build at the bottom of your compute environment to apply the changes. Make sure that the build completes successfully.
8.  Set your project to use your new compute environment (or make sure it's using the one you edited), and test the connection from an interactive workspace in the project. For example, to connect to an Informatica SQL service using Python you could open a Jupyter workspace and try code similar to the following:

import jaydebeapi
conn = jaydebeapi.connect(""com.informatica.ds.sql.jdbcdrv.INFADriver"",
                         ""jdbc:informatica:sqlds//@<YOUR-DATABASE-URL>"",
                          {'user':'xxxxxx','password':'xxxxxxx'}, ""infadsjdbc.jar"",)
curs = conn.cursor()

### Recently viewed articles

*   [Unzip a zip file to a dataset](https://tickets.dominodatalab.com/hc/en-us/articles/360058495431-Unzip-a-zip-file-to-a-dataset)
*   [Mount multiple snapshots of the same dataset to the same project (Domino <4.6)](https://tickets.dominodatalab.com/hc/en-us/articles/360058041912-Mount-multiple-snapshots-of-the-same-dataset-to-the-same-project-Domino-4-6)
*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/articles/360058041972-Connect-to-Microsoft-SQL-Database-using-official-tools)
*   [Dataset Snapshot Limit](https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit)
*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058497911-Connecting-to-MSSQL-from-Domino)

### Related articles

*   [Connecting to MSSQL from Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHerKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIucKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NzkxMS1Db25uZWN0aW5nLXRvLU1TU1FMLWZyb20tRG9taW5vBjsIVDoJcmFua2kG--77587ab67d8ac6a7c6301b649bbd4fbda30d74fa)
*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHS2IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIucKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTk3Mi1Db25uZWN0LXRvLU1pY3Jvc29mdC1TUUwtRGF0YWJhc2UtdXNpbmctb2ZmaWNpYWwtdG9vbHMGOwhUOglyYW5raQc%3D--7483dde6210689be38347aef49d44aa11a9aba53)
*   [Installing Selenium](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJThIwoBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIucKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzQ0MDI1MTE2MDIwNjgtSW5zdGFsbGluZy1TZWxlbml1bQY7CFQ6CXJhbmtpCA%3D%3D--7c4a61cd2f1fb801c87936bce0316d720e01edbd)
*   [Why do I get redirected to the login screen when starting a workspace or job?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTL%2BnYBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIucKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzc2MjU4NzYtV2h5LWRvLUktZ2V0LXJlZGlyZWN0ZWQtdG8tdGhlLWxvZ2luLXNjcmVlbi13aGVuLXN0YXJ0aW5nLWEtd29ya3NwYWNlLW9yLWpvYgY7CFQ6CXJhbmtpCQ%3D%3D--3b53402ff936507e62073e7aa91beb0bf6d62e23)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIucKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--075aa4ee9ed5a728f0deb9e737d8d5a9039366d2)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058040512-Is-it-possible-to-fetch-the-latest-snapshot-of-an-input-dataset-in-the-middle-of-a-Python-script,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

Permanently deleted user

*   1 year ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058040512-Is-it-possible-to-fetch-the-latest-snapshot-of-an-input-dataset-in-the-middle-of-a-Python-script/subscription.html ""Opens a sign-in dialog"")

It's not currently possible to refresh a Dataset in a running session (or to mount an existing Snapshot after the session starts). Only the Snapshots specified when you launch the session will be available. Since Snapshots are read-only once created, and not accessible across sessions until then, they are not really suited for truly streaming data workflows. 

If new files are not actually added very often, but you want to have a long-running script A ""watching"" for them to do some processing, you might find the [Domino API](https://docs.dominodatalab.com/en/latest/api_guide/f35c19/api-guide/) useful.  Using the API you can check the list of Dataset Snapshots, and if there is a new one, launch a separate Job via an API call in your code to do the processing on the new snapshot.

### Recently viewed articles

*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/articles/360058494091-Setting-Up-a-JDBC-or-ODBC-Connection-from-Domino-Including-Informatica-Connections)
*   [Unzip a zip file to a dataset](https://tickets.dominodatalab.com/hc/en-us/articles/360058495431-Unzip-a-zip-file-to-a-dataset)
*   [Mount multiple snapshots of the same dataset to the same project (Domino <4.6)](https://tickets.dominodatalab.com/hc/en-us/articles/360058041912-Mount-multiple-snapshots-of-the-same-dataset-to-the-same-project-Domino-4-6)
*   [Connect to Microsoft SQL Database using official tools](https://tickets.dominodatalab.com/hc/en-us/articles/360058041972-Connect-to-Microsoft-SQL-Database-using-official-tools)
*   [Dataset Snapshot Limit](https://tickets.dominodatalab.com/hc/en-us/articles/360058496431-Dataset-Snapshot-Limit)

### Related articles

*   [How do I read and write to a dataset from my Spark-on-demand cluster in Domino? (Domino <4.5.0)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTg0OTM3NzEtSG93LWRvLUktcmVhZC1hbmQtd3JpdGUtdG8tYS1kYXRhc2V0LWZyb20tbXktU3Bhcmstb24tZGVtYW5kLWNsdXN0ZXItaW4tRG9taW5vLURvbWluby00LTUtMAY7CFQ6CXJhbmtpBg%3D%3D--1dc13bf140b83742ddce36942abe11f00ccf66d2)
*   [User Activity Report](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCyzIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTEzMi1Vc2VyLUFjdGl2aXR5LVJlcG9ydAY7CFQ6CXJhbmtpBw%3D%3D--089533b0eecbd3dc2db03c2fbc573a5815f0facc)
*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQnhDo7EToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzE4OTQ2MDgyNDgxOTQwLVVzZS1Eb21pbm8tQ0xJLXRvLWNyZWF0ZS1zbmFwc2hvdHMtd2hlbi1kYXRhc2V0cy1oYXZlLWEtbGFyZ2UtbnVtYmVyLW9mLWZpbGVzBjsIVDoJcmFua2kI--471da35622d7b0165e6c9acc1b0502827f238958)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQk%3D--e6d7a8fa88316222a64864290929f67c35613f11)
*   [How to create a Dataset Snapshot from files in a workspace in Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2LCdgBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzU5MTA1MzIyMjQ1MzItSG93LXRvLWNyZWF0ZS1hLURhdGFzZXQtU25hcHNob3QtZnJvbS1maWxlcy1pbi1hLXdvcmtzcGFjZS1pbi1Eb21pbm8tNS14BjsIVDoJcmFua2kK--e94592f7490813d5022db59b172e1a6a99d86df8)

### Comments

3 comments

*   ![](https://assets.zendesk.com/hc/assets/default_avatar.png)
    
    Permanently deleted user
    
    *   3 years ago
    
    Hi jws383,
    
    The files in the latest snapshot from a dataset that is attached to your project should be jut available to your python script in the /domino/datasets/ folder. Let me know if I'm misunderstanding the workflow you are asking about here.
    
    Dan.
    
    Submitted by: dan.stern
    
*   ![](https://assets.zendesk.com/hc/assets/default_avatar.png)
    
    Permanently deleted user
    
    *   3 years ago
    
    Hi Dan,
    
    I realize I didn't explain the context very well. In script A, I want to be able to refresh the dataset to get the most current snapshot with a function call in the script. Another script B will be adding files to the dataset script A is accessing in real-time, so in script A, I want to be able to check if any new files were added by script B before doing more processing.
    
    Jacob
    
    Submitted by: jws383
    
*   ![](https://assets.zendesk.com/hc/assets/default_avatar.png)
    
    Permanently deleted user
    
    *   3 years ago
    
    Hi Jacob,
    
    It's not currently possible to refresh a Dataset in a running session (or to mount an existing Snapshot after the session starts). Only the Snapshots specified when you launch the session will be available. Since Snapshots are read-only once created, and not accessible across sessions until then, they are not really suited for truly streaming data workflows. But there might be some things you can do:
    
    If you are operating within interactive Workspaces you might find the scratch space useful ([https://docs.dominodatalab.com/en/4.2/reference/data/datasets/Datasets\_Scratch\_Spaces.html](https://docs.dominodatalab.com/en/4.2/reference/data/datasets/Datasets_Scratch_Spaces.html)).
    
    Or, if new files are not actually added very often, but you want to have a long-running script A ""watching"" for them to do some processing, you might find the Domino API useful ([https://docs.dominodatalab.com/en/4.2/api/Domino\_API.html](https://docs.dominodatalab.com/en/4.2/api/Domino_API.html)). Using the API you can check the list of Dataset Snapshots, and if there is a new one, launch a separate Job via an API call in your code to do the processing on the new snapshot.
    
    Let us know if that answers things for you!
    
    Melanie
    
    Submitted by: melanie.veale
    

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058040512-Is-it-possible-to-fetch-the-latest-snapshot-of-an-input-dataset-in-the-middle-of-a-Python-script%3Fpage%3D1) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/360058493771-How-do-I-read-and-write-to-a-dataset-from-my-Spark-on-demand-cluster-in-Domino-Domino-4-5-0,"By default, datasets are read-only and if you want to write data back to the dataset, you'll want to mount the dataset for reading and writing. Mounting a dataset is an advanced operation and is covered in more detail in our [support docs](https://docs.dominodatalab.com/en/4.2/reference/data/datasets/Datasets_advanced_mode_tutorial.html#datasets-advanced-mode-tutorial).  The below article borrows some of the learnings from the support docs and expands on reading and writing to a dataset from a spark cluster."
https://tickets.dominodatalab.com/hc/en-us/articles/19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT6TiPlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRdM%2BPVEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzUzODIxODY0MDAyNzYtLVBlcm1pc3Npb24tZGVuaWVkLXdoZW4tdHJ5aW5nLXRvLWFjY2Vzcy10aGUtRE1NLXByZWRpY3Rpb24tZGF0YS1sb2dzBjsIVDoJcmFua2kK--3e71ce940c76970a91f570135fecb5ef57c2c390,"This happens sometimes with upgraded Domino instances, where the `scratch` directory in the shared store was created previously. It could get created with write permissions only for the root user. The fluentd containers in the model-api pods do not run as root, and hence cannot write to it.

The fix is to chmod the directory to allow writes by \*all\*. The easiest way to fix this is to shell/command-line into a pod running as root and which mounts the shared-store volume, and run chmod on the scratch directory to allow permissions for all. The `replicator` pod running in the compute namespace is suitable for this.

With kubectl access to the K8S cluster, the following should help resolve.

\# Get the name of the replicator pod 

kubectl -n <compute namespace> get pod -l app.kubernetes.io/name=replicator 

\# Shell into the replicator container within the replicator pod 

kubectl -n <compute namespace> exec -t -i <replicator pod name> -c replicator -- /bin/bash

\# The above will launch a shell in the container. Now chmod the scratch directory

chmod 0777 /domino/shared/scratch

\# Exit the shell 11exit"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19610337500564-Copying-data-to-from-a-dataset-within-a-Domino-workspace-terminal,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19092400023572-Data-Sources-Changing-Editing-Configurations&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19092400023572-Data-Sources-Changing-Editing-Configurations/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19091904049556-Data-Source-How-to-Edit-User-Permissions&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19092400023572-Data-Sources-Changing-Editing-Configurations,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTz1XPTEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSxKC5dEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8xOTU5OTg3OTE3MzAxMi1JLXZlLXN3aXRjaGVkLXRvLWEtR1BVLW9yLUNQVS1oYXJkd2FyZS10aWVyLWFuZC1ub3ctbXktd29ya3NwYWNlLXdpbGwtbm90LWxlYXZlLWFzc2lnbmluZwY7CFQ6CXJhbmtpBw%3D%3D--a6087b5b00f09a1fd5568c787051904bfc9630e3,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19599879173012-I-ve-switched-to-a-GPU-or-CPU-hardware-tier-and-now-my-workspace-will-not-leave-assigning/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Not version specific.

## **Issue:**

If you have switched a workspace to a GPU tier and are unable to start your workspace, it's stuck in assigning, check the execution logs and see if the following type of error exists.  

```
pod didn't trigger scale-up: 5 node(s) didn't match Pod's node affinity/selector, 2 max node group size reached, 2 Insufficient nvidia.com/gpu
```

This message means five nodes where in the wrong Availability Zone (AZ).  Two of the AZs have maxed out the number of available nodes, and two are just not GPU.  So what does that mean and what can I do about it.

## **Root Cause:**

Workspaces in Domino create persistent volumes (PV).  These are not recreated over time, they are created and are available for the lifetime of your workspace.  This allows you to not lose data through stops and starts of the workspace.  Cloud providers use Availability Zones (AZ) to create redundancy and efficiency.  Your volume is created in one of the AZs and will never move AZs.

An execution with a PV in zone b, for example, can only be placed on host instances in the same AZ, b.  When you switch the hardware tier of your execution, to GPU or CPU, if a host instance is not available in the AZ where your PV was created your execution will not start.  

So why isn't one always available?  There are a few reasons.  Hardware tiers are configured in all available zones to minimize this affinity issue.  But there are maximums per AZ.  If all of that hardware tier's instances in zone b have been used, your existing execution with a PV in zone b will not start.  GPUs are more sensitive to this issue because there are usually smaller maximums set by local admins due to cost.  Additionally cloud providers do not always have large numbers of GPU hosts available in every zone, sometimes none.    And very often GPUs do not allow more than one execution to start on them at a time.  These reasons make the problem of hitting maximums and PV affinity more common with GPU tiers.

## **Resolution:**

So what can you do if your workspace is stuck?  

1.  Create a new workspace.  This is typically the best and easiest route on a busy system.  This will create a new persistent volume in whichever AZ has a host instance available.  If you see this `2 max node group size reached`, it means that the maximums have been reached on 2 zones.  For some larger tiers that may be all there are, but there are usually 3 or more.  So you may need to wait it out and try again later when there is more availability. But first try a new workspace.
2.  Switch to a different hardware tier.  Typically the smaller the tier the better the availability, so try something else if the sizing suits your workload.
3.  If you had unsaved data and need the existing workspace to start, switch the hardware tier to something with current availability and sync your work.  The tier you use for this can be any size, the intent is just to start the workspace and sync everything. Once your work is saved to your GIT repos and/or to the local Domino File System you can start a new workspace.  Again, a new workspace has the best chance to succeed on a busy system.
4.  Talk to your local admin and let them know that you are struggling to start executions due to unavailability of hardware tiers.  They may be able to increase the maximums available for the deployment and mitigate this issue to a degree.

**Notes/Information:**

Additional information on auto scaler issues is available here.

[How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851-How-to-Troubleshoot-Autoscaling-ASG-Issues)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTz1XPTEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQY%3D--0cad49d9f9c11015b7d8c9e253dd077808f43287)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTz1XPTEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--cff0196b27fad4b1eef305185c6626a16a737d8a)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTz1XPTEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCA%3D%3D--fadfb36a18157bc4d804a946a26ac450ea4d03ae)
*   [New AWS GPU nodes autoscale, but fail to get added to Kubernetes cluster](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRrIOmBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTz1XPTEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzYyMTI3MzE4NTExNTYtTmV3LUFXUy1HUFUtbm9kZXMtYXV0b3NjYWxlLWJ1dC1mYWlsLXRvLWdldC1hZGRlZC10by1LdWJlcm5ldGVzLWNsdXN0ZXIGOwhUOglyYW5raQk%3D--f3664f2961355c9059079a0b33e67fdb6c587bd9)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQz1qYbCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTz1XPTEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzEwMDE0MzY3ODIyNjEyLUFwcC1VUkxzLWFuZC1VUkwtcGFyYW1ldGVycwY7CFQ6CXJhbmtpCg%3D%3D--440cbcc0c983738227a7469103289dc2cadb7ae7)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19091904049556-Data-Source-How-to-Edit-User-Permissions,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17280493428372-Adding-Credentials-to-an-Existing-Data-Source&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17280493428372-Adding-Credentials-to-an-Existing-Data-Source/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOdasDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQerG23DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4MDgwMjEwMTItSG93LXRvLURlbGV0ZS1hbi1FbXB0eS1Gb2xkZXItRnJvbS1hLURvbWluby1Qcm9qZWN0BjsIVDoJcmFua2kH--1391f48cb2e899bf43b71a8bf49e56f309cf44a7,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413808021012-How-to-Delete-an-Empty-Folder-From-a-Domino-Project/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You have an empty folder that you're trying to delete in a Domino project and it keeps reappearing the next time you spin up a workspace.

* * *

## **Root Cause:**

This is due to a **.dominokeep** file that Domino places into empty directories for tracking purposes. The [**.dominokeep** file](https://docs.dominodatalab.com/en/latest/user_guide/de4abb/domino-file-system/#_domino_working_directory) prevents directory removal of empty directories.

* * *

## **Resolution:**

To delete the folder permanently, add the folder's name to the **.dominoignore** file that can be found in the project's working directory by navigating to the **File** menu in the project. The [**.dominoignore** file](https://docs.dominodatalab.com/en/latest/user_guide/bfeeae/exclude-project-files-from-sync/) contains file patterns for Domino to ignore. After being added to **.dominoignore**, you should be able to permanently delete the folder.

* * *

## **Notes/Information:**

If the empty folder continues to reapper, try the steps in [Empty folder reappears even after adding folder name to .dominoignore file](https://tickets.dominodatalab.com/hc/en-us/articles/21381473406484). 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [Is there a maximum limit to the amount of External Data Volumes (EDVs) you can have?](https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have)
*   [I've switched to a GPU (or CPU) hardware tier and now my workspace will not leave assigning.](https://tickets.dominodatalab.com/hc/en-us/articles/19599879173012-I-ve-switched-to-a-GPU-or-CPU-hardware-tier-and-now-my-workspace-will-not-leave-assigning)

### Related articles

*   [Deleted files and folder keep appearing back in domino project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIebKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOdasDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzgzMS1EZWxldGVkLWZpbGVzLWFuZC1mb2xkZXIta2VlcC1hcHBlYXJpbmctYmFjay1pbi1kb21pbm8tcHJvamVjdAY7CFQ6CXJhbmtpBg%3D%3D--7745abc8943572d6f93d21246e566df195123530)
*   [Can you sync a specific folder on your computer to a project in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR38UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOdasDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI3ODk1MjQtQ2FuLXlvdS1zeW5jLWEtc3BlY2lmaWMtZm9sZGVyLW9uLXlvdXItY29tcHV0ZXItdG8tYS1wcm9qZWN0LWluLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--1113a0c2a1a68bfb67f268d075860d5029ce07ca)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOdasDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpCA%3D%3D--43f0897fcf1ecf75a7a8c9dba4cc6ce14b94da2c)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOdasDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kJ--01bee55abe1cc6329cc55edd1ebfae8629171e45)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSOdasDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQo%3D--f18f5c2c28ab873bab4e580ac38245e5180f5c27)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17280493428372-Adding-Credentials-to-an-Existing-Data-Source,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17265856207892-How-To-Locate-Projects-Associated-with-Data-Source/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17265856207892-How-To-Locate-Projects-Associated-with-Data-Source&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTE4l3IDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcOQW0DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhy9oYy9lbi11cy9hcnRpY2xlcy8xNDA1NDcwODEzNTA2MC1Ib3ctdG8tdmlldy13b3Jrc3BhY2UtcmVzb3VyY2UtdXNhZ2UtYW5kLXN3aXRjaC1oYXJkd2FyZS10aWVycy13aGVuLWhpdHRpbmctbWF4LUNQVS1hbmQtbWVtb3J5LWxpbWl0cwY7CFQ6CXJhbmtpCQ%3D%3D--4ecb3665e30fe8c8156e9226cca970df44830112,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

To check your workspace’s CPU and memory utilization, click on the **Usage** tab:

![Workspace_Usage_-_CPU_and_Memory.png](https://tickets.dominodatalab.com/hc/article_attachments/14054676252564)

For the Usage duration, you can select either **Last 30 minutes** or **Session Lifetime**:

![Workspace_Usage_-_CPU_duration_-_Last_30_min_-_Session_Lifetime.png](https://tickets.dominodatalab.com/hc/article_attachments/14054743870100)

In some cases, a workspace could stall in the middle of a code run due to not having enough resources. This could result in errors such as:

*   `ConnectionResetError`
*   `The previous R session was abnormally terminated due to an unexpected crash. You may have lost workspace data as a result of this crash.`

* * *

## **Root Cause:**

The hardware tier specifies the amount of resources your run will need in CPU and memory. These types of errors usually occur when the hardware tier is insufficiently sized for the task. The workspace then hits the maximum CPU and/or memory limits and can peak or spike over 100%:

![Workspace_-_Usage_CPU_frequently_exceeding_100_percent.png](https://tickets.dominodatalab.com/hc/article_attachments/14054707498516)

* * *

## **Resolution:**

Go to **Settings** \> **Edit Settings** \> **Hardware Tier** \> switch to a larger hardware tier with more CPU and/or memory:

![Workspace_Edit_Settings_-_change_Hardware_tier.png](https://tickets.dominodatalab.com/hc/article_attachments/14054745936532)

* * *

## **Notes/Information:**

Generally, the user has to understand what kind of usage requirements their project has and make that assessment upfront. However, if they don’t know, they would have to run the execution (workspace, job, app) and monitor the usage. For example, they can choose the smallest or largest hardware tier, view the Usage tab for CPU and memory usage, and then iteratively adjust the size as needed. This will help them determine which hardware tier is best suited for their workspace. 

Related articles:

*   [What does CPU utilization greater than 100% indicate?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496631)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852)

If switching to a larger hardware tier doesn’t resolve the issue, feel free to reach out to Domino Support and [submit a ticket](https://docs.dominodatalab.com/en/latest/user_guide/80328c/contact-technical-support/).

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [Data Lake vs Data Warehouse](https://tickets.dominodatalab.com/hc/en-us/articles/360058044452-Data-Lake-vs-Data-Warehouse)

### Related articles

*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQct7LDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4l3IDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzE0MDY5NzQ5OTYwODUyLUhvdy10by12aWV3LXRoZS1yZXNvdXJjZS11c2FnZS1vZi13b3Jrc3BhY2VzLWpvYnMtYW5kLWFwcHMGOwhUOglyYW5raQY%3D--0f49b97c0ac2fdf4150a6409609fc7a9173fffbb)
*   [What does CPU utilization greater than 100% indicate?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHemKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4l3IDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NjYzMS1XaGF0LWRvZXMtQ1BVLXV0aWxpemF0aW9uLWdyZWF0ZXItdGhhbi0xMDAtaW5kaWNhdGUGOwhUOglyYW5raQc%3D--2cec778563786d378779a3546e9629ad5ac9948b)
*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4l3IDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kI--69d58afd5e6915c31b1831aac840017e08460829)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BkzMCCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4l3IDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk5MDUwNTk4ODg3ODgtSW4tcHJvamVjdHMtb3duZWQtYnktb3Jncy1yZXJ1bi1qb2JzLWZhaWwtaWYtam9icy1hY2Nlc3MtZGF0YXNldHMGOwhUOglyYW5raQk%3D--2e8c8f439e113bfc30f6f5c484c3d6ef2b89271b)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTE4l3IDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--eeebf75a56207b8d725e7e3fa8ee94820d4049d2)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17265856207892-How-To-Locate-Projects-Associated-with-Data-Source,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17728366367636-Is-there-a-maximum-limit-to-the-amount-of-External-Data-Volumes-EDVs-you-can-have,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4407628446612-Changes-to-an-existing-workspace-cannot-be-synced-to-a-project-s-new-linked-Git-repository,"Submitted by Gener Joseph Tomas

If you added a new Git repository with an existing restartable workspace to your project, you had to delete the existing old workspace and start a new one to work with the new Git repository associated with your project.

  
1) Add Git credentials to your Domino account settings

![Screen_Shot_2021-09-27_at_10.32.01_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4407628722068)

2) Add a new Git repository to a project

![Screen_Shot_2021-09-27_at_10.32.24_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4407628722324)  
3) Delete the old existing workspace

![Screen_Shot_2021-09-27_at_10.33.01_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4407628722964)  
4) Start a new workspace

![Screen_Shot_2021-09-27_at_10.33.11_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4407628722708)"
https://tickets.dominodatalab.com/hc/en-us/articles/4406388940436-Adding-a-new-Git-Repository-to-your-project-using-Personal-Access-Token-PAT,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4406388940436-Adding-a-new-Git-Repository-to-your-project-using-Personal-Access-Token-PAT/subscription.html ""Opens a sign-in dialog"")

## Creating credentials

If you are adding a private repository, want to write commits to remote, or are using SSH, you will need to add Git credentials to your Domino account. Domino will use these credentials to authenticate with the service hosting your repository when you start a [Run](https://docs.dominodatalab.com/en/latest/user_guide/4474ab/executions/).

### Personal Access Token creation

You will need a Personal Access Token to access a private repository via HTTPS. You will need a Personal Access Token if the URI you want to use to interact with a repository is formatted as:

`https://<domain>/<user>/<repository>.git`

Personal Access Tokens are supported by the following Git services.

*   [GitHub Personal Access Tokens](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)
*   [GitLab Personal Access Tokens](https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html)

The Personal Access Token you generate needs to have read and write access to your private repositories.

To generate a Personal Access Token in your **GitHub**

1.  Navigate to your Git account settings, then Developer Settings. Click the Personal access tokens menu, then click Generate new token.
2.  Select repo as the scope. The token will be applicable for all the specified actions in your repositories.
3.  Click Generate Token.

To generate a Personal Access Token in your **GitLab**

1.  From your home page, open your user settings, and then select Personal access tokens.
2.  And then select + New Token.
3.  Name your token, select the organization where you want to use the token, and then choose a lifespan for your token.
4.  Select the scopes for this token to authorize for your specific tasks.

After generating a Personal Access Token in your Git service, use these steps to add it to Domino:

1.  In Domino, click your username in the upper right, then click **Account Settings**.
    
2.  Scroll down to the panel labeled _Git Credentials_, then click **Add a New Credential**.
    
3.  In the _Domain_ field, enter the exact domain of the service hosting your repositories, such as **github.com**, **gitlab.com**, or **your-internal-gitlab-url.com**.
    
4.  For _Authentication Credential Type_, click to select **Personal Access Token**.
    
5.  Enter your Personal Access Token, then click **Add Credential**.
    
6.  You should now see your credential listed in the _Git Credentials_ panel. You can also delete it from this panel if desired.
    
    ![git-credentials-panel-ssh.png](https://tickets.dominodatalab.com/hc/article_attachments/12494454012180)
    

## [Add a repository to a project](https://docs.dominodatalab.com/en/4.6/reference/data/git/Git_repositories_in_Domino.html#id9)

1.  Open the project you want to add a repository to, then click **Files** from the left navigation bar.
    
2.  Click to open the **Git Repositories** tab, then click **Add a New Repository**.
    
3.  Enter an optional directory name and the HTTPS or SSH URI of the repository you want to add. The directory name will be the directory in `/repos` that this repository clones into. It defaults to the name of the repository.
    
4.  Use the dropdown menu to choose which branch of the repository you want Domino to check out when it clones this repository into a run or workspace. If you leave this setting at _Use default branch_, Domino will check out the branch specified as default by your Git service, typically `master`. You can also specify a different branch name, tag name, commit ID, or supply a custom Git ref.
    
    ![add-repo-modal.png](https://tickets.dominodatalab.com/hc/article_attachments/12494469314068)
    
5.  Click **Add Repository**.
    

### Recently viewed articles

*   [Changes to an existing workspace cannot be synced to a project's new linked Git repository](https://tickets.dominodatalab.com/hc/en-us/articles/4407628446612-Changes-to-an-existing-workspace-cannot-be-synced-to-a-project-s-new-linked-Git-repository)

### Related articles

*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReP%2FEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kG--237f5809669faf3f1566a1a63f29b84c313d2167)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReP%2FEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kH--1fe2e93d46607016a818a230555c1100fc68c411)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReP%2FEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--4d2d72aacdd065e67db7678d01d12024bf2656d3)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReP%2FEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kJ--0fc6c8505eea91d4eac9610e06db7ca67ad2888d)
*   [Git submodules in a ""read only"" use-case](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRpW2SXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReP%2FEBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzUwNDgyNzAyODUwNzYtR2l0LXN1Ym1vZHVsZXMtaW4tYS1yZWFkLW9ubHktdXNlLWNhc2UGOwhUOglyYW5raQo%3D--d1a49e77095f273bf281696909ea416267d20991)"
https://tickets.dominodatalab.com/hc/en-us/articles/4402121510676-Does-Domino-support-GIT-LFS,"At the moment, Domino does not support GIT LFS natively.  This means we cannot sync a GIT-LFS repo, nor can you add it to your project via the Domino UI and have it load at the start of an execution.  

If you'd still like to use a GIT-LFS repo, you will need to install GIT-LFS in your Compute Environment using these [install instructions](https://packagecloud.io/github/git-lfs/install).  Once installed in your environment you should be able to use manual git commands to pull, push, and commit your repo."
https://tickets.dominodatalab.com/hc/en-us/articles/360058042992-How-do-I-ensure-a-Python-package-from-a-private-repo-is-usable-in-both-runs-and-models,"![](https://tickets.dominodatalab.com/system/photos/361173258292/robw.PNG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058042992-How-do-I-ensure-a-Python-package-from-a-private-repo-is-usable-in-both-runs-and-models/subscription.html ""Opens a sign-in dialog"")

When developing code for a model you may pull in modules from private Git repos using the Git Repositories setting in the project files

[![image.png](https://us.v-cdn.net/6031622/uploads/102/E12NTZUE1D4K.png)](https://us.v-cdn.net/6031622/uploads/102/E12NTZUE1D4K.png)

and adding the line

`-e /repos/reponame`

to _requirements.txt_ to ensure the module is installed when the run starts. This works when running the code in a Workspace or normal Run but when you try to publish it as a model you'll find that you'll get a **ModuleNotFoundError** for the module as models do not read or process _requirements.txt_.

A solution to ensure the code works in both normal runs and a model is to load the module with the following code:

try:
  import packagename
except ImportError:
  import subprocess,sys,site as site
  subprocess.call(\[sys.executable, ""-m"", ""pip"", ""install"", ""-e"", ""/repos/reponame""\])
  site.main()
finally:
  import packagename

Using this, if the _requirements.txt_ is not processed your code will use start a shell to run pip and install the package from the mounted repository location ensuring your code works in both situations.

### Recently viewed articles

*   [Does Domino support GIT LFS?](https://tickets.dominodatalab.com/hc/en-us/articles/4402121510676-Does-Domino-support-GIT-LFS)
*   [Adding a new Git Repository to your project using Personal Access Token (PAT)](https://tickets.dominodatalab.com/hc/en-us/articles/4406388940436-Adding-a-new-Git-Repository-to-your-project-using-Personal-Access-Token-PAT)
*   [Changes to an existing workspace cannot be synced to a project's new linked Git repository](https://tickets.dominodatalab.com/hc/en-us/articles/4407628446612-Changes-to-an-existing-workspace-cannot-be-synced-to-a-project-s-new-linked-Git-repository)

### Related articles

*   [Use imported package project in model api](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPivIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHC6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDMxMi1Vc2UtaW1wb3J0ZWQtcGFja2FnZS1wcm9qZWN0LWluLW1vZGVsLWFwaQY7CFQ6CXJhbmtpBg%3D%3D--a745610229cb7d08ed3f6ad30a5b33194fb10c53)
*   [Set the default project Environment for newly created projects automatically.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS3s7cLBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHC6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzY2NDczOTY0MTUyNTItU2V0LXRoZS1kZWZhdWx0LXByb2plY3QtRW52aXJvbm1lbnQtZm9yLW5ld2x5LWNyZWF0ZWQtcHJvamVjdHMtYXV0b21hdGljYWxseQY7CFQ6CXJhbmtpBw%3D%3D--13c27774e90aaa00124441be1ee784c1f5ae563e)
*   [Where are my files?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRB1zMDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHC6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTE4MDExNTgwMzYtV2hlcmUtYXJlLW15LWZpbGVzBjsIVDoJcmFua2kI--c0cadb74b99ed6431111b2ea9215b1c555ae9be5)
*   [Is there an easy way to bulk archive projects owned by a specific user?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHC6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NjY3MS1Jcy10aGVyZS1hbi1lYXN5LXdheS10by1idWxrLWFyY2hpdmUtcHJvamVjdHMtb3duZWQtYnktYS1zcGVjaWZpYy11c2VyBjsIVDoJcmFua2kJ--298025e32ab8c39f18585a9417b55122bbd5da32)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHC6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpCg%3D%3D--d86f6ed3f1ec1ae91d6228b5747f1350fcebb413)"
https://tickets.dominodatalab.com/hc/en-us/articles/11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgtyndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0MDI3MTczMDEyLUNsZWFyaW5nLUdpdC1DYWNoZQY7CFQ6CXJhbmtpBg%3D%3D--4f49d568a80491d1dfc9188439c2cfee553517c6,"There are security measures set on each deployment. They are placed in such a way they can perfom a scan on each users script. When users sync codes to linked repository (github , gitlab etc) , the script maybe tagged as **""sensitive information""** and will be denied to the push request. 

Even after completely wiping the script and starting over with the code to avoid this error, they are  still unable to push to the github, gitlab etc. This would tell us there are still remnants of the code initially scanned by the organizations security measures . 

We can address this by simply removing git cache. 

The easiest way to clear your Git cache is to use the _“git rm”_ command with the _“–cached”_ option."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQk%3D--0aecd8ed0ef56f3de1d428f6f373bcfe8cb37045,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API/subscription.html ""Opens a sign-in dialog"")

While Model APIs are commonly used when you need an API to query your model in near real-time, you may run into a situation where you want your Model API to write a file back to the Domino File System when it's called.  Using the [Domino python package](https://docs.dominodatalab.com/en/4.5/api_guide/d9cc25/python-wrapper-for-domino-api/), you can upload your created file(s) back to your project!

### Setup

Model APIs do not inherit environment variables, so in order to use the Domino python package you'll need to specify environment variables for DOMINO\_API\_HOST and DOMINO\_USER\_API\_KEY within your Model API. These can be added under your Model settings > Environment.

![modelapi_env.JPG](https://tickets.dominodatalab.com/hc/article_attachments/9919182226196)

If you're unsure of these variables, one easy way to grab them is from a workspace:  

```
import osprint(os.environ['DOMINO_API_HOST'])print(os.environ['DOMINO_USER_API_KEY'])
```

For this example, we'll be writing a simple set of results to a .json file in a subfolder ""model\_output"", and use the timestamp for a filename.

**Example Python script:**

from domino import Domino
import time
import json

def create\_file():
    file\_name = time.strftime('%Y-%m-%d\_%H%M%S.json')
    results\_folder = ""model\_output/""
    file\_path = results\_folder + file\_name
    
    # Data to be written
    results = {
        ""name"": ""Domino"",
        ""test\_date"": time.strftime('%Y-%m-%d'),
        ""result\_1"": 56,
        ""result\_2"": 8.6
    }

    with open(file\_name, ""w"") as f:
        f.write(json.dumps(results))
        
    domino = Domino(""<project-owner>/<project-name>"") 
    f = open(file\_name, 'rb')
    r = domino.files\_upload(""/"" + file\_path, f) 

In the call to the Domino python package, you'll replace _<project-owner>/<project-name>_ with your actual project owner name and project name.

We can now call this model API, and we'll see our .json file populated in **`/mnt/model_output`!** You can adapt this to your own needs, including any file type, file name, and file content, just remember to call the `domino.files_upload()` in your script.

#### \*Note

If you're running Domino 5.0 - 5.2, the code above will result in a permission error, which can be seen in the Results:

{""error"":{""message"":""\[Errno 13\] Permission denied: '2022-10-07\_181404.json'""},  
""model\_time\_in\_ms"":0,""  
release"":{""harness\_version"":""0.1"",""model\_version"":""63406a9ac51c7570972943ae"",""model\_version\_number"":1},  
""request\_id"":""NSG6LPDTI1V4KQA5"",""timing"":0.33402442932128906}

or the Instance Logs:

PermissionError: \[Errno 13\] Permission denied: '2022-10-07\_181404.json'

This is due to a Model API permissions change to these specific Domino versions. More information is available here: [https://tickets.dominodatalab.com/hc/en-us/articles/8125256142996-Model-permissions-change-for-Domino-version-5-0-5-2-](https://tickets.dominodatalab.com/hc/en-us/articles/8125256142996-Model-permissions-change-for-Domino-version-5-0-5-2-) 

One quick workaround for this is to create your initial file in a temp directory (`/tmp`), which will have different write permissions, before uploading your final file to your `model_output`. Modifying the script from above, we can add `/tmp/` to our initial file path where the .json file is written, before uploading to our final location:

from domino import Domino
import time
import json

def create\_file():
    file\_name = time.strftime('%Y-%m-%d\_%H%M%S.json')
    results\_folder = ""model\_output/""
    temp\_file = ""/tmp/"" + file\_name
    file\_path = results\_folder + file\_name
    
    # Data to be written
    results = {
        ""name"": ""Domino"",
        ""test\_date"": time.strftime('%Y-%m-%d'),
        ""result\_1"": 56,
        ""result\_2"": 8.6
    }

    with open(temp\_file, ""w"") as f:
        f.write(json.dumps(results))
        
    domino = Domino(""<project-owner>/<project-name>"")
    f = open(temp\_file, 'rb')
    r = domino.files\_upload(""/"" + file\_path, f) 

### Recently viewed articles

*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/articles/6194966685076-Error-connecting-to-shared-Git-based-project)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [Clearing Git Cache](https://tickets.dominodatalab.com/hc/en-us/articles/14144027173012-Clearing-Git-Cache)
*   [How do I ensure a Python package from a private repo is usable in both runs and models?](https://tickets.dominodatalab.com/hc/en-us/articles/360058042992-How-do-I-ensure-a-Python-package-from-a-private-repo-is-usable-in-both-runs-and-models)
*   [Does Domino support GIT LFS?](https://tickets.dominodatalab.com/hc/en-us/articles/4402121510676-Does-Domino-support-GIT-LFS)

### Related articles

*   [Model permissions change for Domino version 5.0 - 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQAc9jBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSk1RH7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzgxMjUyNTYxNDI5OTYtTW9kZWwtcGVybWlzc2lvbnMtY2hhbmdlLWZvci1Eb21pbm8tdmVyc2lvbi01LTAtNS0yBjsIVDoJcmFua2kG--874b2941105395f91f760352883c5821eeae725f)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSk1RH7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpBw%3D%3D--6b396745396bd553714cffa835667a602b831eb1)
*   [Invoking function exposed by a Model API via a script](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQSMBZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSk1RH7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NTEyODE0MjgtSW52b2tpbmctZnVuY3Rpb24tZXhwb3NlZC1ieS1hLU1vZGVsLUFQSS12aWEtYS1zY3JpcHQGOwhUOglyYW5raQg%3D--b094a01ca2bca6eff07a14d68b4eb604cb8ab8c1)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSk1RH7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kJ--68fed1be8ef0a8bc77adef88e9d85601ebf74974)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTy%2FRZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSk1RH7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NjQ3NzM2NTItQ2hhbmdlLURNTS1JTU0tY3JvbmpvYi1zY2hlZHVsZQY7CFQ6CXJhbmtpCg%3D%3D--5fc398a3dfb9657427d6acde899a888bae8e8566)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSbF2erCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQg%3D--b1af484ed0d5dfd71fe611a51de92d8f0bbadc52,"**Problem:** 

User unable to connect to a Git based project, receiving following error. Personal access token key is validated to be good and user can login to bitbucket repo via UI with the username. 

Error  
An unexpected error occurred.  
repository not found: /.git.  
If this problem persists, contact your system administrator.  
(Error 299: API\_ERROR)  
""fatal: remote error: CAPTCHA required"" error.  

**Resolution:** 

Requested bitbucket Admin to cleared CAPTCHA error, then you should be able to connect to the Git based project in Domino. 

As always, if you need further help, please reach out to Domino support."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11731285285780-Scheduled-Jobs-Feature-request-to-make-Git-Reference-section-available-on-Git-based-projects,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4407753451796-Working-with-Git-repositories-from-the-workspace-command-line&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQplEICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kH--405a6abf056d7fbe536633cae504fbd9574d6ca7,"There can be several reasons for not being able to add a GIT repo to your project.  One of the less common reasons for failure to add a GIT is that you may be trying to add a GIT repo whose URI is not in the form

git@<your.git-server.com>  

Some GIT servers are setup to use a username that is not 'git', so the URI would look like

<your-user>@<your.git-server.com>

At the moment this is not supported by Domino and a repo that has a URI with a non 'git' user cannot be added directly to a Domino project.  

To work around this you will need to access your repo using standard git push/pull/fetch/commit commands from within your execution.  In a job this would be in your code and in a workspace these can be executed from the workspace terminal command line.  

We are looking in to adding this functionality in a future version of Domino, but as of Domino v5.2 this is the current situation."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQplEICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpCQ%3D%3D--7eb9f739834393735f096fa6685be2a4dcba7f55,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader/subscription.html ""Opens a sign-in dialog"")

**Problem**:

A Domino customer was curious if dash\_uploader ([https://github.com/np-8/dash-uploader)](https://github.com/np-8/dash-uploader)) could be used within a Published App.  The following was tested in 4.5

**Resolution**:

Implementing dash\_uploader within an App is pretty simple.  The following example only demonstrates code which uploads a csv or zip file to /mnt/dash. 

Note that published Apps aren't intended to commit files back to the DFS. Apps are primarily meant to be long-running webapps or dashboards used for easy sharing, monitoring & collaborating, but theoretically you could upload and process a file for some type of results rendering in the App.

**Example**:

The runtime environment for the published App must have the dash, dash-uploader and and dash-html-components python packages.  You could use a Domino Analytics Distribution Compute Env containing this dockerfile instruction: 

RUN pip install dash && \\  
pip install dash-html-components && \\  
pip install dash-uploader && \\

Your app.sh (within the root directory of your project) could simply call:

python app.py

Your app.py file could contain:

from pathlib import Path  
import uuid  
import os

import dash\_uploader as du  
import dash  
from dash import html  
from dash.dependencies import Input, Output, State

\# Configure Dash to recognize the URL of the container  
user = os.environ.get(""DOMINO\_PROJECT\_OWNER"")  
project = os.environ.get(""DOMINO\_PROJECT\_NAME"")  
runid = os.environ.get(""DOMINO\_RUN\_ID"")  
runurl = '/' + user + '/' + project + '/r/notebookSession/'+ runid + '/'

app = dash.Dash(routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl)

UPLOAD\_FOLDER\_ROOT = r""/mnt/dash""  
du.configure\_upload(app, UPLOAD\_FOLDER\_ROOT)

def get\_upload\_component(id):  
return du.Upload(  
id=id,  
max\_file\_size=1800, # 1800 Mb  
filetypes=\['csv', 'zip'\],  
upload\_id=uuid.uuid1(), # Unique session id  
)

\# get\_app\_layout is a function  
\# This way we can use unique session id's as upload\_id's  
app.layout = html.Div(  
\[  
html.H1('Demo'),  
html.Div(  
\[  
get\_upload\_component(id='dash-uploader'),  
html.Div(id='callback-output'),  
\],  
style={ # wrapper div style  
'textAlign': 'center',  
'width': '600px',  
'padding': '10px',  
'display': 'inline-block'  
}),  
\],  
style={  
'textAlign': 'center',  
},  
)

@du.callback(  
output=Output('callback-output', 'children'),  
id='dash-uploader',  
)  
def get\_a\_list(filenames):  
return html.Ul(\[html.Li(filenames)\])

if \_\_name\_\_ == '\_\_main\_\_':  
app.run\_server(port=8888, host='0.0.0.0', debug=True)

Publish the app by clicking ""Apps"" within the project menu.   For more information see the sample in the quick-start project and  [https://docs.dominodatalab.com/en/5.1/reference/publish/apps/App\_publishing\_overview.html](https://docs.dominodatalab.com/en/5.1/reference/publish/apps/App_publishing_overview.html)

![dash_upload.png](https://tickets.dominodatalab.com/hc/article_attachments/5029607459348)

### Recently viewed articles

*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/articles/4415428901396-I-m-unable-to-add-a-GIT-repo-to-my-project)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [Get notification when others add collaborators to projects you own](https://tickets.dominodatalab.com/hc/en-us/articles/9648717840916-Get-notification-when-others-add-collaborators-to-projects-you-own)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API)

### Related articles

*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRKrKHeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS26A%2BTBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzc1NTMyNjQ5Mjk0MjgtVXNpbmctRGFzaC1Cb290c3RyYXAtQ29tcG9uZW50cy1pbi15b3VyLUFwcHMGOwhUOglyYW5raQY%3D--b3cca21e29d635dc0cd4fe3e52b80f38bbec8312)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEr%2BebCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS26A%2BTBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk0NjU3MDAwMDg5ODAtQVBQUy1SZWFkLU9ubHktRXJyb3ItV2hlbi1TZXR0aW5nLVVwLVVSTC1Gb3ItQXBwLVVzaW5nLURhc2gtMi0xLTAGOwhUOglyYW5raQc%3D--4409e8b475a82680c17c271a3858cd6e195492d7)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS26A%2BTBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQg%3D--4710b20b3e58f82ee60755fdd2e566e6c6104fa2)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS26A%2BTBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kJ--6b41eb922eb81668bac89da763431b48679b8cd0)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS26A%2BTBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCg%3D%3D--7c5c83345571ca3e6d141cd8dc637d5d02ac73a1)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4407753451796-Working-with-Git-repositories-from-the-workspace-command-line,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F7880756530452-How-to-use-requirements-txt-file-for-git-based-projects&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/7880756530452-How-to-use-requirements-txt-file-for-git-based-projects/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQc%3D--56c72734894eb3afe716bdf5023783ef413b348a,"## Does Domino support IMDSv2?

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9662562843284-Does-Domino-support-IMDSv2/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

_**Domino 4.5.1+**_

## **Issue:**

Does Domino support Instance Metadata Service Version 2 (IMDSv2)?

## **Information:**

The short answer is that as of Domino v4.5.1 we do support IMDSv2.  If you are doing a new install then we support this out of the box.  If however you are doing an in place upgrade from IMDSv1 to IMDSv2 against a running Domino deployment you will need to update the Instance Metadata from:

""MetadataOptions"": {
                        ""State"": ""applied"",
                        ""HttpTokens"": ""optional"",
                        ""HttpEndpoint"": ""enabled"",
                        ""HttpPutResponseHopLimit"": 1
                    },

to:

""MetadataOptions"": {
                        ""State"": ""applied"",
                        ""HttpTokens"": ""required"",
                        ""HttpEndpoint"": ""enabled"",
                        ""HttpPutResponseHopLimit"": 2
                    },

If you are unable to take an outage to update the instance metadata on your launch templates and relaunch then updates can be made live on running instances with:

aws ec2 modify-instance-metadata-options --instance-id <instance-id> --http-token required --http-endpoint enabled --http-put-response-hop-limit 2

But don't forget to update your launch templates if you go this route.

## **Notes:**

Domino Model Manager has a known issue with IMDSv2 and will not be fully supported with IMDSv2 until Domino 5.3.0; see DOM-39515 - DMM does not support IMDS v2 when using IAM roles for S3 (Domino Internal)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/articles/4415428901396-I-m-unable-to-add-a-GIT-repo-to-my-project)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6oL3JCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--ec9d58e2ed27e5037446216623d15ef4f6b42620)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6oL3JCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--76b84aa814a31f218fa199cb52b07a32a259b569)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTyrmMEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6oL3JCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzQ0MTY4OTg3OTAwMzYtQVdTLVBvbGljeS10by1jbGVhbnVwLXVuYXR0YWNoZWQtdm9sdW1lcy1kZWxldGVkLXJlc3RhcnRhYmxlLXdvcmtzcGFjZXMGOwhUOglyYW5raQg%3D--849d6eeffc8aafd6e65dfe503fce0074bec9b47a)
*   [Extending an LV without moving the underlying data](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSWgVtvCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6oL3JCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzkyNzQzNjk2MTE0MTItRXh0ZW5kaW5nLWFuLUxWLXdpdGhvdXQtbW92aW5nLXRoZS11bmRlcmx5aW5nLWRhdGEGOwhUOglyYW5raQk%3D--d97d64ae67b5e968cc65887cb7e9dd7f3738ff52)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ6oL3JCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kK--2dd27b6a59e5731a31bd1d81d8700bdb4caa5c34)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQg%3D--afe72edc0a0d63841a2a57f0ab7e106406998ba0,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7898767525012-Failed-to-connect-to-localhost-port-9000-Connection-refused/subscription.html ""Opens a sign-in dialog"")

**Version:**

Domino All Versions

**Issue:**

Jobs / Apps / Models / Workspace present with 'failed to connect' messages in the logs:

2021-04-18 01:20:46 : curl: (7) Failed to connect to localhost port 9000: Connection refused

2022-07-09T07:28:16.918Z: Session terminated, terminating shell...curl: (7) Failed to connect to localhost port 9000: Connection refused  
2022-07-09T07:28:16.918Z: Cleanup command failed. Attempt 1/10. Will try again in 6 

2022-05-12T09:34:44.000Z: curl: (7) Failed to connect to localhost port 9000: Connection refused

**Root Causes:**

Its important to note that this error message presents itself due to a number of reasons, some of these are documented below:

*   Apps not running on the correct IP/Port, Apps in Domino must run with a host of `0.0.0.0` on port `8888`
*   `Exit code (143)`  - which generally indicates an issue with memory resources, these can also include Out Of Memory (OOM) events.
*   ResourceChangeNotifications taking place on the backend Domino environment - This can be seen in support bundle events.json log.
*   Apps are considered to be in a ""running"" state once the run container starts, even though it may actually be installing a bunch of packages, hence its not actually in a started state. To ensure a speedy running state, you can bake dependencies into the compute environment and remove any unneeded dependencies.
*   Race conditions - Where there are instances of messages relating to _'2 items found when at most one was expected' -_ This typically occurs when one app fails to terminate before the other is launched and is usually resolved with sleep statements placed in the code.

**Resolution:**

To ensure, we can get to the root cause of why you may be seeing the above message in the logs. It's highly recommended to review against the above causes first and provide Domino Support with a support bundle, details of how to obtain these are set out in the articles below:

Workspaces - [https://tickets.dominodatalab.com/hc/en-us/articles/4407753434900-Obtaining-Support-bundle-Logs-on-a-Workspace-on-Domino-Version-4-3-up](https://tickets.dominodatalab.com/hc/en-us/articles/4407753434900-Obtaining-Support-bundle-Logs-on-a-Workspace-on-Domino-Version-4-3-up)

Apps - [https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)

* * *

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/7898766968468/domino_logo.png)

### Recently viewed articles

*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/articles/9662562843284-Does-Domino-support-IMDSv2)
*   [What options do I have for adding code packages to my executions](https://tickets.dominodatalab.com/hc/en-us/articles/16319168055828-What-options-do-I-have-for-adding-code-packages-to-my-executions)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)

### Related articles

*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSEOxMvBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kG--c4630db8fb0bb2cc81c39faecf18a26f3e5890ff)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSBAxQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSEOxMvBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MTEyNjcxODcwOTItT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYW4tQXBwLW9uLURvbWluby1WZXJzaW9uLTQtMy11cAY7CFQ6CXJhbmtpBw%3D%3D--332564f14aaa47884671b1ebcc0b2f206a687a9b)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSEOxMvBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--1cba47b7170e824eb424582ed03d534c004e2d8f)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSEOxMvBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kJ--ff60a146416b40a374fdf699d44acdde2ae3c11f)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSEOxMvBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCg%3D%3D--26590541aba7d3506b6aee53118a9d4a78cdbfe0)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSA%2BQMHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU1Mjc2ODk1OTI4NTItUGFja2FnZXMtaW4tdGhlLXJlcXVpcmVtZW50cy10eHQtZmlsZS1hcmUtbm90LWJlaW5nLWluc3RhbGxlZAY7CFQ6CXJhbmtpCQ%3D%3D--b157bedef2ea8d97aaff3ce7b949d416b0a08b8b,"If you are using a git-backed project and have noticed that packages in the requirements.txt file are not being installed, you've come across a bug that affects some Domino versions 4.4+. This should be fixed in Domino version 5.2+. 

There are two options to resolve the issue:

1) Move the requirements.txt file to the Artifacts folder of your Domino project

2) Run **pip install** -r **requirements**.**txt** in the pre-setup script (within the project's environment)

If neither of those work for you please reach out to support and we'll do our best to help!"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSNseEqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kK--ddb9e775198fd32bbfddea9af29c328b7c1acc3a,"*   **Run failures**

*   [My run is failing because of missing packages or dependencies](#Dependencies)
*   [""No such file or directory"" or ""File not found"" error when running on Domino](#FileNotFound)
*   [My run is failing with a message ""Unrecognized type of runner file""](#RunnerFile)
*   [My code works in Matlab but not in Octave](#OctaveIssues)
*   [""No space left on device"" when using joblib or scikit-learn](#JobLibNoSpaceLeftOnDevice)

*   **Problems on your computer (the CLI)**

*   [CLI SSL Error: ""sun.security.validator.ValidatorException: PKIX path building failed""](#CertIssues)
*   [CLI warning in Windows ""Could not open/create prefs root node Software\\JavaSoft\\Prefs...""](#WindowsWarning)
*   [Domino reset message in the CLI during sync](#DominoReset)
*   [CLI error during login: ""Unexpected error: Illegal character in authority at index""](#CLIServerIssue)
*   [""'domino': command not found"" after installation](#commandNotFound)
*   [I get a message like ""too many open files""](#tooManyOpenFiles)
*   [I see ""cannot update your PATH""](#cliPATH)
*   [CLI reports an out of memory error](#cliOOM)
*   ['Domino run' says ""Access denied"" or ""permission denied""](#Filelock)
*   [""Server key"" error on Linux](#ServerKey)
*   [Proxy connection](#proxy)
*   [No content to map due to end-of-input](#NoContentToMap)
*   [Symantec Endpoint Protection reports the Domino client as malicious](#symantec)
*   [CLI Error ""Repo is not safe""](#Unsafe)

*   **Web site issues**

*   [My output files (e.g., figures, charts) don't show up in the Results tab](#OutputFiles)

* * *

### My run is failing because of missing packages or dependencies

Many R and Python packages are installed by default on the Domino machines, but not all of them. Fortunately, we've made it easy to add your own dependencies and packages. Take a look our [dependencies](https://tickets.dominodatalab.com/hc/en-us/articles/204842945-Packages-Dependencies) page for info about how to do this.

* * *

### ""No such file or directory"" or ""File not found"" error when running code on Domino but not locally

**First check if the file or directory is actually present in your project folder.** Domino only synchronizes files within your project folder, so if the file required by your code lives outside of that folder, you'll need to move or copy it into your project folder.

**Second, make sure that all file paths are relative to the project root.** Any paths like

C:\\Users\\you\\Domino\\project\\subdir\\file.txt

will fail, even if `project\subdir\file.txt` actually exists on your local machine. This is because Domino only knows about files in the project folder. It won't know about any files or structures above the project.

If `C:\Users\you\Domino\project` is the path to the root of your project folder, then you'll want to specify all paths your code uses relative to that root directory. So the correct path to use in your code is `subdir\file.txt`, i.e.,:

f = open('subdir\\\\file.txt')

* * *

### My run is failing with a message ""Unrecognized type of runner file""

Domino supports running many different languages. It detects how to run the given file based on its file extension: for example, Domino will run `script.py` as a Python script and `anotherScript.R` as an R script.

Domino currently supports the following languages:

*   Python (.py)
*   R (.r)
*   MATLAB (.m)
*   Bash Scripts (.sh)
*   Perl scripts (.pl)

If the file you wish to run on Domino does not have one of the above file extensions (or does not have an extension at all), Domino won't know how to run it.

Note: you can submit ""direct"" run commands via the [CLI](https://support.dominodatalab.com/hc/en-us/articles/204842905--How-to-CLI-reference#run) as well as [API](https://dominodatalab.github.io/api-docs/#project-runs-and-files-start-run-post). This bypasses the file extension parsing and instead runs it as a bash command.

If there's a language you want Domino to support, please [let us know](mailto:support@dominodatalab.com).

* * *

### My code works in Matlab but not in Octave

Octave has some documentation on the [various differences between Octave and Matlab](http://wiki.octave.org/FAQ#How_is_Octave_different_from_Matlab.3F). You should take a look at that, but the most common issues we've seen are:

*   **Dependence on toolboxes**. If your Matlab code relies on toolboxes, you can look for [equivalent Octave packages](https://tickets.dominodatalab.com/hc/en-us/articles/204187209-What-are-the-requirements-for-installing-Domino-On-Premise).
*   **Use of classes**. Octave doesn't yet support Matlab's `classdef` syntax. In many cases, you easily convert your Matlab classes to use structs, which will work fine in Octave. 

* * *

### CLI error during login: ""Unexpected error: Illegal character in authority at index""

Make sure you have connected the Command Line Interface (CLI) to the correct Domino server.  See [Installing the Domino Client (CLI)](https://tickets.dominodatalab.com/hc/en-us/articles/204856475-Installing-the-Domino-Client-CLI-).

* * *

### ""No space left on device"" when using joblib or scikit-learn

The Python joblib package (used by scikit-learn) sometimes throws an ""No space left on device"" error. This is caused by joblib exceeding the available RAM-based temporary memory. To work around this issue, set the JOBLIB\_TEMP\_FOLDER environment variable to ""/tmp"" by using the following Python code at the start of your script:

import os
os.environ\[""JOBLIB\_TEMP\_FOLDER""\] = ""/tmp""

* * *

### Seeing ""sun.security.validator.ValidatorException: PKIX path building failed""

The full message might look something like this:

""Unexpected error: Couldn't validate the Domino URL you provided. 
Validation failed with: sun.security.validator.ValidatorException: 
PKIX path building failed: 
sun.security.provider.certpath.SunCertPathBuilderException: 
unable to find valid certification path to requested target""

### Solution Phase 1: Get the cert

The best way to get your certificate is through the browser.

### Chrome

1.  Click on the “Not Secured” button next to the URL:

![Cert-Lock.png](https://tickets.dominodatalab.com/hc/article_attachments/360001932606/Cert-Lock.png)

Click on “Certificate”:![Cert-Show.png](https://tickets.dominodatalab.com/hc/article_attachments/360001936443/Cert-Show.png)You can then drag the icon for the certificate to your Desktop or wherever you want to save it:

![Cert-Save.png](https://tickets.dominodatalab.com/hc/article_attachments/360001936423/Cert-Save.png)

### Solution Phase 2: Add the cert to the keystore

1. Add the self-signed certificate to the Java keystore (a file called ""cacerts""). Depending on the OS and version of Java this might be in one of many places but typically we see it in `/usr/lib/java/jdk-x-x/jre/lib/security` or `/usr/lib/jvm/jdk-x-x/jre/lib/security`.

Find the Java keystore location by running the following command:

$ echo $(/usr/libexec/java\_home)/lib/security/cacerts
/Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/lib/security/cacerts

2\. With the Java keystore location identified, add your company issued cert to the Java keystore location identified in the previous step:

$ sudo keytool -keystore /Library/Java/JavaVirtualMachines/jdk-9.0.4.jdk/Contents/Home/lib/security/cacerts -importcert -alias AN\_ALIAS\_NAME -file \*.YOUR\_DOMAIN.com.cer

_Windows Users: The keystore tool should be located in C:\\Program Files\\Java\\jre-x-x\\bin (replacing jre-x-x with your version)_

3\. Attempt to login with the CLI again (replacing with your Domino URL):

$ domino login https://app.dominodatalab.com

4\. If your company issued certificate is added to the keystore but you are still having issues, check to ensure that the cert was added to the same location which the Domino cacerts are stored. Run each of these commands to compare the cacert paths:

*   Path of Java cacerts: `echo $(/usr/libexec/java_home)/lib/security/cacerts` 
*   Path of Domino cacerts: `echo $(which domino)/cacerts`

* * *

### Seeing ""WARNING: Could not open/create prefs root node Software\\JavaSoft\\Prefs"" in Windows

The full message might look something like this: ""WARNING: Could not open/create prefs root node Software\\JavaSoft\\Prefs at root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5."" This is a benign warning message and does not affect the CLI functionality.

* * *

### Seeing ""Please run 'domino reset' to reset your local files to the server's state.""

You see this message in the CLI while doing a domino sync: ""Your project folder looks like it is in the middle of updating, most likely because a previous command was interrupted. Please run 'domino reset' to reset your local files to the server's state."" This error indicates that the local project has gotten into a bad state. If you do not have any local changes that need to be uploaded to Domino, then you can run `domino reset`. This will erase local changes so that the folder matches the cloud version of the project, so again be sure you do not have anything to upload.

If instead you do have changes that you wish to upload, then you will need to perform a [force restore](https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project).

* * *

### ""'domino': command not found"" after installation

If the Terminal (or CMD on Windows) gives you an error that the `domino` command isn't found (when you're following the Tour steps, for example)...

*   If you have just installed, make sure you open a _new_ Terminal window or CMD window. The Domino installer modifies your PATH environment variable, and the changes won't take effect until you open a new shell.
*   On a Mac, if you're still getting the error after opening a new Terminal window, it usually means something failed when trying to add Domino to your PATH. You can force correct this by running:  
    `echo 'export PATH=""/Applications/domino:$PATH""' >> ~/.bash_profile`  
    If you're using a shell other than BASH, you can modify your PATH there.

* * *

### I get a message like ""too many open files""

Please see our page on working with projects that have [lots of files](https://tickets.dominodatalab.com/hc/en-us/articles/360060723952-Working-With-Lots-Of-Files)

* * *

### ""Unable to update your PATH"" when installing the CLI on Mac

If you see this message, you can manually create /etc/paths.d by running in your Mac Terminal ""sudo mkdir /etc/paths.d"" Then try the installer again.

* * *

### CLI reports an out of memory error

The message may be something like ""there is insufficient memory for the Java Runtime Environment to continue"".

To fix this, find the location of your Domino CLI installation (on a Mac it will be /Applications/domino, for example). In that folder there will be a file called domino.vmoptions. Open that file and add a line:

\-Xmx1024m

That will tell the Java Virtual Machine to use more memory when the CLI runs.

* * *

### 'Domino run' says ""Access denied"" or ""permission denied""

When you kick off a run, Domino requires that you have _write_ access to all the file in your project. If you have read, but not write, access, you will be an ""access denied"" (Windows) or ""permission denied"" (Mac) error.

To resolve this, simply give yourself write access to the file(s)

On Windows

*   Right-click on your file/folder, select ""properties"" and go to the ""security"" tab. Here's [a tutorial](http://www.addictivetips.com/windows-tips/windows-7-access-denied-permission-ownership/) with more detailed instructions.
*   You should also check the ""general"" tab of your file properties, to make the ""read-only"" checkbox is not selected.

On Mac / Linux, you can use the UI, or the `chmod` terminal command to grant read access. Here's [a tutorial](http://www.macinstruct.com/node/415) with more detailed instructions.

* * *

### ""Server key"" error on linux

Linux users may get an error that says: `Unexpected error: Server key`

This seemes to be related to a bug in certain versions of the JDK. To fix it:

1.  Find the java.security configuration file in your Java installation (probably `/etc/java-6-openjdk/security/java.security`)
2.  Comment out the following line:  
    `security.provider.10=sun.security.pkcs11.SunPKCS11 ${java.home}/lib/security/nss.cfg`  
    from the ""security.provider"" list.

For more info, see

*   [https://bugs.launchpad.net/ubuntu/+source/openjdk-7/+bug/989240](https://bugs.launchpad.net/ubuntu/+source/openjdk-7/+bug/989240)
*   [https://bugs.launchpad.net/ubuntu/+source/openjdk-6/+bug/1006776](https://bugs.launchpad.net/ubuntu/+source/openjdk-6/+bug/1006776)
*   [http://issues.igniterealtime.org/browse/OF-636](http://issues.igniterealtime.org/browse/OF-636)

* * *

### Configure the CLI to use a proxy

The Domino CLI can be configured to connect via a proxy. For details on how, please read this [help article](https://tickets.dominodatalab.com/hc/en-us/articles/204139609-Using-the-CLI-with-a-proxy).

* * *

### No content to map due to end-of-input

You may see the following error trace if your client machine hits a disk-space error:

com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input  
at \[Source: java.io.StringReader@2c767a52; line: 1, column: 1\]  
at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:164)  
...

To resolve:

1.  Remove the ~/.dominoconfig/ folder in your home directory.
2.  Re-run \`domino login <host>\` and enter your credentials when prompted.

* * *

### Symantec Endpoint Protection reports the Domino client as malicious

We are working with Symantec to resolve that issue, and can fully assure you that the Domino client application contains nothing malicious. Please follow these steps to verify your download and add an exception to Symantec Endpoint Protection to allow the installation:

1.  Ensure that you downloaded the Domino client from [http://support.dominodatalab.com/hc/en-us/articles/204856475-Installing-the-Domino-Client-CLI-](https://tickets.dominodatalab.com/hc/en-us/articles/204856475-Installing-the-Domino-Client-CLI-)
2.  To verify the authenticity of the downloaded file, right click on it, select Properties, go to the Digital Signatures tab, and ensure that in the ""Name of signer"" column you see ""Domino Data Lab, Inc"". Click on ""Details"" and make sure the at the top you see ""This digital signature is OK"".
3.  Refer to [these instructions to add an exception in Symantec Endpoint Protection](https://support.symantec.com/en_US/article.TECH173432.html). Specifically, look at the section starting with ""2) Use Exceptions policy to make exclusions..."".

* * *

### CLI Error ""Repo is not safe""

See [https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project](https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project)

* * *

### My output files don't show up in the Results tab

The Results tab for a given run will show any files that were generated or modified during the run. So if a file isn't showing up there, it means that it wasn't modified at all during the run."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F7880756530452-How-to-use-requirements-txt-file-for-git-based-projects,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRDh0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI2MDY0ODQtTXktRG9taW5vLWFjY291bnQtZG9lc24tdC1zZWVtLXRvLXJlY29nbml6ZS1teS1HaXRodWItc3NoLWtleQY7CFQ6CXJhbmtpBg%3D%3D--a49e81532b66d61ff7ce2b87e88a81692a984b72,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4407752606484-My-Domino-account-doesn-t-seem-to-recognize-my-Github-ssh-key/subscription.html ""Opens a sign-in dialog"")

If you are struggling to get your ssh key to connect to github within your workspace, we generally suggest re-adding the ssh key to your Domino account to make sure it's the correct key. 

Please note that you'll need to include the

\-----BEGIN OPENSSH PRIVATE KEY----- and -----END OPENSSH PRIVATE KEY----- header and footer when copying the private key into domino…

Also, if you're switching from a PAT to SSH key you'll need to change the format for your github URI. 

For example, instead of using this: 

**https://github.com/user/example\_repo.git** 

You'll need to use:

 **git@github.com:user/example\_repo.git**

You may also want to manually syncing from a workspace terminal to make sure that there's not a network issue. 

Here are the full docs on adding the key to your Domino account: [Linking Github to Domino](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/)

### Related articles

*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRDh0ICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQY%3D--cdee3bc3e8d030955d53cf5344dee8e1594662eb)
*   [Adding a new Git Repository to your project using Personal Access Token (PAT)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJReP%2FEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRDh0ICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYzODg5NDA0MzYtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1QZXJzb25hbC1BY2Nlc3MtVG9rZW4tUEFUBjsIVDoJcmFua2kH--b855ad689a619bb8b60731a53911e1f379dd33f0)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRDh0ICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kI--593e674c4749bdcaa55e5aff6cb52fbbbee07a63)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRDh0ICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kJ--d637a17cf2aecc0c2b3781cea1e39b8272f6eb3a)
*   [Changes to an existing workspace cannot be synced to a project's new linked Git repository](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS7IDsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRDh0ICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy80NDA3NjI4NDQ2NjEyLUNoYW5nZXMtdG8tYW4tZXhpc3Rpbmctd29ya3NwYWNlLWNhbm5vdC1iZS1zeW5jZWQtdG8tYS1wcm9qZWN0LXMtbmV3LWxpbmtlZC1HaXQtcmVwb3NpdG9yeQY7CFQ6CXJhbmtpCg%3D%3D--ddc59f37532254ce313b4a1bed9fab485dd6ce4d)"
https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCA%3D%3D--310c906cb1b4c12db1dd73113d7e4abf490ca411,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

This applies to all versions of Domino.

* * *

## **Issue:**

You run into this error when trying to create a workspace or run a scheduled job with an attached Git repository: 

Critical error in run 62794192991aff0c9fd362fc: org.eclipse.jgit.api.errors.TransportException: https://github.example.com/package-example.git: Authentication is required but no CredentialsProvider has been registered

* * *

## **Root Cause:**

This error occurs when Git credentials are missing from your Domino account.

* * *

## **Resolution:**

1.  [Add your Git credentials to Domino](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/#_step_2_add_your_credential_to_domino) by going to your **Account Settings** >  **Git Credentials** > **Add a New Credential**
2.  [Add a repo to your project](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/#add-a-repo): In your project, go to **Code** > **Git repositories** > **Add a New Repository**
3.  If you have multiple credentials, select the correct credentials from the dropdown.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)
*   [My Domino account doesn't seem to recognize my Github ssh key](https://tickets.dominodatalab.com/hc/en-us/articles/4407752606484-My-Domino-account-doesn-t-seem-to-recognize-my-Github-ssh-key)

### Related articles

*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kG--79a4b56c549ddaf22cfe16154ff9ffc2e8ad4a78)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQc%3D--97d4caa21d1e3eb295274c0e8e5eb81c26bc2577)
*   [My Domino account doesn't seem to recognize my Github ssh key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRDh0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI2MDY0ODQtTXktRG9taW5vLWFjY291bnQtZG9lc24tdC1zZWVtLXRvLXJlY29nbml6ZS1teS1HaXRodWItc3NoLWtleQY7CFQ6CXJhbmtpCA%3D%3D--0f94ce03bebded9f148d50d0b336ad2ab5b82f5b)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kJ--40dd7762d1432321ee3fc586d2f62ca2b3322164)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQo%3D--daac669be5ff70cca227db5a4dcf6c42c44de43d)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTukUICBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQc%3D--c16e46a3b20410685ff1d1a40a67107f834fe422,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials/subscription.html ""Opens a sign-in dialog"")

Most of our users have work with Git Repo and add their Git credentials (see [Git Repositories in Domino](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/) ) for work. They often have customized Git Servers from their company and share the same repository for projects. 

One of the most common error the encounter is :

Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials

![Git_error.png](https://tickets.dominodatalab.com/hc/article_attachments/4409196287764)

This is usually seen when launching a workspace and they are about to save the changes to their repository.

What To Do:

1\. Make sure you have access to the repository. Click on the URL and check if sends you to the repo or if you get a permission error .

\- If you get an error reach out the owner of the repo and ask them to grant you access.

2\. Add the correct Repo.

\-A simple removal and adding back the repo will greatly help. There are times that we just copy a URL and paste it but accidentally adding a space or another character at the end of the URL. It pays to check the URL twice. 

3\. If all else fails, reach out to your Domino Support Team. Make sure you send a screenshot of the error and a copy of the Workspace Support Bundle( [How to Get Workspace Logs](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above-) ). This will help expedite trouble shooting .  

\*\* Check out some of the associated articles:

[Using Git In Your Workspace](https://docs.dominodatalab.com/en/latest/user_guide/0d2247/use-git-in-your-workspace/)

[Workspace fails to launch after adding git repo to project](https://tickets.dominodatalab.com/hc/en-us/articles/360058043292-Workspace-fails-to-launch-after-adding-git-repo-to-project)

### Recently viewed articles

*   [My Domino account doesn't seem to recognize my Github ssh key](https://tickets.dominodatalab.com/hc/en-us/articles/4407752606484-My-Domino-account-doesn-t-seem-to-recognize-my-Github-ssh-key)

### Related articles

*   [Workspace fails to launch after adding git repo to project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJy7IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSYlJgCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MzI5Mi1Xb3Jrc3BhY2UtZmFpbHMtdG8tbGF1bmNoLWFmdGVyLWFkZGluZy1naXQtcmVwby10by1wcm9qZWN0BjsIVDoJcmFua2kG--fba440452d1341f9861d7c9c0d9d3d23dc31162f)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSYlJgCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpBw%3D%3D--021272669b140614f75fd9b00b09734eb7efddfa)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSYlJgCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kI--dee1ff45a1cb590810985610c2785f86578aaf5b)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSYlJgCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kJ--b2f4d643380fb090fb53fdcb9c323b32d79df023)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSYlJgCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--2749e5f348602f75e46c9170a7deae44ab80010c)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key,"Something went wrong.  
Please contact technical support."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23944589495572-Datasets-Usage-Report-via-API-call&locale=en-us,"Something went wrong.  
Please contact technical support."
https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API/subscription.html ""Opens a sign-in dialog"")

This article describes how to start a Job using the Domino REST API while passing arguments to your script. The general syntax and description of required and optional attributes for this API call can be found in [Domino's API documentation](https://dominodatalab.github.io/api-docs/#/reference/project-runs-and-files/project-runs/start-a-run).

For this example, we'll be looking at a simple script which takes your name and location as arguments and prints a friendly greeting. Parameters to a Job are treated as command-line arguments to your script. In Python, we'll reference these with `sys.argv[]`, and in R we can use `commandArgs()`.

Sample Scripts for Job

Example in Python:

\# Get Arguments  
import sys  
name = sys.argv\[1\]  
location = sys.argv\[2\]

\# Print Greeting  
print(f""Greetings, {name}. How's the weather in {location} today?"")

Example in R:

\# Get Arguments  
args = commandArgs(trailingOnly=TRUE)  
user\_name = args\[1\]  
user\_location = args\[2\]

\# Print Greeting  
print(paste(""Greetings, "",user\_name, "" How's the weather in "", user\_location, "" today?""))

API Endpoint

We can start this Job using the API endpoint:

 https://<your domino url>/v1/projects/<username>/<project\_name>/runs

Sample cURL requests

cURL with R script:

curl --request POST 'https://<your domino url>/v1/projects/<username>/<projectname>/runs' \\  
\--header 'Content-Type: application/json' \\  
\--header 'X-Domino-Api-Key: <your API key>' \\  
\--data-raw '{  
""command"": \[  
""job-w-args.R"",  
""Domino User"",  
""My Location""  
\],  
""isDirect"": false,  
""title"": ""Sample of starting an R job with arguments!""  
}'

cURL with Python script:

curl --request POST 'https://<your domino url>/v1/projects/<username>/<projectname>/runs' \\  
\--header 'Content-Type: application/json' \\  
\--header 'X-Domino-Api-Key: <your API key>' \\  
\--data-raw '{  
""command"": \[  
""job-w-args.py"",  
""Domino User"",  
""My Location""  
\],  
""isDirect"": false,  
""title"": ""Sample of starting a Python job with arguments!""  
}'

Output

If I use my name and location, I can see my greeting printing in the stout.txt file:

Greetings, Ashley. How's the weather in Oregon today?

There are many other optional attributes and languages you can use when starting jobs with the Domino REST API, check out our [API documentation](https://dominodatalab.github.io/api-docs/#/reference/project-runs-and-files/project-runs/start-a-run) for more ideas!

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/articles/6194966685076-Error-connecting-to-shared-Git-based-project)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)
*   [My Domino account doesn't seem to recognize my Github ssh key](https://tickets.dominodatalab.com/hc/en-us/articles/4407752606484-My-Domino-account-doesn-t-seem-to-recognize-my-Github-ssh-key)

### Related articles

*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjhsD0CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpBg%3D%3D--f14fb11a50fa5d9ee08fcadb7bdac617fd59f297)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTibC9rBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjhsD0CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzgxNTY5Mzg1NjAwMjAtUHJvZ3JhbW1hdGljYWxseS1jcmVhdGUtYS1kYXRhc2V0LXNuYXBzaG90LXZpYS10aGUtRG9taW5vLVJlc3QtQVBJBjsIVDoJcmFua2kH--a9045072c4cd6dd34c2f326b1e0cc7ad2c0dbaee)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjhsD0CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQg%3D--930f5bab80432a05075051ea652544cec96dc69a)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjhsD0CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCQ%3D%3D--65d87794fc596f09e08c97229f465d5951f62ff3)
*   [How to add tags to a project using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQjhsD0CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDI5MS1Ib3ctdG8tYWRkLXRhZ3MtdG8tYS1wcm9qZWN0LXVzaW5nLXRoZS1Eb21pbm8tQVBJBjsIVDoJcmFua2kK--5e7e27db3999f89b3df4aa8496832a19653f30a4)"
https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility/subscription.html ""Opens a sign-in dialog"")

#### _**Version**_

5.0.x, 5.1.x, 5.2.x

## **Issue:**

The new dominodatalab-data api package (aka Domino Data api) that is available on [pypi.org](https://pypi.org/project/dominodatalab-data/), has strict compatibility requirements with different versions of Domino 5.x.  Failing to use the correct version may generate spurious errors in your code such as:

Traceback (most recent call last):  
  File ""main.py"", line 10, in <module>  
    object\_store = DataSourceClient().get\_datasource(""my\_s3"")  
  File ""/opt/conda/lib/python3.8/site-packages/domino\_data/data\_sources.py"", line 798, in get\_datasource  
    response = get\_datasource\_by\_name.sync\_detailed(  
  File ""/opt/conda/lib/python3.8/site-packages/datasource\_api\_client/api/datasource/get\_datasource\_by\_name.py"", line 101, in sync\_detailed  
    return \_build\_response(response=response)  
  File ""/opt/conda/lib/python3.8/site-packages/datasource\_api\_client/api/datasource/get\_datasource\_by\_name.py"", line 70, in \_build\_response  
    parsed=\_parse\_response(response=response),  
  File ""/opt/conda/lib/python3.8/site-packages/datasource\_api\_client/api/datasource/get\_datasource\_by\_name.py"", line 39, in \_parse\_response  
    response\_200 = DatasourceDto.from\_dict(response.json())  
  File ""/opt/conda/lib/python3.8/site-packages/datasource\_api\_client/models/datasource\_dto.py"", line 100, in from\_dict  
    auth\_type = DatasourceDtoAuthType(d.pop(""authType""))  
KeyError: 'authType'

## **Resolution:**

Make sure you are using the correct version of this API for your version of Domino.  The versions are documented in the Domino docset, for example:

[https://docs.dominodatalab.com/en/5.0/api\_guide/140b48/domino-data-api/](https://docs.dominodatalab.com/en/5.0/api_guide/140b48/domino-data-api/)

But the compatibility is noted here for current versions of Domino

|     |     |
| --- | --- |
| **Domino Version** | **Compatible dominodatalab-data version** |
| 5.0.x |     |
| 5.1.x | `>==0.2.0` |
| 5.2.x | `>=0.3.0,<0.4.0` |

## **Notes/Information:  
**

You can install the latest version of the library: 

`python -m pip install dominodatalab-data`

or you can specify a version, for example 0.2.0 via:  
`python -m pip install dominodatalab-data==0.2.0`

You can confirm the version via `pip freeze | grep -i domino-data`

Be sure to check Domino documentation if your version is not listed here yet.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/articles/6194966685076-Error-connecting-to-shared-Git-based-project)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)

### Related articles

*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTibC9rBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzgxNTY5Mzg1NjAwMjAtUHJvZ3JhbW1hdGljYWxseS1jcmVhdGUtYS1kYXRhc2V0LXNuYXBzaG90LXZpYS10aGUtRG9taW5vLVJlc3QtQVBJBjsIVDoJcmFua2kG--4d50dc977a544aab9ac0b5c50a9c0b2800251355)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--2da5f76e470063b1cac02cc02155c60aa2bbeca7)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQg%3D--ee2b2b1b2ee7f940eb2bc87f9d39fe88db1b976b)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQk%3D--6fe214159a7a1596dbf02ee268e1458ba293ee28)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCg%3D%3D--bdc300cae6cb66a233285cf71bf04f02c8a5c215)"
https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API,"#### _**Version/Environment (if relevant):**_

Less than Domino 5.2.  At Domino 5.2 there was a rewrite of many of the public REST API endpoints including the 'create a snapshot' endpoint.

## **Issue:**

This is a 'how to' KB.  If you want to programmatically create a new snapshot for a dataset this should walk you through the process.

## **Resolution:**

To summarize what we are trying to work through here, we are taking an existing Domino dataset within an existing Domino project and creating a new snapshot on the Dataset from files within a Domino execution.

The example will use python3, but will not be a fully fleshed out piece of code that you can cut and paste, but more just the process with examples of the actual API calls and how to form them.

Lets start with the API call for the snapshot creation...

POST https://mydomino.mycompany.com/v4/datasetrw/snapshot

ref: [https://dominodatalab.github.io/api-docs/#/reference/datasets/create-snapshot/create-snapshot](https://dominodatalab.github.io/api-docs/#/reference/datasets/create-snapshot/create-snapshot)

NOTE: Throughout the article we will use the URL **mydomino.mycompany.com**.  Substitute the URL for your Domino deployment wherever you see this.

The request payload here has two entries...

relativeFilePaths  
ex. /newfiles  
&  
datasetId  
ex. 62df14824423920fe1871cdd

The obvious questions here are how do I get these values and what exactly is the syntax to execute the API call.  You will need a project ID to acquire the dataset ID.  There are a few ways to acquire the project ID depending on what you know and what is easiest to parse for you.  So we'll walk through an example from the first steps.

## Example Case:

## How to get the relativeFilePaths value

This path is simply the directory where the files you want to add to snapshot are stored.  So the name of it is of course up to you.  I'm going to call mine **Snapshot1**.  Ok so what's it relative to?  The docs note the following....

_Array of filepaths relative to the dataset directory_

So how do you find the dataset directory?  Let's go to the Data section of the Domino project UI for a moment to find the path...

![Screen_Shot_2022-07-28_at_3.04.37_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/8156224960660/Screen_Shot_2022-07-28_at_3.04.37_PM.png)

So for the sample, the path everything will be relative to is **/domino/datasets/local/quick-start**.  From a workspace under this directory, I'll create my Snapshot1 directory and create the files I want, file1, file2, & file3 to add to my snapshot.

![Screen_Shot_2022-07-28_at_3.11.15_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/8156400674964/Screen_Shot_2022-07-28_at_3.11.15_PM.png)

So the value for relativeFilePaths will be _**Snapshot1.**_

## How to get the datasetId value

Let's start with just your username, for example, **User1**.

1\. From the username we can acquire the user's user ID...

import os  
import requests

headers = {'X-Domino-Api-Key': os.environ\['DOMINO\_USER\_API\_KEY'\]}  
url = 'https://mydomino.mycompany.com/v4/users?userName=**User1**'  
response\_body = requests.get(url, headers=headers).content  
print (response\_body)

The response to this should look like...

b'\[{""firstName"":""User"",""lastName"":""One"",""fullName"":""User One"",""userName"":""user1"",""email"":""user1@notanemail.com"",""avatarUrl"":"""",**""id"":""62e2ee7a4423920fe1871d79""**}\]'

The important part of the output is **""id"":""62e2ee7a4423920fe1871d79"".**  This is the 'userId' you need for the next step.

2\. Now we have a 'userId', **62e2ee7a4423920fe1871d79**, we can acquire a list of projects and their IDs.

import os  
import requests

headers = {'X-Domino-Api-Key': os.environ\['DOMINO\_USER\_API\_KEY'\]}  
url = 'https://mydomino.mycompany.com/v4/projects?ownerId=**62e2ee7a4423920fe1871d79**'  
response\_body = requests.get(url, headers=headers).content  
print (response\_body)

The response to this should look like...

b'\[{**""id"":""62e2ee7b4423920fe1871d7b""**,""name"":""quick-start"",""description"":""This is a sample Domino Project. This project contains examples for using notebooks, publishing models as APIs, and publishing Python/Flask and R/Shiny web applications."",""visibility"":""Private"",""ownerId"":""62e2ee7a4423920fe1871d79"",""ownerUsername"":""user1"",""collaboratorIds"":\[\],""collaborators"":\[\],""tags"":\[\],""stageId"":""61311f13e0865410f55ca440"",""stageName"":""Ideation"",""status"":""active"",""isBlocked"":false,""stageUpdateTimeInMillis"":1659039356912,""statusUpdateTimeInMillis"":1659039356912}\]'

Note that this example user only has one project, so this is easy to parse, the information we need for the next step is the project ID, **""id"":""62e2ee7b4423920fe1871d7b""**.

You may have lots of projects, so you can optionally skip step 1 and just search using your project name.  Remember though project names are not necessarily unique across users.  So make sure you account for this, but as an example, lets find a project named quick-start...

import os  
import requests

headers = {'X-Domino-Api-Key': os.environ\['DOMINO\_USER\_API\_KEY'\]}  
url = 'https://mydomino.mycompany.com/v4/projects?name=**quick-start**'  
response\_body = requests.get(url, headers=headers).content  
print (response\_body)

The response to this should look the same as the response above...

b'\[{**""id"":""62e2ee7b4423920fe1871d7b""**,""name"":""quick-start"",""description"":""This is a sample Domino Project. This project contains examples for using notebooks, publishing models as APIs, and publishing Python/Flask and R/Shiny web applications."",""visibility"":""Private"",""ownerId"":""62e2ee7a4423920fe1871d79"",""ownerUsername"":""user1"",""collaboratorIds"":\[\],""collaborators"":\[\],""tags"":\[\],""stageId"":""61311f13e0865410f55ca440"",""stageName"":""Ideation"",""status"":""active"",""isBlocked"":false,""stageUpdateTimeInMillis"":1659039356912,""statusUpdateTimeInMillis"":1659039356912}\]'

Again the important thing we need is the project ID, **""id"":""62e2ee7b4423920fe1871d7b"".**

3\. Great, we now have a project ID!  Lets find the dataset IDs using the project ID we found in step 2, **62e2ee7b4423920fe1871d7b**....

import os  
import requests

headers = {'X-Domino-Api-Key': os.environ\['DOMINO\_USER\_API\_KEY'\]}  
url = 'https://mydomino.mycompany.com/dataset?projectId=**62e2ee7b4423920fe1871d7b**'  
response\_body = requests.get(url, headers=headers).content  
print (response\_body)

b'\[{""datasetName"":""quick-start"",""**datasetId"":""62e2ee7f4423920fe1871d81**"",""projectId"":""62e2ee7b44  
23920fe1871d7b""}\]'

Once again this user only has one dataset, you may have several in your project so you'll need to parse for the correct one.  But we now have a dataset ID, **62e2ee7f4423920fe1871d81.** 

So my value for the datasetId is, **62e2ee7f4423920fe1871d81.**

## How to add the new snapshot

1\. Execute the add snapshot API call.

import os  
import requests

headers = {'X-Domino-Api-Key': os.environ\['DOMINO\_USER\_API\_KEY'\],'Content-Type': 'application/json'}

data = {'datasetId': '**62e2ee7f4423920fe1871d81**', 'relativeFilePaths': \[""**/Snapshot1**""\]}

url = 'https://mydomino.mycompany.com/v4/datasetrw/snapshot'  
response\_body = requests.post(url, headers=headers, json=data).content  
print (response\_body)

Which returns...

b'{""id"":""62e2fe654423920fe1871d93"",""resourceId"":""f38e6ea3-d582-4f31-86a9-09977f03f188"",""datasetId"":""62e2ee7f4423920fe1871d81"",""author"":""62e2ee7a4423920fe1871d79"",""version"":1,""creationTime"":1659043429800,""lifecycleStatus"":""Pending"",""statusLastUpdatedBy"":""62e2ee7a4423920fe1871d79"",""statusLastUpdatedTime"":1659043429800,""storageSize"":0,""isPartialSize"":false,""isReadWrite"":false}'

Checking the dataset in the project UI, you should hopefully find something similar to below...

![Screen_Shot_2022-07-28_at_3.24.18_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/8156895924372/Screen_Shot_2022-07-28_at_3.24.18_PM.png)

Note that this data is static, the dataset ID will not change, so once it's found you do not need to find it again.  The relative path will only change if you change it of course.

**Notes/Information:**

Public REST API calls for Domino versions lower than 5.2 are documented here:

[https://dominodatalab.github.io/api-docs/](https://dominodatalab.github.io/api-docs/)

Note that for these older versions, code examples are available for the specific API calls, but python is only available for Python2.  Additionally the individual API calls often require data, IDs, etc that are only available from other API calls.

For version 5.2 and beyond look here for public REST API calls:

[https://docs.dominodatalab.com/en/latest/api\_guide/8c929e/domino-public-apis/](https://docs.dominodatalab.com/en/latest/api_guide/8c929e/domino-public-apis/)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API,"#### _**Version/Environment (if relevant):**_

Domino version 5.2 and up

* * *

This document shows us how to access the list of updated Domino API on a json format. 

This API is going to provide access to all the Domino functions available in the user interface. 

How to access: 

1\. Open your browser and type

https://<your-deployment-url>/assets/lib/swagger-ui/index.html?url=<your-deployment-url>/assets/public-api.json

2\. You will then be directed to a page with the list if available API's you can use, just select the topic you need and it will show you a string. 

![Domino_Public_API_Endpoints.png](https://tickets.dominodatalab.com/hc/article_attachments/13778817784852)

3\. Make sure you expand the list by clicking on the desired item. You are on the right track if you see a ""Try It Out "" button on the right side. 

![Expand_endpoint_and_Try_it_out_button.png](https://tickets.dominodatalab.com/hc/article_attachments/13778744741908)

\*\* Related Articles:

[User Api Keys](https://docs.dominodatalab.com/en/latest/user_guide/661f8e/user-api-keys/)

[Domino API](https://docs.dominodatalab.com/en/latest/api_guide/f35c19/domino-apis/)"
https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRNwAjHFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQc%3D--58b36fdfceb02b4f7a4c64f899b7eac23864d116,"![](https://tickets.dominodatalab.com/system/photos/360278014832/IMG_1530.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494751-Increasing-the-timeout-for-Shiny-Server/subscription.html ""Opens a sign-in dialog"")

When accessing your published Shiny Server, the app will timeout after the default setting of 60 seconds of inactivity. There are two ways to increase this timeout:

1) If your team has a Shiny Server Pro license then you could set this up within your Domino installation. If you have a license and need assistance, please reach out to our support team. Once you are using Shiny Server Pro you can increase the timeout using the following guide:

[http://docs.rstudio.com/shiny-server/#application-timeouts](http://docs.rstudio.com/shiny-server/#application-timeouts)

2) If you are using Shiny Server (non-pro version) then the following workaround may be useful for you. The following workaround allows the app to send data back and forth through the WebSocket every 55 seconds, keeping the connection open. The following code snippets will need to be included with your Shiny app.

In the UI, add the following code:

tags$head(
        HTML(
          ""
          <script>
          var socket\_timeout\_interval
          var n = 0
          $(document).on('shiny:connected', function(event) {
          socket\_timeout\_interval = setInterval(function(){
          Shiny.onInputChange('count', n++)
          }, 15000)
          });
          $(document).on('shiny:disconnected', function(event) {
          clearInterval(socket\_timeout\_interval)
          });
          </script>
          ""
        )
        ),

Next, add the following line anywhere after the previous script in the same UI file:

textOutput(""keepAlive"")

And within the server file, add:

output$keepAlive <- renderText({
      req(input$count)
      paste(""keep alive "", input$count)
    })

Once these changes have been made, start your Shiny app and ensure it publishes without errors. The app timeout duration should utilize your new configuration.

### Recently viewed articles

*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/articles/6194966685076-Error-connecting-to-shared-Git-based-project)

### Related articles

*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCB%2BfKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kG--8c95cd4d1c3872a917a1aaeaebb0698f17f4a3b7)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCB%2BfKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQc%3D--9fa92ebe9aa99921504e5739ef05752d69f19a05)
*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR40TMIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCB%2BfKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJeL2hjL2VuLXVzL2FydGljbGVzLzY2MzIyOTg4NzA5MzItTXktbGlicmFyeS10aWR5dmVyc2UtY29tbWFuZC1yZXR1cm5zLXN0YXR1cy0xLWluLVJTdHVkaW8GOwhUOglyYW5raQg%3D--f0fa81fc04aece7d63350da3a1dd0ac71d73bb8a)
*   [How to Publish an App as a Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHCwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCB%2BfKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQzMi1Ib3ctdG8tUHVibGlzaC1hbi1BcHAtYXMtYS1Xb3Jrc3BhY2UGOwhUOglyYW5raQk%3D--c5dc46178cf668b5fd7a24adedce709d733f52bb)
*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTwiUeJCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCB%2BfKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85Mzg1NzAzNzY0MTE2LVNvbWV0aW1lcy1JLXNlZS1hLUxvc3QtY29ubmVjdGlvbi13aXRoLURvbWluby1zZXJ2ZXItYW5kLVJlY29ubmVjdGVkLXRvLURvbWluby1zZXJ2ZXItd2hlbi1zdGFydGluZy1ydW5uaW5nLWEtd29ya3NwYWNlBjsIVDoJcmFua2kK--41d629bde224023d2247354970b7b01395a6b77e)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR%2BiIppDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRNwAjHFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzE2OTQ1OTcwMTgzNzAwLVVwZGF0aW5nLUp1bGlhLWFuZC1KdWxpYS1KdXB5dGVyLUtlcm5lbC1pbi1Eb21pbm8tQ29tcHV0ZS1FbnZpb3JubWVudHMGOwhUOglyYW5raQo%3D--fdca95a4e025b30f870bf195625beaddc4a00089,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments/subscription.html ""Opens a sign-in dialog"")

**Version:** 

Domino 4x, 5x

**Updating Julia using docker instructions in a Compute Environment**

You can use the following docker instructions in a CE environment to update Julia to your [desired](https://julialang.org/downloads/) version.

USER root  
##Update Julia packages  
RUN rm -rf /usr/bin/julia && \\  
cd /home/ubuntu && \\  
wget https://julialang-s3.julialang.org/bin/linux/x64/1.6/julia-1.6.7-linux-x86\_64.tar.gz && \\  
tar xzf julia-1.6.7-linux-x86\_64.tar.gz && \\  
chown -R ubuntu:ubuntu /home/ubuntu/julia-1.6.7 && \\  
ln -s /home/ubuntu/julia-1.6.7/bin/julia /usr/bin/julia

USER ubuntu  
RUN julia -e 'using Pkg; Pkg.update(); Pkg.add(""IJulia"")'

Ensure that you rebuild the compute environment and launch a workspace. You should now see the new version as an option in the kernel list when selecting from the drop down.

**Notes:**

[https://julialang.github.io/IJulia.jl/stable/manual/installation/#Installing-IJulia](https://julialang.github.io/IJulia.jl/stable/manual/installation/#Installing-IJulia)

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/16945937128980)

### Recently viewed articles

*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/articles/360058494751-Increasing-the-timeout-for-Shiny-Server)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API)

### Related articles

*   [I need to install a package every time I start R Studio. How do I make it permanent?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR%2BiIppDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpBg%3D%3D--0b044334f5d64aa42e83cb5569a00dbaf7a72bb5)
*   [toomanyrequests error when building an environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS6DxMwDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR%2BiIppDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzE2Njk5MTUyNjQ0NjI4LXRvb21hbnlyZXF1ZXN0cy1lcnJvci13aGVuLWJ1aWxkaW5nLWFuLWVudmlyb25tZW50BjsIVDoJcmFua2kH--0b8dabddcc978d51479bd7a2f0c897834064d8c1)
*   [I cannot install the pywin32 package on Domino using pip install](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQCsOZqDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR%2BiIppDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE1ODUyMjk5NjE2OTE2LUktY2Fubm90LWluc3RhbGwtdGhlLXB5d2luMzItcGFja2FnZS1vbi1Eb21pbm8tdXNpbmctcGlwLWluc3RhbGwGOwhUOglyYW5raQg%3D--7ded1eaf4ebd66e68a29bb8b5d445ab61692b99b)
*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmzWN7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR%2BiIppDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzkzMjYwNDg0MjEzOTYtU3VicHJvY2Vzcy1tYW5hZ2VtZW50LWluLUp1cHl0ZXIGOwhUOglyYW5raQk%3D--76017730984ef44f0784dbd995a2c7ebe8fbb078)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR%2BiIppDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQo%3D--bf90a5477025d685eb5c1d66ffe7292237f0214e)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23944589495572-Datasets-Usage-Report-via-API-call,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23509059993492-Rest-API/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23509059993492-Rest-API&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4408173152276-How-to-generate-a-User-Activity-Report-by-API-call-in-Domino-4-x,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4408173152276-How-to-generate-a-User-Activity-Report-by-API-call-in-Domino-4-x/subscription.html ""Opens a sign-in dialog"")

To generate a User Activity Report via the new API call in 4.x, take note of a few errors in the current documentation, [here](https://dominodatalab.github.io/api-docs/#/reference/usage-data/get-user-activity-report/user-activity-json).  

1) 'Start' should be 'Start-date'

2) The content-type should be application/x-www-form-urlencoded.

3) This is also a POST (properly documented, but worth noting)

4) The start-date & end-date values are strings and should be US format, MM/DD/YYYY.

5) Note that this generates a plain text response and will need to be parsed by the caller.

Example code

```
import requests
```

### Recently viewed articles

*   [Updating Julia and Julia Jupyter Kernel in Domino Compute Enviornments](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments)
*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Data Source : How to Edit User Permissions](https://tickets.dominodatalab.com/hc/en-us/articles/19091904049556-Data-Source-How-to-Edit-User-Permissions)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/articles/360058494751-Increasing-the-timeout-for-Shiny-Server)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)

### Related articles

*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAufKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRImFsCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDczMS1DYWxsaW5nLURvbWluby1SRVNULUFQSS1mcm9tLVB5dGhvbi1KdXB5dGVyBjsIVDoJcmFua2kG--484979cce7b7ed8f8150e7238c1bf0bec3f6ce01)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRlLH0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRImFsCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ0NDE1Mzk4NjAtLTQwMy1Gb3JiaWRkZW4tYW5kLUpXVC10b2tlbi1leHBpcmF0aW9uLWluLWxvbmctcnVubmluZy1weXRob24tZG9taW5vLXVzYWdlBjsIVDoJcmFua2kH--6f27938ec356acd6758e77a7198e54ef82df4666)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRImFsCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--c34c34da3c165eab137cafdbcfba23b371faaab4)
*   [How to add tags to a project using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRImFsCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDI5MS1Ib3ctdG8tYWRkLXRhZ3MtdG8tYS1wcm9qZWN0LXVzaW5nLXRoZS1Eb21pbm8tQVBJBjsIVDoJcmFua2kJ--a062501a5ef9e46d40e2e7c9445facc932cb4857)
*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMgGWtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRImFsCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTczMjU1Mi1SZXN1bWFibGUtd29ya3NwYWNlLWNhbm5vdC1iZS1zdG9wcGVkLW9wZW5lZC1vci1kZWxldGVkLURvbWluby00LTQtMC00LTYteAY7CFQ6CXJhbmtpCg%3D%3D--cda90c3c4dd2c4d4b8076ba1579c9f685d717cbb)"
https://tickets.dominodatalab.com/hc/en-us/sections/23509059993492-Rest-API/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360058494731-Calling-Domino-REST-API-from-Python-Jupyter,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494731-Calling-Domino-REST-API-from-Python-Jupyter/subscription.html ""Opens a sign-in dialog"")

Here's some example code that shows you how to call the Domino REST API to get info on your current user, from within a Domino interactive workspace or batch run. This example can be copied into a python notebook or script and should run without modification inside of a Domino run or workspace, since we provide all the required environment variables by default.

import requests
import json
import os

DOMINO\_USER\_API\_KEY = os.environ\['DOMINO\_USER\_API\_KEY'\]
HOST = os.environ\['DOMINO\_API\_HOST'\]
URL = HOST + '/v4/users/self'
headers={'X-Domino-Api-Key':DOMINO\_USER\_API\_KEY}
out=requests.get(url=URL,headers=headers)
out.json()

And here's a screenshot showing this in a Domino Jupyter session

[![Screen Shot 2020-04-03 at 12.36.17 PM.png](https://us.v-cdn.net/6031622/uploads/903/HTMMLIARUYEN.png)](https://us.v-cdn.net/6031622/uploads/903/HTMMLIARUYEN.png)

As always, please take care with your API key and treat it as a password (don't print it out in your notebook!)

Give the approach above a try and let us know if you have any questions or feedback.

If you are looking for examples that use Python3 and work 5.x+ versions of Domino, please see [API Examples for Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API-). 

### Related articles

*   [How to add tags to a project using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAufKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDI5MS1Ib3ctdG8tYWRkLXRhZ3MtdG8tYS1wcm9qZWN0LXVzaW5nLXRoZS1Eb21pbm8tQVBJBjsIVDoJcmFua2kG--3b6ff27ec26c4a2be13dcf8b12de7c37eac6ecd4)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRlLH0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAufKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ0NDE1Mzk4NjAtLTQwMy1Gb3JiaWRkZW4tYW5kLUpXVC10b2tlbi1leHBpcmF0aW9uLWluLWxvbmctcnVubmluZy1weXRob24tZG9taW5vLXVzYWdlBjsIVDoJcmFua2kH--cf901020f139a139e3c079e0fb69cb788da78756)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAufKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpCA%3D%3D--ef7c8507fc71f597304837993f5b52c4f861bac1)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAufKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCQ%3D%3D--2b291dffa62de95158d12279ebd47f1a4aacfb9b)
*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAufKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpCg%3D%3D--232cb5d6782f11f8de077e4e5df3e5e9ffddc060)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058494291-How-to-add-tags-to-a-project-using-the-Domino-API,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Datasets Usage Report via API call](https://tickets.dominodatalab.com/hc/en-us/articles/23944589495572-Datasets-Usage-Report-via-API-call)
*   [How to find data mount information for the REST API](https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API)
*   [Checking Project APP status via the Domino REST API.](https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23509059993492-Rest-API)

![](https://tickets.dominodatalab.com/system/photos/360278014832/IMG_1530.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494291-How-to-add-tags-to-a-project-using-the-Domino-API/subscription.html ""Opens a sign-in dialog"")

The below code shows an example of how to add tags to a project using the Python requests package and our API docs, found [here](https://dominodatalab.github.io/api-docs/#/reference/projects-v4/project-tags/add-tags-to-project).

Please take care with your API key and treat it as a password. This key can be referenced within Domino as an environment variable - see [here](https://docs.dominodatalab.com/en/latest/reference/runs/advanced/Domino_environment_variables.html) for more information.

import requests
import json
import os

#set up API key and headers
api\_key = os.environ\['DOMINO\_USER\_API\_KEY'\]
headers = {'X-Domino-Api-Key': api\_key,  'Content-Type': 'application/json'}  

#base url
base\_url = <your deployment url> #i.e. 'https://mycompany.domino.tech'

#get user id
url\_user = '{base\_url}/v4/users/self'.format(base\_url=base\_url)
r\_user = requests.get(url\_user, headers=headers)
user\_id = r\_user.json()\['id'\]

#get project id
project\_name = os.environ\['DOMINO\_PROJECT\_NAME'\]
url\_project = '{base\_url}/v4/projects?name={project\_name}&ownerId={user\_id}'.format(
    base\_url=base\_url, project\_name=project\_name, user\_id=user\_id)
r\_project = requests.get(url\_project, headers=headers)
project\_id = r\_project.json()\[0\]\['id'\]

#set project tag
url\_tags = base\_url + '/v4/projects/{project\_id}/tags'.format(project\_id=project\_id)
values = """"""
  {
    ""tagNames"": \[
      ""time-series""
    \]
  }
""""""

r = requests.post(url\_tags, headers=headers, data=values)

### Recently viewed articles

*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/360058494731-Calling-Domino-REST-API-from-Python-Jupyter)

### Related articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--7ac3d181ba6d738b4a4fc20992ce524eb9a40cb8)
*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAufKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDczMS1DYWxsaW5nLURvbWluby1SRVNULUFQSS1mcm9tLVB5dGhvbi1KdXB5dGVyBjsIVDoJcmFua2kH--54b2d3e6027496cce235aa4b17be9c9a98c2456f)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kI--933478111fbaefd44faa684f185b468d874f26e5)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQk%3D--10baf74954bc28768e643bf862a50ff7cdce9946)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--96bc4d97ce2171ab72d2b2076805bb8d7c8ce1fd)

### Comments

1 comment

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058494291-How-to-add-tags-to-a-project-using-the-Domino-API) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/22080639430164-How-to-find-data-mount-information-for-the-REST-API/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuqwwVFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--7a93970514b05a6169c283aff21729d41a95915e,"**Version:**

This behaviour is present in all versions of Domino 

**Issue:**

User is automatically logged out of the platform after successfully logging in. Or after accessing  
accessing their project page . 

**Cause:**

This problem is related to change of username/email address or switch from local  
authentication method to SSO. 

**Resolution:**

Clear all domino platform related cookies and data  from the browser cache  .

Also ensure that username and email address in domino match exactly with the SSO provided username and email. 

**Note:** [Further information regarding SSO username changes](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F22080639430164-How-to-find-data-mount-information-for-the-REST-API,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNebKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzkxMS1GcmllbmRseS1zdGF0aWMtbGlua3MtdG8tYXBwcwY7CFQ6CXJhbmtpBg%3D%3D--563e6d8485a202989d32497b209d330e11795e3f,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058493911-Friendly-static-links-to-apps/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

All

## **Issue:**

The link to a Domino app is somewhat long and unwieldy, making it awkward to remember and share with your colleagues. 

For example...

[https://domino.mycomp](https://domino.mycomp/)[any.com/modelproducts/628d4564b6af415e500dedd1](https://domino.mycompany.com/modelproducts/628d4564b6af415e500dedd1%C2%A0) 

Additionally this URL changes when the app is republished.

## **Resolution:**

If you're sharing a Domino app with your colleagues, you may want to share a friendly version of the app URL that's descriptive and easy to remember and type. You can use the username/projectname format of the app URL to achieve this.  The format is simply

[https://<deployment\_base\_url>/u/<userid>/<projectname>/app](https://<deployment_base_url>/u/<userid>/<projectname>/app)

For example, if my company's base URL is _domino.mycompany.com_, then the link to my colleague

Josh's covid-19 app is:

[https://domino.mycompany.com/u/josh/covid-19/app](https://domino.mycompany.com/u/josh/covid-19/app)

Or, you can of course still use the version of the URL that appears when you navigate to the app from the Publish UI, which is formatted like this:

[https://<](https://<deployment_base_url>/modelproducts/628d4564b6af415e500dedd1)[domino.mycompany.com](https://domino.mycompany.com/u/josh/covid-19/app)[\>/modelproducts/628d4564b6af415e500dedd1](https://<deployment_base_url>/modelproducts/628d4564b6af415e500dedd1) 

Both will take you to the same app, but the username/projectname/app version may be more descriptive and friendlier for sharing with users. Note that if you want something other than your username to appears in the username/projectname URL, you can create an organization with a descriptive name, transfer the project to that organization, and republish. Then the organization name would replace your username in the URL.

## **Notes/Information:**

Domino engineering is assessing the feasibility of adding this to a future version of Domino.  It does not exist as of Domino v5.6.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNebKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpBg%3D%3D--0b6f697904ac286cf7e5c6a6eb2076255a856c49)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNebKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kH--a40297f7f8e426229a0bb0b1ad53f81e107cf2c2)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNebKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQg%3D--f139b67af40639bd97f9ab5504af21afac8c642b)
*   [Git submodules in a ""read only"" use-case](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRpW2SXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNebKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzUwNDgyNzAyODUwNzYtR2l0LXN1Ym1vZHVsZXMtaW4tYS1yZWFkLW9ubHktdXNlLWNhc2UGOwhUOglyYW5raQk%3D--f912c277b20a2e8917f1223960ff7d143f3b659b)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNebKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCg%3D%3D--f409e6a83f3c0e25804807ba8ef9c48d57e7f8b9)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ5hXqSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--6301077da671bd369a27f6bd2be3ffad71f51ebd,"### Issue

I want to run an application/IDE which is not supported

Can I run pycharm in Domino? Can I use pycharm?

### Root cause

IDE or CE's which run as a web-service are the easiest to support. Download or create Environments in Domino, most commonly listening on TCP Port 8888, create a menu entry and you're able to run several IDE's.

Other IDE's are non-web-based, but programs/applications that run on the host only. Linux applications are either text based, or X-Window based.

### Solutions

There are three different options available to Domino end users, depending on their access to the backend.

**A more functional version with a Guacamole setup described [here](https://tickets.dominodatalab.com/hc/en-us/articles/21209386407828)**

### Domino CLI and locally running the application

Use the Domino CLI, download the project to your local machine, where you can run applications, load the project files and develop as needed. Once you're satisifed, upload (sync) the files back to Domino where you can run the text-only versions of your app against the code.

### SSH based and X-Forwarding

Use ssh and X-Forwarding to launch applications (ssh -X, ssh -Y) which does require a Windowing Manager on your desktop (Linux, MacOS's XQuartz, or X-Window apps for MS-Windows) as well as access to the backend via SSH.

### Use noVNC inside a Compute Environment, and use JupyterLab Proxy to access a Window Manager, installed in the Environment.

This solution is presented here, using noVNC and fvwm.

#### Dockerfile content

The Dockerfile attached installs pycharm and the fvwm Window Manager. CE.txt includes all the Compute Environments. If you've not build environments, find the instructions [here](https://docs.dominodatalab.com/en/5.2/user_guide/fa8137/create-an-environment/).

Once installed, we've generated a simple startup script, /etc/rc.startup, to run noVNC.

This will run a fvwm environment, autostarting terminator and pycharm.sh

_This is not a Domino-supported solution, but a best-effort, and 'current' - i.e. it may improve or be removed at any time._

To successfully connect to the noVNC session, the configuration for Websockify must be adjusted to contain the sub-path of your workspace (this includes the runId of your current session which you can pull from the URL or the terminal in your Workspace.

The JupyterLab Proxy/Application method is described here: [5.2 Docs](https://docs.dominodatalab.com/en/5.2/user_guide/2c01ae/run-multiple-applications-in-a-workspace/)

Start the noVNC: sh /etc/rc.startup

The connection URL to the noVNC tab, once it's running is:

**YourDominoURL/userID/project/notebookSession/runId/proxy/6080/vnc.html**

You need to find your runID from the Workspace URL or environment variable.

Once you see noVNC, click on the configuration icon, expand the Websocket and add the sub-path to the Path entry (see the attachment):

**userID/project/notebookSession/runId/proxy/6080/websockify**

You should now be able to click on 'Connect', and login with 'password' as the password (or define your own in the Dockerfile instructions).

You now have practically created a Virtual Desktop inside Domino, allowing you to run pycharm and other 'application based' programs. This is potentially also a can of worms, and may not be permitted based on your company policies!

### Things to do

Possible improvements would be to automatically pick up the websockify path or modify the noVNC code to present a more useful Path.

Since JupyterLab Proxy can be used with the menu items, a non-working 'Proxy2' item is presented as an exercise or later addition to make it a button-press to run /etc/rc.startup for the noVNC/fvwm app."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19320818448788-Checking-Project-APP-status-via-the-Domino-REST-API,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/%20https://deploymentname.domino.tech,Not found
https://tickets.dominodatalab.com/hc/en-us/articles/17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTNqnpcEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2NTAzNDE4ODQxODAtSWdub3JpbmctZmlsZXMtYWJvdmUtdGhlLXNhdmUtbGltaXQtb2YtMTAwMDAtZmlsZXMtdXNpbmctZG9taW5vaWdub3JlBjsIVDoJcmFua2kK--3450e757d53fc0ac380b35ed0643b8eda1f37aed,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces)

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9650341884180-Ignoring-files-above-the-save-limit-of-10000-files-using-dominoignore/subscription.html ""Opens a sign-in dialog"")

Exclude Project Files From SyncSubmitted by Gener Joseph Tomas

Ignoring files above save limit of 10000 files using .dominoignore

![Screen_Shot_2022-09-27_at_11.52.50_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/9650317666068/Screen_Shot_2022-09-27_at_11.52.50_PM.png)

When you start a Run or launch a Workspace, Domino copies your [**project files**](https://docs.dominodatalab.com/en/4.6/user_guide/a8e081/projects/) to a Domino execution. When working with large volumes of data, this presents the following potential issues:

1.  By default, you can store 10,000 files in a Domino project and you might exceed the limit.
2.  By default, you can only transfer individual files that are 8GB to and from your Domino project files, and you might exceed the limit.
3.  The time required to transfer data to and from the Domino executions is proportional to the size of the data. It can take a long time if the size of the data is large, which can lead to long startup and shutdown times for Workspaces, Jobs, Apps, and Launchers.

Some of the files can be ignored. To do so, use the .dominoignore option 

Ignore a file

The [.dominoignore](https://docs.dominodatalab.com/en/latest/user_guide/de4abb/domino-file-system/#_domino_working_directory) is automatically created at the root of every new project.

A`.git/`directory is always ignored by the sync operation, even if not listed in`.dominoignore`.

You can use the`*`symbol as a wildcard to match files of a similar pattern. All paths must be relative to the project root.

Enter the name of the file to be ignored in`.dominoignore`.

To ignore a folder and its contents, add the folder’s name to`.dominoignore`

Domino documentation guide to ""Exclude Project Files From Sync"" can be found here: [https://docs.dominodatalab.com/en/latest/user\_guide/bfeeae/exclude-project-files-from-sync/](https://docs.dominodatalab.com/en/latest/user_guide/bfeeae/exclude-project-files-from-sync/)

### Recently viewed articles

*   [Workspace cannot be deleted from current state](https://tickets.dominodatalab.com/hc/en-us/articles/18178291744532-Workspace-cannot-be-deleted-from-current-state)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/articles/204856525-Troubleshooting-common-problems)
*   [API Examples for Domino's 5.x REST API](https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)

### Related articles

*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kG--2cc23de90b4e3c7465880ae3367215289ae5ac40)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSoSa%2FHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzYzNTUxOTc0NzA4NjgtSG93LXRvLWV4Y2x1ZGUtYXR0YWNobWVudHMtZnJvbS10aGUtRG9taW5vLXJ1bi1ub3RpZmljYXRpb24tZW1haWxzBjsIVDoJcmFua2kH--bdf25b1e5214008b6aa1f0a978c717ccc1632d16)
*   [Can you sync a specific folder on your computer to a project in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR38UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI3ODk1MjQtQ2FuLXlvdS1zeW5jLWEtc3BlY2lmaWMtZm9sZGVyLW9uLXlvdXItY29tcHV0ZXItdG8tYS1wcm9qZWN0LWluLURvbWlubwY7CFQ6CXJhbmtpCA%3D%3D--4de94acdee5af253d8d6487a1c0b5500e3d46e43)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCQ%3D%3D--88376e26cda1cdd856a05449d105da7adbbf2fcd)
*   [Working With Lots Of Files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPCiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQxM%2BXGCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzk1Mi1Xb3JraW5nLVdpdGgtTG90cy1PZi1GaWxlcwY7CFQ6CXJhbmtpCg%3D%3D--a64e4217e494fddb38e194f3f40f5cf122d4c44c)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17989381049748-Programmatically-download-a-project-s-files-based-on-its-id-using-Python-rest-APIs,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15131402335764-API-Examples-for-Domino-s-5-x-REST-API&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/15131402335764-API-Examples-for-Domino-s-5-x-REST-API/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15131402335764-API-Examples-for-Domino-s-5-x-REST-API,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12916187591060-Starting-a-job-from-a-commit-Id&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQg%3D--7e35b856e1e697a7d3d35fb204bc9f10b7f92771,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error/subscription.html ""Opens a sign-in dialog"")

If your Domino run fails to start, and there is an external repo attached to the project of size 500 MB or larger, it is likely that the JVM heap space in the executor container of the run pod has been consumed by the executor's attempt to clone the repo.

If you have access to the support bundle, you will see entries similar to the following in the executor log file:

2022-06-02T14:48:13.025Z: INFO  \[d.r.d.GitRepoUpdater\] Cloning new copy of <gitlab-link>/YourRepo.git   
correlationId=""cSVGlF3dDk"" projectId=""<project-id>"" runId=""<run-id>"" tickId=""<run-id>"" thread=""application-akka.actor.default-dispatcher-5""

2022-06-02T14:49:57.142Z: Uncaught error from thread \[application-akka.actor.default-dispatcher-5\]:   
Java heap space, shutting down JVM since 'akka.jvm-exit-on-fatal-error' is enabled for ActorSystem\[application\]

2022-06-02T14:49:57.143Z: java.lang.OutOfMemoryError: Java heap space

By default the JVM Heap in the executor container is sized to 500MiB. This is the result of the default values associated with the following keys in Domino's Central Configuration, as JVM heap space is calculated by taking the difference between memoryRequestedMiB and nonHeapMemoryReserveMiB:

```
com.cerebro.domino.computegrid.kubernetes.executor.memoryRequestedMiBcom.cerebro.domino.computegrid.executor.nonHeapMemoryReserveMiB 
```

If these keys cannot be found in your Central Configuration, they will be using their default values of 1500 MiB for memoryRequestedMiB and 1000 MiB for nonHeapMemoryReserveMiB, which leaves 500 MiB for JVM heap space. You can allow more space for the JVM heap by increasing the the value for memoryRequestedMiB. Typically we advise increasing by the least expected amount and increasing it from there if needed because for every individual workspace/app/job will consume this much more RAM and if there are many runs per node this could add up.    As seen in the following screenshot, 1600 or 1750 could be a good place to start.   

 ![1750.png](https://tickets.dominodatalab.com/hc/article_attachments/14196894806676)

### Recently viewed articles

*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4408173152276-How-to-generate-a-User-Activity-Report-by-API-call-in-Domino-4-x)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)

### Related articles

*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNuXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSTOZgtBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjg5MS1FeGVjdXRpb24tbWVtb3J5LXNldHRpbmdzBjsIVDoJcmFua2kG--b6ef534e995deb90df1b369b15cad8dc573a8030)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSTOZgtBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--296f31f5d7fd14e1443f4b47479c59a82e220fa8)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSTOZgtBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kI--02cdfd58e87bc49c2d4769c8611806b282e0dc5b)
*   [Error: “Workspace could not be started. Your role does not authorize you to perform this action”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmh4K9CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSTOZgtBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy85NjEwMDMxNzUyNzI0LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Zb3VyLXJvbGUtZG9lcy1ub3QtYXV0aG9yaXplLXlvdS10by1wZXJmb3JtLXRoaXMtYWN0aW9uBjsIVDoJcmFua2kJ--9ade525ee67f083fb8f67a91f0f6548a2b95b48e)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSTOZgtBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kK--025ab21c42ca4d5c20a079213fc826d9d6196a41)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kH--27a3f50ffa76cffd15e10e172df180990ebf47f2,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You run into the “Error getting data” error when trying to view metrics in the [Control Center](https://docs.dominodatalab.com/en/latest/admin_guide/d5d2ac/control-center/) under **Compute & Spend**. The data fails to load and you cannot generate reports.

![error_Error_getting_data.png](https://tickets.dominodatalab.com/hc/article_attachments/9995826651156)

* * *

## **Root Cause:**

This performance issue is due to timeouts caused by large amounts of historical data being pulled into the UI. Because the Control Center is on the roadmap to be redesigned, there are currently no further fixes planned for this error.

* * *

## **Resolution:**

Admins can decrease this setting in the [Central Configuration](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#performance): **com.cerebro.domino.controlCenter.cacheMaxLoadPeriodInMonths**.

![Central_Config_cacheMaxLoadPeriodInMonths.png](https://tickets.dominodatalab.com/hc/article_attachments/10064415137940)

The default is 12 months. Decreasing this will limit the data and should improve performance. You must restart services for the change to apply.

![3_months_cacheMaxLoadPeriodInMonths.png](https://tickets.dominodatalab.com/hc/article_attachments/10061758162452)

After decreasing this setting, you can still choose the same time periods, e.g. Current Month, Previous Month, Last 3 months, Last 6 months, and Custom. However, the data will only be available for the number of months that you set. 

For example, if it's October today and you set this to 3 months, then only the last 3 months of data from July to October will be available. If you select dates outside of the setting, e.g. January to March, then that data will not be available.

![Report_options_example_Last_3_months.png](https://tickets.dominodatalab.com/hc/article_attachments/10061373304724)

If you select a time period that's greater than the setting, then you'll be presented with an error. For example, if the setting is for 3 months and then you selected 6 months for the time period, you’ll be presented with a **Timeframe over three months not supported** error message.

![Timeframe_over_three_months_not_supported.png](https://tickets.dominodatalab.com/hc/article_attachments/9995780720532)

* * *

## **Notes/Information:**

As an alternative, you could [export the Control Center data via API](https://docs.dominodatalab.com/en/latest/admin_guide/9a12a0/export-control-center-data-with-the-api/) and pull whatever duration you need. The API endpoints related to the Control Center can be accessed from:

*   https://<your-deployment-url>/assets/lib/swagger-ui/index.html?url=<your-deployment-url>/assets/public-api.json

However, please note the [Control Center data](https://docs.dominodatalab.com/en/latest/admin_guide/d5d2ac/control-center/) does not fully reflect compute spend due to these limitations:

*   It's based on values manually entered when creating and managing hardware tiers
*   The compute spend data is only available in the Control Center if the **Cents per minute** field is set for the hardware tier in use
*   The data only represents active usage, and not idle cloud resources or storage

Therefore, for the most accurate values on your cloud spend, we recommend pulling the costs directly from your cloud provider. 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4408173152276-How-to-generate-a-User-Activity-Report-by-API-call-in-Domino-4-x)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/articles/8812366417684-Dominodatalab-data-REST-API-Package-Compatibility)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/articles/12916187591060-Starting-a-job-from-a-commit-Id)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)

### Related articles

*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQleFgXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpBg%3D%3D--89b66abf55714900c2ffd2d7cadbec1c503e8095)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQleFgXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kH--66692e37eae1bca8dfbb6b606d0d4484d046c271)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQleFgXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpCA%3D%3D--a2271b7c97fa410d5c34a57b2fbaf0741da07f63)
*   [Error: “Workspace could not be started. Your role does not authorize you to perform this action”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmh4K9CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQleFgXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy85NjEwMDMxNzUyNzI0LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Zb3VyLXJvbGUtZG9lcy1ub3QtYXV0aG9yaXplLXlvdS10by1wZXJmb3JtLXRoaXMtYWN0aW9uBjsIVDoJcmFua2kJ--89942828a3b6c12140055258fee1e3be04ac660e)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQleFgXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kK--22d8a7a4198011817aa395b22c3a3fcb1f08696f)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12916187591060-Starting-a-job-from-a-commit-Id,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4407742789524-Can-you-sync-a-specific-folder-on-your-computer-to-a-project-in-Domino,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4407742789524-Can-you-sync-a-specific-folder-on-your-computer-to-a-project-in-Domino/subscription.html ""Opens a sign-in dialog"")

I have a rather large project on Domino, and I only want to sync a specific folder to my computer. Would you provide an example on how to do that? 

There are two options for uploading a specific folder to your Domino project: 

The first option is to temporarily add all the other files/folders to the .dominoignore file within your project. Note you can use the \* symbol as a wildcard so you don't have to specify every file/folder you wish to ignore as long as there's some kind of pattern you can use. 

 [Here](https://docs.dominodatalab.com/en/latest/user_guide/bfeeae/set-up-your-project-to-ignore-files/) are the docs that cover the .dominoignore file, but the relevant information is below: 

> **Using .dominoignore**
> 
> Domino lets you “ignore” certain files from your project, excluding them from the `domino sync` operation. This includes syncing from your local machine (using [the CLI](https://docs.dominodatalab.com/en/latest/user_guide/9355a5/domino-cli-reference/) or [R package](https://docs.dominodatalab.com/en/latest/api_guide/ad1224/domino-r-package/)), as well as syncing at the end of a run or during a workspace session.
> 
> To ignore a file, add it to the file named `.dominoignore` that is automatically created at the root of every new project. Adding a folder will ignore it along with its contents. The `*` symbol may be used as a wildcard to match files of a similar pattern. All paths must be relative to the project root.
> 
> Note: a `.git/` directory is always ignored by the sync operation, even if not listed in `.dominoignore`.

The .dominoignore file is located in the /mnt directory (if you are navigating within the Domino UI you should find it in the ""files"" page of your project). 

If you open the .dominoignore file in the Domino UI, you should already see some files types listed in there. You might want to add a note at the bottom that you are selectively adding some files while you do a CLI sync, then list the project's files that you do not want sync'ed. If you have folders that you do not want included, you can list them as `<Folder Name>/*`​  (or for example `Analysis/*` ) to indicate you want everything in that folder to be ignored. 

The second option involves uploading the files as a dataset. [Here's](https://docs.dominodatalab.com/en/latest/user_guide/0a8d11/datasets-overview/) the datasets overview, but you'll specifically want to look at uploading to a dataset from the CLI, which is explained [here.](https://docs.dominodatalab.com/en/latest/user_guide/0a8d11/datasets-overview/#creating-local-datasets) 

> 1.  **CLI Upload**
>     
>     After [installing and configuring the Domino CLI](https://docs.dominodatalab.com/en/latest/user_guide/e21e55/install-the-domino-command-line--cli-/), you can copy and paste the following command to upload a directory of files from your local machine to the Dataset. Note that all contents of the directory you specify are written to the Dataset.
>     
>     ```
>     domino upload-dataset <project-owner>/<project-name>/<dataset-name> <folder path>
>     ```
>     
>     For the example shown above, if the files you want to write to the Dataset are in `/Users/myUser/data`, you would run the following command:
>     
>     domino upload-dataset njablonski/datasets-demo/test /Users/myUser/data 
>     
>     When finished, click **Complete**. You will then be taken to the Dataset overview where you should see a new Snapshot has been written. The new Snapshot will contain exactly those files that were in the folder you uploaded from your local machine.
>     

 \*\*\*Please note that in our example, these variables correspond to the following data:

|     |     |
| --- | --- |
| njablonski | Project Owner |
| datasets-demo | Project Name |
| test | Dataset Name |
| Users/myUser/data | The path of the files that you wish to upload as a dataset |

### Recently viewed articles

*   [What setting should I use for trustStoreType in the CLI configuration file domino.vmoptions](https://tickets.dominodatalab.com/hc/en-us/articles/4415420659988-What-setting-should-I-use-for-trustStoreType-in-the-CLI-configuration-file-domino-vmoptions)
*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API)
*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/360058494731-Calling-Domino-REST-API-from-Python-Jupyter)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center)

### Related articles

*   [Upload files to Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8V0GiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR38UECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYxOTQ0MzkxMjYxNjQtVXBsb2FkLWZpbGVzLXRvLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--b25ba75fa18525e5cc384be795ac2dec6f0f6834)
*   [What setting should I use for trustStoreType in the CLI configuration file domino.vmoptions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR5lAsEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR38UECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy80NDE1NDIwNjU5OTg4LVdoYXQtc2V0dGluZy1zaG91bGQtSS11c2UtZm9yLXRydXN0U3RvcmVUeXBlLWluLXRoZS1DTEktY29uZmlndXJhdGlvbi1maWxlLWRvbWluby12bW9wdGlvbnMGOwhUOglyYW5raQc%3D--dd6559d23d85f401f3f5c2462a8948a760819c46)
*   [I have core.123 files taking up large amounts of memory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8iEICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR38UECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI3MTk1MDgtSS1oYXZlLWNvcmUtMTIzLWZpbGVzLXRha2luZy11cC1sYXJnZS1hbW91bnRzLW9mLW1lbW9yeQY7CFQ6CXJhbmtpCA%3D%3D--36e01493d46ad4dafc3b83fdfb8228c970e6b849)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR38UECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--e8d28fa20830f338ee780ab2057e2ca6145b09f0)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR38UECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpCg%3D%3D--95fce0b561de88b51c9e58decb4c0737420827eb)"
https://tickets.dominodatalab.com/hc/en-us/articles/4415420659988-What-setting-should-I-use-for-trustStoreType-in-the-CLI-configuration-file-domino-vmoptions,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4415420659988-What-setting-should-I-use-for-trustStoreType-in-the-CLI-configuration-file-domino-vmoptions/subscription.html ""Opens a sign-in dialog"")

If you're having trouble logging in with the Domino CLI, you might see an error similar to the following...

Couldn't validate the Domino URL you provided. Validation failed with: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target

This is a somewhat common error with the CLI login and can have several causes.  There are several KBs that address some of those already...

*   [Using The Cli Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/articles/360060723852-Using-The-Cli-Behind-A-Proxy)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/articles/4413223983252--PKIX-path-building-failed-when-using-Domino-CLI-How-to-resolve-on-a-Windows-machine)
*   [CLI login fails with the error ""PKIX path building failed""](https://tickets.dominodatalab.com/hc/en-us/articles/360058040052-CLI-login-fails-with-the-error-PKIX-path-building-failed-)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/articles/204856525-Troubleshooting-common-problems#CertIssues)

One of the possible resolutions to this error is to try and explicitly set the Java option for the trust store type.  In general this is a system default setting and should not need to be changed, but we have found in some instances this can help resolve this failure.

The setting for the trust store type is

```
-Djavax.net.ssl.trustStoreType=<depends on OS type>PC:    -Djavax.net.ssl.trustStoreType=WINDOWS-ROOT
```

Note that these are standard Java options.

This setting should be placed in the domino.vmoptions configuration file.

*   On Mac, the directory is: **/Applications/domino**
*   On Windows, the directory is: **C:\\Users\\<your\_username>\\AppData\\Local\\Programs\\domino**

In the root of the installation directory, there is a file named **domino.vmoptions** with some configuration options available. Add the line \-include-options ~/.domino/domino.vmoptions at the _end_ of the file for any \*nix based system (Windows users will need to specify the appropriate path where **domino.vmoptions** will be created):

\-Ddomino.defaultHost=
-Dhttp.proxyHost=
-Dhttp.proxyPort=
-Dhttp.nonProxyHosts=
-Dhttps.proxyHost=
-Dhttps.proxyPort=
-Dhttps.nonProxyHosts=
-include-options ~/.domino/domino.vmoptions

You will need to create the user level configuration file **domino.vmoptions** in the appropriate location/folder. The folder **~/.domino/** may not exist, in which case you should run **mkdir ~/.domino** to create it. A user level configuration file is necessary to ensure your settings are never modified in the scenario that the CLI is reinstalled or updated. In the newly created **~/.domino/domino.vmoptions**, assign your trust store type:

\-Djavax.net.ssl.trustStoreType=WINDOWS-ROOT

### Recently viewed articles

*   [Programmatically create a dataset snapshot via the Domino Rest API](https://tickets.dominodatalab.com/hc/en-us/articles/8156938560020-Programmatically-create-a-dataset-snapshot-via-the-Domino-Rest-API)
*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/360058494731-Calling-Domino-REST-API-from-Python-Jupyter)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/articles/9847295058708-Passing-arguments-and-starting-Jobs-via-Domino-REST-API)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5lAsEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--64cc48accc29a69ae3cb21d0b8f3f20c3c77a267)
*   [CLI login fails with the error ""PKIX path building failed""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPSuIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5lAsEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDA1Mi1DTEktbG9naW4tZmFpbHMtd2l0aC10aGUtZXJyb3ItUEtJWC1wYXRoLWJ1aWxkaW5nLWZhaWxlZAY7CFQ6CXJhbmtpBw%3D%3D--07f3415c1c9609b479a220589a6b0656575f7304)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5lAsEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kI--68e9dbe266b0f627574cfebafe0b04e602fbaf76)
*   [Using The CLI Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIyiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5lAsEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzg1Mi1Vc2luZy1UaGUtQ0xJLUJlaGluZC1BLVByb3h5BjsIVDoJcmFua2kJ--c31104ecb347f9b2d4e6bbb6ece6b4583d8c4b58)
*   [Switch the Domino CLI from S3 to using the API (troubleshooting CLI errors)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGenKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5lAsEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njg3MS1Td2l0Y2gtdGhlLURvbWluby1DTEktZnJvbS1TMy10by11c2luZy10aGUtQVBJLXRyb3VibGVzaG9vdGluZy1DTEktZXJyb3JzBjsIVDoJcmFua2kK--8dd57ce978d49016b3050662e7359f657c759f91)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061608411-Installing-the-CLI-on-a-Mac-after-getting-malicious-software-error,"When I tried to install Domino CLI on my Mac, I get following message - ""“Domino Installer” can’t be opened because Apple cannot check it for malicious software."" Please let me know how can I install Domino CLI on my Mac.

Error message: 

![image001__3_.png](https://tickets.dominodatalab.com/hc/article_attachments/360096220172)

This can be resolved by going to System Preferences > Security & Privacy, under the General tab and clicking 'Open Anyway' to confirm your intent to open or install the app.

  
![](https://support.apple.com/library/content/dam/edam/applecare/images/en_US/macos/Catalina/macos-catalina-system-preferences-security-general-open-anyway.jpg)

Another alternative would be to run the installer via the terminal."
https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360060820072-Downloading-Domino-CLI,"Submitted by Gener Joseph Tomas

How to download Domino CLI from the Domino UI.

1.  Login to your Domino deployment![Screen_Shot_2021-05-13_at_5.50.07_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/360095195991)![Screen_Shot_2021-05-13_at_5.51.10_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/360095196291)
2.  Click your username at the left-bottom part of the main menu, which will open a mini tab![Screen_Shot_2021-05-13_at_5.51.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/360095196271)![Screenshot 2024-01-18 at 01.39.22.png](https://tickets.dominodatalab.com/hc/article_attachments/22897478477716)
3.  Choose the appropriate installer for your operating system (OS).

Installing the Domino Command Line (CLI) for installation Part

Domino Version 4.4: [https://docs.dominodatalab.com/](https://docs.dominodatalab.com/) search Installing CLI"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQaTAFJBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY5MTA2MjQxNDQwMjAtRW1haWwtbm90aWZpY2F0aW9ucy1hcmUtbm90LXJlY2VpdmVkLXdoZW4tdXNpbmctU0VTLWVtYWlsBjsIVDoJcmFua2kG--1bc7ded294132ca320222da13d17757c553ccea3,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [Overriding the normal startup of a pod’s container for troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/23184016066068-Overriding-the-normal-startup-of-a-pod-s-container-for-troubleshooting)
*   [Timeout issues, ""Timed out while publishing run status update!"" for Workspaces, jobs, other runs](https://tickets.dominodatalab.com/hc/en-us/articles/21517813828500-Timeout-issues-Timed-out-while-publishing-run-status-update-for-Workspaces-jobs-other-runs)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/articles/21401525882900-Cannot-search-Jobs-by-job-number)
*   [Jobs page does not apply the search filter correctly.](https://tickets.dominodatalab.com/hc/en-us/articles/19400341636244-Jobs-page-does-not-apply-the-search-filter-correctly)
*   [Workspace or Job failures due to low ephemeral storage](https://tickets.dominodatalab.com/hc/en-us/articles/16176791657108-Workspace-or-Job-failures-due-to-low-ephemeral-storage)
*   [Results emails may contains results from other jobs or launcher runs.](https://tickets.dominodatalab.com/hc/en-us/articles/12928411236372-Results-emails-may-contains-results-from-other-jobs-or-launcher-runs)
*   [KubernetesConfigurationApplicationFailed error in the User Output logs when starting up a workspace or job](https://tickets.dominodatalab.com/hc/en-us/articles/11999742997780-KubernetesConfigurationApplicationFailed-error-in-the-User-Output-logs-when-starting-up-a-workspace-or-job)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/articles/9905059888788-In-projects-owned-by-orgs-rerun-jobs-fail-if-jobs-access-datasets)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206686-Runs)

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6910624144020-Email-notifications-are-not-received-when-using-SES-email/subscription.html ""Opens a sign-in dialog"")

## **Environment:**

Any Domino version configured to use the Amazon Simple Email Service (SES).

## **Issue:**

Users do not receive notification emails from executions when email is configured to use SES.  Nucleus-dispatcher logs will show the following type of errors:

test@ip-192-168-1-24:~$ kubectl logs -n domino-test1123-platform nucleus-dispatcher-6884646657-v5nkk | grep AmazonSimpleEmailService  
com.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: User \`arn:aws:sts::123752927997:assumed-role/domino-test1123-kubernetes/i-0b24pld167336a34e' is not authorized to perform \`ses:SendRawEmail' on resource \`arn:aws:ses:eu-west-1:123752927997:identity/hans.solo@dominodatalab.com' (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: AccessDenied; Request ID: f8aad2be-31d8-4047-9c9d-6039d96c3294; Proxy: null)  
ERROR \[a.d.TaskInvocation\] User \`arn:aws:sts::123752927997:assumed-role/domino-test1123-kubernetes/i-0b24pld167336a34e' is not authorized to perform \`ses:SendRawEmail' on resource \`arn:aws:ses:eu-west-1:123752927997:identity/hans.solo@dominodatalab.com' (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: AccessDenied; Request ID: f8aad2be-31d8-4047-9c9d-6039d96c3294; Proxy: null) thread=""application-akka.actor.default-dispatcher-169""  
com.amazonaws.services.simpleemail.model.AmazonSimpleEmailServiceException: User \`arn:aws:sts::123752927997:assumed-role/domino-test1123-kubernetes/i-0b24pld167336a34e' is not authorized to perform \`ses:SendRawEmail' on resource \`arn:aws:ses:eu-west-1:123752927997:identity/hans.solo@dominodatalab.com' (Service: AmazonSimpleEmailService; Status Code: 403; Error Code: AccessDenied; Request ID: f8aad2be-31d8-4047-9c9d-6039d96c3294; Proxy: null)

## **Resolution:**

1.  Within IAM on AWS, ensure the user/role that you are using has the 'Action: SendRawEmail'  within the policy assigned to it.  From the error above, the role that requires this policy is the assumed-role _**domino-test1123-kubernetes**_.  
    
    User \`arn:aws:sts::123752927997:assumed-role/**domino-test1123-kubernetes**/i-0b24pld167336a34e'
    
    Newer domino deployments may have different names for this role, some examples are
    
    _<deployment-name>-eks-nodes_
    
    _<deployment-name>-nodes_
    
    If your deployment was self deployed this role may be different as well, so just check the text of the error from the dispatcher log and apply the _**ses-smtp-raw**_ policy to the role.  You can manually add this role as below:
    
    {
        ""Version"": ""2012-10-17"",
        ""Statement"": \[
            {
                ""Effect"": ""Allow"",
                ""Action"": \[
               **     ""ses:SendEmail"",
                    ""ses:SendRawEmail""**
                \],
                ""Resource"": ""\*""
            }
        \]
    
2.  Within Domino there are 3 required Central Configuration (CC) parameters needed to configure SES email.  
    
    |     |     |
    | --- | --- |
    | **com.cerebro.domino.email.transportType** | ses |
    | **com.cerebro.domino.aws.sesRegion** | your AWS region, example: _us-west-2_ |
    | **com.cerebro.domino.email.notificationFromAddress** | [verified\_address@domain.com](https://docs.aws.amazon.com/ses/latest/dg/creating-identities.html) |
    
      
    Note that these values can be set via the Email Settings UI as below:
    
    ![Screenshot 2024-01-05 at 11.08.22 AM.png](https://tickets.dominodatalab.com/hc/article_attachments/22555375209748)  
    This UI reads from and writes to the Central Configuration. So you can also manually set the values directly in the Central Configuration interface without using the Email Settings UI if you prefer. 
    
3.  After changing your email configuration either via the Email Settings UI or directly via the Central Configuration interface, be sure to restart services.  Changes will not take effect until you restart services. Services can be restarted from _Admin >> Advanced >> Restart Services_.

For more details on managing IAM access policies for SES are detailed [here.](https://docs.aws.amazon.com/ses/latest/dg/control-user-access.html)

### Recently viewed articles

*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060820072-Downloading-Domino-CLI)

### Related articles

*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQaTAFJBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--d40c5fd23b53fdcc34acb3635a5e46015a7efbf9)
*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQB9XNGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQaTAFJBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzEwMTk4MTk3Nzk3MTQwLVNhbHZhZ2luZy1hLVBWQy1GaWxlLVJlY292ZXJ5LWZyb20td2l0aGluLWEtd29ya3NwYWNlLWluLWFuLUVycm9yLXN0YXRlBjsIVDoJcmFua2kH--e4733784c40dba7efe99a0080b46b0d936b2181f)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQaTAFJBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--950054107bda25e22c61bd4d02a0a70a96198c3a)
*   [Unsuccessful Confirmation Error After Project Transfer Attempt](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQIrVEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQaTAFJBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM3MTE3NzI4MjAtVW5zdWNjZXNzZnVsLUNvbmZpcm1hdGlvbi1FcnJvci1BZnRlci1Qcm9qZWN0LVRyYW5zZmVyLUF0dGVtcHQGOwhUOglyYW5raQk%3D--eae7589501f94c0ecd123cd98e77d8bec2bc9be1)
*   [Preventing Jupyter timeout errors when running notebooks as a batch/scheduled job](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBCxIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQaTAFJBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDU5Mi1QcmV2ZW50aW5nLUp1cHl0ZXItdGltZW91dC1lcnJvcnMtd2hlbi1ydW5uaW5nLW5vdGVib29rcy1hcy1hLWJhdGNoLXNjaGVkdWxlZC1qb2IGOwhUOglyYW5raQo%3D--442a180a508632533c7cf257398bf9469857b564)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR9iyAFBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MjAwNjczNjAwMjAtRmlyc3QtcnVsZS1vZi1DTEktVHJvdWJsZXNob290aW5nBjsIVDoJcmFua2kH--ad02e79122f8b6762ad09874837c3473a72e1313,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4420067360020-First-rule-of-CLI-Troubleshooting/subscription.html ""Opens a sign-in dialog"")

Since the Domino CLI software is somewhat at the mercy of the user environment, both OS and Networking on the users desktop/laptop, it can fall victim to numerous failures such as improperly installed Java versions/improperly configured proxies/out of date certificates.  

That said, the first rule of CLI troubleshooting is to make sure you have [downloaded and installed the latest version of the CLI](https://docs.dominodatalab.com/en/latest/reference/cli/Installing_the_Domino_Command_Line_%28CLI%29.html#installing-the-domino-command-line-cli). 

CLI versions are tied to the version of your Domino deployment and are very often neither forward nor backwards compatible so always make sure you have the latest version from your deployment.  It will likely be one of the first things Domino Support will have you verify regardless.

The second rule??  We have numerous KBs on this topic, so look through the available KB articles to see if your specific failure is already documented.  

### Recently viewed articles

*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/articles/6910624144020-Email-notifications-are-not-received-when-using-SES-email)
*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060820072-Downloading-Domino-CLI)

### Related articles

*   [Incompatible Windows File Names](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTkv4kBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR9iyAFBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTI1MzI4ODQtSW5jb21wYXRpYmxlLVdpbmRvd3MtRmlsZS1OYW1lcwY7CFQ6CXJhbmtpBg%3D%3D--32a0ce399d80288c3909023c9e28c6bae8b16634)
*   [What setting should I use for trustStoreType in the CLI configuration file domino.vmoptions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR5lAsEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR9iyAFBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy80NDE1NDIwNjU5OTg4LVdoYXQtc2V0dGluZy1zaG91bGQtSS11c2UtZm9yLXRydXN0U3RvcmVUeXBlLWluLXRoZS1DTEktY29uZmlndXJhdGlvbi1maWxlLWRvbWluby12bW9wdGlvbnMGOwhUOglyYW5raQc%3D--a5f0b7378ba933b15c3d89797cc6b7c9da72e4cb)
*   [Using The CLI Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIyiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR9iyAFBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzg1Mi1Vc2luZy1UaGUtQ0xJLUJlaGluZC1BLVByb3h5BjsIVDoJcmFua2kI--ee890ad616ac191b2db710634cfaefbbeb515071)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR9iyAFBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQk%3D--f24b13249ed1479a664c7cdb89cf681ed8059514)
*   [Problem installing CLI on mac, Domino Installer.app hangs in Install4j](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRDB%2Fj3CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR9iyAFBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk4NjExMTExNjk5NDAtUHJvYmxlbS1pbnN0YWxsaW5nLUNMSS1vbi1tYWMtRG9taW5vLUluc3RhbGxlci1hcHAtaGFuZ3MtaW4tSW5zdGFsbDRqBjsIVDoJcmFua2kK--7552733676b25efcbba280b7e07adc7e62b8dac9)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOC9IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0Mzg3Mi1FbnZpcm9ubWVudC1WYXJpYWJsZXMtaW4tU0FTBjsIVDoJcmFua2kJ--07714e778433896d72e5a22bf539bc4723e76a5c,"## Environment Variables in SAS

![](https://tickets.dominodatalab.com/system/photos/5378045081876/IMG-20190304-WA0053.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058043872-Environment-Variables-in-SAS/subscription.html ""Opens a sign-in dialog"")

You can set the environment variables for SAS by defining them on the project level as shown below , and then accessing them in SAS using SYSGET -

### Setting up project environment variables

You can configure your secure configuration to be injected at execution time via environment variables.  
To set this up, go to the Settings tab on the project you wish to configure. Under the “Environment variables” section you can add key/value pairs which will be injected as env vars at execution time.

### Getting environment variables in SAS

%let key=%SYSGET(S3\_KEY);  
%put &key

### Recently viewed articles

*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060820072-Downloading-Domino-CLI)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/4420067360020-First-rule-of-CLI-Troubleshooting)
*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/articles/6910624144020-Email-notifications-are-not-received-when-using-SES-email)

### Related articles

*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOC9IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpBg%3D%3D--bc7f9d402723cf26503c406c43ecb00fde23d566)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSAEpkCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOC9IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDkyMDQ1NzIxODAtSW5zdGFsbC1wYWNrYWdlcy1pbi10aGUtUmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBw%3D%3D--6fc6a11bbe8f1c1a57d7563747d6523763129942)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOC9IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQg%3D--8006451268705616d69248879d80b5aa100ddf19)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOC9IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQk%3D--59bdf27bbb9536d0c7a4a0c48442f46248363a06)
*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGOXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOC9IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjc3MS1Vc2luZy1TQVMtaW4tRG9taW5vLUdldHRpbmctU3RhcnRlZC1hbmQtQmVzdC1QcmFjdGljZXMGOwhUOglyYW5raQo%3D--85e0603847f4bda48e08893dc88b8f860a77f053)

### Comments

1 comment

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058043872-Environment-Variables-in-SAS) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQnhDo7EToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCg%3D%3D--0eba1ea0b9b3f3d7fb39b7473c38e6e88262df05,"#### _**Version/Environment (if relevant):**_

This applies to customer-managed deployments upgrading to version 5.5 or higher.

* * *

## **Issue:**

You run into this error when trying to switch hardware tiers in a workspace:

`Selected hardware tier is not available in the Availability Zone allocated to the workspace. Select another hardware tier, or Create a New Workspace with the selected hardware tier.`

![01](https://tickets.dominodatalab.com/hc/article_attachments/16764558393620)

* * *

## **Root Cause:**

This error occurs when the `eks:cluster-name` tag is missing from your [AWS Auto Scaler Groups > your cluster > Tags](https://docs.aws.amazon.com/autoscaling/ec2/userguide/ec2-auto-scaling-tagging.html). This could be on any **NON-PLATFORM NODE POOL**, e.g. your ""compute"" cluster like in the example below, depending on your naming convention.

![select](https://tickets.dominodatalab.com/hc/article_attachments/16785966611604)

### Special notes

**a)** The `eks:cluster-name` tag value is **case-sensitive**.

**b)** The `eks:cluster-name` tag value must **match** Nucleus' `Kubernetes.clusterName` setting.

Under normal circumstances, this comes from the top-level `name` value in the [`domino.yaml`](https://docs.dominodatalab.com/en/latest/admin_guide/eb57d2/streamlined-domino-yaml-downloads/):

schema: '1.3'
**name: <YOUR CLUSTER NAME>**
version: 5.5.0
hostname: <YOUR HOSTNAME>
global\_node\_selectors: {}
global\_pod\_annotations: {}
global\_pod\_labels: {}
global\_pod\_environment: \[\]
email\_notifications:

It can also be overridden by the `com.cerebro.domino.kubernetes.clusterName` Central Config setting:

![03](https://tickets.dominodatalab.com/hc/article_attachments/16785555261460)

  
**c)** The feature could be working correctly (e.g. the current HWT and proposed new HWT actually don't have AZs in common). If everything else is set up correctly and the error still appears, then the feature is working correctly.

* * *

## **Resolution:**

Starting in version 5.5, Domino relies on the `eks:cluster-name` tag to match and set hardware tiers to the AWS Auto Scaler Group (ASG) Availability Zones (AZ). For Domino-managed deployments, the tag is already included so no action is necessary.

For customer-managed deployments, the tag is not included and will therefore need to be added by the customer. Take these steps to add the `eks:cluster-name` tag to each of your non-platform ASGs. 

**Step 1)**  In the Domino **Admin UI** > **MongoDB**:

Run this command:

`db.hardware_tiers.find({},{""name"": 1, ""availabilityZones"" :1})`

This should confirm that the AZs are empty like in the example below:

{  
 ""\_id"" : ObjectId(""1234c5c6789c1011b12131bb""),  
 ""name"" : ""cpu-small"",  
 **""availabilityZones"" : \[ \]**  
}

{  
 ""\_id"" : ObjectId(""9876c5c4321c9876b54321bd""),  
 ""name"" : ""cpu-medium"",  
 **""availabilityZones"" : \[ \]**  
}

**Step 2)**  In **AWS** > **EC2** > **Auto Scaling groups** > your cluster > scroll down to the bottom to the **Tags** section. Confirm that the `eks:cluster-name` tag is missing. 

![02](https://tickets.dominodatalab.com/hc/article_attachments/16785555258260)

**Step 3)**  Add the tag

*   **Key**: `eks:cluster-name`
*   **Value**: `<cluster name>`

![03](https://tickets.dominodatalab.com/hc/article_attachments/16785555260180)

**Step 4)  IF NEEDED,** you can check what Nucleus thinks the `clusterName` is by turning on `DEBUG` logs in the `nucleus-logback-config` for package `domino.hardwaretier.adapter`, deleting/restarting the `nucleus-train` pod, then looking in the new `nucleus-train` pod logs for the `K8s cluster name`.

**4.1)**  In Kubernetes, run this command: 

`kubectl edit configmap/nucleus-logback-config -n domino-platform` 

**  
4.2)**  Add this line and save your changes:

`<logger name=""domino.hardwaretier.adapter"" level=""DEBUG"" />`

![04](https://tickets.dominodatalab.com/hc/article_attachments/16785555264532)

**4.3)**  Grep for the pod:

`kubectl get pods -n domino-platform | grep train` 

**4.4)**  Delete/restart the pod:

`kubectl delete pod/nucleus-train-<podname> -n domino-platform` 

**4.5)**  Confirm that the new cluster name was added to the new pod:

`kubectl logs nucleus-train-<podname> -n domino-platform | grep -i ""cluster name""` 

Output should be:

`DEBUG (d.h.a.DefaultHardwareTierAzRefresherl K8s cluster name: Some (<cluster name>) thread=""main""`

Example:

![04](https://tickets.dominodatalab.com/hc/article_attachments/16764737307668)

### Special notes

If the `<cluster name>` isn't what you expect or want, then you can either:

**a)** Edit the `name` value in the `domino.yaml` (from step 3) and re-run the installer, then repeat the ""grepping for cluster name"" step when the new `nucleus-train` pod comes online

**b)** Or set the `com.cerebro.domino.kubernetes.clusterName` Central Config setting, restart services, and repeat the grep step with the new pod.

**Step 5)**  In the Domino **Admin UI** > **MongoDB**:

Wait a couple of minutes until the new `nucleus-train` pod is running.

Then re-run this command:

`db.hardware_tiers.find({},{""name"": 1, ""availabilityZones"" :1})`

This should confirm that the AZs have populated like in the example below:

{  
 ""\_id"" : ObjectId(""1234c5c6789c1011b12131bb""),  
 ""name"" : ""cpu-small"",  
 **""availabilityZones"" : \[**   
  **“us-east-1a”**  
\]  
}

{  
 ""\_id"" : ObjectId(""9876c5c4321c9876b54321bd""),  
 ""name"" : ""cpu-medium"",  
 **""availabilityZones"" : \[**  
  **“us-east-1a”**  
 \]  
}

**Step 6)**  In the Domino UI, create a new workspace. Confirm that you can now switch the hardware tier.

**Step 7)**  In Kubernetes remove the line that you added in step 4

Run this command:

`kubectl edit configmap/nucleus-logback-config -n domino-platform` 

Remove this line and save your changes:

`<logger name=""domino.hardwaretier.adapter"" level=""DEBUG"" />`

* * *

## **Notes/Information:**

### Workaround

If you are unable to add the new `eks:cluster-name` tag to the AWS ASG Tags, you can apply this workaround in the meantime:

1.  Set this [Central Config](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/) setting to **20000000 seconds** (about 230 days, close to the max allowed): `com.cerebro.domino.workbench.hardwaretier.azRefreshFrequency` 
2.  Restart services
3.  Backup mongo via Kubectl: `kubectl -n domino-platform create job --from=cronjob/domino-workbench-backup domino-workbench-backup-manual` 
4.  In the Domino **Admin UI** > **MongoDB**: Run the command to set the hardware tier availability zone lists to null (or removes the property):
    1.  You can either unset the hardware tiers one at a time: `db.hardware_tiers.update({ _id: the-mongo-object-id-of-the-hwt }, {""$unset"": { ""availabilityZones"": 1 } })`
    2.  Or unset them all at once: `db.hardware_tiers.updateMany({}, {""$unset"": { ""availabilityZones"": 1 } })`

**Notes:**

In the future, you'll need to re-run the above mongo command that sets to null if:

*   An Admin edits or creates a hardware tier
*   The `nucleus-train` pod is restarted
*   An Admin restarts services

You can remove the workaround after you’ve added the `eks:cluster-name` to your AWS ASG Tags.

### References/Internal Records:

*   DOCS-2360

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23509145758612-Domino-CLI&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360061119251-How-To-Move-A-Project-From-One-Domino-Deployment-To-Another,"## How to move a project from one Domino deployment to another

These are the steps to take to move a project from one Domino deployment to another. For example, perhaps you had a project in our Trial deployment and you want to move it to our Production deployment or to your private Domino deployment. This can be done via the CLI.   It's important to note that this process only moves the latest files, and not your past history and revisions.

For more information about the CLI, please visit [Installing the Domino Client (CLI)](https://tickets.dominodatalab.com/hc/en-us/articles/Installing_the_Domino_Command_Line_(CLI).html).

This assumes you have the latest local copy of your project on your workstation. Please review [""How to"" / CLI reference](https://tickets.dominodatalab.com/hc/en-us/articles/CLI_reference.html) on how to ""get"" a local copy, if you do not have a local copy.

Here are the commands to use in the CLI:

1.  Navigate to your project on your local system that you'd like to migrate
    
    cd <your project>
    
2.  .domino is what identifies it as a domino project, so we remove it
    
    rm \-rf .domino
    
3.  Log into the target deployment you're moving to, initialize and upload your project
    

> domino login <target URL>
> 
> domino init
> 
> domino upload

Once you have completed the steps above, log into the new Domino system where your project is hosted and verify the access and collaboration settings are correct. In some cases, access and collaboration settings may need to be updated as they do not transfer with the project.

Your project migration is complete."
https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360060723852-Using-The-CLI-Behind-A-Proxy,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Use Domino CLI to create snapshots when datasets have a large number of files](https://tickets.dominodatalab.com/hc/en-us/articles/18946082481940-Use-Domino-CLI-to-create-snapshots-when-datasets-have-a-large-number-of-files)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Installing the Domino CLI in a Workspace or with batch job](https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)
*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI)
*   [CLI issue - Snapshot failed during domino upload-dataset](https://tickets.dominodatalab.com/hc/en-us/articles/10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset)
*   [What setting should I use for trustStoreType in the CLI configuration file domino.vmoptions](https://tickets.dominodatalab.com/hc/en-us/articles/4415420659988-What-setting-should-I-use-for-trustStoreType-in-the-CLI-configuration-file-domino-vmoptions)
*   [Can you sync a specific folder on your computer to a project in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/4407742789524-Can-you-sync-a-specific-folder-on-your-computer-to-a-project-in-Domino)
*   [Installing the CLI on a Mac after getting ""malicious software"" error](https://tickets.dominodatalab.com/hc/en-us/articles/360061608411-Installing-the-CLI-on-a-Mac-after-getting-malicious-software-error)
*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060820072-Downloading-Domino-CLI)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23509145758612-Domino-CLI)

## Using The CLI Behind A Proxy

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060723852-Using-The-CLI-Behind-A-Proxy/subscription.html ""Opens a sign-in dialog"")

## Using the Domino CLI Behind a Proxy

You can configure the Domino CLI to use your proxy with the following changes. You'll need to modify files in the client installation directory:

*   On Mac, the directory is: **/Applications/domino**
*   On Windows, the directory is: **C:\\Users\\<your\_username>\\AppData\\Local\\Programs\\domino**

In the root of the installation directory, there is a file named **domino.vmoptions** with some configuration options available. Add the line \-include-options ~/.domino/domino.vmoptions at the _end_ of the file for any \*nix based system (Windows users will need to specify the appropriate path where **domino.vmoptions** will be created):

\-Ddomino.defaultHost=
-Dhttp.proxyHost=
-Dhttp.proxyPort=
-Dhttp.nonProxyHosts=
-Dhttps.proxyHost=
-Dhttps.proxyPort=
-Dhttps.nonProxyHosts=
-include-options ~/.domino/domino.vmoptions

You will need to create the user level configuration file **domino.vmoptions** in your home directory. A user level configuration file is necessary to ensure your settings are never modified in the scenario that the CLI is reinstalled or updated. In the newly created **~/.domino/domino.vmoptions**, assign your proxy's port and host configuration:

\-Dhttp.proxyHost=YOURPROXYHOST
-Dhttp.proxyPort=1234
-Dhttps.proxyHost=YOURPROXYHOST
-Dhttps.proxyPort=1234

You'll need to replace YOURPROXYHOST and 1234 with your actual proxy connection information.

## Proxy Authentication with the Domino CLI

CLI supports **Basic** & **NTLM** proxy authentication. Add the following parameters to your **~/.domino/domino.vmoptions** file for proxy authentication:

**Basic**

\# Make sure you have disabled the system proxy via this setting
-Djava.net.useSystemProxies=false
# This is required to enable basic authentication for Java versions >= Java 8u111
# More info here -> http://www.oracle.com/technetwork/java/javase/8u111-relnotes-3124969.html
-Djdk.http.auth.tunneling.disabledSchemes=
# (https) Do not include quotes
-Dhttps.proxyUser=YOURPROXYUSER
# (https) Do not include quotes, even if your password contains spaces
-Dhttps.proxyPassword=YOURPROXYPASSWORD
# (http) Do not include quotes
-Dhttp.proxyUser=YOURPROXYUSER
# (http) Do not include quotes, even if your password contains spaces
-Dhttp.proxyPassword=YOURPROXYPASSWORD
# Make sure to leave a blank line at the end

**NTLM**

\# This is an extension of Basic Proxy settings
# (http) Make sure to specify the NTLM domain for this Proxy
-Dhttp.auth.ntlm.domain=YOURNTLMDOMAIN
# (https) Make sure to specify the NTLM domain for this Proxy.
-Dhttps.auth.ntlm.domain=YOURNTLMDOMAIN
# Make sure to leave a blank line at the end

Note

The proxy username is case sensitive when using **NTLM** proxy authentication.

### Recently viewed articles

*   [How To Move A Project From One Domino Deployment To Another](https://tickets.dominodatalab.com/hc/en-us/articles/360061119251-How-To-Move-A-Project-From-One-Domino-Deployment-To-Another)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/articles/16764574536852-Workspace-error-Selected-hardware-tier-is-not-available-in-the-Availability-Zone-allocated-to-the-workspace)
*   [Environment Variables in SAS](https://tickets.dominodatalab.com/hc/en-us/articles/360058043872-Environment-Variables-in-SAS)
*   [Downloading Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060820072-Downloading-Domino-CLI)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/4420067360020-First-rule-of-CLI-Troubleshooting)

### Related articles

*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIyiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kG--b4861f2de3150f7a902c7def1aa13a0028a01116)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIyiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kH--1c6f4ff629c5531bf69c4b871b59fa844195f537)
*   [CLI login fails with the error ""PKIX path building failed""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPSuIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIyiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDA1Mi1DTEktbG9naW4tZmFpbHMtd2l0aC10aGUtZXJyb3ItUEtJWC1wYXRoLWJ1aWxkaW5nLWZhaWxlZAY7CFQ6CXJhbmtpCA%3D%3D--36fcecd24f9bbf7d1693f6e83559c58377cce133)
*   [What setting should I use for trustStoreType in the CLI configuration file domino.vmoptions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR5lAsEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIyiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy80NDE1NDIwNjU5OTg4LVdoYXQtc2V0dGluZy1zaG91bGQtSS11c2UtZm9yLXRydXN0U3RvcmVUeXBlLWluLXRoZS1DTEktY29uZmlndXJhdGlvbi1maWxlLWRvbWluby12bW9wdGlvbnMGOwhUOglyYW5raQk%3D--a9d1e7bb08edbd353108bf25cb6e2b5f21892f92)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIyiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQo%3D--660d9ff3d58f21edcbde81197d180df4bf79f8a4)"
https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project,"## Force-restoring a local project

If you encounter errors with the [Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/CLI_reference.html), it may be due to a problem with your local project metadata. This can happen for example if a file is modified by another program during the sync and [file locking](https://tickets.dominodatalab.com/hc/en-us/data/Working_with_lots_of_files.html) is turned off. You may be able to resolve this issue by performing a force-restore. To do so, follow these steps:

1) Navigate to your local copy, and remove the Domino project information.

cd <project folder>
rm -rf .domino

2) Restore the Domino project information. Enter the project name when prompted.

domino restore

Note that this will download any files that are on the server that are not present in your local project. Simply delete them if you do not need them. Additionally, if any of your local files are different from the server version, the local version will be pushed the next time you run \`domino sync\`."
https://tickets.dominodatalab.com/hc/en-us/articles/360060723812-Downloading-Individual-Files-Or-Folders-With-The-CLI,"If you need to download individual files from a project, the simplest way to do this is from the Files page in the UI. However, if your files are too numerous to manage from the UI, there is an alternate method using a CLI command:

domino download-results.

This command accepts a filter that allows you to download a subset of the project. Documentation of this command is available by running:

domino help download-results

As an example, you could download the contents of a folder with a command like this:

domino download-results --filter 'myfolder/\*' 548fda01e4b0a8f06b7e8d99

*   The \--filter option is what limits the downloaded files to the pattern that follows it
*   548fda01e4b0a8f06b7e8d99 is the run ID

You can also use a run number instead of an ID:

domino download-results --filter 'myfolder/\*' 1

Note that this downloads the output files from a run, so it requires you to have submitted at least one run in the project. Files appear in the local directory under results/run-<runId or runNumber>."
https://tickets.dominodatalab.com/hc/en-us/articles/360058496871-Switch-the-Domino-CLI-from-S3-to-using-the-API-troubleshooting-CLI-errors,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058496871-Switch-the-Domino-CLI-from-S3-to-using-the-API-troubleshooting-CLI-errors/subscription.html ""Opens a sign-in dialog"")

If you're having trouble with the Domino command line interface (CLI), one culprit may be the authorization pathway. If you're seeing issues such as failures running domino init or domino get, or any error messages about blob transfer or s3 issues, you may want to try switching the auth mode from S3 to API.  Read on if this sounds like your issue.

We will go through the process of switching how the CLI talks to S3. We will use the API to authenticate instead. Here are the instructions.

Set `client_blob_mode` from ""S3"" to ""API"". This will send requests through the API rather than directly to the S3. Follow these steps to do this:

*   Locate the file `install_config.json` In my test environment, it was under`C:\Users\Domino\.dominoconfig\install_config.json` and on a mac the path is typically  `/Users/<username>/.dominoconfig/install_config.json` 
*   Log in to the CLI
*   Edit the file \`install\_config.json\` to change ""`client_blob_mode` "":""S3"" to ""API""

For example, change this:

{""host"":""https://some.deployment.com"",""user\_id"":""123456"",""username"":""dominopetter"",""api\_key"":""123456"",""client\_blob\_mode"":""S3"",""is\_cloud\_mode"":true,""report\_errors\_to\_server"":false,""cli\_installer\_location"":""https://some.deployment.com/assets/cli/default""}

to this:

{""host"":""https://some.deployment.com"",""userid"":""123456"",""username"":""dominopetter"",""apikey"":""123456"",""client\_blob\_mode"":""API"",""is\_cloud\_mode"":true,""report\_errors\_to\_server"":false,""cli\_installer\_location"":""https://some.deployment.com/assets/cli/default""}

Re-try a `domino get` **without logging in again** and you should be using the API instead of S3 mode.

Note that the API mode of authentication is slightly slower, so if you notice any slowness after making this change let us know and we can help you fix the underlying issue with the original auth mode, though this can take a little longer than just changing the auth mode.

### Recently viewed articles

*   [Downloading Individual Files Or Folders With The CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060723812-Downloading-Individual-Files-Or-Folders-With-The-CLI)
*   [Force-Restoring A Local Project](https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project)
*   [Using The CLI Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/articles/360060723852-Using-The-CLI-Behind-A-Proxy)
*   [How To Move A Project From One Domino Deployment To Another](https://tickets.dominodatalab.com/hc/en-us/articles/360061119251-How-To-Move-A-Project-From-One-Domino-Deployment-To-Another)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/articles/16764574536852-Workspace-error-Selected-hardware-tier-is-not-available-in-the-Availability-Zone-allocated-to-the-workspace)

### Related articles

*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpBg%3D%3D--2a351060a54b00936df416feefe01f956141166a)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kH--e92c0c4ca505b636b553d1c40ecb583610985e5e)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCA%3D%3D--4ece88484fb4099f34e541ada025f2d3fcd63efb)
*   [Is there a way to run a script after every run?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHunKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njg5MS1Jcy10aGVyZS1hLXdheS10by1ydW4tYS1zY3JpcHQtYWZ0ZXItZXZlcnktcnVuBjsIVDoJcmFua2kJ--6bbc5edf099785da2700ab43462b6737d41ff850)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--82ab1c48b2467c5475f16dcc6aa840f3466c382f)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058493071-CLI-on-Windows-fails-when-using-non-ASCII-characters-in-directories-or-filenames,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058493071-CLI-on-Windows-fails-when-using-non-ASCII-characters-in-directories-or-filenames/subscription.html ""Opens a sign-in dialog"")

If you are used to using OSX or some \*inx variant you might get stuck when using the CLI on Windows if your file/directory names contain non-ASCII characters. One example might be some filenames looking like this:

./.domino/repo/my\_files/my\_files?inary\_siso\_lstm\_catembedd.csv
./.domino/repo/my\_files/my\_files?ocal\_binary\_siso\_single\_layer\_lstm\_model.csv
./.domino/repo/my\_files/my\_files?inary\_siso\_multi\_layer\_lstm\_model.csv
./.domino/repo/my\_files/my\_files?inary2\_miso\_lstm\_catembedd.csv
./.domino/repo/my\_files/my\_files?inary\_siso\_single\_layer\_lstm\_model.csv
./.domino/repo/my\_files/my\_files?inary\_simo\_single\_layer\_lstm\_model.csv
./.domino/repo/my\_files/my\_files?inary\_simo\_lstm\_catembedd.csv
./my\_files/my\_files?inary\_siso\_lstm\_catembedd.csv
./my\_files/my\_files?ocal\_binary\_siso\_single\_layer\_lstm\_model.csv
./my\_files/my\_files?inary\_siso\_multi\_layer\_lstm\_model.csv
./my\_files/my\_files?inary2\_miso\_lstm\_catembedd.csv
./my\_files/my\_files?inary\_siso\_single\_layer\_lstm\_model.csv
./my\_files/my\_files?inary\_simo\_single\_layer\_lstm\_model.csv
./my\_files/my\_files?inary\_simo\_lstm\_catembedd.csv

The offending characters, in this case, is showing up by displaying a question mark. Looking in the UI will most likely (depending on what the character is) show as a block or something else.

If you try to use the CLI on Windows it will generate an error looking something like this:

Unexpected error: failure getting the project myproject.  
domino.client.command.GetCommand.get(GetCommand.scala:44) 
domino.client.Domino.executeCommand(Domino.scala:195) 
domino.client.Domino$.main(Domino.scala:41) domino.client.Domino.main(Domino.scala) 
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) 
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) 
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) 
java.lang.reflect.Method.invoke(Method.java:498) com.exe4j.runtime.LauncherEngine.launch(LauncherEngine.java:84) 
com.exe4j.runtime.WinLauncher.main(WinLauncher.java:94) com.install4j.runtime.launcher.WinLauncher.main(WinLauncher.java:25)

To fix this you need to rename/remove the offending files. As you might have thousands of files to locate this is easiest by launching a Workspace and running a simple shell command.

LC\_ALL=C find . -name '\*\[! -~\]\*'

Fix the offending files/directories and you should be good to go.

### Recently viewed articles

*   [Switch the Domino CLI from S3 to using the API (troubleshooting CLI errors)](https://tickets.dominodatalab.com/hc/en-us/articles/360058496871-Switch-the-Domino-CLI-from-S3-to-using-the-API-troubleshooting-CLI-errors)
*   [Downloading Individual Files Or Folders With The CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060723812-Downloading-Individual-Files-Or-Folders-With-The-CLI)
*   [Force-Restoring A Local Project](https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project)
*   [Using The CLI Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/articles/360060723852-Using-The-CLI-Behind-A-Proxy)
*   [How To Move A Project From One Domino Deployment To Another](https://tickets.dominodatalab.com/hc/en-us/articles/360061119251-How-To-Move-A-Project-From-One-Domino-Deployment-To-Another)

### Related articles

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCI%2BYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpBg%3D%3D--ed97122e98b97800ea70421ef487dc482269fbba)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCI%2BYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kH--6dee9005d58e263fa08383ecb8b5a0c87c6f797c)
*   [""Unexpected error: Something went wrong when creating folder C:\\WINDOWS\\system32\\<project name>>](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRlqM9SBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCI%2BYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy84MDUyMjUyNjMyMzQwLS1VbmV4cGVjdGVkLWVycm9yLVNvbWV0aGluZy13ZW50LXdyb25nLXdoZW4tY3JlYXRpbmctZm9sZGVyLUMtV0lORE9XUy1zeXN0ZW0zMi1wcm9qZWN0LW5hbWUGOwhUOglyYW5raQg%3D--ce3ac4ad853d1f7190179bf6e540aa0443e497ed)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR9iyAFBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCI%2BYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MjAwNjczNjAwMjAtRmlyc3QtcnVsZS1vZi1DTEktVHJvdWJsZXNob290aW5nBjsIVDoJcmFua2kJ--8764f70b748db60d42df38140a4415c569b8f647)
*   [I've got a Disk Space/Free Space/Out of space error but df tells me differently!](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQOAeQBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCI%2BYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzQ0MDYxNjY3NTI5MTYtSS12ZS1nb3QtYS1EaXNrLVNwYWNlLUZyZWUtU3BhY2UtT3V0LW9mLXNwYWNlLWVycm9yLWJ1dC1kZi10ZWxscy1tZS1kaWZmZXJlbnRseQY7CFQ6CXJhbmtpCg%3D%3D--395b5f41b34837678f45b206893a7c8bbca5b200)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11557284469524-How-to-use-the-domino-CLI-upload-dataset-command&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBw%3D%3D--091561a0d25bff788f7d05ef8a98161ed1e57935,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8430827274516-Running-Apps-using-JupyterLab-Proxy-AND-as-App-not-working-since-port-in-use/subscription.html ""Opens a sign-in dialog"")

#### **Environment**

This should work on Domino 4 and Domino 5 Environments. _Tested on Domino 5._

#### **Issue**

The [example code for Dash](https://docs.dominodatalab.com/en/5.1/user_guide/de2589/get-started-with-dash/) works as an App but when I try to use it inside a Workspace, it doesn't work!

[Can you help me run App inside a Workspace?](https://docs.dominodatalab.com/en/5.1/user_guide/2c01ae/access-multiple-hosted-applications-in-one-workspace-session/) This does not work smoothly.

Can we combine the code for Apps to work both as App and inside a Workspace?

#### **Resolution**

Since the URL for Apps and JupyterLab Proxy is slightly different, and the port 8888 is already used by a Workspace, the code would need to be constantly changed between testing and deployment OR you'll use the environment or try: commands in Python.

One code which would work if you use JupyterLab:

from dash import Dash, dash\_table  
import pandas as pd  
import os

\# Configure Dash to recognize the URL of the container  
user = os.environ.get(""DOMINO\_PROJECT\_OWNER"")  
project = os.environ.get(""DOMINO\_PROJECT\_NAME"")  
runid = os.environ.get(""DOMINO\_RUN\_ID"")  
jupyter = os.environ.get(""JUPYTER\_SERVER\_ROOT"")

\# If this variable exists, we're running a Workspace  
if jupyter == '/':  
    debug=False  
    port=8889  
    runurl = '/' + user + '/' + project + '/notebookSession/' + runid + '/proxy/8889/'  
else:  
    debug=True  
    port=8888  
    runurl = '/' + user + '/' + project + '/r/notebookSession/' + runid + '/'

df = pd.read\_csv('https://raw.githubusercontent.com/plotly/datasets/master/solar.csv')

app = Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl)  
app.layout = dash\_table.DataTable(df.to\_dict('records'), \[{""name"": i, ""id"": i} for i in df.columns\])  
if \_\_name\_\_ == '\_\_main\_\_':  
    app.run\_server(port=port, host='0.0.0.0', debug=debug)

A separate method would be to separate into try: and except: which also allows you to split up the execution code depending on App/Workspace:

from dash import Dash, dash\_table  
import pandas as pd  
import os

\# Configure Dash to recognize the URL of the container  
user = os.environ.get(""DOMINO\_PROJECT\_OWNER"")  
project = os.environ.get(""DOMINO\_PROJECT\_NAME"")  
runid = os.environ.get(""DOMINO\_RUN\_ID"")

df = pd.read\_csv('https://raw.githubusercontent.com/plotly/datasets/master/solar.csv')

try:  
    runurl = '/' + user + '/' + project + '/r/notebookSession/' + runid + '/'  
    app = Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl)  
    app.layout = dash\_table.DataTable(df.to\_dict('records'), \[{""name"": i, ""id"": i} for i in df.columns\])  
    if \_\_name\_\_ == '\_\_main\_\_':  
        app.run\_server(port=8888, host='0.0.0.0', debug=True)  
except:  
    runurl2 = '/' + user + '/' + project + '/notebookSession/' + runid + '/proxy/8889/'  
    app2 = Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl2)  
    app2.layout = dash\_table.DataTable(df.to\_dict('records'), \[{""name"": i, ""id"": i} for i in df.columns\])  
    if \_\_name\_\_ == '\_\_main\_\_':  
        app2.run\_server(port=8889, host='0.0.0.0', debug=False)

#### **Important note**

Using debug=False when running inside a Workspace appears needed in Domino 5.

* * *

## **Notes/Information:**

Related articles:

*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132)

### Recently viewed articles

*   [CLI on Windows fails when using non-ASCII characters in directories or filenames](https://tickets.dominodatalab.com/hc/en-us/articles/360058493071-CLI-on-Windows-fails-when-using-non-ASCII-characters-in-directories-or-filenames)
*   [Switch the Domino CLI from S3 to using the API (troubleshooting CLI errors)](https://tickets.dominodatalab.com/hc/en-us/articles/360058496871-Switch-the-Domino-CLI-from-S3-to-using-the-API-troubleshooting-CLI-errors)
*   [Downloading Individual Files Or Folders With The CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060723812-Downloading-Individual-Files-Or-Folders-With-The-CLI)
*   [Force-Restoring A Local Project](https://tickets.dominodatalab.com/hc/en-us/articles/360060723832-Force-Restoring-A-Local-Project)
*   [Using The CLI Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/articles/360060723852-Using-The-CLI-Behind-A-Proxy)

### Related articles

*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kG--074016ea92285d5f535a6b84bd3299d0ae9bd9e3)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--cff8ec085981681a55b5c73e3c7b0995a73b8e7c)
*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kI--6de06971a6da0de493b6f8ecc0a8d517bd2772ad)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR8ngkGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzk5MjE1MzU4MzUxNTYtUnVubmluZy1ELXRhbGUtaW4tSnVweXRlci1ub3RlYm9vawY7CFQ6CXJhbmtpCQ%3D%3D--427159d8980e322464f9e5bb0766a0c328516836)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kK--baab9b41eeaaa1f06c34e64515bda6595de42ade)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8V0GiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYxOTQ0MzkxMjYxNjQtVXBsb2FkLWZpbGVzLXRvLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--9442eb5f32726049a949732748749ce2f4b14d25,"You can upload files to Domino project via browser by drag and drop files into Domino. If your project is larger than 550 mb, check out this [article](https://docs.dominodatalab.com/en/4.6/user_guide/7a0fee/upload-files-larger-than-550mb/) on how to use our command line interface.

Also when working with large volumes of data you can create a new dataset, check out this Dataset Best Practices [article](https://docs.dominodatalab.com/en/4.6/user_guide/305721/datasets-best-practices/)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--1e52dfe767fae98e2e9bc335cc892c096cfbb370,"#### _**Version/Environment (if relevant):**_

This applies to deploys of Domino 4.6.x, 5.0.x, 5.1.x, 5.2.0, 5.2.1, 5.2.2, and 5.3.0 that are using Kubernetes version 1.21 or higher.

* * *

## **  
Issue:**

Domino suddenly becomes unusable for all users.  Workspaces, project pages, account pages, etc. are largely unusable due to 500 and 40x errors. 

Workspace launch may display:  
![git.png](https://tickets.dominodatalab.com/hc/article_attachments/9151398656788)

Viewing a Model results in:  
![model.png](https://tickets.dominodatalab.com/hc/article_attachments/9151453602708)

For further confirmation run _kubectl logs_ on the frontend and vault pods.  The **frontend** logs will contain com.bettercloud.vault.VaultException with messages like: 

`WARN [d.s.l.p.ExceptionLoggingFilter] Unchecked exception thread=""application-akka.actor.default-dispatcher-200"" 2com.bettercloud.vault.VaultException: Vault responded with HTTP status code: 500`

and  
`! @7onoa7a30 - Internal server error, for (GET) /account -> 2thread=""application-akka.actor.default-dispatcher-206"" 3play.api.UnexpectedException: Unexpected exception[VaultException: Vault responded with HTTP status code: 403 Response body: {""errors"":[""permission denied""]}`

**Vault** logs will contain messages like:  
`2022-08-10T17:50:18.787Z [ERROR] auth.kubernetes.auth_kubernetes_f2baacdb: login unauthorized due to: lookup failed: service account unauthorized; this could mean it has been deleted or recreated with a new token`

* * *

## **Root Cause:**

Kubernetes 1.21 has changed how service account tokens are mounted ( [https://particule.io/en/blog/vault-1.21/](https://particule.io/en/blog/vault-1.21/)), resulting in component problems after 90 days in EKS and 365 days in non-EKS

In addition to the Vault component problems, fluentd (run logging) and newrelic-logging will also fail to communicate with the Kubernetes API. 

**Note:** Domino version 4.6.x and 5.3.0 won't have the impactful Vault problems, but they will have the fluentd (run logging) and newrelic-logging problems.

* * *

## **Resolution:**

Temporary Workaround  
Relief can be achieved temporarily by restarting the Vault pods and potentially your fluentd, dmm-plier, and newrelic-logging pods:

kubectl delete pod <your namespace> <your pod name>

Permanent Solution  
For permanent relief, to ensure your token problems don't reoccur after a period of time, you can download the attached deploy-k8s-121-remediation.yaml and run:

kubectl apply -n <domino platform namespace> -f deploy-k8s-121-remediation.yaml

\*If you are on **version** **4.6** then download the 4.6-deploy-k8s-121-remediation-novault.yaml file and apply it instead.

The running pod created by the yaml above won't require any downtime for your users, and overall should take around five minutes.  On a periodic basis it modifies & confirms a specific configuration in the Vault configmap and restarts fluentd & newrelic pods.  You can verify it's success via logs:

$ kubectl logs -n <domino platform namespace> kubernetes-121-remediation-5f4d8cb867-gkrk4  
Running loop every 5m0s  
Deleting pods after 1440h0m0s  
Checking vault config for iss validation fix  
Vault config already has disable\_iss\_validation set; skipping update  
Updating Vault images and replicas  
\[vault\] statefulset is already updated; skipping  
Checking pods with labels app.kubernetes.io/name=fluentd  
\[fluentd-g5dqv\] found pod  
\[fluentd-g5dqv\] creation timestamp 2022-09-03 05:36:17 +0000 UTC still ok; skipping  
Checking pods with labels app.kubernetes.io/name=newrelic-logging  
\[newrelic-logging-prgvf\] found pod  
\[newrelic-logging-prgvf\] creation timestamp 2022-09-03 05:35:47 +0000 UTC still ok; skipping

**Note:** the remediation object will result in a reduction of the number of running replicas for Vault to`1`. Although the decreased number of instances is not ideal, this is intentional to mitigate Vault-to-Vault communication issues that may occur.

* * *

## **Special Note for Domino Model Monitoring:**

If you use Domino Model Monitoring (aka **DMM** or IMM), this issue will manifest as data ingestions stuck in Pending, with errors in dmm-plier similar to:

2023-08-25 14:42:56,194 - MainThread - aiohttp.server:405 - ERROR - Error handling request  
Traceback (most recent call last):  
File ""/usr/local/lib/python3.8/site-packages/aiohttp/web\_protocol.py"", line 435, in \_handle\_request  
resp = await request\_handler(request)  
...  
kubernetes\_asyncio.client.exceptions.ApiException: (401)  
Reason: Unauthorized  
HTTP response headers: <CIMultiDictProxy('Audit-Id': 'f964c633-a57c-4345-9ca6-963b4c8b0cbf', 'Cache-Control': 'no-cache, private', 'Content-Type': 'application/json', 'Date': 'Fri, 25 Aug 2023 14:42:56 GMT', 'Content-Length': '129')>  
HTTP response body: {""kind"":""Status"",""apiVersion"":""v1"",""metadata"":{},""status"":""Failure"",""message"":""Unauthorized"",""reason"":""Unauthorized"",""code"":401}

The resolution provided above won't provide a permanent fix. To address this issue for DMM, you must manually (or via cronjob) restart the dmm-plier pod every 90 days:

 kubectl rollout restart -n domino-platform deployment dmm-plier

* * *

If you have questions please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support (for Support: internal [reference).](https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/2311454732/Known+Issue+Token+authorization+failures+when+running+on+Kubernetes+1.21)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTb1eOCCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kK--d332ac268f2045ea1565ee71a2f0a44dd41d299e,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5185124068884-Workspace-Logs-And-Support-Bundle-for-5-1-and-Above/subscription.html ""Opens a sign-in dialog"")

Experiencing slow workspace startup time? It’s taking a while to load? It’s not responding? Frozen? Please check your workspace usage tab! Your session might be consuming a lot of memory. 

Here is how: 

Just click on your desired workspace and choose the USAGE icon next to settings and it should show you something similar below. This will tell us your workspace's utilization in terms of CPU and Memory

![Screen_Shot_2022-06-14_at_9.50.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/7000282565140)

A. For Current Running Workspace:

1.  If you are working with Domino Support, often the Support Rep will ask you for a Support Bundle. Launch your project, go to the workspace dashboard, and it will automatically show your running workspace session. 

![Screen_Shot_2022-03-30_at_5.04.26_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5185012400788)  

2\. Click on the “History” Icon on the right side.

![usage5.png](https://tickets.dominodatalab.com/hc/article_attachments/19003741236500)

3\. You will be then directed to the “Workspace History” window, and will need to select the ""Sessions"" tab.

![Screen_Shot_2022-03-30_at_5.14.02_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5185055248276)

4. From there, select the desired session. You will see the “Workspace History Window."" You  just need to go to the "" Admin"" Tab and download it from there. 

![Screen_Shot_2022-03-30_at_5.17.27_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5185126196628)

5\. If downloading the Support Bundle is not available for you , you can try to download the logs instead. Then, choose the ""Deployment Logs "" section. You can now download a copy of the logs as a Json or CSV.

![Screen_Shot_2022-03-30_at_5.15.29_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/5185112840852)

Note that there are times users ""WON'T"" See the SUPPORT BUNDLE (depending on privileges). Just ask your local admin to help you out and download it for you. 

## What logs are collected or needed for different problems?

#### For issues with Workspaces, Apps and Jobs we may ask for these logs:

*   Support Bundle
*   kubectl describe/logs from the node they were assigned to
*   Results/Details (for Jobs)

#### For issues with Model API's:

*   Build logs
*   Instance logs
*   Container logs and node logs/describe of the model- containers

#### For issues with Environment builds:

*   Build logs for the revision
*   Logs from the vector container of the hephaestus-manager
*   buildkit-0 or the pod running your build
*   any build\* pod left in a failed state

Related Link

[How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above-)

### Recently viewed articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/articles/9151903649812-500-and-400-errors-due-to-com-bettercloud-vault-VaultException-using-K8s-1-21-on-Domino-4-6-x-5-x-up-to-5-2-2-and-5-3-0)
*   [Upload files to Domino](https://tickets.dominodatalab.com/hc/en-us/articles/6194439126164-Upload-files-to-Domino)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/articles/8430827274516-Running-Apps-using-JupyterLab-Proxy-AND-as-App-not-working-since-port-in-use)
*   [CLI on Windows fails when using non-ASCII characters in directories or filenames](https://tickets.dominodatalab.com/hc/en-us/articles/360058493071-CLI-on-Windows-fails-when-using-non-ASCII-characters-in-directories-or-filenames)

### Related articles

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSBAxQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuekG3BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MTEyNjcxODcwOTItT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYW4tQXBwLW9uLURvbWluby1WZXJzaW9uLTQtMy11cAY7CFQ6CXJhbmtpBg%3D%3D--6c133551a9ee9abd79a8f88d7f784fd3c8f248f5)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuekG3BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kH--26ac2ca290c46fa572390d39fe9207a0d0f27163)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuekG3BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kI--8251fa93c51e6d635860d871703a53dac452f7b7)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuekG3BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kJ--4d214e406f01baad915619a02c4f14bd63740bea)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuekG3BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kK--53cb4b14a58ddc23fc2c7f90616e0faa786dd51f)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11557284469524-How-to-use-the-domino-CLI-upload-dataset-command,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTB6rwvCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--2cf1d11ebd96af8dd7d6d7ce16fd0002595c8b61,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9874610714644-After-Domino-4-x-to-5-x-upgrade-executions-fail-with-HTTP-Error-400-Bad-Request-POSTing-to/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 5.0.x, 5.1.x, 5.2.x

## **Issue:**

After an upgrade from any Domino 4.x version to Domino 5.0.x~5.2.x executions may fail while trying to acquire a token.  The execution logs will have the following repeating pattern...

022-09-22T18:09:47.990Z: INFO:\_\_main\_\_:-- Preparing access token --  
2022-09-22T18:09:47.997Z: ERROR:\_\_main\_\_:Attempt to refresh failed due to an HTTP Error HTTP Error 400: Bad Request POSTing to http://keycloak-http.domino-platform/auth/realms/DominoRealm/protocol/openid-connect/token  
2022-09-22T18:09:52.538Z: Preparing working directory.  
2022-09-22T18:10:22.886Z: Preparing working directory.  
2022-09-22T18:10:53.212Z: Preparing working directory.  
2022-09-22T18:11:23.571Z: Preparing working directory.  
2022-09-22T18:11:48.086Z: INFO:\_\_main\_\_:-- Preparing access token --  
2022-09-22T18:11:48.093Z: ERROR:\_\_main\_\_:Attempt to refresh failed due to an HTTP Error HTTP Error 400: Bad Request POSTing to http://keycloak-http.domino-platform/auth/realms/DominoRealm/protocol/openid-connect/token

## **Root Cause:**

**Background**

The reason this occurs is that Domino 4.x makes use of a refresh token.  The refresh token is reissued when a user logs in and its valid for the timeframe set in keycloak by the SSO session Idle timeout field, typically 7 days.  After 7 days this token is no longer valid and a user who attempts to run scheduled jobs will have those jobs fail, as will executions started by API calls.  A login will refresh that token and resolve the problem for that individual user for the duration of the SSO session Idle Timeout.  Note that if a user explicitly logs out this will also expire the token and result in the same behavior.  
  
To mitigate this behavior in Domino 4.x it's possible to use the

`com.cerebro.domino.auth.refreshTokenInRun.enabled`

Central Config (CC) flag and have it set to **_false_** to work around this.  We will no longer try to put these tokens in executions.  We basically just stop looking for the token file.  The nuance here is that any existing user with the field ""key"":""must:have"" in their user\_session\_value entry within mongodb will continue to have the tokens enforced.  So these must be removed as well.  They can be removed globally with   
  
`db.user_session_values.remove({""key"": ""must-have""})`  
  
That's the Domino 4.x story.  
  
In Domino 5.x we have stopped using the refresh token.  We now use an offline token to resolve these issues.  This token never expires and is again issued when a user logs in without a valid token in place.  

**Why this failure occurs after upgrade**   
After an upgrade from 4.x-->5.x some of the artifacts in mongo are carried over through the upgrade, specifically in the user\_session\_values collection.  This creates a situation where a user has a field _""key"":""must-have""_ that forces a check of the token, now an offline token, and the token exists but is actually invalid because it is still the old refresh token.    
 

## **Resolution:**

This CC key,`com.cerebro.domino.auth.refreshTokenInRun.enabled`, is no longer valid in 5.x because we no longer use refresh tokens, so cannot be used for mitigation.

So after a 4.x-->5.x upgrade we have found the simplest way to mitigate this for a single user is to have that user logout to expire all tokens and then log back in. 

To resolve the problem for all users remove the key value of JWT with the mongodb query:  
  
`db.user_session_values.remove({""key"": ""jwt""})`  
  
After this mongo query executes all users will have their keys removed and will need to log back in to be issued an offline token. Note that this will in fact cause scheduled jobs to fail even for users who have already logged out/in until the owners of those jobs log back in to Domino.  We have found that impersonation of the user by an admin is insufficient to get a valid key and the user must actually login.

The issue has been resolved in Domino 5.3 so if upgrading to 5.3 we automatically clean this up and you should not run in to this problem.

If you have any concerns with running mongo queries or any questions on this issue, reach out to Domino Support for assistance.

## **Notes:**

Internal Domino ticket: DOM-39298

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/articles/204856525-Troubleshooting-common-problems)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT4qRz7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--4c07f17d5f97f792225be834a2175a0c19367786)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT4qRz7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQc%3D--e8b3e312e7d883f1198c35be006e59ed6a9c09d6)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT4qRz7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCA%3D%3D--848252a81e2bef9f616088a44b050bb45b64f897)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT4qRz7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQk%3D--5dbc77145c14be2d8ebf28a99d0477ee8771cb47)
*   [kubectl - An error occurred (AccessDenied) when calling the AssumeRole operation:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxooLYCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT4qRz7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk3MjU5OTc2MjU3NDgta3ViZWN0bC1Bbi1lcnJvci1vY2N1cnJlZC1BY2Nlc3NEZW5pZWQtd2hlbi1jYWxsaW5nLXRoZS1Bc3N1bWVSb2xlLW9wZXJhdGlvbgY7CFQ6CXJhbmtpCg%3D%3D--de20a453b1374cd3dd1065f1c0067624076d64ed)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11200149242260-Installing-the-Domino-CLI-in-a-Workspace-or-with-batch-job,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXcGaXCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--03f368c37cf1a899f7868803b1a295f6fc36d4c8,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413702251284-Auto-Shut-Down-Long-Running-Workspace/subscription.html ""Opens a sign-in dialog"")

We have set the option to notify users if they have left their jobs and workspace unattended . You can set it up by following [Long Running Workspace: Notification](https://tickets.dominodatalab.com/knowledge/articles/4413684209940/en-us?brand_id=2465906). The next setting to configure the workspace to Automatically shut down.

Here are the steps to configure the workspace setting. 

1\. Click the account Icon at the lower left of your screen: 

![Screen_Shot_2021-12-22_at_2.32.09_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/23541020314900)

2\. Choose Account Settings and look for Workspace Settings on the left:

![Screen_Shot_2021-12-22_at_2.48.51_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4413702178580)

3\. Similar to the notification setting you would need to place a check mark on the tick box on the left after putting the desired timeframe for the workspace to auto shut down:

![Screen_Shot_2021-12-22_at_2.52.02_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4413702211220)

Again it is necessary to remember that your Admins has placed a default time frame and your changes to the settings above will only be recognized if you use a shorter time frame than your Admins

\*\* Related Article:

[Long Running Workspace: Notification](https://tickets.dominodatalab.com/knowledge/articles/4413684209940/en-us?brand_id=2465906)

### Recently viewed articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API)
*   [Downloading Individual Files Or Folders With The CLI](https://tickets.dominodatalab.com/hc/en-us/articles/360060723812-Downloading-Individual-Files-Or-Folders-With-The-CLI)
*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/articles/204856525-Troubleshooting-common-problems)

### Related articles

*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRZFKQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSjJ6UDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQyMDk5NDAtTG9uZy1SdW5uaW5nLVdvcmtzcGFjZS1Ob3RpZmljYXRpb24GOwhUOglyYW5raQY%3D--61aedcbfe290e152de28af23b159aeac7563f8ae)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSjJ6UDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQc%3D--4d034e0e17ced5ad1718c7acf2c91cbb17fc2c9d)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSjJ6UDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQg%3D--8b504546178f9413164e8e73c51ce87cd5a8e79f)
*   [Workspace Volume Size](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKlpgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSjJ6UDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzQ0MDkxOTY0MzE4OTItV29ya3NwYWNlLVZvbHVtZS1TaXplBjsIVDoJcmFua2kJ--5733bd4aa2bba72dab32d348ca406c1ce2d93aae)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSjJ6UDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--482acea23a677129a9dd8047bdbe67fe9c802a44)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10545863366548-CLI-How-to-download-project-files-into-your-local-machine-via-the-Domino-CLI,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTiv6UIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2MzQyMTAzMjA5MTYtLXBpcC1pbnN0YWxsLXRocm93cy1TU0wtQ2VydGlmaWNhdGUtRXJyb3IGOwhUOglyYW5raQg%3D--86e103242821721dd56effb956829d85a2659dbc,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6634210320916--pip-install-throws-SSL-Certificate-Error/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Not specific to Domino version

## **Issue:**

A `pip install` fails with

connection error: \[SSL: CERTIFICATE\_VERIFY\_FAILED\] certificate verify failed

## **Root Cause:**

By default pip does not make use of system certificates:  
[https://pip.pypa.io/en/stable/topics/https-certificates/](https://pip.pypa.io/en/stable/topics/https-certificates/)

So this could occur if you are behind a firewall or require a proxy which is tunneled or one which otherwise may strip the certificate. 

## **Resolution:**

If you're behind a network configuration that strips the certificate you may need to give this parameter to pip or pip.conf:

```
trusted-host
```

With the cli:

```
pip install --trusted-host pypi.org --trusted-host pypi.python.org --trusted-host files.pythonhosted.org pip <package>
```

and for easy access to pip, add this to pip.conf:

```
[global]
trusted-host = pypi.python.org
               pypi.org
               files.pythonhosted.org
```

## **Notes/Information:**

This can even occur for dockerfile instructions in Compute Environments, but the same workaround applies, example:

A `RUN pip install` fails with

SSLError(SSLCertVerificationError(1, '\[SSL: CERTIFICATE\_VERIFY\_FAILED\] certificate verify failed: self signed certificate in certificate chain (\_ssl.c:1131)'

Try this dockerfile instruction:

```
USER rootRUN pip install --trusted-host github.com --trusted-host codeload.github.com https://github.com/dominodatalab/python-domino/archive/master.zip
```

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/articles/9918752897940-Can-I-download-files-from-Domino-DFS-and-system)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)

### Related articles

*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBReSNgPBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTiv6UIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY2NjUxMjI4OTc0MjgtQ29uZmlndXJlLUNlcnRpZmljYXRlcy1mb3ItQS1TcGVjaWZpYy1Db21wdXRlLUVudmlyb25tZW50BjsIVDoJcmFua2kG--73a773aea8effddfc56ab58bbae7fd041dcf799d)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTiv6UIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQc%3D--e9388a532d7a21f9ff17e94d0ce2892e2018c8ce)
*   [How to prevent the permission denied error when running ""pip install"" in a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOOjKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTiv6UIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTk3MS1Ib3ctdG8tcHJldmVudC10aGUtcGVybWlzc2lvbi1kZW5pZWQtZXJyb3Itd2hlbi1ydW5uaW5nLXBpcC1pbnN0YWxsLWluLWEtd29ya3NwYWNlBjsIVDoJcmFua2kI--e64dbb620a2495aa4a8533528e4b015913cb8c4c)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTiv6UIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQk%3D--d8911ab113c1410330f76e3c056cc88f347cf660)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTiv6UIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kK--e442602af75e1f6976bb6a61f5350437ec3ddd22)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR1Yu5oCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--491326b04901e6c151b09ac61e2bf3d3713f933e,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5322288180628-Enable-Audit-Logging-in-Domino-Data-Lab-as-of-version-4-x/subscription.html ""Opens a sign-in dialog"")

It is possible to enable Audit logging for security purposes. These logs contain information about which userIDs have performed actions on RBAC controlled resources like projects, environments, datasets, and files.   This applies to version 4.x thru at least version 5.6.x.    

Note as of 5.4 there is a project-specific feature which tracks this information for projects, see [https://docs.dominodatalab.com/en/latest/user\_guide/e34be1/download-the-audit-log/](https://docs.dominodatalab.com/en/latest/user_guide/e34be1/download-the-audit-log/)

## **Enabling audit logs for Domino**

Edit the **nucleus-logback-config** configmap in the platform namespace to set the **telemetry** logger level to **TRACE**

    <configuration scan\=""true"" scanPeriod\=""30 seconds"" >  
  
        <appender name\=""STDOUT"" class\=""ch.qos.logback.core.ConsoleAppender""\>  
            <encoder\>  
                <pattern\>%-5level \[%logger{1}\] %message thread=""%thread""%n%xException</pattern\>  
            </encoder\>  
        </appender\>  
  
        <logger name\=""telemetry"" level\=""TRACE"" />  
        <logger name\=""play"" level\=""INFO"" />  
        <logger name\=""akka"" level\=""INFO"" />  
        <logger name\=""org.quartz"" level\=""INFO"" />  
        <logger name\=""application"" level\=""INFO"" />  
        <logger name\=""domino"" level\=""INFO"" />  
        <logger name\=""domino.authn"" level\=""INFO"" />  
        <logger name\=""org.jets3t"" level\=""INFO"" />  
        <logger name\=""okhttp3"" level\=""INFO"" />  
  
        <root level\=""ERROR""\>  
            <appender-ref ref\=""STDOUT"" />  
            <appender-ref ref\=""FILE"" />  
        </root\>  
  
    </configuration\>

After approximately 60 seconds the configuration change should be picked up by nucleus and you should see TRACE level audit logs in stdout, available from the Kubernetes logging API by running:  
  
**kubectl logs <frontend-podname> -n domino-platform -c nucleus-frontend**

See the below example log entry for a user modifying a project visibility setting. All of these logs will include the **\[telemetry\]** logger ID.

TRACE \[telemetry\] User(id=Some(614bfc9d8662474f9371e3a1),username=admin,loginId=DominoIdentityId(admin,Some(admin),userpass),fullName=admin admin,email=Some(admin@admin.com),created=2021-09-23T04:03:41.410Z,systemRoles=Set(SysAdmin, Practitioner),deactivated=false) did UpdateProjectSettingEvent(ProjectEventInformation(615f34e1e52a76185a9c8658,trace-test,AnalyticProject),ProjectVisibility,Public) correlationId=""474e5960-c545-40f4-94d2-b4be268c9f5a"" thread=""application-akka.actor.default-dispatcher-399""

And examples of a Compute Environment edit (and build).

TRACE \[telemetry\] User(id=Some(6489e5d12ba6b3745f48e8a5),username=integration-test,loginId=DominoIdentityId(integration-test,Some(integration-test),userpass),fullName=integration-test integration-test,email=Some(test-notifs+integration-test@dominodatalab.com),created=2023-06-14T16:07:45.797Z,systemRoles=Set(SysAdmin, Practitioner),deactivated=false) did NewEnvironmentRevisionSubmittedEvent() correlationId=""81c302e9-b1c6-4ef7-9aa1-c3bbf4cad376"" thread=""application-akka.actor.default-dispatcher-216""  
TRACE \[telemetry\] User(id=Some(6489e5d12ba6b3745f48e8a5),username=integration-test,loginId=DominoIdentityId(integration-test,Some(integration-test),userpass),fullName=integration-test integration-test,email=Some(test-notifs+integration-test@dominodatalab.com),created=2023-06-14T16:07:45.797Z,systemRoles=Set(SysAdmin, Practitioner),deactivated=false) did CreateEnvironmentRevisionEvent(EnvironmentEventInformation(Some(648c99b9ad50732db6ed9f49),tensorboard,Some(6489e5d12ba6b3745f48e8a5),integration-test)) correlationId=""81c302e9-b1c6-4ef7-9aa1-c3bbf4cad376"" thread=""application-akka.actor.default-dispatcher-216""

And example starting a Workspace:

TRACE \[telemetry\] User(id=Some(6489e5d12ba6b3745f48e8a5),username=integration-test,loginId=DominoIdentityId(integration-test,Some(integration-test),userpass),fullName=integration-test integration-test,email=Some(test-notifs+integration-test@dominodatalab.com),created=2023-06-14T16:07:45.797Z,systemRoles=Set(SysAdmin, Practitioner),deactivated=false) did WorkspaceVolumeStartSettings(649da662611f137e427cb252,true) correlationId=""f2efc1b0-6efb-4a28-b2c4-e4d6a9ba0c66"" thread=""application-akka.actor.default-dispatcher-206""

### Recently viewed articles

*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/articles/6101281885076-Build-error-for-nvidia-GPG-key)
*   ['pip install' throws SSL Certificate Error](https://tickets.dominodatalab.com/hc/en-us/articles/6634210320916--pip-install-throws-SSL-Certificate-Error)
*   [How to use the domino CLI 'upload-dataset' command](https://tickets.dominodatalab.com/hc/en-us/articles/11557284469524-How-to-use-the-domino-CLI-upload-dataset-command)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)

### Related articles

*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJStGDHXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kG--a9471ef8d9f047101427082cf471706838e4a0ed)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJStGDHXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--4b54cf855b338a8896c8c4a33e66f0fa39419f55)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJStGDHXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kI--c9f8721bde0e953711fa95c9bc28adf8f35a5987)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJStGDHXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQk%3D--eb8c087c6d28897c04c32a40f1517a4977dce1a2)
*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTdnsd3BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJStGDHXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYwMTIwMDgzMjQ1MDAtRGVhY3RpdmF0aW9uLW9mLWEtdXNlcgY7CFQ6CXJhbmtpCg%3D%3D--b0b9e11977e47d56d42c06635f0a2d6a825da649)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10346280678804-CLI-issue-Snapshot-failed-during-domino-upload-dataset,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23509049012628-Distributed-Compute&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23509049012628-Distributed-Compute/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/23509049012628-Distributed-Compute/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSEJK4qBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQGUnhTEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ1ODEzNTY3NjYyMjgtQnVpbGQtZ2V0dGluZy1zdHVjay1hcy1xdWV1ZWQtaW4tNC14LTUtMgY7CFQ6CXJhbmtpCQ%3D%3D--cf61027565506986b69520017360c991c2f9a078,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4581356766228-Build-getting-stuck-as-queued-in-4-x-5-2/subscription.html ""Opens a sign-in dialog"")

**Applies to version**: 4.x and 5.x which are still using Image Builder V2 instead of of V3 (Hephaestus)

**Problem**:

Sometimes it appears that a build will get stuck in the queued status.  This can occur if the Nucleus services lose certain integrations with our message queue system (RabbitMQ).   

**Background**:

When Compute Environment builds are first triggered the build is queued for scheduling while kubernetes tries to find a node to house the forge container which will build the image.  The queued status is depicted by the + symbol:

![Screen_Shot_2022-03-04_at_10.25.33_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4580517579284/Screen_Shot_2022-03-04_at_10.25.33_AM.png)

RabbitMQ contains a few queues that Nucleus-dispatcher consumes.  

containerimagebuilds.export-status-update 0 2  
containerimagebuilds.status-update 0 3

If the consumers get lost due an infrastructure problem or something defective then your build might actually complete without the UI ever receiving the message that it should display the checkmark ""completed"" symbol.   The product is improving in a future version to prevent this scenario.

  
**Resolution:**

1\. Determine whether your build completed:  

Search for your build pod, determine if it is actively  ""Running"" or ""Init"", rather than having a finished state of ""Completed"" or ""Error"".

_kubectl get po -A | grep build_   

_![build.png](https://tickets.dominodatalab.com/hc/article_attachments/4580880490772/build.png)_

(hit ""Build logs"" link within your revision to find the build id which will be reflected in the pod's name.   The build id is the last id found in the url, like domino.tech/environments/622235b49d56014aa6fc22ff/revisions/622235d59d56014aa6fc2302/build/622235d59d56014aa6fc2304/logs )

2\. If it is still ""Init"", then describe the pod for meaningful messages and consider contacting technical support if it never progresses to ""Running"".   If it is Running, then wait til it progresses to Completed or Error.

3\. If it is ""Completed"" or ""Error"" and your UI still isn't reflecting proper status, then check your Rabbit queue:

Do an exec into a rabbitmq pod and run ""_rabbitmqctl list\_queues name messages consumers | grep container_"" to determine if there are zero consumers.  _status-update_ is applicable to this kb and it should be at least '2' as seen in the far right column.  This output shows no messages waiting for consumption by the two consumers:

![queues.png](https://tickets.dominodatalab.com/hc/article_attachments/4580757600276/queues.png)

  
4.  If the right-hand column is 0, then you are witnessing this problem and you should restart Dispatcher server. 

In Admin -> Advanced -> Restart services.   This could cause interesting ""state"" representations for workspaces for between thirty seconds and two minutes but otherwise won't be a noticeable impact on end-users.  

Test a new build.

### Recently viewed articles

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [How do I read and write to a dataset from my Spark-on-demand cluster in Domino? (Domino <4.5.0)](https://tickets.dominodatalab.com/hc/en-us/articles/360058493771-How-do-I-read-and-write-to-a-dataset-from-my-Spark-on-demand-cluster-in-Domino-Domino-4-5-0)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)

### Related articles

*   [Git submodules in a ""read only"" use-case](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRpW2SXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSEJK4qBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzUwNDgyNzAyODUwNzYtR2l0LXN1Ym1vZHVsZXMtaW4tYS1yZWFkLW9ubHktdXNlLWNhc2UGOwhUOglyYW5raQY%3D--accb07a9bcbb246ad6c04d88e424f18b1c130cf3)
*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSEJK4qBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kH--13b95a1204a84d599ae0787f5c5ff6543bc75280)
*   [Hephaestus environment build failures in Domino 5.2.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCSYhUBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSEJK4qBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzgwNTk2NDUxNjYyMjgtSGVwaGFlc3R1cy1lbnZpcm9ubWVudC1idWlsZC1mYWlsdXJlcy1pbi1Eb21pbm8tNS0yLTAGOwhUOglyYW5raQg%3D--6673adb201677e378cb0ca823d21c3efa0f5b292)
*   [Slow build times, usually related to upgrades](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTWdArqBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSEJK4qBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzc2MDIyNjc1NDMwNjAtU2xvdy1idWlsZC10aW1lcy11c3VhbGx5LXJlbGF0ZWQtdG8tdXBncmFkZXMGOwhUOglyYW5raQk%3D--d888ced9815505ef1f4aebb95738d880b8d56c2d)
*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSEJK4qBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQo%3D--760dd086bdb1de55f6a78a857c09505fdf10bec7)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20149710226964-Basic-notebook-which-tests-on-demand-Spark-functionality,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F7578337152276-Spark-Examples-needed&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/7578337152276-Spark-Examples-needed/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360061144471-Multiple-Spark-Applications-in-Domino/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJcNUdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kI--717a4075932b45fe8573ec085852be687839c706,"If your execution has failed and you see a similar error to the following error in the logs,

**_2021-05-20 10:15:51 : Critical error in run 60a681feff7cec790b12d872: java.lang.IllegalStateException: Blob transfer (download) failed because 24 operations failed: Download blob 616d0cf42662fd16915448aec68f5d52d99e67bb -> java.io.IOException: No space left on device_**

then you have exceeded the disk space available to your execution.  From the user side this should be a relatively straightforward fix.  Remember that your executions execute inside a 'compute instance'. These instances have finite amounts of all resources, memory, cpu, and disk.  So to correct the problem as a user try the following steps...

1) Try a new hardware tier.

2) Reduce the amount of data you are using in your project and remember git repositories also count towards this.

3) Move project data to [datasets](https://docs.dominodatalab.com/en/latest/user_guide/0a8d11/domino-datasets/).  

4) Make sure you don't have unexpected crash, dump, or core files in your workspace that could be taking up large amounts of space.  Occasionally jupyter or other IDEs or libraries will crash, leaving a huge file in your workspace files that you might not be immediately aware of.

[If your deployment is 4.4 or above you can also set the disk size for you project in the Settings>>Hardware & Environment>>Workspace and Jobs Volume Size.](https://docs.dominodatalab.com/en/4.5/reference/workspaces/workspace-sessions.html#workspace-volume-size) 

![Screen_Shot_2021-08-11_at_9.48.39_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4405031476756)

Changes you make to the volume size will not impact existing workspaces. Instead, the changes will be applied to subsequent, new workspaces.

Estimating how much room you need can be a little tricky, it is a combination of your project files, any files being imported from an external repository and if you are generating lots of data in your run that should be taken in to consideration too. 

It is still highly recommended to move large project files to a dataset.

### The Gory Details

The information below this point is mostly for administrators.

**Domino v4.x and above**

At v4.0 we have switched the architecture from docker to kubernetes and now each execution gets its own volume and is no longer impacted by caching and shared resource issues.  That said, these volumes have a finite size still and can still be filled.  From v4.0-v4.4 the default disk size is 10GB.  After v4.4 the default size is 15GB.  This default size can also be configured in the Central Config with the following setting...

_com.cerebro.domino.computegrid.kubernetes.volume.volumesSizeInGB_

ref: [https://docs.dominodatalab.com/en/latest/admin\_guide/eca4b2/manage-compute-resources/](https://docs.dominodatalab.com/en/latest/admin_guide/eca4b2/manage-compute-resources/) 

Users can additionally [change their individual disk size in the project settings](https://docs.dominodatalab.com/en/4.5/user_guide/0ea71e/change-your-workspace-s-volume-size/) of their project in v4.4 and above.

**Domino v3.6 and below**

When an execution starts, we copy the user's project files and the docker image for the user's Compute Environment to a partition on the executor so that they are available to the docker container that is started for the execution.

If the data moved to the executor instance for the execution exceeds available disk space the execution can fail on startup.

The product actually has quite a bit of logic built in to it to try and mitigate this, but it is not completely avoidable.  We poll executors for their disk status and if the partitions are less than 10% free we place the executor in to Maintenance Mode, taking it out of service.  Note that the most common scenario we see currently is that a disk is not quite at this threshold and an execution will fill the last 10%+ of the disk. 

Under the hood, we are caching project data and the environment images to try and reduce startup times.  Over time, if an executor is long lived and used by projects using a variety of different compute images that all get cached, the disk partition can also fill.

All of this data can add up over time to fill an executor disk.  We garbage collect and when there is disk pressure we are more aggressive in this.  But all of these mitigations cannot prevent an execution from filling the remaining disk space if the project's files and compute image exceed available space.  We do not check if an execution is too large for the remaining disk on an executor at startup because calculating the total project size, especially with external GIT repos, is not always possible.  

All of these strategies actually do a pretty good job and this type of failure is now no longer commonplace.  When it does happen though it can block an entire hardware tier as we look for the first available executor instance to run on.  If the executor disk is full but not yet been taken out of service for low disk space, new executions that land on it can fail repeatedly.  So that is why we recommend just switching hardware tiers for users who have no admin privileges as it usually unblocks the user to continue their work.

After this occurs, admins need to intervene and place the executor into maintenance mode.  Then terminate once any current executions finish, usually from the Domino Dispatcher UI.  Find the executor, select actions on the far right of the screen and once in the executor view, verify no executions are running, and then press terminate.  It will kill the instance and release the storage.

Garbage collection will actually often clean up disk space on these executors as well.  So you may not find that an executor will always need to be terminated, but they are ephemeral anyway, so there is no harm to just terminating as an expedient solution.  

If you find that this is becoming a more frequent occurrence it may just indicate that project and compute environment image sizes are outpacing the assigned disk space on your executors and you should consider increasing disk sizes."
https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRvyX8JCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzExMDM1OTE0ODkxMTU2LUNvbmRhLVZpcnR1YWwtRW52aXJvbm1lbnRzLWluLUNvbXB1dGUtRW52aXJvbm1lbnRzBjsIVDoJcmFua2kH--2a787e33862a8a8c7904b3d4eb9fcc17d460e96d,"## Introduction

  
According to their documentation, “Conda is an open source package management system and environment management system that quickly installs, runs and updates packages and their dependencies. Conda easily creates, saves, loads and switches between environments. It was created for Python programs, but it can package and distribute software for any language”.

Customers often would like to create Conda virtual environments from an existing yaml definition. This is convenient because the Domino Standard Environment comes with Conda pre-installed, so all we need to do is add the yaml file and run the command to create a new environment with it. It’s also convenient for the customer because it makes their Domino workspaces feel familiar because they have all the same packages– even the same virtual environment name– as in their existing IDEs.

Let’s take a look at how to create Conda virtual environments in Domino compute environments and some of the challenges around them.

## A Brief Intro to Conda Environments

Conda environments can be created with a simple

conda create --name myenv

and a package can be added to that environment at the same time like this:

conda create -n myenv scipy

  
You can even specify the Python version in the environment:

conda create -n myenv python=3.9

However, installing more than a few packages in an environment could get labour-intensive and it becomes tricky to know what’s in different environments. Fortunately, Conda environments can be created from a yaml definition, which makes it quicker to create them, easier to compare them, and their definitions can be committed to Git for safe-keeping, version control, etc.. How to construct that yaml file is a topic in its own right, and there is some limited documentation here.

However, broadly, yaml definitions have a name field, a list of channels to obtain packages from, and dependencies, which are the desired packages themselves, pinned to specific versions if you want.

Example:

name: stats2  
channels:  
\- javascript  
dependencies:  
\- python=3.9  
\- bokeh=2.4.2  
\- numpy=1.21.\*  
\- nodejs=16.13.\*  
\- flask  
\- pip  
\- pip:  
\- Flask-Testing

  
You can then create an environment with:

conda env create -f <path to your yaml definition>

and activate it with:

conda activate <your environment name>

  
You can then check the installed packages in that environment with conda list to confirm that everything was created correctly.

## In Domino Compute Environments

Depending on your customer’s requirements, you can either create a Conda environment within a Docker image or create it when the workspace starts up.

## At Workspace Startup

You can create an environment when a workspace starts up by saving a yaml definition file in the Domino project and then adding the following lines to the workspace’s pre-run script:

conda env create -f /mnt/environment.yml  
conda init bash  
source ~/.bashrc

This will create the environment and then prepare Terminal to be able to interact with it.

Once in the workspace, the environment can be activated and tested through Terminal like this:

(base) $ python --version  
Python 3.8.12  
(base) $ conda activate stats2  
(stats2) $ python --version  
Python 3.9.12  
(stats2) $ conda deactivate  
(base) $

A benefit of creating an environment when the workspace starts is that the latest versions of any unpinned packages will be installed. It also means that you can use the same base image for all projects and then define unique Conda environments per project.

The trade-offs to this are that workspace startup times could be slow if the environment is complex. It also increases the chance that one project might use different packages to another, similar project. Although the environment configuration is documented in the project, there would be no way to automatically alert that one project had drifted away from the other.

Another issue with this method is that it assumes that the customer’s Domino instance has access to a Conda repository. This isn’t always the case, because Domino instances are sometimes isolated from the Internet without an internal Conda mirror.

## Within a Docker Image

If the above method doesn’t work for any of the above reasons, you can create an environment in a Docker image (outside of domino on your local machine using `docker build`) that can be pushed by admins into the customer’s Docker registry.

The following method assumes that you have a local folder called conda, containing the environment definition and a text file called conda-init.txt (more on that in a minute)

FROM quay.io/domino/standard-environment:ubuntu18-py3.8-r4.1-domino5.0  
COPY conda /tmp  
RUN cd /tmp && \\  
conda env create -f environment.yml && \\  
echo ""auto\_activate\_base: false"" >> /home/ubuntu/.condarc && \\  
cat /tmp/conda-init.txt >> /home/ubuntu/.bashrc && \\  
echo ""conda activate stats2"" >> /home/ubuntu/.bashrc

As you can see, Docker copies the contents of the conda folder from the local machine into /tmp on the Docker image, then creates the environment from the yaml definition file in /tmp. The following step stops Conda from automatically activating the default base environment.

In testing, it was found that running conda init in Docker didn't work, so the conda-init.txt file contains the code that is appended to your bash profile if you run conda init bash from Terminal. We then simulate the process of running conda init by manually appending that code into ~/.bashrc.

The contents of conda-init.txt look like:

\# >>> conda initialize >>>  
\# !! Contents within this block are managed by 'conda init' !!  
\_\_conda\_setup=""$('/opt/conda/bin/conda' 'shell.bash' 'hook' 2> /dev/null)""  
if \[ $? -eq 0 \]; then  
eval ""$\_\_conda\_setup""  
else  
if \[ -f ""/opt/conda/etc/profile.d/conda.sh"" \]; then  
. ""/opt/conda/etc/profile.d/conda.sh""  
else  
export PATH=""/opt/conda/bin:$PATH""  
fi  
fi  
unset \_\_conda\_setup  
\# <<< conda initialize <<<

  
Finally, the last step in the Docker script automatically activates our new Conda environment when Terminal starts up in our workspace.

## Conda Environments in IDEs

Unfortunately, the above configuration only configures Terminal to be able to switch Conda environments; Jupyter and Jupyterlab will be stuck using the default ipykernel.

To be able to switch between Conda environments, you need to add this block either to your Dockerfile instructions, either in the Domino compute environment, or in the base image:

USER root  
RUN conda install nb\_conda

  
With nb\_conda installed, you will then have the option in Jupyter and Jupyterlab to switch Conda environments. In Jupyterlab, it looks something like this:

##   
Conda Environments for Jobs, Apps and Models

##   
Apps

Apps are called from a shell script, but for some reason they don’t seem to honour any active Conda environment set in your bash profile. That being the case, you can add a line to your app.sh script like this before running your Python script:

#!/usr/bin/env bash  
source activate stats2  
python /mnt/foo.py

To be sure, you could also add a conda env list before and/or after source activate to show what the environment was and what it changes to.

## Models

Models are trickier because they run in whatever the default Conda environment is.

### Option 1: Use bash to switch environments

One way to switch Conda environments from within Python, the trick seems to be to use os.system() or subprocess.run() to change the environment source activate <environment> in bash. However, that only sets the Conda environment for the duration of that call and then it reverts to the previous environment, so you would need to nest your actual Python script inside this call like this.

import subprocess  
subprocess.run('source activate <environment> && python /mnt/foo.py', shell=True, executable='/bin/bash')

or

import os  
os.system('SCRIPT=""source activate <environment> && python /mnt/foo.py""; /bin/bash -c ""$SCRIPT""')

The only snag after that is that model APIs in Domino are defined by giving the names of a script and a function in it. As the examples above only call the script, not the function in it, you would need to create a function in your script that imports the function you actually want like this:

import subprocess  
from model import \*

def call\_model(start, stop):  
subprocess.run('source activate lgimapy37 && python -c ""from model import \*; my\_model(start, stop)""', shell=True, executable='/bin/bash')

If you put this into a wrapper Python script, you should be able to run your model in whatever Conda environment you like.

A small caveat with this is that if, for some reason, you try to activate the environment you’re already in (say, you’re in stats2 and you try to run source activate stats2 from your script), these scripts seem to fail– if you try to import a package that only exists in that environment, Python won’t find it.  
If you switch to another environment and back again, the scripts work, but then you might as well skip the whole process of activating an environment at all.

Another issue with this way to call the API is that subprocess.run() and os.system() don’t return anything from the Python function. Obviously, for a synchronous API, this isn’t any use, but it might possibly be ok if you are running an asynchronous API where you don’t need a response besides knowing that your request was submitted successfully.

### Option 2: Use the base Conda environment

An alternative to using bash to switch Conda environments is to use base instead. There are a couple of ways you could do this:

*   In an existing DSE image, uninstall all of the existing packages from base with:

 conda list -n base -r

and then update the environment with a list of packages from an environment.yml file.

  
This is risky because we install things like jupyterlab and jupyter-server-proxy in base in the DSE, and removing them might break workspaces. Users would want to compare the contents of base (conda list -n base) with what they have in their environment.yml to make sure they wouldn’t be missing anything. Even then, it might need a process of trial-and-error before they were happy that they had all the Python packages they need.

*   Create a new base image for your model APIs with just one virtual environment.

Particularly for model APIs, why even use the DSE/DME? It comes with IDEs that you can’t use, and almost certainly a number of packages you don’t need, which only make the image bigger and slower to push and pull. Why not create a base image for model APIs with a base Conda environment with only the packages the user needs?  
The trade-off with this is that users would need to be careful to keep the contents of their virtual environments in this image in sync with the image they use for workspaces. This could be a tricky management problem– although you could easily schedule a job to rebuild both images from the same environment.yml file, the challenge might be communicating to other users that the contents of the images had changed and could potentially have broken someone’s code.

## Conclusion/TL;DR

  
There doesn’t seem to be one neat solution to running Conda virtual environments in Domino.

In Jupyter(lab) workspaces, the nb\_conda plugin will allow you to jump between virtual environments by clicking on the relevant tile, but that’s no use in non-interactive workloads.

In apps, you can modify your app.sh script to activate the relevant environment before you run your Python script.

Similarly, in model APIs you could write a wrapper Python script that would activate your environment via bash, but this might only work with asynchronous APIs, as it is hard to return a response from your API.

The one solution that seems to work in all cases is simply to use the base Conda environment, but if you can only use one environment, it defeats the main purpose of virtual environments.

This might all change as Conda develops, but at the moment, in short, virtual environments in containers are less than ideal."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSetIkBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPSjStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTE3OTQwNjgtTWFrZS1EYXJrLVRoZW1lLWRlZmF1bHQtaW4tSnVweXRlckxhYgY7CFQ6CXJhbmtpCQ%3D%3D--a6f14f84243c21d5a03dd72934a0a6209e7d4993,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4404651794068-Make-Dark-Theme-default-in-JupyterLab/subscription.html ""Opens a sign-in dialog"")

_**You want to make Dark Theme your default theme, but it does not persist across starting your Workspace.**_

_Restartable Workspaces allow the setting to persist for the lifetime of the Workspace, but it's not permanent (this applies to Domino 4.4 and older versions. Note that for VSCode settings are synced and restored in 4.5 and later but could potentially be stored in a similar manner)_

Find your appropriate path to the lab/settings folder:

jupyter lab paths

Create this file in 4.4.1:

/opt/conda/share/jupyter/lab/settings/overrides.json

With this content:

{  
  ""@jupyterlab/apputils-extension:themes"": {  
    ""theme"": ""JupyterLab Dark""  
  }  
}

Your Workspace will now start with the Dark Theme. If you have access to the Dockerfile, you can do this with the postRun or with RUN commands.

### Recently viewed articles

*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/articles/7578337152276-Spark-Examples-needed)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/articles/4404338813716-Domino-Product-Version-Lifecycle-and-Support-Policies)

### Related articles

*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSetIkBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQY%3D--aada354902f69cd107708dc60787ef4202d06e6b)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTOh6x9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSetIkBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI2L2hjL2VuLXVzL2FydGljbGVzLzYwMzczMjM2MzIyNzYtLXRyYXNoLURpcmVjdG9yeQY7CFQ6CXJhbmtpBw%3D%3D--9a4fdb6d59dee7154482619478ccc28fbd258669)
*   [Why does my workspace keep getting shut down?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT083YBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSetIkBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzcxNzc2MjAtV2h5LWRvZXMtbXktd29ya3NwYWNlLWtlZXAtZ2V0dGluZy1zaHV0LWRvd24GOwhUOglyYW5raQg%3D--cbdb6928341b6e6960e82627007c47e8f48f6647)
*   [Opening a file from the workspace file browser does not open in a Domino framed window](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTfhF04BzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSetIkBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzc5Mzg2Njg1NTE5NTYtT3BlbmluZy1hLWZpbGUtZnJvbS10aGUtd29ya3NwYWNlLWZpbGUtYnJvd3Nlci1kb2VzLW5vdC1vcGVuLWluLWEtRG9taW5vLWZyYW1lZC13aW5kb3cGOwhUOglyYW5raQk%3D--e88aa1cdf6fda87d8f7c411584ffc239a449c6d6)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSetIkBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kK--cf187259835961425f24fa6ffc595c816af00237)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360060724212-Managing-Dependencies,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQk%3D--0f2e7b9ce08e9fa1be8eb08a642abd5ea53c50d4,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Use python to call REST apis to find a list of Running Domino Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/24841805623572-Use-python-to-call-REST-apis-to-find-a-list-of-Running-Domino-Model-APIs)
*   [“ImportError: cannot import name 'PROTOCOL\_TLS' from 'urllib3.util.ssl\_'” when trying to deploy a model as a REST API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/24721430109588--ImportError-cannot-import-name-PROTOCOL-TLS-from-urllib3-util-ssl-when-trying-to-deploy-a-model-as-a-REST-API-endpoint)
*   [500 Error when building Model API](https://tickets.dominodatalab.com/hc/en-us/articles/22608847470228-500-Error-when-building-Model-API)
*   [User is unable to publish new version of a model API, 500 Error](https://tickets.dominodatalab.com/hc/en-us/articles/20290053946900-User-is-unable-to-publish-new-version-of-a-model-API-500-Error)
*   [Getting 500 error when trying to launch a model](https://tickets.dominodatalab.com/hc/en-us/articles/19571120182804-Getting-500-error-when-trying-to-launch-a-model)
*   [Model API Build issues, builder node problems, replicatorStorage errors](https://tickets.dominodatalab.com/hc/en-us/articles/17320622867476-Model-API-Build-issues-builder-node-problems-replicatorStorage-errors)
*   [Model APIs will not find git repositories by tagged release](https://tickets.dominodatalab.com/hc/en-us/articles/17138938513300-Model-APIs-will-not-find-git-repositories-by-tagged-release)
*   [Model APIs: Repeated ""400 Bad Request"" exceptions in Instance Logs when ""Show health checks"" is checked](https://tickets.dominodatalab.com/hc/en-us/articles/16285091672084-Model-APIs-Repeated-400-Bad-Request-exceptions-in-Instance-Logs-when-Show-health-checks-is-checked)
*   [Model API Deployment Failed](https://tickets.dominodatalab.com/hc/en-us/articles/15674810858004-Model-API-Deployment-Failed)
*   [Model API failure using the future package](https://tickets.dominodatalab.com/hc/en-us/articles/15183997577876-Model-API-failure-using-the-future-package)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/21773627201044-Model-APIs)

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6627751566484-Model-Tester-Returns-Failed-to-call-Model/subscription.html ""Opens a sign-in dialog"")

## **Issue:** The model tester can present with ""failed to call model"".

### The reasons why it occurs and the resolution:   

1.  The URL routes are not generated properly, this can happen if the deployment timed out/stalled for a while. Go to **Settings/Deployment** and click the **""Regenerate Routes""** button, retry the model tester again.
2.  The request is malformed _(bad JSON)_ - This is quite often the culprit - try using an online json syntax checker to identify, rectify and then re-try.
3.  There is a SSL certificate mismatch (if you get a _""General SSL Engine"" 500 error, this is likely the culprit)_. If using curl you can hit the model, then this is definitely the issue. There's no easy solution for this, you will have to get your certificate and update the cert chain. Please contact Domino support as we will be able to assist with this.
4.  A floating point number _(float 32)_ is being returned as a result in your code, this will be typically seen in the instance logs as: **_TypeError: Object of type float32 is not JSON serializable_** ![Screenshot_2022-05-30_at_11.13.42.png](https://tickets.dominodatalab.com/hc/article_attachments/6627883858580)The resolution in this case would be to amend your code to return an integer instead of a floating point number.
5.  When you use _'single quotes'_ instead of _""double quotes""_ in your JSON. JSON only allows ""double quotes"" _(unless you control the data, and can use a library that is more liberal at parsing JSON)_
6.  In 5.1.x and 5.2.x only, model logs are over-polluted with logrotate messages, see [https://tickets.dominodatalab.com/hc/en-us/articles/10910449453332-Logrotate-error-in-model-api-logs](https://tickets.dominodatalab.com/hc/en-us/articles/10910449453332-Logrotate-error-in-model-api-logs)

Ultimately, your first point of call is to always look at your model instance logs: select your model > versions > select Instance log. 

### Recently viewed articles

*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/5322288180628-Enable-Audit-Logging-in-Domino-Data-Lab-as-of-version-4-x)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)
*   [Make Dark Theme default in JupyterLab](https://tickets.dominodatalab.com/hc/en-us/articles/4404651794068-Make-Dark-Theme-default-in-JupyterLab)

### Related articles

*   [Model API in "" Starting "" state forever](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRZLXEXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQcxyQHBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0OTg3Mjk1NTYzNzItTW9kZWwtQVBJLWluLVN0YXJ0aW5nLXN0YXRlLWZvcmV2ZXIGOwhUOglyYW5raQY%3D--e3fbc33c4b493348fe4921291342ba7a2ec92c9a)
*   [I am unable to run my model and see a warning that says ""consider increasing buffer size"" in the logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSKuGJBBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQcxyQHBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy83OTc3NDEwNTI5OTQwLUktYW0tdW5hYmxlLXRvLXJ1bi1teS1tb2RlbC1hbmQtc2VlLWEtd2FybmluZy10aGF0LXNheXMtY29uc2lkZXItaW5jcmVhc2luZy1idWZmZXItc2l6ZS1pbi10aGUtbG9ncwY7CFQ6CXJhbmtpBw%3D%3D--b4fee6aff7458eb4a6a0208007d3e65dc3020e93)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQcxyQHBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQg%3D--09764472419b88d36417006b788f7e235f402975)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQcxyQHBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kJ--9b98d07e4dbe58fd82da57f1eb0171dd6ccdf494)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQcxyQHBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kK--97ad0a3cc0a264bca4194c93c715292da8a83d11)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3JIoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCISwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDkwNDIzMjQtRXJyb3JzLXdoZW4tc2V0dGluZy11cC1TcGFyay1KYXZhLWdhdGV3YXktcHJvY2Vzcy1leGl0ZWQtYmVmb3JlLXNlbmRpbmctaXRzLXBvcnQtbnVtYmVyBjsIVDoJcmFua2kK--3dd3efed8dd8c72f446301bc520e51f952c98510,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413249042324-Errors-when-setting-up-Spark-Java-gateway-process-exited-before-sending-its-port-number/subscription.html ""Opens a sign-in dialog"")

If you're following our Spark documentation but still getting errors when trying to run Spark, please check your version of Domino by going to your base url (example: https://demo.dominodatalab.com/) and adding /version to the end (https://demo.dominodatalab.com/version). If the output is not 4.5 or higher, you'll need to downgrade your version of Spark to 3.0.1 or earlier. 

Other users have seen this issue come up as the following error: 

Exception                                 Traceback (most recent call last)  
<ipython-input-5-66f9c693822e> in <module>  
\----> 1 sc = SparkContext(conf=conf)  
/opt/conda/lib/python3.8/site-packages/pyspark/context.py in \_\_init\_\_(self, master, appName, sparkHome, pyFiles, environment, batchSize, serializer, conf, gateway, jsc, profiler\_cls)  
    142                 "" is not allowed as it is a security risk."")  
    143   
\--> 144         SparkContext.\_ensure\_initialized(self, gateway=gateway, conf=conf)  
    145         try:  
    146             self.\_do\_init(master, appName, sparkHome, pyFiles, environment, batchSize, serializer,  
/opt/conda/lib/python3.8/site-packages/pyspark/context.py in \_ensure\_initialized(cls, instance, gateway, conf)  
    329         with SparkContext.\_lock:  
    330             if not SparkContext.\_gateway:  
\--> 331                 SparkContext.\_gateway = gateway or launch\_gateway(conf)  
    332                 SparkContext.\_jvm = SparkContext.\_gateway.jvm  
    333   
/opt/conda/lib/python3.8/site-packages/pyspark/java\_gateway.py in launch\_gateway(conf, popen\_kwargs)  
    106   
    107             if not os.path.isfile(conn\_info\_file):  
\--> 108                 raise Exception(""Java gateway process exited before sending its port number"")  
    109   
    110             with open(conn\_info\_file, ""rb"") as info:  
Exception: Java gateway process exited before sending its port number

If you are already using the proper version of Spark or are on a 4.6+ deployment please verify your JAVA\_HOME environment variable is set correctly. 

Note: We will be updating our formal documentation shortly but wanted to make this information available for our users ASAP. 

### Recently viewed articles

*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/articles/6627751566484-Model-Tester-Returns-Failed-to-call-Model)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/5322288180628-Enable-Audit-Logging-in-Domino-Data-Lab-as-of-version-4-x)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)

### Related articles

*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMi3IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3JIoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MjMxMi1DcmVhdGUtYS1QeXNwYXJrLWVudmlyb25tZW50LXdpdGgtYW55LXZlcnNpb24tb2YtSGFkb29wBjsIVDoJcmFua2kG--d5a603e15ffb0b9d84afd654621cc6b15ba73403)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3JIoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBw%3D%3D--8203e173b7a77937f7bf7f4915ab6efa25460f00)
*   [What is my Domino version?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTirHoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3JIoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTI5ODk1NjM1NDAtV2hhdC1pcy1teS1Eb21pbm8tdmVyc2lvbgY7CFQ6CXJhbmtpCA%3D%3D--8be25e99a98bf160528aec41fd763e8068bba43f)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3JIoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpCQ%3D%3D--758c0697c01a0c3f9c36fed54380a5ef5eeefc6b)
*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2FODZaBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3JIoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzY5ODQ1MjY1MTE4OTItSG93LXRvLWxvZ291dC1vci1lbmQtYS11c2VyLXMtdXNlci1zZXNzaW9uLWZyb20tRG9taW5vBjsIVDoJcmFua2kK--4e53ee04b00d6700b06426f467eda9ecf9d0f85f)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058040452%2Fcomments%2F360012251192,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRi5HWjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzYxOTk2MTU3MDk3MTYtSG93LXRvLXRyb3VibGVzaG9vdC1vcy1lcnJvci13cml0ZS1lcnJvci1vci1hLWJyb2tlbi1waXBlLXNvY2tldC1zZWVuLWluLW1vZGVsLWFwaS1sb2dzBjsIVDoJcmFua2kI--aa3e0a4bab68b5dcf24af06a3f62e6bd33cbce31,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6199615709716-How-to-troubleshoot-os-error-write-error-or-a-broken-pipe-socket-seen-in-model-api-logs/subscription.html ""Opens a sign-in dialog"")

The Model api is configured such that it uses uWSGI as the front end web server which throttles requests to the backend which is basically a container inside a pod. 

Now the uWSGI has certain configurations which can be modified to our benefit. One of it is the timeout setting, which is basically a value instructing uWSGI on how long to keep the connection to the socket alive.

What are the implications of this ? Well if the connection is severed by something while the os is reading or writing to the socket or while the invoked functions is executing the api call would fail causing unknown effects to your system.

We can configure the above setting depending on how long the invoked function takes to process and how big the payload passed in to the request is. The best way to measure this would be to gauge the time it takes for the function to return by invoking it inside a workspace or a local deployment of it and update the setting to the next biggest value. This setting can be found in the Model API UI page, under settings, advanced tab. Default is set to 60 seconds if no override is configured in the mentioned location.

If you still see these errors/exceptions persist in the stdout logs, the next best thing would be to generate a tcpdump to specifically look for any errors or http response codes, we could also review the logs for any long gaps between messages and where the FINs are coming from which closed the connection.

Tcpdump should be run on the model instance (the run container), although the physical interface has to process all the packets so if we don't find much value with tcpdump run inside the container we could also try running it on the node.

Please follow the below steps to run the tcpdump session :- 

*   since a model can be deployed over multiple instances/pods we'll loop through them and run the session on all : for POD in $( kubectl get po -A |grep your-model-pod-id | awk '{print $2}' | xargs echo ) ; do kubectl cp tcpdump.sh -n namespace ""${POD}"":/tmp/tcpdump.sh -c the-relevant-run-container && kubectl exec -n namespace po/""${POD}"" -c the-relevant-run-container -- chmod +x /tmp/tcpdump.sh && kubectl exec -n namespace po/""${POD}"" -c the-relevant-run-container -- /tmp/tcpdump.sh
*   the above tcpdump.sh script consists of the following : set -x if \[ ! -f /usr/sbin/tcpdump \]; then  
    apt-get update -y apt-get install -y tcpdump psmisc fi && echo ""Running tcpdump in the background"" && /usr/sbin/tcpdump -A -w /tmp/""${HOSTNAME}"".pcap -i eth0 &  
    echo ""Done""
*   and lastly run the following to kill any process instances of the tcpdump : for POD in $(kubectl get pods -A | grep your-model-pod-id | awk '{print $2}' | xargs echo ) ; do kubectl exec -n namespace po/""${POD}"" -c the-relevant-run-container -- killall tcpdump && kubectl cp -n namespace po/""${POD}"":/tmp/""${POD}.pcap ""${POD}"".$(date +%Y%m%d).pcap -c the-relevant-run-container

The .pcap files can be viewed with tshark or Wireshark (for a GUI)

### Recently viewed articles

*   [Errors when setting up Spark: ""Java gateway process exited before sending its port number""](https://tickets.dominodatalab.com/hc/en-us/articles/4413249042324-Errors-when-setting-up-Spark-Java-gateway-process-exited-before-sending-its-port-number)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/articles/360058040452-Connecting-Glue-Catalog-to-Domino-for-use-with-On-Demand-Spark)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/articles/6627751566484-Model-Tester-Returns-Failed-to-call-Model)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)

### Related articles

*   [Splitting big files in a terminal](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQc5mKjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRi5HWjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzYxOTkyOTcwNTU4OTItU3BsaXR0aW5nLWJpZy1maWxlcy1pbi1hLXRlcm1pbmFsBjsIVDoJcmFua2kG--c870e7a907a2a4db22f7ccbf8cb28f2384d82cc1)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRi5HWjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kH--bc1bec7ccb67c45ffb0184712733d05fef70f58b)
*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTdnsd3BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRi5HWjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYwMTIwMDgzMjQ1MDAtRGVhY3RpdmF0aW9uLW9mLWEtdXNlcgY7CFQ6CXJhbmtpCA%3D%3D--e0432d434acc5c76f2979b3bbbe08e2b3192f558)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRi5HWjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpCQ%3D%3D--c08759a8a5f4f25e2c6874e9dd57c17905b9b9bc)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRi5HWjBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kK--f9c78b09923a8dc9ff9026516835765cf77ec779)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOOjKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMi3IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTk3MS1Ib3ctdG8tcHJldmVudC10aGUtcGVybWlzc2lvbi1kZW5pZWQtZXJyb3Itd2hlbi1ydW5uaW5nLXBpcC1pbnN0YWxsLWluLWEtd29ya3NwYWNlBjsIVDoJcmFua2kK--fe73bb4921ffa15669bb9244ac8cf646c08f6b9c,"If you are attempting to install or upgrade packages using ""pip install"" in a workspace, then you may receive a permission denied error. 

For example: 

`!pip install --upgrade scikit-learn`

OSError: \[Errno 13\] Permission denied: '/usr/local/lib/python2.7/dist-packages/scikit-learn'

It's possible to install/upgrade packages in a workspace session, but you need to include the --user flag to avoid the permissions error.

For example:

`!pip install --upgrade --user scikit-learn`

However, this installation will not persist from run to run. If you consistently need this library upgrade, you can install this in a custom environment by following the instructions [here](https://support.dominodatalab.com/hc/en-us/articles/204842945-How-can-I-install-packages-or-dependencies-#python)."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification,"## Long Running Workspace: Notification

![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification/subscription.html ""Opens a sign-in dialog"")

It is undeniable that we sometime forget to stop workspaces from our projects. This can be caused by heavy workload, miss clicking the stop button, browser shuts down on you etc. 

Leaving them open specially with a big hardware tier will certainly cause the bills to pile up. But we can avoid them by setting up the following:

A. Jobs And Workspace Notification:

You can set your project to send you a notification if you have a long running workspace. 

1\. Click the account Icon at the lower left of your screen: 

![Screen_Shot_2021-12-22_at_2.32.09_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4413684189844)

2\. Choose Account Settings and look for NOTIFICATION:

![Screen_Shot_2021-12-22_at_2.34.15_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4413684193044)

3\. On the right side change the value on when you should be notified. It is important to note 2 things:

\- Make sure you place a check mark on the tick box or it will not send you notifications

![Screen_Shot_2021-12-22_at_2.38.04_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4413691274004)

\- Lastly by default, your ADMINS will set a long running notification, it will only be over ridden if you set the notification ""SHORTER"" compared to the value set by your ADMINS globally. 

\*\* Related Article:

[Auto Shutdown Long Running Workspace](https://tickets.dominodatalab.com/knowledge/articles/4413684209940/en-us?brand_id=2465906)

### Related articles

*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZFKQDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBg%3D%3D--a41ab664186cce316988f69ecb445c02698f95ce)
*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZFKQDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--0c6d765fa14ab0be86adaf7f7cd0c900af587708)
*   [How to use the apt-get install command in environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEOjKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRZFKQDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTgxMS1Ib3ctdG8tdXNlLXRoZS1hcHQtZ2V0LWluc3RhbGwtY29tbWFuZC1pbi1lbnZpcm9ubWVudHMGOwhUOglyYW5raQg%3D--31b1b4d1206676ee6ecc20b362ad38843da25178)"
https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23508349380244-Workspaces&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

This applies to all versions of Domino.

* * *

## **Issue:**

[Gradio’s “Hello, World” demo](https://pypi.org/project/gradio/) fails to render in a Jupyter workspace and/or a browser window.

* * *

## **Root Cause:**

There is a bug in the Gradio package which strips the trailing slash from URLs being loaded in-line, i.e. in the notebook.

* * *

## **Resolution:**

Download the attached example Jupyter notebook to get started using Gradio in Domino. This runs on the current Domino Standard Environment (DSE) and DSE with GPU images. The app renders both in the Jupyter workspace and in a browser tab. In this line, replace the URL demo2.dominodatalab.com with your deployment's URL (without https://):

*   host \= os.environ.get('GRADIO\_PROXY\_HOST') or \\""demo2.dominodatalab.com\\""\\n"",

Please note that you’ll need access to jupyter-server-proxy \>=3.2.2 and access to the Pypi repositories to download the Gradio packages. 

*   To check the version in a Jupyter Terminal, run pip list | grep -i jupyter-server-proxy

* * *

### References/Internal Records:

*   PTE-666

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification)

### Related articles

*   [Make Dark Theme default in JupyterLab](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSetIkBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwZvdvEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTE3OTQwNjgtTWFrZS1EYXJrLVRoZW1lLWRlZmF1bHQtaW4tSnVweXRlckxhYgY7CFQ6CXJhbmtpBg%3D%3D--50e9a357ec8777292cc2e2cdc1463a182421f4a5)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwZvdvEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpBw%3D%3D--26ba720e08b7ffd316ca9a893c91261c0c456849)
*   [Is sudoers.so corrupt?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2FlmMECToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwZvdvEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzk5MTQ0NTUzMTAxMDAtSXMtc3Vkb2Vycy1zby1jb3JydXB0BjsIVDoJcmFua2kI--f93b0fadce1f8441b20fe97f30d53be1b008398e)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwZvdvEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQk%3D--0db90dd6cfcc112387c5822bb36f680d3ebe82cc)
*   [Looping login when accessing Model Monitor link / DMM dashboard](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjf4zrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQwZvdvEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzY1MDkyMzI1OTU3MzItTG9vcGluZy1sb2dpbi13aGVuLWFjY2Vzc2luZy1Nb2RlbC1Nb25pdG9yLWxpbmstRE1NLWRhc2hib2FyZAY7CFQ6CXJhbmtpCg%3D%3D--de9b1d1bc7789ef4f872f938cfee2afcc431e822)"
https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark,"Sometimes users want to pull data from S3 or other data sources to a spark worker using a snippet like the following: 

However, even if your data source credentials are stored in your Domino project, Spark does not pull the environment variables into its own environment. Instead, you'll need to transfer the credentials in your code. 

There are a few ways to do this, but below are a few examples. 

You can setup a spark environment doing something like [this](https://sparkbyexamples.com/pyspark/spark-set-environment-variable-to-executors/): 

```
spark.executorEnv.[EnvironmentVariableName]
```

or set the credentials in your spark [config](https://freshers.in/article/spark/pyspark-reading-parquet-file-stored-on-amazon-s3-using-pyspark/): 

from pyspark.sql import SparkSession \# create a SparkSession spark \= SparkSession.builder \\   
        .appName(""Read S3 Parquet file"") \\        .getOrCreate() \# set S3 credentials if necessary spark.conf.set(""spark.hadoop.fs.s3a.access.key"", ""ACCESS\_KEY"") spark.conf.set(""spark.hadoop.fs.s3a.secret.key"", ""SECRET\_KEY"") \# read parquet file from S3 df \= spark.read.parquet(""s3a://freshers\_bkt/training/view\_country/parquet\_file"") \# show data df.show()"
https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

Requirement: To install a license file and STATA Environment

*   You downloaded a new image
*   You followed the instructions in Domino’s: [Use STATA as a workspace](https://docs.dominodatalab.com/en/latest/user_guide/063fca/use-stata-as-a-workspace/)

Issue: When you try to run Stata as a workspace, you run into 2 issues:

1.  Your current plan does not work because 100% CPU is not expected
2.  You run into this error: `Something went wrong` `Error: Network error` and the console shows: `Failed to load resource: the server responded with a status of 400 (Bad Request)`, `404 (Not Found)`,  `ERR_NAME_NOT_RESOLVED` ![STATA](https://tickets.dominodatalab.com/hc/article_attachments/16561356981652)![Console](https://tickets.dominodatalab.com/hc/article_attachments/16561382294932)

* * *

## **Root Cause:**

### 100% CPU usage

An outdated keepalive can cause this and you can restore your CPU by adding a sleep statement in the script.

The Stata workspace is a virtual desktop in a web browser running an app inside of a container. Essentially, it is iframing a web connection to a container. The Stata image uses [Apache Guacamole](https://guacamole.apache.org/) as a Remote Desktop Protocol (RDP) desktop viewer. Guacamole translates html interactions and sends it to the Guacamole service to translate into an RDP protocol. This explains the extremely high resource usage.

The issue is that the Guacamole start script is the Docker image entrypoint and if it kicks off another process and exits, then the image stops. There is a need to keep the entrypoint alive by adding this sleep statement to the Dockerfile instructions: `RUN sudo sed -i ""s/do :; done/do :; sleep 60 ; done/"" /opt/domino/workspaces/stata/start` 

### 2) `requireSubdomain`  needs to be set to `false`

`requireSubdomain: false` is needed after Domino 5.x. Previously, the default was `requireSubdomain: true`. In the [Use STATA as a workspace > Create an environment](https://docs.dominodatalab.com/en/latest/user_guide/063fca/use-stata-as-a-workspace/) doc, the code snippet that needs to be pasted into the environment's **Pluggable Workspace Tools** includes the line `requireSubdomain: false`.

* * *

## **Resolution:**

Embed a license file in the Environment (versus using a License Server).

Take these steps to generate the necessary license file from the Stata license PDF and apply that license in the environment’s Dockerfile instructions.

### Step 1) Get the data from the Stata license PDF file

To use a Stata workspace in Domino, you must have a valid Stata license file. The license from Stata comes in a PDF file. You need the following data from this file:

*   Licensed software version: either MP, SE, or BE
    *   Basic Edition (BE)
    *   Standard Edition (SE)
    *   Multiprocessor Edition (MP)
*   Serial number (12-digit number)
*   Code (series of nine 4-character codes)
*   Authorization (4-character code)

### Step 2) Create the license file

**2.1)** Open a terminal window in the workspace and navigate to the Stata directory (/usr/local/stata). Then, as a superuser, run the Stata `init` program: `sudo ./stinit`

Alternatively, you can spin up a container with Bash: `docker run -it quay.io/domino/stata:17 bash`. Then switch to the Stata dir and run the license `init`:  `cd /usr/local/stata && sudo ./stinit` 

**2.2)** Follow the prompts to enter the license information provided by Stata in the PDF: serial number, code, and authorization. Follow the additional prompts to enter the organization name and location.

**2.3)** Copy the license file to the project directory or anywhere else you like. You will need to host the file in an accessible location (like a public project). Since the “stata-license” project is private, it must be toggled to public temporarily for new builds after cache invalidation. Stata did not provide a .lic file, but the image has the license init tool used to generate the license. Once the image is built you can remove public access to the license file.

### Step 3) Create a Domino workspace environment for Stata

**3.1)** Pull this custom base image to a local Docker Desktop: `quay.io/domino/stata:17`  

**3.2)** Update the Dockerfile instructions with the following Docker commands and sleep statement:

ENV STATA\_VERSION=""MP""  
RUN apply-license “<url\_to\_license\_file>”

RUN sudo sed -i ""s/do :; done/do :; sleep 60 ; done/"" /opt/domino/workspaces/stata/start

**3.3)** Copy the code snippet with `requireSubdomain: false` from the [Use Stata as a workspace > Create Environment](https://docs.dominodatalab.com/en/latest/user_guide/063fca/stata/#_create_environment) doc and paste it into the environment’s **Pluggable Workspace Tools**: 

stata:  
title: ""Stata""  
iconUrl: ""https://raw.githubusercontent.com/dominodatalab/partner-resources/main/assets/workspaces/stata/statamp.png""  
start: \[ ""/opt/domino/workspaces/stata/start"" \]  
httpProxy:  
port: 8080  
internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/#/?username=domino&password=domino""  
rewrite: false  
requireSubdomain: false

* * *

## **Notes/Information:**

*   Not having a Stata license file should not prevent the workspace from launching. Even if unlicensed, the workspace will build, but you cannot interact with it.
*   Most of the time, errors are due to issues in the Pluggable Workspace Tools, not the Dockerfile instructions. Modifying your startup script could also cause errors.
*   From your Environment’s Revisions page, you can copy the Docker image URI and use it as a base image when creating a new environment. Since it already has the license in it, you can leave the Dockerfile Instructions blank since everything will be embedded in the image.
*   If you need to transfer the Stata image to an internal Docker registry, e.g. artifactory, you can create the image with just the license file, on your laptop for instance, and then upload that to your artifactory. Then in the environment build, you can COPY  `from=[artifactory://license_image](artifactory://license_image) /source/path/in/license_image /target/path/in/workspace_image`

### **References/Internal Records:**

*   DOCS-2300
*   PTE-626

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification)

### Related articles

*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQFDAAQDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--7a673e04e43318eaa53e586180fa7973bc4875a3)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQFDAAQDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kH--4e4cfc13e5943bc944312fd786ad93efdbe96c06)
*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmzWN7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQFDAAQDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzkzMjYwNDg0MjEzOTYtU3VicHJvY2Vzcy1tYW5hZ2VtZW50LWluLUp1cHl0ZXIGOwhUOglyYW5raQg%3D--809607f03e501ff9210d8e1e4adcc06e4265d63d)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTyrmMEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQFDAAQDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzQ0MTY4OTg3OTAwMzYtQVdTLVBvbGljeS10by1jbGVhbnVwLXVuYXR0YWNoZWQtdm9sdW1lcy1kZWxldGVkLXJlc3RhcnRhYmxlLXdvcmtzcGFjZXMGOwhUOglyYW5raQk%3D--a028f856297a4fb86797c85f198e9adce1613747)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQFDAAQDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kK--3109de78767d7410d92502ac0792a72b2218980d)"
https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user/subscription.html ""Opens a sign-in dialog"")

**Issue:** When we start a workspace in Domino the default username  is 'ubuntu'. I would like to change this username to something else or the logged in Domino username. 

**Considerations:** While this does sound like a great idea and is absolutely possible there are several considerations to take in to account before executing such a change. 

\- This should not be used for auditing purposes. Since Domino workspaces allow for 'sudo'/'root' access in the workspace, it is trivial for the user to change the given username to anything they desire. As such ""binding"" the Domino username to the workspace OS username should not be considered as an authoritative record. 

\- When we are changing the username we must not change the UID. Changing the UID will result in a broken workspace since there are a large number of files which will have ownership to the original 'ubuntu' user UID. 

\- In a centralised authentication scenario where Domino usernames are from sso/ad/ldap this method can be used to facilitate easier access to other external infrastructure like databases for example which might be using the same authentication authority.   

\- Domino Data Lab does not consider this method as an official way to run your workspaces. We have tested this in 5.x family of the product but we can not guarantee it will continue working in future releases or based on any customisations you might have in your environment. As Domino workspaces are designed to run with the 'ubuntu' user, changing this can lead to unexpected results. 

**Solution:** To make this work we will have to add some additional instructions to the environment of your choosing under the ""Pre Setup script"". We will be using an existing environment variable to extract the username of the running user from Domino and change the workspace username with it. 

\- Find the environment you wish to use. Open the edit definitions page and scroll down to ""Advanced"". Under ""Advanced"" section select ""Pre Run Script"" and insert the following:

\# Creating script that will change the workspace username  
\# Sleep for 20s to allow for any startup tasks to complete  
echo ""sleep 20"" > /tmp/userchange.sh

\# Use $DOMINO\_STARTING\_USERNAME to change the ubuntu username  
echo ""usermod -l $DOMINO\_STARTING\_USERNAME ubuntu"" >> /tmp/userchange.sh

\# Change script to executable  
chmod +x /tmp/userchange.sh

\# Run the script as a background task so we do not wait for it to complete  
/tmp/userchange.sh &

In this script we are creating the script that will actually execute the change. As there are a number of setup tasks that might be still running we allow for a 20 seconds sleep before we run the change.  It is also important to run the usernamechange.sh in the background as this will allow for the workspace to continue the start process without waiting for our script. 

It will take approximately 20s after our workspace has started for the change to be executed. You can check this from a terminal in the workspace to confirm the result.

ddl-g@run-642ed9da79db967fa4fd926e-864fg:/mnt$ id  
uid=12574(ddl-g) gid=12574(ubuntu) groups=12574(ubuntu) 

### Recently viewed articles

*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification)

### Related articles

*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGvMkuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQY%3D--a0b09127c364bc8b436b119b33c4cf507ce526b8)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGvMkuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kH--df5bbeea4d00a3829f17a2ebe1b1d95387780783)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGvMkuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpCA%3D%3D--6f74800ccbb4a089e0e28bb6498a3962b7799016)
*   [Is sudoers.so corrupt?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2FlmMECToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGvMkuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzk5MTQ0NTUzMTAxMDAtSXMtc3Vkb2Vycy1zby1jb3JydXB0BjsIVDoJcmFua2kJ--b1e448ddb91d3897e9a4031534a01a3020dac3c0)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGvMkuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--8b95e56dd1a5f9bd2c40aca89e15b57450eeffa5)"
https://tickets.dominodatalab.com/hc/en-us/articles/15133971498004-Am-I-able-to-use-the-LabelStudio-app-within-a-Domino-workspace,"Users have successfully used the LabelStudio within Domino Jupyterlab workspaces by using the proxy tactic shown here: [https://tickets.dominodatalab.com/hc/en-us/articles/360058039392-Getting-started-with-Streamlit-in-Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058039392-Getting-started-with-Streamlit-in-Domino)

You'll want to start the LabelStudio app with in the Jupyterlab workspace, and after the app is running you should be able to access it at this url: 

https://<your-domino-url>/<your-username>/<your-project-name>/notebookSession/<run-id>/proxy/<labelstudio-port>/

If you run into any issues with the proxy-ing please submit a ticket to support that includes a har file. Instructions for collecting the har file are below

#### **To generate the HAR file for Chrome**

1.  Open Google Chrome and go to the page where the issue is occurring.
2.  Look for the Vertical ellipsis button and select **More Tools > Developer Tools.**
3.  From the panel opened, select the **Network** tab.
4.  Look for a round Record button in the upper left corner of the tab, and make sure it is red. If it is grey, click it once to start recording.
5.  Check the box **Preserve log.**
6.  Click the Clear button to clear out any existing logs from the Network tab.
7.  Reproduce the issue that you were experiencing before, while the network requests are being recorded.
8.  Once you have reproduced the issue, right-click anywhere on the grid of network requests, select **Save as HAR with Content**, and save the file to your computer.
9.  Upload your HAR file to your ticket or attach it to your email so that our Support team can analyze it."
https://tickets.dominodatalab.com/hc/en-us/articles/15248715744404-Dash-App-Development-in-VS-Code,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15248715744404-Dash-App-Development-in-VS-Code/subscription.html ""Opens a sign-in dialog"")

How do I use a VS Code for hosting an app similar to how Jupyterlab can host an app in development here: [https://docs.dominodatalab.com/en/5.3/user\_guide/2c01ae/run-multiple-applications-in-a-workspace/#\_use\_jupyter\_server\_proxy](https://docs.dominodatalab.com/en/5.3/user_guide/2c01ae/run-multiple-applications-in-a-workspace/#_use_jupyter_server_proxy)

You can deploy an app within a VS Code workspace in Domino, but you'll need to do a little modifying to find the app path. 

Here's an example: 

import os  
import dash

\# Configure Dash to recognize the URL of the container  
port = 8054  
runurl = os.environ\[""VSCODE\_PROXY\_URI""\].format(port = port)  
path\_prefix = runurl.replace(<DOMINO INSTANCE URL>, """") + ""/""  
app = dash.Dash(\_\_name\_\_,  
                routes\_pathname\_prefix = ""/"",  
                requests\_pathname\_prefix = path\_prefix,  
                suppress\_callback\_exceptions = True,  
                meta\_tags\=\[{""name"": ""viewport"",  
                            ""content"": ""width=device-width, initial-scale=1, maximum-scale=1""}\])

Deploying the dev app

\# Deploy app

if \_\_name\_\_ == ""\_\_main\_\_"":  
    print(runurl)  
    app.run\_server(port = 8054, host = ""0.0.0.0"", debug = False)

### Recently viewed articles

*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/articles/4413684209940-Long-Running-Workspace-Notification)

### Related articles

*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSUgk4%2FDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQESV7eDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBjS9oYy9lbi11cy9hcnRpY2xlcy8xNjc2NDU3NDUzNjg1Mi1Xb3Jrc3BhY2UtZXJyb3ItU2VsZWN0ZWQtaGFyZHdhcmUtdGllci1pcy1ub3QtYXZhaWxhYmxlLWluLXRoZS1BdmFpbGFiaWxpdHktWm9uZS1hbGxvY2F0ZWQtdG8tdGhlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--260e885e172503b3f56959cf7f58cac7ac430db0)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQESV7eDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBw%3D%3D--0fd1e2075f9d11d69cffee2108bd5d00322b30f0)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQESV7eDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kI--7f63095c9022284b8cac89b4d374b0976488d860)
*   [Am I able to use the LabelStudio app within a Domino workspace?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTE%2FqbDDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQESV7eDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzE1MTMzOTcxNDk4MDA0LUFtLUktYWJsZS10by11c2UtdGhlLUxhYmVsU3R1ZGlvLWFwcC13aXRoaW4tYS1Eb21pbm8td29ya3NwYWNlBjsIVDoJcmFua2kJ--5e748918716cc9a13f380f0d160a02e005005c99)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQESV7eDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--342651c1288afbee8587dee4d107fee6a8462505)"
https://tickets.dominodatalab.com/hc/en-us/articles/14375489752468-Why-have-my-files-changed-in-my-workspace,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14375489752468-Why-have-my-files-changed-in-my-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

All versions

## **Issue:**

If you have noted unexpected file changes in your workspace, it is possible that an automated commit occurred.  Domino workspaces will only auto commit file changes in a very narrow use case.  If the local admins have set workspaces to automatically shutdown after some time period, this auto shutdown will also automatically commit any file changes when the workspace is stopped. 

The intent is to ensure that users who may be out of the office and have left a workspace running do not then subsequently also have the stopped and now idle workspace automatically deleted with unsaved changes in it.  Idle workspace deletion is also set by local administrators. 

Users may also be unaware that an automatically stopped workspace has unsaved changes and delete it without saving those changes.

In a shared project, automatic commits can create difficult circumstances where multiple users working in a project find that other user's automatic commits are overwriting, changing or deleting files they are working on in their own workspaces.

## **Resolution:**

At the moment there is no way to exclude individual projects from the automatic shutdown/automatic commit as this is a global setting enforced at the deployment level by the local administration team. 

In the case of a shared project, users can [fork their own copies of the project](https://docs.dominodatalab.com/en/latest/user_guide/ef261b/fork-projects/).  These can be later [merged back together](https://docs.dominodatalab.com/en/latest/user_guide/ef261b/fork-projects/#_merge) to keep forked projects in sync.  Additionally in projects using git, using separate branches is also an option.

## **Notes/Information:**

Domino Engineering is looking at the possibility of allowing a per project exclusion to the automatic commit functionality for shared projects.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Am I able to use the LabelStudio app within a Domino workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/15133971498004-Am-I-able-to-use-the-LabelStudio-app-within-a-Domino-workspace)
*   [Dash App Development in VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15248715744404-Dash-App-Development-in-VS-Code)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTN9Q0TDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--fd181c8d32fcb645bbdf2d316c2b9064ed548f85)
*   [I have core.123 files taking up large amounts of memory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT8iEICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTN9Q0TDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTI3MTk1MDgtSS1oYXZlLWNvcmUtMTIzLWZpbGVzLXRha2luZy11cC1sYXJnZS1hbW91bnRzLW9mLW1lbW9yeQY7CFQ6CXJhbmtpBw%3D%3D--47c02a4fb3111ee07761dddadc41b4d07b48b2e6)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTN9Q0TDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQg%3D--7aa69d2a872faadf16ace90be3d8ee5cbb256014)
*   [Recovering deleted project files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTu2YJXBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTN9Q0TDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzgwNzI0Mzg4Njk1MjQtUmVjb3ZlcmluZy1kZWxldGVkLXByb2plY3QtZmlsZXMGOwhUOglyYW5raQk%3D--e7d93d38d332d9bc35d3acbd44ff7515f216438f)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQFIVRiBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTN9Q0TDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAzNjQ3NTYzNzItSG93LXRvLUNoYW5nZS1FbnZpcm9ubWVudHMtVmlzaWJpbGl0eQY7CFQ6CXJhbmtpCg%3D%3D--7188854ec628eaa090430dae6e3ceb7cdeeead5b)"
https://tickets.dominodatalab.com/hc/en-us/articles/14631323164180-Jupyter-Table-of-Contents-extension-toc2-truncates-table-of-contents,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14631323164180-Jupyter-Table-of-Contents-extension-toc2-truncates-table-of-contents/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

All

**Issue:**

When using the Jupyter Table of Contents extension ([toc2](https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/toc2/README.html)) you may note that the first few entries of the table of contents are truncated.  The toc2 extension is part of the [unofficial Jupyter nbextensions collection](https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/index.html) and is not supported or maintained by Domino.

![Screenshot_2023-04-05_at_1.47.06_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14628991746196)

## **Root Cause:**

This is a bug in the toc2 extension and not related to the Domino product.  Note that all the screen shots in this article were taken on a local browser on a laptop, not in Domino.  An update was made to the toc2 code on Dec 11, 2022: [Make toc completely visible in sidebar.](https://github.com/ipython-contrib/jupyter_contrib_nbextensions/commit/275438633ff5ab2aa5a12db3c9225339cf15da80)  It appears this may have introduced the current bug in the toc2 extension.

![Screenshot_2023-04-05_at_2.44.33_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14630645076628)

## **Resolution:**

No resolution exists until the extension author of the extension corrects the problem, but you can turn off the Header and Toolbar menus in the view menu to see the full table of contents as a workaround.

![Screenshot_2023-04-05_at_1.48.54_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14628962091412)

Without the toolbars in view you can see the full table of contents menu again.

![Screenshot_2023-04-05_at_1.48.02_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14628962222868)

Alternatively, you can add 4 dummy headers so that the useful headers will always be visible.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Why have my files changed in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/14375489752468-Why-have-my-files-changed-in-my-workspace)
*   [Am I able to use the LabelStudio app within a Domino workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/15133971498004-Am-I-able-to-use-the-LabelStudio-app-within-a-Domino-workspace)
*   [Dash App Development in VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15248715744404-Dash-App-Development-in-VS-Code)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)

### Related articles

*   [How To Install nbextension for Jupyter Notebooks](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTe0Z5ODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDQ1MS1Ib3ctVG8tSW5zdGFsbC1uYmV4dGVuc2lvbi1mb3ItSnVweXRlci1Ob3RlYm9va3MGOwhUOglyYW5raQY%3D--f93b8d4881c3efa9f53bb30b1f6300a039d9da6c)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTe0Z5ODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQc%3D--685450b20a55217fe2c477f9981914d0b7cb0e05)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTe0Z5ODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCA%3D%3D--ad042e6afe40a5e3e8aba08eb3a0f7d1976c178b)
*   [I deleted or archived my 4.0 thru 4.4 Dataset but I need it back!](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCDkPdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTe0Z5ODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTg4ODY3Mi1JLWRlbGV0ZWQtb3ItYXJjaGl2ZWQtbXktNC0wLXRocnUtNC00LURhdGFzZXQtYnV0LUktbmVlZC1pdC1iYWNrBjsIVDoJcmFua2kJ--432395a206d93ab034999faf24f8c175501610f5)
*   [File View/Download errors out in Jupyter v5.7.6+](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEefKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTe0Z5ODToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc5MS1GaWxlLVZpZXctRG93bmxvYWQtZXJyb3JzLW91dC1pbi1KdXB5dGVyLXY1LTctNgY7CFQ6CXJhbmtpCg%3D%3D--3fa1d3b817fc596b242b32bdab30be6cd1605dfb)"
https://tickets.dominodatalab.com/hc/en-us/articles/12637142411284-Workspace-startup-states-in-5-x,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces)

![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12637142411284-Workspace-startup-states-in-5-x/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Applies to version 5.4 (latest version upon publish of this article).

* * *

## **Issue:**

Customers are curious what the various states mean during Workspace transitions:

![Screen_Shot_2023-01-24_at_10.49.08_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12636321063316)

* * *

## **Resolution:**

*   Assigning: Your Run has been acknowledged, User-quota's are checked, kubernetes resources are being created and pods are being scheduled/assigned to nodes.  This can include the phase in which a new node is scaled-up for pod scheduling/assignment.
*   Mounting: Volumes associated with the pod and containers created for your Run are being mounted.  This includes data volumes, SSL cert-related volumes, secrets, project files, config-related volumes, etc.
*   Pulling:  Container Images required by your Run are being pulled from a docker registry. This may include ngix, the domino executor, the Compute Environment, etc depending on what images might already be cached on your node.
*   Preparing: Copy of files from the Domino File System and/or git into your local Run's directories are happening.  Also setup scripts hard-coded by Domino as well as those defined in your Compute Environment are being executed.
*   Running: User-code is being launched.  This would be the start command for your workspace as defined in your Compute Environment's ""pluggable workspaces"" section which triggers the third-party (like Jupyter or R Studio) IDE's own code to initiate.

* * *

## **Notes/Information:**

Assigning, Mounting and Pulling match the ""Deploying"" state seen in a support bundle's saga.json file

 {  
""timestamp"": ISODate(""2023-01-24T15:49:41.286Z""),  
""oldState"": ""Deploying"",  
""newState"": ""Preparing""  
},  
{  
""timestamp"": ISODate(""2023-01-24T15:49:51.869Z""),  
""oldState"": ""Preparing"",  
""newState"": ""Running""  
},

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)
*   [Jupyter Table of Contents extension (toc2) truncates table of contents](https://tickets.dominodatalab.com/hc/en-us/articles/14631323164180-Jupyter-Table-of-Contents-extension-toc2-truncates-table-of-contents)
*   [Why have my files changed in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/14375489752468-Why-have-my-files-changed-in-my-workspace)
*   [Am I able to use the LabelStudio app within a Domino workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/15133971498004-Am-I-able-to-use-the-LabelStudio-app-within-a-Domino-workspace)
*   [Dash App Development in VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15248715744404-Dash-App-Development-in-VS-Code)

### Related articles

*   [Build getting stuck as queued in 4.x, 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSEJK4qBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRoYlB%2BCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ1ODEzNTY3NjYyMjgtQnVpbGQtZ2V0dGluZy1zdHVjay1hcy1xdWV1ZWQtaW4tNC14LTUtMgY7CFQ6CXJhbmtpBg%3D%3D--581809995e32a59fddb4a8afcb44031d9506bab2)
*   [Sync fails with logged error of ""Exception caught during execution of rm command""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30fGXCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRoYlB%2BCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk0NDg2OTAxMzY4NTItU3luYy1mYWlscy13aXRoLWxvZ2dlZC1lcnJvci1vZi1FeGNlcHRpb24tY2F1Z2h0LWR1cmluZy1leGVjdXRpb24tb2Ytcm0tY29tbWFuZAY7CFQ6CXJhbmtpBw%3D%3D--59aaa3065ec64223ecb6c0e8ff041883e99b4793)
*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQaTAFJBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRoYlB%2BCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY5MTA2MjQxNDQwMjAtRW1haWwtbm90aWZpY2F0aW9ucy1hcmUtbm90LXJlY2VpdmVkLXdoZW4tdXNpbmctU0VTLWVtYWlsBjsIVDoJcmFua2kI--955df38e18d1615d134f94ad1489bc0b24c8f408)
*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTdnsd3BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRoYlB%2BCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYwMTIwMDgzMjQ1MDAtRGVhY3RpdmF0aW9uLW9mLWEtdXNlcgY7CFQ6CXJhbmtpCQ%3D%3D--34ed31140e9cccff0a058895ad650954cf5f645b)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRoYlB%2BCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--e4b14f48a671394adcb033fa6d845bf47ab10db2)"
https://tickets.dominodatalab.com/hc/en-us/articles/11199297980180-Installing-R-packages-from-archive,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11199297980180-Installing-R-packages-from-archive/subscription.html ""Opens a sign-in dialog"")

**Issue:**  Rstudio CRAN repository has removed a number of packages which now can be found in  their archive. Reference: [https://cran.r-project.org/src/contrib/Archive/](https://cran.r-project.org/src/contrib/Archive/)

If you try to install such package you will get a warning that this package is no longer available. 

Example:

\> install.packages('RSQLServer')  
Installing package into ‘/usr/local/lib/R/site-library’  
(as ‘lib’ is unspecified)  
Warning in install.packages :  
package ‘RSQLServer’ is not available for this version of R

A version of this package for your version of R might be available elsewhere,  
see the ideas at  
https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages

**Solution:** To continue using such packages you can install them with the following code: 

\> url <- ""https://cran.r-project.org/src/contrib/Archive/RSQLServer/RSQLServer\_0.3.0.tar.gz""  
\> pkgFile <- ""RSQLServer\_0.3.0.tar.gz""  
\> download.file(url = url, destfile = pkgFile)  
trying URL 'https://cran.r-project.org/src/contrib/Archive/RSQLServer/RSQLServer\_0.3.0.tar.gz'  
Content type 'application/x-gzip' length 633887 bytes (619 KB)  
\==================================================  
downloaded 619 KB

\> install.packages(pkgs=pkgFile, type=""source"", repos=NULL)  
Installing package into ‘/usr/local/lib/R/site-library’  
(as ‘lib’ is unspecified)  
\* installing \*source\* package ‘RSQLServer’ ...  
\*\* package ‘RSQLServer’ successfully unpacked and MD5 sums checked  
\*\* using staged installation  
\*\* R  
\*\* inst  
\*\* byte-compile and prepare package for lazy loading  
\*\* help  
\*\*\* installing help indices  
\*\* building package indices  
\*\* testing if installed package can be loaded from temporary location  
\*\* testing if installed package can be loaded from final location  
\*\* testing if installed package keeps a record of temporary installation path  
\* DONE (RSQLServer)  
\> library(""RSQLServer"")

### Recently viewed articles

*   [Workspace startup states in 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/12637142411284-Workspace-startup-states-in-5-x)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)
*   [Jupyter Table of Contents extension (toc2) truncates table of contents](https://tickets.dominodatalab.com/hc/en-us/articles/14631323164180-Jupyter-Table-of-Contents-extension-toc2-truncates-table-of-contents)
*   [Why have my files changed in my workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/14375489752468-Why-have-my-files-changed-in-my-workspace)
*   [Am I able to use the LabelStudio app within a Domino workspace?](https://tickets.dominodatalab.com/hc/en-us/articles/15133971498004-Am-I-able-to-use-the-LabelStudio-app-within-a-Domino-workspace)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHLYovCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--00ffe8db058de127b27230243b6cb60f9892edfe)
*   [I need to install a package every time I start R Studio. How do I make it permanent?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHLYovCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpBw%3D%3D--0df1333e10da8b2d8615a549a5632958ed573834)
*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHLYovCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kI--87e977eef0c37137f782c661f13dbb2b733c9985)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHLYovCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQk%3D--ff7be313610952ea9c5c7e109e26dd14697a1ee0)
*   [Using RStudio with R 3.6 - Transmission Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEC4IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHLYovCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MjQzMi1Vc2luZy1SU3R1ZGlvLXdpdGgtUi0zLTYtVHJhbnNtaXNzaW9uLUVycm9yBjsIVDoJcmFua2kK--3dfe71b62b799b05633ee643f6c1988293dd45a1)"
https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino/subscription.html ""Opens a sign-in dialog"")

### Issue

1\. Failure to start a workspace, with CORS error

1.a. Applies to 'streamlit' only

1.b. Content Security Policy, x-frame-options 

2\. JupyterLab issues with XSRF

_These are not detailed or complete list of issues that may occur. Please contact the Domino Support Team for additional assistance if your problem is different!_

### Resolution

1\. Cross Origin Requests (CORs) may affect your Workspace if you use the incorrect URL for the Deployment, i.e. not including the 'www' at front or vice-versa, even including [JavaScript Error](https://tickets.dominodatalab.com/hc/en-us/articles/4406531404436-Javascript-error-when-starting-workspace).

1.a. Streamlit takes this parameter:

\--server.enableCORS

1.b. Added to Domino 4.1.9, Feature Flag: ShortLived.iFrameSecurityEnabled

2\. Add the following parameter to workspace file /home/ubuntu/.jupyter/jupyter\_notebook\_config.py   
""c.NotebookApp.disable\_check\_xsrf = True"" (preRun script or RUN through the Dockerfile/Environment file)  

### Affects

1\. CORS can be affected in any Domino version, as the backend services and frontend/LB could disagree on server names this becomes prominent.

1.b. Applies to Domino 4.1.9 and up to Domino 5.

2\. Known to affect 4.1+

### Keywords

CORS - **Cross Origin Resource Sharing** - is a mechanism that allows restricted resources on a web page to be requested from another domain outside the domain from which the first resource was served.

CSRF - **Cross-site request forgery**, also known as XSRF, Sea Surf or Session Riding, is an attack vector that tricks a web browser into executing an unwanted action in an application to which a user is logged in.

### Recently viewed articles

*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)
*   [Installing R packages from archive](https://tickets.dominodatalab.com/hc/en-us/articles/11199297980180-Installing-R-packages-from-archive)
*   [Workspace startup states in 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/12637142411284-Workspace-startup-states-in-5-x)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)
*   [Jupyter Table of Contents extension (toc2) truncates table of contents](https://tickets.dominodatalab.com/hc/en-us/articles/14631323164180-Jupyter-Table-of-Contents-extension-toc2-truncates-table-of-contents)

### Related articles

*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQjD1IUBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTi87ZSCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0ODUzMjI1ODA4ODQtRG9taW5vLWlzLXNsb3ctYW5kLUktc2VlLVdhaXRpbmctZm9yLWF2YWlsYWJsZS1zb2NrZXQtaW4tbXktYnJvd3NlcgY7CFQ6CXJhbmtpBg%3D%3D--c0909c4429374dbe89b35231eebd4654374fe324)
*   [Content Security Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCiiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTi87ZSCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzc1Mi1Db250ZW50LVNlY3VyaXR5LVBvbGljaWVzBjsIVDoJcmFua2kH--e8fadfa8b21a2ea93b8d73bdb4836aeacbf0e716)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTi87ZSCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCA%3D%3D--f81bfa75a121d5a13b08c44e9a04370e55a030f3)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTi87ZSCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCQ%3D%3D--344d707b143b5177dfcbfd9ad9dd87a905976191)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTi87ZSCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kK--1ef71976195ebd146b5dbcd557087409177db166)"
https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook/subscription.html ""Opens a sign-in dialog"")

**Version:**

This behaviour is present in all versions of Domino 

**Issue:**  

When running Dtale in a Jupyter Notebook workspace there is no visualisation presented. You can be seeing either  
an empty response or ""server IP address could not be found"" message. Example: 

![Screenshot_2022-10-07_at_17.31.16.png](https://tickets.dominodatalab.com/hc/article_attachments/9921079604628)

**Cause:**

This is caused due to the fact that Dtale is running it's own webserver and is using the run ID as a hostname and address to listen on.  Since Jupyter is running inside a workspace that address will not be reachable. 

**Resolution:**

The resolution is to use the ""app\_route"" parameter. 

Source code: https://dtale.readthedocs.io/en/latest/\_modules/dtale/app.html

:param app\_root: Optional path to prepend to the routes of D-Tale.   
:This is used when making use of Jupyterhub server proxy :type app\_root: str, optional

Example:

```
import dtaleimport dtale.app as dtale_appimport pandas as pddf = pd.DataFrame([dict(a=1, b=2), dict(a=2, b=3), dict(a=3, b=4)]).set_index('a')dtale_app.JUPYTER_SERVER_PROXY = Trued = dtale.show(df, app_root='/domino-g/new-test-15/notebookSession/63242d8719b513588182def4/proxy/')d
```

In this case we are setting `dtale_app.JUPYTER_SERVER_PROXY` to True and also providing the `app_root` as /<USER>/<PROJECT\_NAME>/notebookSession/<SESSION\_ID>/proxy .   
The session ID for your workspace can be found in the URL of the workspace as ""runid=""

Result: 

![Screenshot_2022-10-07_at_17.50.10.png](https://tickets.dominodatalab.com/hc/article_attachments/9921494553876)

### Recently viewed articles

*   [What are XSRF, CORS, CSRF and how to avoid issues in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)
*   [Installing R packages from archive](https://tickets.dominodatalab.com/hc/en-us/articles/11199297980180-Installing-R-packages-from-archive)
*   [Workspace startup states in 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/12637142411284-Workspace-startup-states-in-5-x)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)

### Related articles

*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR8ngkGCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kG--8eed6586b426c0fd3d18b040d0d8903be18b4e0b)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR8ngkGCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kH--9f1268943bd5ca5048b10ea5e3c0b76f517f3925)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR8ngkGCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCA%3D%3D--b54819fbd7dc30cc00ed30d1ebd19d99c5daffa4)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR8ngkGCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kJ--37ff3eb4c02cfa38a0a8610c706d515dc1197656)
*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR8ngkGCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpCg%3D%3D--9598ea6360274f7ea0fa81e83786805b34d4cff0)"
https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace/subscription.html ""Opens a sign-in dialog"")

Unless you are experiencing other connection issues, the occasional ""Lost connection with Domino server"" and ""Reconnected to Domino server"" is nothing to worry about. 

These messages occur because Domino occasionally checks the websocket connection status. If the connection is lost/disconnected, then a ""Lost connection to Domino server"" message will appear. The system will then attempt to reconnect. When the reconnect request succeeds a ""Reconnected to Domino Server"" toast message is displayed. This is normal behavior. 

Below is an example of such error messages: 

![Screen_Shot_2022-09-16_at_9.37.02_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/9385600625556)

### Recently viewed articles

*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/articles/9650341884180-Ignoring-files-above-the-save-limit-of-10000-files-using-dominoignore)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook)
*   [What are XSRF, CORS, CSRF and how to avoid issues in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)
*   [Installing R packages from archive](https://tickets.dominodatalab.com/hc/en-us/articles/11199297980180-Installing-R-packages-from-archive)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTwiUeJCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--f674505080ec86f3392f8855947c6d1e44b63715)
*   [Deploying state timed out after 3600 seconds](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSA2barBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTwiUeJCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYyMzUwNjUyNTQwMzYtRGVwbG95aW5nLXN0YXRlLXRpbWVkLW91dC1hZnRlci0zNjAwLXNlY29uZHMGOwhUOglyYW5raQc%3D--7f9b68e609e48abee4cece87c7fe277a22b19275)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTwiUeJCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQg%3D--1542acbc3190495d79511f5219a0d34cef018c49)
*   [Sync fails with logged error of ""Exception caught during execution of rm command""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30fGXCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTwiUeJCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk0NDg2OTAxMzY4NTItU3luYy1mYWlscy13aXRoLWxvZ2dlZC1lcnJvci1vZi1FeGNlcHRpb24tY2F1Z2h0LWR1cmluZy1leGVjdXRpb24tb2Ytcm0tY29tbWFuZAY7CFQ6CXJhbmtpCQ%3D%3D--cb5ca409d4e057f99c4d39fe44aa245c7874ca78)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTwiUeJCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kK--47ef08a559d0056c9706ff095de0e87b18d120ce)"
https://tickets.dominodatalab.com/hc/en-us/articles/9326048421396-Subprocess-management-in-Jupyter,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces)

## Subprocess management in Jupyter

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9326048421396-Subprocess-management-in-Jupyter/subscription.html ""Opens a sign-in dialog"")

**Issue:**  
If your code involves multiprocessing which you're running from a ipython notebook then it might fail because of a duplicate signature exception. 

**Notes/Information:**

The basic idea here is that jupyter notebooks are designed in a client server fashion. There are 2 main components to this, the front end which is an abstraction of the jupyter client and the kernel (ipython kernel). The frontend or the jupyter client encompasses 2 more components, the proxy to frontend and kernel proxy. The communications are done via a low level Message Queue lib, kernel proxy which is a component of the jupyter client is responsible for connecting to the different ipython kernel sockets and marshalling/unmarshalling the data. Whereas the frontend component of jupyter client is responsible for presenting the data to stdout and accepting inputs from stdin (notebooks).

**Root Cause:**  
This exception is raised from jupyter client session.py module. Basically why it fails is because if your multiprocessing library is using fork (for creating subprocesses) inherently then jupyter client abstraction (which is basically the wrapper around your code) created uses the same session id which must be unique for every client process. This causes a duplication resulting in the exception.

**Resolution:**  
The resolution to this would be to either upgrade your jupyter client to any version above 7.0 or otherwise move the function to be run from a separate file and modify the notebook code (employing the multiprocessing lib) to explicitly use spawn to create new subprocesses. This would involve extra work for initialisation because you'd have to split your code into a module and import it into the notebook. There's also a register\_at\_fork function from the os module, wherein you could register callables to be executed when a new child is forked, this could involve resetting the session id for the client process.  
**Affected Jupyter Client Version: <7.0**

### Recently viewed articles

*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace)
*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/articles/9650341884180-Ignoring-files-above-the-save-limit-of-10000-files-using-dominoignore)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook)
*   [What are XSRF, CORS, CSRF and how to avoid issues in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)

### Related articles

*   [For newly created projects, automatically shutdown long-running workspaces after a specified time.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROpbYLBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSmzWN7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgS9oYy9lbi11cy9hcnRpY2xlcy82NjQ3Mzc4NjkzNjUyLUZvci1uZXdseS1jcmVhdGVkLXByb2plY3RzLWF1dG9tYXRpY2FsbHktc2h1dGRvd24tbG9uZy1ydW5uaW5nLXdvcmtzcGFjZXMtYWZ0ZXItYS1zcGVjaWZpZWQtdGltZQY7CFQ6CXJhbmtpBg%3D%3D--6dd2bb33e13523a193dec08a2c80370a23500916)
*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQWIboPCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSmzWN7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEyMTYyMTc1MTQ1NDkyLUhvdy10by1VbmFyY2hpdmUtYS1wcm9qZWN0BjsIVDoJcmFua2kH--eecb6ff10b09d995f9cede21f56c46e36740143e)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEr%2BebCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSmzWN7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk0NjU3MDAwMDg5ODAtQVBQUy1SZWFkLU9ubHktRXJyb3ItV2hlbi1TZXR0aW5nLVVwLVVSTC1Gb3ItQXBwLVVzaW5nLURhc2gtMi0xLTAGOwhUOglyYW5raQg%3D--f7ddc250f9a680abc2f25a64cefe14c9bbf39db5)
*   [Why isnt the workspace IDE type I want, Juptyer/Rstudio/Jupyterlab/SAS, available in my project?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQZyxHSBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSmzWN7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy82Mzk5Nzk5Nzk0MDY4LVdoeS1pc250LXRoZS13b3Jrc3BhY2UtSURFLXR5cGUtSS13YW50LUp1cHR5ZXItUnN0dWRpby1KdXB5dGVybGFiLVNBUy1hdmFpbGFibGUtaW4tbXktcHJvamVjdAY7CFQ6CXJhbmtpCQ%3D%3D--69c9fd44213a877fa12bba96fd96fddd078c246e)
*   [Splitting big files in a terminal](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQc5mKjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSmzWN7CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzYxOTkyOTcwNTU4OTItU3BsaXR0aW5nLWJpZy1maWxlcy1pbi1hLXRlcm1pbmFsBjsIVDoJcmFua2kK--49d3aa2efac010cd4a222ed88072615a52bfc8c4)"
https://tickets.dominodatalab.com/hc/en-us/articles/9320714654868-Implementing-Zeppelin-as-an-IDE-in-Domino,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9320714654868-Implementing-Zeppelin-as-an-IDE-in-Domino/subscription.html ""Opens a sign-in dialog"")

Basically this would need some extra docker statements to install the package, do some formatting around it and run the executable. We have maintained a publicly available GitHub with the install scripts and start up scripts along with the workspace properties.  How you'd make this work is by cloning this repo, run the install script which would install all the components, and we'll hardcode the path to the start script in the workspace properties. Link to the GitHub repo :-   
[https://github.com/dominodatalab/workspace-configs](https://github.com/dominodatalab/workspace-configs)

**Note: The original install script from the linked GitHub repo contains an obsolete download link so better to follow the steps below.**

dockerfile would be as per :- 

```
USER rootRUN apt-get update && apt-get install -y wget unzip tar sed && \    mkdir -p /var/opt/workspaces && cd /tmp && \    wget -v https://github.com/dominodatalab/workspace-configs/archive/refs/heads/develop.zip && \    unzip -q develop.zip && \    cp -Rf workspace-configs-develop/* /var/opt/workspaces && \    rm -rf /var/opt/workspaces/workspace-logos /var/opt/workspaces/README.md && \    rm -rf /tmp/workspace-configs-develop /tmp/develop.zip && \    chmod +x /var/opt/workspaces/Zeppelin/RUN wget -q https://dlcdn.apache.org/zeppelin/zeppelin-0.10.1/zeppelin-0.10.1-bin-all.tgz --no-check-certificate && \    tar xf zeppelin-0.10.1-bin-all.tgz && \    rm -rf /opt/zeppelin && \    mv zeppelin-0.10.1-bin-all /opt/zeppelin && \    rm zeppelin-0.10.1-bin-all.tgz && \    chown -R ubuntu:ubuntu /opt/zeppelin && \    mv  /var/opt/workspaces/Zeppelin/zeppelin-env.txt /opt/zeppelin/conf/zeppelin-env.sh && \    chmod 777 /opt/zeppelin/conf/zeppelin-env.sh && \    #chown ubuntu:ubuntu /opt/zeppelin/conf/zeppelin-env.sh && \    sed -i '94d' /opt/zeppelin/conf/zeppelin-env.sh && \    echo ""export ZEPPELIN_ADDR=0.0.0.0"" >> /opt/zeppelin/conf/zeppelin-env.sh    #chown -R ubuntu:ubuntu /opt/zeppelin
```

& you'd add the workspace properties below where it says Pluggable Workspace Tools as per :- 

```
Zeppelin:  title: ""Zeppelin""  iconUrl: ""https://raw.githubusercontent.com/dominodatalab/workspace-configs/develop/workspace-logos/Zeppelin.svg?sanitize=true""  start: [ ""/var/opt/workspaces/Zeppelin/start"" ]  httpProxy:    port: 8888    requireSubdomain: false
```

### Recently viewed articles

*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/9326048421396-Subprocess-management-in-Jupyter)
*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace)
*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/articles/9650341884180-Ignoring-files-above-the-save-limit-of-10000-files-using-dominoignore)
*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook)
*   [What are XSRF, CORS, CSRF and how to avoid issues in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/10250861404820-What-are-XSRF-CORS-CSRF-and-how-to-avoid-issues-in-Domino)

### Related articles

*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmzWN7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTU4iV6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzkzMjYwNDg0MjEzOTYtU3VicHJvY2Vzcy1tYW5hZ2VtZW50LWluLUp1cHl0ZXIGOwhUOglyYW5raQY%3D--9137b3b17573a670d581c8b9dd639397be3aeb2d)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShMa0EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTU4iV6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ0MTgxMzIwOTExNTYtQ29tcGFyaW5nLUpvYnMtV29ya3NwYWNlcy1pbi1Eb21pbm8tdmVyc2lvbnMtNC00LWFuZC1hYm92ZQY7CFQ6CXJhbmtpBw%3D%3D--bea481cf5bf96507bfb967918d3ea48c3b734533)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTU4iV6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kI--e459c6143d45a6f09ff04602b068065c5a9f1119)
*   [""Error: Repoman service disk pressure"" when connecting github repo's to Domino projects](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQmk2tnBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTU4iV6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzQ4NDIyMzI5NDgyNDQtLUVycm9yLVJlcG9tYW4tc2VydmljZS1kaXNrLXByZXNzdXJlLXdoZW4tY29ubmVjdGluZy1naXRodWItcmVwby1zLXRvLURvbWluby1wcm9qZWN0cwY7CFQ6CXJhbmtpCQ%3D%3D--633c15251c9d3c7ee0b1bb3254d84949b0e5f372)
*   [Environment build fails with ERROR: Could not acquire image ID or digest following build](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnH%2FMABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTU4iV6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzQ0MDIxMjU0NjUzNjQtRW52aXJvbm1lbnQtYnVpbGQtZmFpbHMtd2l0aC1FUlJPUi1Db3VsZC1ub3QtYWNxdWlyZS1pbWFnZS1JRC1vci1kaWdlc3QtZm9sbG93aW5nLWJ1aWxkBjsIVDoJcmFua2kK--e63fcb21e5050b3213302ebfce5cdc1675312f94)"
https://tickets.dominodatalab.com/hc/en-us/articles/6070817298068-Persisting-RStudio-Preferences-1-4,"## Persisting RStudio Preferences (1.4+)

![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6070817298068-Persisting-RStudio-Preferences-1-4/subscription.html ""Opens a sign-in dialog"")

### I want to have persistent preferences in RStudio

### I've followed your guide from docs but it's only valid up to RStudio 1.4

Start with this action, from R copy your current json file to /mnt and sync:

file.copy(""/home/ubuntu/.config/rstudio/rstudio-prefs.json"", ""/mnt"") 

Then, add the following lines to the pre-setup script of your environment definition, in order to load the preferences file (if it exists) on subsequent runs - changing user-settings to rstudio-prefs.json:

**if** \[ -f rstudio-prefs.json \]; **then**  
    mkdir -p /home/ubuntu/.config/rstudio/  
    cp rstudio-prefs.json /home/ubuntu/.config/rstudio/rstudio-prefs.json  
    chown -R ubuntu:ubuntu /home/ubuntu/.config/rstudio  
**fi** 

You just need to remember to copy the file back if you make changes to the settings.

The shell commands expect to be run from /mnt and do not have a full pathname! YMMV

This is a revised version of : [https://tickets.dominodatalab.com/hc/en-us/articles/360061119911-Persisting-Rstudio-Preferences](https://tickets.dominodatalab.com/hc/en-us/articles/360061119911-Persisting-Rstudio-Preferences) but applies to 1.4 or later and suits Domino 4.6.X (and later, based on the Environment Image you're using)

### Recently viewed articles

*   [For newly created projects, automatically shutdown long-running workspaces after a specified time.](https://tickets.dominodatalab.com/hc/en-us/articles/6647378693652-For-newly-created-projects-automatically-shutdown-long-running-workspaces-after-a-specified-time)
*   [Implementing Zeppelin as an IDE in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/9320714654868-Implementing-Zeppelin-as-an-IDE-in-Domino)
*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/9326048421396-Subprocess-management-in-Jupyter)
*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace)
*   [Ignoring files above the save limit of 10000 files using .dominoignore](https://tickets.dominodatalab.com/hc/en-us/articles/9650341884180-Ignoring-files-above-the-save-limit-of-10000-files-using-dominoignore)

### Related articles

*   [Persisting Rstudio Preferences](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCKetUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSW6HiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTkxMS1QZXJzaXN0aW5nLVJzdHVkaW8tUHJlZmVyZW5jZXMGOwhUOglyYW5raQY%3D--8f35a090ab18dd2c74e85d38456e086e624bfb9b)
*   [RStudio ""Warning message: R graphics engine version 16 is not supported by this version of RStudio.""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRB47l6EjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSW6HiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgi9oYy9lbi11cy9hcnRpY2xlcy8yMDMxODMxMzk4ODM3Mi1SU3R1ZGlvLVdhcm5pbmctbWVzc2FnZS1SLWdyYXBoaWNzLWVuZ2luZS12ZXJzaW9uLTE2LWlzLW5vdC1zdXBwb3J0ZWQtYnktdGhpcy12ZXJzaW9uLW9mLVJTdHVkaW8GOwhUOglyYW5raQc%3D--b9f3218292cde6da236ce2fe080832ca00e32149)
*   [Rstudio warning messages: ""R graphics engine version 'X' is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTADyUBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSW6HiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgS9oYy9lbi11cy9hcnRpY2xlcy80NDAyOTYzMjY3NzMyLVJzdHVkaW8td2FybmluZy1tZXNzYWdlcy1SLWdyYXBoaWNzLWVuZ2luZS12ZXJzaW9uLVgtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpCA%3D%3D--e2c03a5fd5fdfbaaa7ad9f3ce7ca610e668299a6)
*   [Special Character issue on viewing the files through dataset viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSQS2e1FToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSW6HiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzIzODY4ODY2MjY5MjA0LVNwZWNpYWwtQ2hhcmFjdGVyLWlzc3VlLW9uLXZpZXdpbmctdGhlLWZpbGVzLXRocm91Z2gtZGF0YXNldC12aWV3ZXIGOwhUOglyYW5raQk%3D--d5e8b9b2887b0f5d9c2f1816e27da0f7a637eec3)"
https://tickets.dominodatalab.com/hc/en-us/articles/6647378693652-For-newly-created-projects-automatically-shutdown-long-running-workspaces-after-a-specified-time,"Submitted by Gener Joseph Tomas

Please follow these steps to automatically shutdown long-running workspaces of on your Domino projects.

1) Login to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23540924275092)

2) After logging in, go to ""Account Settings.""

![Screen_Shot_2022-05-31_at_1.53.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647329554196)

3) Navigate to ""Workspace Settings""

![Screen_Shot_2022-05-31_at_1.54.17_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647341899284)

4) Set ""Shutdown my long-running workspaces after"" to the duration of your preferred workspace session.

![Screen_Shot_2022-05-31_at_1.54.30_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647246375188)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/5763888478484-I-need-FUSE-in-my-Domino-Environment,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5763888478484-I-need-FUSE-in-my-Domino-Environment/subscription.html ""Opens a sign-in dialog"")

I need to use FUSE based file storage

I need FUSE to work inside a Workspace

FUSE has been enabled in Domino 4.4.2 and later but will require a specific Environment and several options may need to be enabled.

Please see: [https://docs.dominodatalab.com/en/latest/user\_guide/0d73c6/domino-standard-environments/#\_fuse\_environment\_flavors](https://docs.dominodatalab.com/en/latest/user_guide/0d73c6/domino-standard-environments/#_fuse_environment_flavors)

The base images which activate FUSE can be found on quay.io (with a -fuse name extension) and these will include binaries needed to mount sshfs and Goofys binary for AWS bucket mounting.

_**A Central Config will be required to be added to see the /dev/fuse device:**_

|     |     |
| --- | --- |
| com.cerebro.domino.externalDataVolumes.enableFuse | true |

_**A Feature Flag:**_

|     |     |
| --- | --- |
| ShortLived.EnableExternalDataVolumes | true |

_**And these may also be required:**_

|     |     |
| --- | --- |
| computegrid.linuxSecurity.appArmorProfileRef | unconfined |
| computegrid.linuxSecurity.secCompProfileRef | unconfined |

Once these are added, restart the nucleus services and a Workspace should display the /dev/fuse device. If this does not happen, or if workspaces fail to start simply remove the CC parameters and restart nucleus.

If you do get a running workspace, but no /dev/fuse, then your PSP/helm chart did not include the enablement for FUSE and an additional change needs to be done on your environment. Please contact your k8s team or Domino Team for further help.

### tl;dr I still want FUSE without bothering the Domino Support team!

To make these changes to the deployer so that all executions contain the updated PSP in the agent.yaml, we recommend you reach out to your favourite platform engineer. However, in order to make this change to a single, existing deployment, you can follow the below commands (in a command line):

_access your deployment (tsh/ssh/rancher/kube master):_

kubectl get psp -A | grep nucleus -> find the correct compute grid nucleus pod  
\# (it usually ends in -cg2)  
kubectl edit psp <nucleus-pod-ending-in-cg2>  
\# add: ""- SYS\_ADMIN"" under ""spec: allowedCapabilities"".  
\# It normally would go under the capability ""- NET\_ADMIN""

**Always beware of indentation when editing Yaml files! Domino will fail to save obviously incorrect yaml files, but you've been warned.**

### Recently viewed articles

*   [Persisting RStudio Preferences (1.4+)](https://tickets.dominodatalab.com/hc/en-us/articles/6070817298068-Persisting-RStudio-Preferences-1-4)
*   [For newly created projects, automatically shutdown long-running workspaces after a specified time.](https://tickets.dominodatalab.com/hc/en-us/articles/6647378693652-For-newly-created-projects-automatically-shutdown-long-running-workspaces-after-a-specified-time)
*   [Implementing Zeppelin as an IDE in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/9320714654868-Implementing-Zeppelin-as-an-IDE-in-Domino)
*   [Subprocess management in Jupyter](https://tickets.dominodatalab.com/hc/en-us/articles/9326048421396-Subprocess-management-in-Jupyter)
*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/9385703764116-Sometimes-I-see-a-Lost-connection-with-Domino-server-and-Reconnected-to-Domino-server-when-starting-running-a-workspace)

### Related articles

*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5hgI%2BBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kG--62f1efbb9c4199ea3059cd51dc9e879af57852fe)
*   [Build getting stuck as queued in 4.x, 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSEJK4qBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5hgI%2BBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ1ODEzNTY3NjYyMjgtQnVpbGQtZ2V0dGluZy1zdHVjay1hcy1xdWV1ZWQtaW4tNC14LTUtMgY7CFQ6CXJhbmtpBw%3D%3D--3f582752fe08387392e8bfdfc26003cca5676b27)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5hgI%2BBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyOTY5MzgyNjAtLWxvZzRqLXplcm8tZGF5LXZ1bG5lcmFiaWxpdHkGOwhUOglyYW5raQg%3D--d1620a6ed9da0cf1f03e1f3834814cac7da4603d)
*   [Persisting Rstudio Preferences](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCKetUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5hgI%2BBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTkxMS1QZXJzaXN0aW5nLVJzdHVkaW8tUHJlZmVyZW5jZXMGOwhUOglyYW5raQk%3D--45c3ea7a40e3ab1c99c3c134132a782b188179e4)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR5hgI%2BBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kK--85e2c9f4101a4fd6c435ea244a8584f9ec0a551d)"
https://tickets.dominodatalab.com/hc/en-us/articles/5762914141076-RStudio-Memory-Usage-or-Performance-improvements,"### RStudio does not release memory

### My memory usage climbs up

### Possible crashed Workspace due to memory usage

RStudio has built in features to release memory in use by objects. In order to reclaim memory, you need to run gc()

Alternative usage of the memory reclaim is to use rm() which is potentially destructive since the most common guidance is to use with ls(), i.e:

rm(list=ls())

Or some suggestion starts their code with:

rm( list = ls()); gc();

and possibly a different usage:

rm(list = ls(all = TRUE))  

See more details on the gc() function and usage: [https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/gc](https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/gc)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/115005294106-Workspace-sessions,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAfiXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTc1MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLXZlcnNpb25zLTQtMC00LTMGOwhUOglyYW5raQc%3D--47f1717be040125e89c1b66fba0c567a593aaa5f,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061919751-How-to-Get-Workspace-Logs-versions-4-0-4-3/subscription.html ""Opens a sign-in dialog"")

How to Get Workspace Logs :

Logs from workspaces are the most commonly requested file from a Domino Support Agent to help you with your troubleshooting. 

Here are the steps on how to get them:

1.   Launch your project and go to the workspace dashboard. 

![11.png](https://tickets.dominodatalab.com/hc/article_attachments/4403603280020/11.png)

2\. You will be then directed to the “Workspace Session” window and would need to select the session you want.

![](https://lh3.googleusercontent.com/InFfPsOye8El-YixD-RQ0KvNCZET7cMRVLtTwXbEE7RB8H2q7PMS2XHfTuOYrkygByR8JwG3ZknRXM4oqC6gWFlzuf56fqCYpTJttCo0iq0CS-mC1YWdmRXjsDu3dNESCimfgE_k)

3.Next step is to locate the Support Bundle link at the bottom part of the logs on the right window. Just download it and you send it as requested. 

![](https://lh5.googleusercontent.com/scCmEXdJcmhrfhTgVH76BKXu_LZ44jxXb-0rc-W6marmQjXlFGI0Wvu_XX7WVkcMvRA482lXofZrppPaIZLpS4tLL4g-_kQZhkkkyem1TF-z0jN8LDx4SvpxLsBEN2Y5mW8qrKvW)

Related Articles:

[How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/knowledge/articles/360061919571/en-us?brand_id=2465906)

[Workspace Sessions](https://tickets.dominodatalab.com/hc/en-us/articles/115005294106-Workspace-sessions)

### Recently viewed articles

*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMgGWtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTczMjU1Mi1SZXN1bWFibGUtd29ya3NwYWNlLWNhbm5vdC1iZS1zdG9wcGVkLW9wZW5lZC1vci1kZWxldGVkLURvbWluby00LTQtMC00LTYteAY7CFQ6CXJhbmtpCA%3D%3D--9e887e1433df2ef5c82115ccf830a7c3227df395,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061732552-Resumable-workspace-cannot-be-stopped-opened-or-deleted-Domino-4-4-0-4-6-x/subscription.html ""Opens a sign-in dialog"")

## **Version:**

Domino 4.4.0 - 4.6.x

## **Issue:**

There's a new bug in version 4.4 that may occur if a user stops a workspace before it fully starts up. When user tries to stop or delete the workspace they will see ""Workspace cannot be stopped/deleted from current state"". Attempting to open the workspace also results in an error. 

![Screen_Shot_2021-05-14_at_2.07.44_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/360096738011)

## **Resolution:**

### A mongo query will fix the issue as demonstrated here: 

First you'll need to locate the workspace session

Find a user's id: 

db.users.findOne({""loginId.lowercaseId"":""<userId>""})

Find a user's workspaces, the name of the project and other details will help to identify this: 

db.workspace.find({""ownerId"" : ObjectId(""60664a847b00fa4df622030e"")})

Next, use workspace details from the query above to narrow down on the proper workspace\_session: 

db.workspace\_session.find({""workspaceId"" : ObjectId(""6086eb5cc50ea61fec092733"")}).pretty()

Then put the workspace into a stopped state using: 

db.workspace\_session.updateOne(  
  {\_id: ObjectId(""<your workspace session id>"")},  
  {$set: {sessionExecutionState: ""Ended"", rawExecutionDisplayStatus: ""Stopped""}}  
)

### Recently viewed articles

*   [How to Get Workspace Logs : versions 4.0-.4.3](https://tickets.dominodatalab.com/hc/en-us/articles/360061919751-How-to-Get-Workspace-Logs-versions-4-0-4-3)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)

### Related articles

*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAzkUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMgGWtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE5OTM3Mi1Nb25nby1RdWVyaWVzLWZvci1EdXJhYmxlLVdvcmtzcGFjZXMGOwhUOglyYW5raQY%3D--d635028e22d903519f44abc38112af7b52216983)
*   [Workspace ""errorCode=""NoSuchKey"" errorMessage=""The specified key does not exist."" after CLI upload](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTENGADBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMgGWtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy80NDEyNTQ1NDgzNzk2LVdvcmtzcGFjZS1lcnJvckNvZGUtTm9TdWNoS2V5LWVycm9yTWVzc2FnZS1UaGUtc3BlY2lmaWVkLWtleS1kb2VzLW5vdC1leGlzdC1hZnRlci1DTEktdXBsb2FkBjsIVDoJcmFua2kH--b67da5c23f54f69fbfcf6b8c70d9e40ba9735130)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMgGWtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQg%3D--c2ddaf38237c5d12156fa4e92033c490d052fe9a)
*   [4.0 thru 4.6.1 Dispatcher restarts and connection problems (improper state transitions for workspaces/runs)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTnP5oDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMgGWtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy80NDEzNTE5MjkyMzA4LTQtMC10aHJ1LTQtNi0xLURpc3BhdGNoZXItcmVzdGFydHMtYW5kLWNvbm5lY3Rpb24tcHJvYmxlbXMtaW1wcm9wZXItc3RhdGUtdHJhbnNpdGlvbnMtZm9yLXdvcmtzcGFjZXMtcnVucwY7CFQ6CXJhbmtpCQ%3D%3D--58326c60233ac00fb449180cccc630cc1e761e1a)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFPhXNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMgGWtVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTkxOTU3MS1Ib3ctdG8tR2V0LVdvcmtzcGFjZS1Mb2dzLTQtNC14LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCg%3D%3D--acad8c3780913b228fbd25941e1a48876b7bb6de)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT4tkIEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoi9oYy9lbi11cy9hcnRpY2xlcy80NDE2MzQ1NjY3NzMyLU1pc2xlYWRpbmctZXJyb3ItamF2YS1sYW5nLUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbi1QVkMtUGVyc2lzdGVudFZvbHVtZUNsYWltSWQtZGVmYXVsdC13b3Jrc3BhY2UtNjAwOGQ0OTAyZGRmMjAzYmExZjFlZDM2LWlzLWluLXVzZQY7CFQ6CXJhbmtpCg%3D%3D--0cf4ce9211a423b91af39d5b53f657564c16778f,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4416345667732-Misleading-error-java-lang-IllegalStateException-PVC-PersistentVolumeClaimId-default-workspace-6008d4902ddf203ba1f1ed36-is-in-use/subscription.html ""Opens a sign-in dialog"")

**Background:**

Prior to 4.5.0 a race condition defect can sometimes present an interesting error in the User or execution log of a workspace or run which is misleading. 

The error is:

java.lang.IllegalStateException: PVC PersistentVolumeClaimId(default,workspace-6008d4902ddf203ba1f1ed36) is in use

The race-condition defect occurs because something breaks during the early phase of the Run container and we erroneously try to re-acquire storage.

**Resolution:**

If this error message occasionally appears during failed workspaces for particular projects or particular environments, (rather than something occurring consistently for many different projects and environments), then you are probably encountering the race-condition defect.

Rather than being concerned about problems at a PVC or storage level you instead need to address the reasons why the Run container is failing during it's start.  You can test different environments and the quick-start project to confirm that you are simply seeing this log output due to the race condition defect.   Hopefully the execution and executor log within the support bundle can provide additional clues on why the Run container is failing it's start.

\*If the error happens across all environments and all projects then you likely do have a storage related problem that needs to be addressed with the help of Domino Technical Support

This race condition defect is resolved in version 4.5.0.

### Recently viewed articles

*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/articles/360061732552-Resumable-workspace-cannot-be-stopped-opened-or-deleted-Domino-4-4-0-4-6-x)
*   [How to Get Workspace Logs : versions 4.0-.4.3](https://tickets.dominodatalab.com/hc/en-us/articles/360061919751-How-to-Get-Workspace-Logs-versions-4-0-4-3)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/articles/4409196320788-Error-Workspace-could-not-be-started-Could-not-access-Git-Repository-with-URL-https-URL-Please-check-the-URL-and-your-Git-Credentials)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7tokBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFPhXNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTE4OTk3OTYtUGVyc2lzdGVudC1rZXliaW5kaW5ncy1mb3ItVlNDb2RlBjsIVDoJcmFua2kJ--4189da4a70a6a5d7c3dec809c6c547d171b9c975,"_**I use specific shortcuts in VSCode that do not persist across Workspace restarts.**_

_Can I make persistent keybindings and keyboard shortcuts?_

VSCode settings will persist in Domino 4.4.1 and later. The configuration files will be synced to your Files area and restored on the next Workspace startup.

For 4.3 and earlier, you can create a custom script to copy or link your configuration file."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRZLXEXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0OTg3Mjk1NTYzNzItTW9kZWwtQVBJLWluLVN0YXJ0aW5nLXN0YXRlLWZvcmV2ZXIGOwhUOglyYW5raQg%3D--b720a7ec5c4ac197bd20392ed558d171873ae3de,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4498729556372-Model-API-in-Starting-state-forever/subscription.html ""Opens a sign-in dialog"")

**Problem**:

A newly published Model API seemed stuck in a Starting state for a long time.   Inspection of logs showed an error within the model listing the following repeatedly

\*\*\* no app loaded. GAME OVER \*\*\*

**Resolution:**

There is retry code that repeatedly tries to restart a Model API that encounters failure during launch.   Unfortunately the ""Starting"" forever can actually mean the Model API's code is just failing on repeat.   

This behavior is being improved in version 5.1.0, but for more recent versions you can limit the number of retries.

To limit the retry count in 3.6 til 5.1.0 you can add the following to Central Config:

com.cerebro.domino.modelManager.modelContainer.restartCountLimit

This defines how many times a Model API can fail to launch before being descheduled and not restarting further.   Something reasonable might be a value of 3

### Recently viewed articles

*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id)
*   [Persistent keybindings for VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/4404651899796-Persistent-keybindings-for-VSCode)
*   [Misleading error: ""java.lang.IllegalStateException: PVC PersistentVolumeClaimId(default,workspace-6008d4902ddf203ba1f1ed36) is in use""](https://tickets.dominodatalab.com/hc/en-us/articles/4416345667732-Misleading-error-java-lang-IllegalStateException-PVC-PersistentVolumeClaimId-default-workspace-6008d4902ddf203ba1f1ed36-is-in-use)
*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/articles/360061732552-Resumable-workspace-cannot-be-stopped-opened-or-deleted-Domino-4-4-0-4-6-x)

### Related articles

*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZLXEXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQY%3D--5f64593b001cc43e2ca4b0a90538ff01d86fd9cc)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZLXEXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kH--24b961ad60b2c290aba1690f120f17bd7c64a962)
*   [Unzip a zip file to a dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMehKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZLXEXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTQzMS1VbnppcC1hLXppcC1maWxlLXRvLWEtZGF0YXNldAY7CFQ6CXJhbmtpCA%3D%3D--8ecc701362db3a24726de2cf6b58f3fcae965e64)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZLXEXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCQ%3D%3D--53d515dce19d55726d11cfea95dca15d94ba9fab)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZLXEXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kK--fcb2d5c3f18c6774ef74db8db79a21202778de95)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4498729556372-Model-API-in-Starting-state-forever) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPjzKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTcDRNZFjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTg1MTY0NzItQ2FuLURvbWluby1TdXBwb3J0LWhlbHAtbWUtaW5zdGFsbC1EYXRhLVNjaWVuY2UtcGFja2FnZXMtYW5kLWJ1aWxkLUNvbXB1dGUtRW52aXJvbm1lbnRzLWZvci1tZQY7CFQ6CXJhbmtpCg%3D%3D--f8e2d885d208dbb0515b1f1b88734bed7446e526,"In general, we do not support or maintain customized compute environments and package installs.  We can help in these situations with failed package installs either at runtime or in Compute Environments though, since we understand that installing python and R data science packages can sometimes be challenging.   So if you have hit a road block let us know and we'll do what we can to help out."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQOlPSSDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzEzODI1MzA4MTAyMTY0LU15LXNldHRpbmdzLWFyZS1ub3Qtc2F2ZWQtd2hlbi11c2luZy1jdXN0b20tVlNDb2RlLWltYWdlBjsIVDoJcmFua2kG--4e6dbf51979f558a9ab04aef498548849de3c750,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13825308102164-My-settings-are-not-saved-when-using-custom-VSCode-image/subscription.html ""Opens a sign-in dialog"")

**Issue:** When using custom (non Domino provided) VSCode image my settings are not saved after workspace restart.  

**Root cause:**  When using Domino provided image for VSCode the user configuration files will already be specified in the image and their location would be under /mnt which is one of the few locations that is synced to DFS . However if you are using a custom image your VSCode configuration files location might be different. For example /home/<user>/.vscode/settings.json or any other location under /opt or /var. None of those locations will be synced to DFS which creates the problem of any changed settings not being saved. 

**Solution:** To resolve this you can inject your settings in the workspace at start time instead. To do this you will first have to find the location of the config files.  Press ctrl+shift+P and in the text box type ""Open Settings (JSON)""

![](https://tickets.dominodatalab.com/hc/article_attachments/13824952794260)

That will present you with editor and the settings.json file which will have the path noted as well: 

![](https://tickets.dominodatalab.com/hc/article_attachments/13825009900820)

In this example we are using /mnt/.vscode/User/settings.json . However in custom images you might have various locations under /opt /var or /home . 

Once identified the path for the settings.json, go to your environment and add the following to your pre-run script section: 

mkdir -p /home/ubuntu/.local/share/code-server/User/  
cat <<EOT >> /home/ubuntu/.local/share/code-server/User/settings.json  
{  
""files.autoSave"": ""off""  
}  
EOT

This example is using location under /home and is introducing a setting to disable the autosave feature for VSCode. Any settings you would like to make permanent can be added in between the {.....}  . 

### Recently viewed articles

*   [Can Domino Support help me install Data Science packages and build Compute Environments for me?](https://tickets.dominodatalab.com/hc/en-us/articles/360058516472-Can-Domino-Support-help-me-install-Data-Science-packages-and-build-Compute-Environments-for-me)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/articles/4410698565908-Samba-clients-as-an-alternative-to-CIFS-mounted-shared-drives)
*   [Model API in "" Starting "" state forever](https://tickets.dominodatalab.com/hc/en-us/articles/4498729556372-Model-API-in-Starting-state-forever)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id)

### Related articles

*   [VSCode requires python plugin reload in Domino Standard Enviornment for 5.6 & 5.7](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRA7Py9EToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQOlPSSDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE5NTA3Njg5ODMyNTk2LVZTQ29kZS1yZXF1aXJlcy1weXRob24tcGx1Z2luLXJlbG9hZC1pbi1Eb21pbm8tU3RhbmRhcmQtRW52aW9ybm1lbnQtZm9yLTUtNi01LTcGOwhUOglyYW5raQY%3D--8ab89d1a826187757ffd837eba633795b387f07b)
*   [Can I upgrade my Environment to Python 3.10?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSN51SqEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQOlPSSDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzE5NDIzMjY2NTczNTg4LUNhbi1JLXVwZ3JhZGUtbXktRW52aXJvbm1lbnQtdG8tUHl0aG9uLTMtMTAGOwhUOglyYW5raQc%3D--476d2a056cd348f73516875ce054816bd195c3e8)
*   [How do I delete organizations in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCLenKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQOlPSSDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njk1MS1Ib3ctZG8tSS1kZWxldGUtb3JnYW5pemF0aW9ucy1pbi1Eb21pbm8GOwhUOglyYW5raQg%3D--0b815c4568391d1e7bc5e5a22007e82552a09817)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQPwkHpEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQOlPSSDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzE5NjkzNTI4Mjg5MDQ0LUFjY2Vzcy1wcm9qZWN0LWZpbGVzLWR1cmluZy1kb2NrZXItYnVpbGQtdXNpbmctRG9ja2VyZmlsZS1JbnN0cnVjdGlvbnMGOwhUOglyYW5raQk%3D--19d2a6759a5053c1b89ecd093b62d81da5751040)
*   [Install VS Code](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmz0Q0DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQOlPSSDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI2L2hjL2VuLXVzL2FydGljbGVzLzE1NjE3NjU1NTE0NzcyLUluc3RhbGwtVlMtQ29kZQY7CFQ6CXJhbmtpCg%3D%3D--ddfa7e5df34e6853ea8734b6d099406b1b93d564)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSn6XqdEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT4dS%2BrEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhS9oYy9lbi11cy9hcnRpY2xlcy8xOTM2ODA2OTY3MDY3Ni1DaG9vc2luZy1iZXR3ZWVuLWEtR2l0LWJhc2VkLXByb2plY3QtR0JQLWFuZC1hLURvbWluby1GaWxlLVN5c3RlbS1ERlMtcHJvamVjdC13aXRoLWFuLWltcG9ydGVkLXJlcG8GOwhUOglyYW5raQg%3D--e24b007da045970fcc51af153ab78791095d5ee6,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

Viv Houghton

*   6 months ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All Domino versions

* * *

## **Issue:**

You're not sure which to choose:

*   [Git-based project (GBP)](https://docs.dominodatalab.com/en/latest/user_guide/910370/git-based-projects/)
*   [Domino File System (DFS) project with an imported repo](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/)

* * *

## **Resolution:**

It's very much a matter of preference based on your workflow:  
   
Consider using a [Git-based project](https://docs.dominodatalab.com/en/5.5/user_guide/910370/git-based-projects/) if you are already heavily invested in the GitHub/Gitlab/Bitbucket workflow and want to collaborate with several data scientists on projects.

*   Git-based projects provide a full git experience for your code, with the default working directory set to work with your remote repo.
*   All code sessions will be configured to work with all of the common git workflows like committing, pushing changes, and switching branches.
*   These projects will have a [different file structure](https://docs.dominodatalab.com/en/latest/user_guide/ccaee6/git-based-project-directory-structure/) than the Domino File System (DFS) based projects and allow you to separate commits to the git repo from commits to the Domino projects.
*   View the [Git-Based Projects Overview video](https://university.domino.ai/domino-101-getting-started-v57/1716278) in Domino University.

   
Consider [Importing a Git repo](https://docs.dominodatalab.com/en/5.5/user_guide/314004/import-git-repositories/#_commit_back_to_git_repositories) into your project if you want to work with and sync back to the repo.

*   Importing a git repository allows you to work with files in that remote repo and sync work back to that repo.
*   You can import multiple repositories into the same project using this tool, which can be either a Git-based or DFS-based project.
*   You will not be able to execute certain git commands, and must choose the branch to work with when setting this up.
*   Code from that repo will also _not_ be in the default working directory. 
*   View the [Importing Git Repos video](https://university.domino.ai/domino-101-getting-started-v57/1716279) in Domino University

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [My settings are not saved when using custom VSCode image](https://tickets.dominodatalab.com/hc/en-us/articles/13825308102164-My-settings-are-not-saved-when-using-custom-VSCode-image)
*   [Can Domino Support help me install Data Science packages and build Compute Environments for me?](https://tickets.dominodatalab.com/hc/en-us/articles/360058516472-Can-Domino-Support-help-me-install-Data-Science-packages-and-build-Compute-Environments-for-me)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/articles/4410698565908-Samba-clients-as-an-alternative-to-CIFS-mounted-shared-drives)
*   [Model API in "" Starting "" state forever](https://tickets.dominodatalab.com/hc/en-us/articles/4498729556372-Model-API-in-Starting-state-forever)

### Related articles

*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSn6XqdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kG--6d5e090b48d79c50555cf642b565ab476b884b97)
*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQWIboPCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSn6XqdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEyMTYyMTc1MTQ1NDkyLUhvdy10by1VbmFyY2hpdmUtYS1wcm9qZWN0BjsIVDoJcmFua2kH--6148e6c2c79688077faa3396798ff8531db4bc9a)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSn6XqdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQg%3D--bd4086d66a6707097c456bf3b90ad03462ce8ef0)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSn6XqdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--30258deb80c13e80c4d2c3f1739a92a2d5da0a6e)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSn6XqdEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kK--06dd309cfdc957b3cd54c13998a740b5953f462e)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSCqSM3DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSAx%2F0cEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzEzNDMwOTYxMDQ2MDM2LURhdGFzZXRzLXBhZ2UtZmFpbHMtdG8tbG9hZC13aXRoLWVycm9yLUZhaWxlZC10by1mZXRjaC1EYXRhc2V0LWRldGFpbHMGOwhUOglyYW5raQY%3D--5a074e0eafe7933dd6f212f3763dbd5fb2340ac1,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13430961046036-Datasets-page-fails-to-load-with-error-Failed-to-fetch-Dataset-details/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino version <5.4.

* * *

## **Issue:**

In the UI, the Admin Datasets page fails to load with the error:

*   `Failed to fetch Dataset details.` 

In the Chrome Developer Tools, the Console tab shows these errors:

*   `Failed to load resource: the server responded with a status of 403 (Forbidden)` 
*   `Failed to load resource: the server responded with a status of 502 ()`

![Failed_to_fetch_Dataset_details_error_with_502_and_403.png](https://tickets.dominodatalab.com/hc/article_attachments/13430526836500)

* * *

## **Root Cause:**

This is due to hitting the default timeout. This is a known issue where the `nucleus-frontend` is taking longer than the default 75-second timeout to retrieve the datasets and snapshots. This can happen for very large deployments. 

* * *

## **Resolution:**

This issue is resolved in Domino version 5.4.0. Reference DOM-40828.

### Workaround:

As a temporary workaround, Domino Admins with access to the Kubernetes cluster can increase the timeout value. Since this requires an edit to the frontend yaml file and a restart of the frontends, we recommend applying this change after business hours.

1.  In the `nucleus-frontend` deployment yaml, go to `Containers → nucleus-frontend → Environment → DOMINO_COMMAND_OPTS`.
2.  At the bottom of the `DOMINO_COMMAND_OPTS` section, add the line:  
    `-Dplay.server.http.idleTimeout=200s`
3.  Save the change. This will trigger a restart of the `nucleus-frontend` pods with the new timeout.
4.  In the UI, test loading the Admin Datasets page. Generally, 200 seconds should suffice. However, you may have to set this value higher if you continue to see the error.

Please note that this is not a long-term solution. This is a temporary workaround until you upgrade your Domino version to 5.4.0 or higher.  

* * *

## **Notes/Information:**

Additional caveats: Although this change will survive a pod-restart, the setting will not persist after an upgrade or a new installation since the `nucleus-frontend` deployment yaml will be overwritten to not contain this new flag. Also, increasing the timeout could also keep other connections alive for longer. In extreme circumstances, this could exhaust resources.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/articles/6101281885076-Build-error-for-nvidia-GPG-key)

### Related articles

*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIucKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCqSM3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDA5MS1TZXR0aW5nLVVwLWEtSkRCQy1vci1PREJDLUNvbm5lY3Rpb24tZnJvbS1Eb21pbm8tSW5jbHVkaW5nLUluZm9ybWF0aWNhLUNvbm5lY3Rpb25zBjsIVDoJcmFua2kG--c67cfa5f42584b01f9a4253ca6ed7964fc3a6630)
*   [Increasing the memory for Redis on Domino deployments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQTq38xDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCqSM3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzEzNDA2NzM0ODQ4Nzg4LUluY3JlYXNpbmctdGhlLW1lbW9yeS1mb3ItUmVkaXMtb24tRG9taW5vLWRlcGxveW1lbnRzBjsIVDoJcmFua2kH--bfc59d0c96f3a8b6c33e9f68f3896d20862b25b0)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTS4BTlBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCqSM3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzc1ODA5Njc1NTU3MzItRXJyb3ItUmVhZGluZXNzLXByb2JlLWZhaWxlZC1jYXQtdmFyLWxpYi1kb21pbm8taG9tZS1hcGktdG9rZW4tTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpCA%3D%3D--61b117c0beafcbcce74ecdb933b44b37b3421d53)
*   [""Permission denied"" when trying to access the DMM prediction data logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT6TiPlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCqSM3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzUzODIxODY0MDAyNzYtLVBlcm1pc3Npb24tZGVuaWVkLXdoZW4tdHJ5aW5nLXRvLWFjY2Vzcy10aGUtRE1NLXByZWRpY3Rpb24tZGF0YS1sb2dzBjsIVDoJcmFua2kJ--e01f5cfc4c674a7478e49d9a6cdb8b614a5f8b37)
*   [My Workspace is not added to a Node. Some Nodes are 'NotReady'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgFOoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCqSM3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTQ4NTg2MDA1OTYtTXktV29ya3NwYWNlLWlzLW5vdC1hZGRlZC10by1hLU5vZGUtU29tZS1Ob2Rlcy1hcmUtTm90UmVhZHkGOwhUOglyYW5raQo%3D--a2bd90d78f3ed70a9eb6df49cfd74c7de11333bd)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmCjDUEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy8yMTgwMjA1OTk4MjM1Ni1UaGUtd29ya2JlbmNoLWZhaWxlZC10by1jb25uZWN0LXRvLXRoZS1zZXJ2ZXItRXJyb3ItV2Vic29ja2V0LWNsb3NlLXdpdGgtc3RhdHVzLWNvZGUtMTAwNgY7CFQ6CXJhbmtpBg%3D%3D--ac9110bea1af4e7e82b9ffcf4ba4f64dc10ae06c,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/21802059982356-The-workbench-failed-to-connect-to-the-server-Error-Websocket-close-with-status-code-1006/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This kb article eis relevant to Domino versions 5.7 and prior, for users using VScode workspaces with code-server [4.10.1](https://github.com/coder/code-server/releases/tag/v4.10.1 ""https://github.com/coder/code-server/releases/tag/v4.10.1"") (note the 5.7 DSE uses slightly older 4.10.0)

* * *

## **Issue:**

Workspaces for VSCode (Visual Studio code) fail with error ""The workbench failed to connect to the server (Error: Websocket close with status code 1006)"" during startup.

![codeserver-websocket.png](https://tickets.dominodatalab.com/hc/article_attachments/21802031925012)

These are using a modified compute environment which uses a slightly newer version of code-server (4.10.1 or higher) than is shipped with the Domino Standard Environment (DSE).

* * *

## **Root Cause:**

code-server (which allows you to run VSCode on a remote server through the browser) version [4.10.1](https://github.com/coder/code-server/releases/tag/v4.10.1 ""https://github.com/coder/code-server/releases/tag/v4.10.1"") added some improvements to the way web sockets work to prevent cross-site hijacking. This change isn't supported in Domino 5.7 or prior, and results in the error.

Reference:

[![](https://github.com/fluidicon.png)The workbench failed to connect to the server (Error: WebSocket close with status code 1006) · Issue #4443 · coder/code-server](https://github.com/coder/code-server/issues/4443)

\*\*\* This problem could also occur in various versions of Domino and code-server if there are browser settings or network settings that break websockets.

* * *

## **Resolution:**

This problem which occurs when using 4.10.1 and above is resolved as of Domino version 5.8.  For example in 5.8 you can upgrade code-server in Domino 5.8 via these steps to 4.10.1 or even newer versions: https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher

* * *

## **Notes/Information:**

Domino 5.7 and 5.8 DSE include code-server 4.10.0. 5.9's DSE includes code-server 4.17.

### **References/Internal Records:**

include any keys to related Jiras here (OTs, Bugs, FRs, etc.)

*   https://dominodatalab.atlassian.net/browse/DOM-51159

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How do I read and write to a dataset from my Spark-on-demand cluster in Domino? (Domino <4.5.0)](https://tickets.dominodatalab.com/hc/en-us/articles/360058493771-How-do-I-read-and-write-to-a-dataset-from-my-Spark-on-demand-cluster-in-Domino-Domino-4-5-0)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [Why can't I see the hardware tier I was expecting to see in my project?](https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project)
*   [Datasets page fails to load with error: ""Failed to fetch Dataset details.""](https://tickets.dominodatalab.com/hc/en-us/articles/13430961046036-Datasets-page-fails-to-load-with-error-Failed-to-fetch-Dataset-details)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/articles/6101281885076-Build-error-for-nvidia-GPG-key)

### Related articles

*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRoXHWYEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmCjDUEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzIxNTQ1NTI0OTQ3MDkyLUhvdy10by11cGRhdGUtVlNDb2RlLXRvLWEtbmV3ZXItdmVyc2lvbi1pbi1Eb21pbm8tNS04LW9yLWhpZ2hlcgY7CFQ6CXJhbmtpBg%3D%3D--1d3edd13de7d344ffa89e9fd84ad05c9d9b5507b)
*   [Install VS Code 1.45.1 with Marketplace Extension support](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDSwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmCjDUEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJeL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDM3Mi1JbnN0YWxsLVZTLUNvZGUtMS00NS0xLXdpdGgtTWFya2V0cGxhY2UtRXh0ZW5zaW9uLXN1cHBvcnQGOwhUOglyYW5raQc%3D--6c0ccf5fccb03c2ff2fc75b26ae85daa2f3213ae)
*   [Workspace stuck in 'Preparing' with Multi-Attach error for volume ""pvc-xxxxx""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRfKYR%2FEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmCjDUEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzE5MjM5Mzc1ODIyNzQwLVdvcmtzcGFjZS1zdHVjay1pbi1QcmVwYXJpbmctd2l0aC1NdWx0aS1BdHRhY2gtZXJyb3ItZm9yLXZvbHVtZS1wdmMteHh4eHgGOwhUOglyYW5raQg%3D--0230ee6bc52f0d1b0c675bf9b206daeb67687645)
*   [Problems with VSCode and how to fix them](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRR10R1CToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmCjDUEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzEwMzk5MjcwNzg1MzAwLVByb2JsZW1zLXdpdGgtVlNDb2RlLWFuZC1ob3ctdG8tZml4LXRoZW0GOwhUOglyYW5raQk%3D--133a2bae18af5ef9ae6ede0356f158249ad000d1)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmCjDUEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCg%3D%3D--06977b6d83e2db3bc7e162f5ccf0e63903c45202)"
https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRoXHWYEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kH--041ab0b82c1161ef07d56a663a73ee8b7613d69d,"![](https://tickets.dominodatalab.com/system/photos/360352320752/image.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058039392-Getting-started-with-Streamlit-in-Domino/subscription.html ""Opens a sign-in dialog"")

Here's how you can do cool things with [Streamlit](https://docs.streamlit.io/en/stable/) in Domino:

1\. **Installation:** Install these packages in a compute environment in Domino:

  USER root
  RUN R -e ""install.packages(c('argparser', 'XML', 'plyr', 'magrittr', 'tidyr', 'tidyverse'))""
  RUN pip install streamlit --upgrade
  RUN pip install protobuf --upgrade

This can be done using your own base image, or a Domino base image such as [Domino Analytics Distribution (DAD) Py3.8 R4.0 image](https://github.com/dominodatalab/Domino_Base_Images/tree/master/Domino_Analytics_Distribution/2021_q1_py3.8_r4.0). Latest version of protobuf as of November 2023 is [Protocol Buffers v25.1](https://github.com/protocolbuffers/protobuf/releases/tag/v25.1) . Latest installed version of steamlit will provide you [Version 1.29.0](https://docs.streamlit.io/library/changelog). Additional package dependencies may need to be added. 

2\. **Building a Streamlit app:** To demonstrate this, I created a simple app file called `streamlit_app.py` in my `streamlit-demo` project by using the code at [https://raw.githubusercontent.com/streamlit/demo-uber-nyc-pickups/master/streamlit\_app.py](https://raw.githubusercontent.com/streamlit/demo-uber-nyc-pickups/master/streamlit_app.py). I ran into an error with `beta_set_page_config` on line 25 of the hosted code so ended up just commenting out that line.

[![GV26bLgZxrU-iVzRUeW6Nsoi6gouj1WaS1GWPeYRs8tMB-M1FzuvTUojzCnTx7xP3JZIjdO5On13HxDySQcB1fZbYSCGyMcCTBOjorfiHxoBYUhekXFROnwMgiMIrFztJAhrhSSx](https://tickets.dominodatalab.com/hc/article_attachments/21534037765268)](https://tickets.dominodatalab.com/hc/article_attachments/21534037765268)

3\. **Live testing the streamlit app:** You can leverage jupyter server proxy to host your code as an app from within a jupyter workspace. To do so, ensure that [jupyterlab](https://jupyterlab.readthedocs.io/en/stable/getting_started/installation.html#pip) and [jupyter server proxy](https://jupyter-server-proxy.readthedocs.io/en/latest/install.html) are installed in the compute environment before you launch a jupyterlab workspace. If you are using a DAD environment, this should be already installed for you.

Considering that the streamlit app file `streamlit_app.py` is ready for development/testing in my `/mnt` directory in my project files, launch a new terminal in jupyterlab and run the streamlit app using the following commands:

`streamlit run streamlit_app.py`

[![DSLVwv0a1OOugvGcQ8wduleezAkuZgrPwGO8A1UHqHeryZt3fteKFUlSK3tjF8sSg1OS_M8xfcUwSBDE-HCyb_EOG-SygZ4xcpB95M74oqx4R2Nfl-k_zMkCiq4v-3w9xgLSvuif](https://tickets.dominodatalab.com/hc/article_attachments/21534037767572)](https://tickets.dominodatalab.com/hc/article_attachments/21534037767572)

This will host the app and enable you to access it via jupyter server proxy in a new browser tab by [building a URL with the run-id of your workspace](https://docs.dominodatalab.com/en/4.2/reference/workspaces/Accessing_multiple_hosted_applications_in_one_Workspace_session.html?highlight=bokeh#using-jupyter-server-proxy):

https://<your-domino-url>/<your-username>/<your-project-name>/notebookSession/<run-id>/proxy/<streamlit-port>/

By default, streamlit apps get published on port `8501`. In my case, I grabbed the run-id for my workspace from the URL and built a new URL for live testing the streamlit app as follows:

[https://demo.dominodatalab.com/akshay\_ambekar/streamlit-demo/notebookSession/602d6f923fe24e53f87e7d2c/proxy/8501/](https://demo.dominodatalab.com/akshay_ambekar/streamlit-demo/notebookSession/602d6f923fe24e53f87e7d2c/proxy/8501/)

[![g-cidz-zN3l5PfL7eMH56xqeS-Mg96sTy66r3AtuEmNpWPty5cfEQ5KuWCvplCOHriqTN7IghP4nhOlpXK7kUtbUcSwswaB3PogIlFv7jVg1yDCNE2Hiamei1CejhxYRR2VPjqjq](https://tickets.dominodatalab.com/hc/article_attachments/21534037770260)](https://tickets.dominodatalab.com/hc/article_attachments/21534037770260)

_Note the trailing \`/\` at the end of the URL. Please specify it in the URL else your app will not load._ 

4\. **Publishing the app (once development is done):** You can [publish this app](https://docs.dominodatalab.com/en/4.2/reference/publish/apps/App_publishing_overview.html#how-do-i-publish-an-app) in Domino with just a bunch of clicks once the app development is complete. To do so, create an `app.sh` file in your project and add the following contents inside:

mkdir ~/.streamlit
echo ""\[browser\]"" > ~/.streamlit/config.toml
echo ""gatherUsageStats = true"" >> ~/.streamlit/config.toml
echo ""serverAddress = \\""0.0.0.0\\"""" >> ~/.streamlit/config.toml
echo ""serverPort = 8888"" >> ~/.streamlit/config.toml
echo ""\[server\]"" >> ~/.streamlit/config.toml
echo ""port = 8888"" >> ~/.streamlit/config.toml
echo ""enableCORS = false"" >> ~/.streamlit/config.toml
echo ""enableXsrfProtection = false"" >> ~/.streamlit/config.toml

streamlit run streamlit\_app.py

The app.sh file tells Domino what to deploy along with the host and port information. After you save the `app.sh` file, you can navigate to Publish > App > Follow the form and Start the App.

Once the app is published, you can view your app by clicking the View App button. 

[![bh1mjfJawBpjIm9VpJNcXFzzQSe5eBErjyfJ1UMyz0jeRQVz3AqhRzwa090kiALwUau_fLbnlwNvcYWbXmU7wMTik8LRA90J22rS5elrl3ATWrn-8hQLN27QVuIQUHcrVzmBGSYE](https://tickets.dominodatalab.com/hc/article_attachments/21534037770644)](https://tickets.dominodatalab.com/hc/article_attachments/21534037770644)

### Recently viewed articles

*   [The workbench failed to connect to the server (Error: Websocket close with status code 1006)](https://tickets.dominodatalab.com/hc/en-us/articles/21802059982356-The-workbench-failed-to-connect-to-the-server-Error-Websocket-close-with-status-code-1006)
*   [How do I read and write to a dataset from my Spark-on-demand cluster in Domino? (Domino <4.5.0)](https://tickets.dominodatalab.com/hc/en-us/articles/360058493771-How-do-I-read-and-write-to-a-dataset-from-my-Spark-on-demand-cluster-in-Domino-Domino-4-5-0)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [Why can't I see the hardware tier I was expecting to see in my project?](https://tickets.dominodatalab.com/hc/en-us/articles/21883538584980-Why-can-t-I-see-the-hardware-tier-I-was-expecting-to-see-in-my-project)
*   [Datasets page fails to load with error: ""Failed to fetch Dataset details.""](https://tickets.dominodatalab.com/hc/en-us/articles/13430961046036-Datasets-page-fails-to-load-with-error-Failed-to-fetch-Dataset-details)

### Related articles

*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpBg%3D%3D--4fa5f956ba963bb601a2bc197c72ea31cc49bf58)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpBw%3D%3D--ed7ac9bc2b49ab2c13d687b6c2d0dcbc12de2a7e)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpCA%3D%3D--64140bf47c9992e1f993255a23adcf44787e7dda)
*   [Upload limit in apps hosted on Domino 4.x - 413 error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRgkIoBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NjYxOTYxMTYtVXBsb2FkLWxpbWl0LWluLWFwcHMtaG9zdGVkLW9uLURvbWluby00LXgtNDEzLWVycm9yBjsIVDoJcmFua2kJ--30fb2b5fcd6b24299f8dd6fbec7553096a2cf853)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCg%3D%3D--eb239b0d2ab5f8d303d6d3de3741846f5f447a30)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360000203363-Environments&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203363-Environments/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360061051872-Persistent-packages-Shiny,"## How can I make a package persist for my Shiny app so I do not need to (re)install it every time I start my workspace?

You should view the [Environment Management](https://tickets.dominodatalab.com/hc/en-us/articles/115000392643) article to learn how to build your own Environment which can include OS-related packages, Python and R.

### Example: I want to use Markdown and flexdashboard in my app?

In your Dockerfile, add these commands:

RUN R --no-save -e ""install.packages(c('flexdashboard', 'rmarkdown'))"""
https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab,"#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Question:**

What do the ![:heavy_check_mark:](https://lh4.googleusercontent.com/JEHzy0Bz0NCZ5IMqRaoQqO5RXcZRxZnACYJNJZ_jcPbU-9uJwgz-dLwhijG-dZH-YDebNtgaaAl0JGQ_d35V8Rt6Q0h2AwfQM8WNMpgyVZM9hcms1zDmhNoFhQ5-jBvJEv1r3rtXTaDFlacTt1MzK-s) ![:no_entry_sign:](https://lh4.googleusercontent.com/jJxi6PxL7ZiHXxERHUCgtzm7at4aja-dywBIb1cmfmcjou3tDbdXzN_bZLjuZSeXRlQbidylMZMC3fxWlqiaVMNR-4cXzg0sapVnVpK8boLYyzhYdErhj3bv2Bq5iAGHa8KormUGHOBpQxqDOT7L9sY) ![:warning:](https://lh4.googleusercontent.com/2coI9g9jJ9iABiuvUUtbbRB_bxQFtvK8RfPNiFcRfT8bhPQoEtlZUC6NxobbTQChgIVePUgTMtdHwtySpybIrlsuBmfoi4TrP7Tu6KyK_nB7w8m2Z0aKP3TAKcHd-O1snFJ9kqIU-3jTVP5V3p0s1V8) symbols mean under **Environment** > **Projects** tab > **Runs** column?

![Environment - Projects tab - Runs column.png](https://tickets.dominodatalab.com/hc/article_attachments/19495135046292)

* * *

## **Answer:**

The symbols indicate the status of the project's last runs:

![:heavy_check_mark:](https://lh4.googleusercontent.com/JEHzy0Bz0NCZ5IMqRaoQqO5RXcZRxZnACYJNJZ_jcPbU-9uJwgz-dLwhijG-dZH-YDebNtgaaAl0JGQ_d35V8Rt6Q0h2AwfQM8WNMpgyVZM9hcms1zDmhNoFhQ5-jBvJEv1r3rtXTaDFlacTt1MzK-s) is Success

![:no_entry_sign:](https://lh4.googleusercontent.com/jJxi6PxL7ZiHXxERHUCgtzm7at4aja-dywBIb1cmfmcjou3tDbdXzN_bZLjuZSeXRlQbidylMZMC3fxWlqiaVMNR-4cXzg0sapVnVpK8boLYyzhYdErhj3bv2Bq5iAGHa8KormUGHOBpQxqDOT7L9sY) is Stopped

![:warning:](https://lh4.googleusercontent.com/2coI9g9jJ9iABiuvUUtbbRB_bxQFtvK8RfPNiFcRfT8bhPQoEtlZUC6NxobbTQChgIVePUgTMtdHwtySpybIrlsuBmfoi4TrP7Tu6KyK_nB7w8m2Z0aKP3TAKcHd-O1snFJ9kqIU-3jTVP5V3p0s1V8) is Failure

For example, in the above screenshot, the stopped run under the **dm** project corresponds to the **Stopped** workspace that's using that environment:

![Workspace status - Stopped.png](https://tickets.dominodatalab.com/hc/article_attachments/19495146435860)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203363-Environments/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11/subscription.html ""Opens a sign-in dialog"")

### Issue

I have Python 2, Python 3 etc. I need Python 3.11 or better

Can I upgrade Python 3.11 with security patches or fixes?

I have DSE 5.3 up to 5.7 and would like Python 3.11

### Solutions to the above

There is an option to re-install Miniconda to a release more suitable to your purpose.

Please find included the Dockerfile which will work for Domino 5.5 and later and will allow you to repeat the installation steps of the Python installation and run basic upgrade of conda, which is assumed to stabilise the Environment. This may downgrade some packages and upgrade others and you will need to review the particular versions you need and run the preceding conda or pip install commands - through the Dockerfile, requirements.txt or other means.

You will lose Jupyter packages but the Dockerfile attempts to reinstall them as appropriate based on testing.

Alternatively just [upgrade the Python OS version](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment), but ensure you're linked to the right Kernel in Jupyter etc.

### Tested and compliant

Python 3.9 is available in DSE images and tested against most Domino Deployments. Depending on the release you require, you might be able to test using an upstream DSE image for the next Domino release. This may have unintended consequences and some IDE's may not work. There is no testing done for new Environments on older releases.

### Security requirements and patches for Python 3.11

To upgrade conda and Python, you can make an derivative of your Environment or append it with:

RUN conda install -c conda-forge -y --force-reinstall python==3.11.5 conda

This will rebuild the conda packages and install Python 3.11.5 based on which path and requirement.

### My DSE base image has an older Python (3.8 or 3.9), can I upgrade to Python 3.11?

This question has a Yes answer, but caveat that of September 2023, the domino-code-assist is dependant on vaex-core which has not released a Python 3.11 compatible version and you will lose the functionality of domino-coda-assist (at least temporarily).

Please find attached Dockerfile examples which should enable upgrading Domino provided default Environments and will also install conda to match. These are tested against standard Environments from quay.io.

Primarily what they do is download Miniconda, re-install a few base packages BUT does not aim for highest releases of python or conda installed packages. Your dependancy may require additional work.

Since there are known issues with older DAD/DSE images, please check the KB articles for additional Dockerfile assistance if you're stuck on OS or apt commands (i.e. yarn, nvidia, sbt, pgp related errors show up in your build).

Use the Dockerfile at your own risk and leisure - each file extension has the Domino release it was tested against. Remove the FROM line, which shows which quay.io image was tested against as well.

The attached Dockerfile is primarily tested against a Domino 5.5 Environment.

### I tried your Dockerfile but Models do not work

Please find a new Dockerfile, DockerPy3.11\_57.txt which is built against Domino 5.7 DSE but should work for 5.5 as well. It rebuilds the Conda packages as much as possible and has a fix where the pip link might point to a built-in Python rather than Conda.

## **Note:** 

While Domino Support does try to help users with environment issues, our main focus is Domino's core product. If you run into issues with your environments, the best first step is to connect with your local admins. 

### Recently viewed articles

*   [Symbols in Runs column under an Environment’s Projects tab](https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab)
*   [Persistent packages (Shiny)](https://tickets.dominodatalab.com/hc/en-us/articles/360061051872-Persistent-packages-Shiny)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/articles/9622299237780-Exotic-IDE-VNC-or-Compute-Environment-Support-why-is-it-not-supported)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/articles/16764574536852-Workspace-error-Selected-hardware-tier-is-not-available-in-the-Availability-Zone-allocated-to-the-workspace)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)

### Related articles

*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTyjGWqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpBg%3D%3D--16b90897f09a615936ad58dcd47cf7afc4e2f482)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS31UaqEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTyjGWqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzE5NDIzMDMwNTIzNjY4LUNhbi1JLXVwZ3JhZGUtUHl0aG9uLWluLW15LUVudmlyb25tZW50BjsIVDoJcmFua2kH--dace3893eccbe74c92125bdd2208eb52d9b4c46b)
*   [Python package psycopg2 import fails with an error from libffi](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT%2BTVtUEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTyjGWqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzE3OTU0NDk1MTM1MjUyLVB5dGhvbi1wYWNrYWdlLXBzeWNvcGcyLWltcG9ydC1mYWlscy13aXRoLWFuLWVycm9yLWZyb20tbGliZmZpBjsIVDoJcmFua2kI--5f7366caf571efcc4649eb702ec165cbd956d466)
*   [not authorized error during CLI ""domino sync"" command](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQorK6mEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTyjGWqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzE5NDA3NTkyNzYxMzY0LW5vdC1hdXRob3JpemVkLWVycm9yLWR1cmluZy1DTEktZG9taW5vLXN5bmMtY29tbWFuZAY7CFQ6CXJhbmtpCQ%3D%3D--3cfab05f6bad2f993c3a466003256b95f5c131de)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTyjGWqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQo%3D--68ea837bddeea8f326839de4b052b700f3582700)"
https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment/subscription.html ""Opens a sign-in dialog"")

### Issue

I have 2 or 3 different Python versions - can I declutter?

I have Python 2, Python 3 etc. I need Python 3.9 or better

Can I upgrade Python 3.9 with security patches or fixes?

I have DSE 5.x up to 5.3 and would like Python 3.9

### Solutions to the above

If the resolution to upgrade does not fall within the scope of this article (which will upgrade the OS version to 3.11) then there is an option to re-install Miniconda to a release more suitable to your purpose.

Please find included the Dockerfile which will work for Domino 5.x to 5.4 and will allow you to repeat the installation steps of the Python installation and run basic upgrade of conda, which is assumed to stabilise the Environment. This may downgrade some packages and upgrade others and you will need to review the particular versions you need and run the preceding conda or pip install commands - through the Dockerfile, requirements.txt or other means.

### Declutter

The best solution to only have the minimum amount of different Python packages is to use a DSE image most appropriate to your platform, then use conda to update packages or pip (when the required revision of your Python libraries is not available in the conda forge repository)

You will usually be left with 2 Python versions after Ubuntu 20.04 and 22.04 although Python 2.7 is still around for some older Enterprise DAD/DSE images.

Python 3.8 and Python 3.9 is available in DSE images. Depending on the release you require, you might be able to test using an upstream DSE image for the next Domino release. This may have unintended consequences and some IDE's may not work. There is no testing done for new Environments on older releases.

### Security requirements and patches for Python 3.9

To upgrade conda, you can make an derivative of your Environment or append it with:

RUN conda install -c conda-forge -y --force-reinstall python==3.9.18 conda

This will rebuild the conda packages and install Python 3.9.18 (currently the latest 3.9 branch)

### My DSE base image has an older Python (3.6 or 3.8), can I upgrade to Python 3.9?

Please find attached Dockerfile examples which should enable upgrading Domino provided default Environments and will also install conda to match. These are tested against standard Environments from quay.io.

Primarily what they do is download Miniconda, re-install a few base packages BUT does not aim for highest releases of python or conda installed packages. Your dependancy may require additional work.

Since there are known issues with older DAD/DSE images, please check the KB articles for additional Dockerfile assistance if you're stuck on OS or apt commands (i.e. yarn, nvidia, sbt, pgp related errors show up in your build).

Use the Dockerfile at your own risk and leisure - each file extension has the Domino release it was tested against. Remove the FROM line, which shows which quay.io image was tested against as well.

### Recently viewed articles

*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11)
*   [Symbols in Runs column under an Environment’s Projects tab](https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab)
*   [Persistent packages (Shiny)](https://tickets.dominodatalab.com/hc/en-us/articles/360061051872-Persistent-packages-Shiny)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/articles/9622299237780-Exotic-IDE-VNC-or-Compute-Environment-Support-why-is-it-not-supported)
*   [Workspace error: “Selected hardware tier is not available in the Availability Zone allocated to the workspace”](https://tickets.dominodatalab.com/hc/en-us/articles/16764574536852-Workspace-error-Selected-hardware-tier-is-not-available-in-the-Availability-Zone-allocated-to-the-workspace)

### Related articles

*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS31UaqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpBg%3D%3D--90ca080c6c53d07e03c0953f28b4228846a3e628)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTyjGWqEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS31UaqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzE5NDIzNTQ1ODQ4MzQwLUNhbi1JLXVwZ3JhZGUtbXktRW52aXJvbm1lbnQtdG8tUHl0aG9uLTMtMTEGOwhUOglyYW5raQc%3D--0f022e73f1348907e530fae1cdfd3a5c30bbefde)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS31UaqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kI--eedcdeb99efd1f30cac6151985832bde192e0ce7)
*   [Can I upgrade my Environment to Python 3.10?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSN51SqEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS31UaqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzE5NDIzMjY2NTczNTg4LUNhbi1JLXVwZ3JhZGUtbXktRW52aXJvbm1lbnQtdG8tUHl0aG9uLTMtMTAGOwhUOglyYW5raQk%3D--9a195ec86abd8c641208be525e7ae9c66c3496cc)
*   [I cannot install the pywin32 package on Domino using pip install](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQCsOZqDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS31UaqEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE1ODUyMjk5NjE2OTE2LUktY2Fubm90LWluc3RhbGwtdGhlLXB5d2luMzItcGFja2FnZS1vbi1Eb21pbm8tdXNpbmctcGlwLWluc3RhbGwGOwhUOglyYW5raQo%3D--ba3443d7b58d88dadf41b70852d02820762b6e4e)"
https://tickets.dominodatalab.com/hc/en-us/articles/15617655514772-Install-VS-Code,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment)
*   [Add R as a kernel to Jupyter & Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Installing R packages from github into my Domino environment](https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment)
*   [FAQ: What is the workspace environment?](https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment)
*   [Access project files during docker build using Dockerfile Instructions](https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions)
*   [Symbols in Runs column under an Environment’s Projects tab](https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11)
*   [Can I upgrade my Environment to Python 3.10?](https://tickets.dominodatalab.com/hc/en-us/articles/19423266573588-Can-I-upgrade-my-Environment-to-Python-3-10)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000203363-Environments)

## Install VS Code

![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15617655514772-Install-VS-Code/subscription.html ""Opens a sign-in dialog"")

You can add VS Code to an environment that does not include it. The base environment must be 2018-05-23 or newer.

1.  Add the following to your compute environment docker file instructions:
    
    ```
    USER root
    
    # Install VSCode (we install an older version so the python extension works)
    RUN curl -fOL https://github.com/cdr/code-server/releases/download/v3.10.2/code-server_3.10.2_amd64.deb && \
        dpkg -i code-server_3.10.2_amd64.deb
    
    # Add a VSCode start script
    RUN mkdir -p /opt/domino/workspaces/vscode && \
        chown -R ubuntu:ubuntu /opt/domino/workspaces/vscode && \
        echo ""#!/bin/bash"" >> /opt/domino/workspaces/vscode/start && \
        echo ""SETTINGS_DIR=\${DOMINO_WORKING_DIR}/.vscode"" >> /opt/domino/workspaces/vscode/start && \
        echo ""FILE=\${SETTINGS_DIR}/settings.json"" >> /opt/domino/workspaces/vscode/start && \
        echo ""# Add a user setting file if it doesn't exist. Add in DOMINO_WORKING_DIR so it persists across sessions"" >> /opt/domino/workspaces/vscode/start && \
        echo ""if [ ! -f \""\$FILE\"" ]; then"" >> /opt/domino/workspaces/vscode/start && \
        echo ""sudo mkdir -p \""\${FILE%/*}\"""" >> /opt/domino/workspaces/vscode/start && \
        echo ""sudo chown -R ubuntu:ubuntu \${SETTINGS_DIR}"" >> /opt/domino/workspaces/vscode/start && \
        echo ""printf \""{"" >> /opt/domino/workspaces/vscode/start && \
        echo ""\t\\\""extensions.autoUpdate\\\"": false,"" >> /opt/domino/workspaces/vscode/start && \
        echo ""\t\\\""extensions.autoCheckUpdates\\\"": false,"" >> /opt/domino/workspaces/vscode/start && \
        echo ""\t\\\""python.pythonPath\\\"": \\\""\$(which python)\\\"","" >> /opt/domino/workspaces/vscode/start && \
        echo ""\t\\\""workbench.startupEditor\\\"": \\\""none\\\"","" >> /opt/domino/workspaces/vscode/start && \
        echo ""\t\\\""workbench.colorTheme\\\"": \\\""Default Dark+\\\"""" >> /opt/domino/workspaces/vscode/start && \
        echo ""}\"" > \${FILE}"" >> /opt/domino/workspaces/vscode/start && \
        echo ""fi"" >> /opt/domino/workspaces/vscode/start && \
        echo ""code-server \${DOMINO_WORKING_DIR} --user-data-dir \${SETTINGS_DIR} --auth none --bind-addr 0.0.0.0:8888 --extensions-dir \${HOME}/.local/share/code-server/extensions --disable-telemetry"" >> /opt/domino/workspaces/vscode/start && \
        chmod +x /opt/domino/workspaces/vscode/start
    
    USER ubuntu
    ```
    
2.  Add the following to your compute environment’s **Pluggable Workspace Tools**:
    
    ```
    vscode:
       title: ""vscode""
       iconUrl: ""https://raw.github.com/dominodatalab/workspace-configs/develop/workspace-logos/vscode.svg?sanitize=true""
       start: [ ""/opt/domino/workspaces/vscode/start"" ]
       httpProxy:
          port: 8888
          requireSubdomain: false
    ```
    

## **Note:** 

While Domino Support does try to help users with environment issues, our main focus is Domino's core product. If you run into issues with your environments, the best first step is to connect with your local admins. 

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Updating Julia and Julia Jupyter Kernel in Domino Compute Enviornments](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11)
*   [Symbols in Runs column under an Environment’s Projects tab](https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab)
*   [Persistent packages (Shiny)](https://tickets.dominodatalab.com/hc/en-us/articles/360061051872-Persistent-packages-Shiny)

### Related articles

*   [Install custom python packages from imported repos](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtMcJ1DToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmz0Q0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzE0Nzk5NDIwMzg2NzA4LUluc3RhbGwtY3VzdG9tLXB5dGhvbi1wYWNrYWdlcy1mcm9tLWltcG9ydGVkLXJlcG9zBjsIVDoJcmFua2kG--d66f488be069fb22c9cc148367796fd0b7d48f91)
*   [Persistent keybindings for VSCode](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7tokBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmz0Q0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NTE4OTk3OTYtUGVyc2lzdGVudC1rZXliaW5kaW5ncy1mb3ItVlNDb2RlBjsIVDoJcmFua2kH--cd9fa2d2565fd45c514d6049c26af08677e1e083)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQz1qYbCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmz0Q0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzEwMDE0MzY3ODIyNjEyLUFwcC1VUkxzLWFuZC1VUkwtcGFyYW1ldGVycwY7CFQ6CXJhbmtpCA%3D%3D--e20da4d62a522adb29ced4c15c30324d61870b8e)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmz0Q0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--9ba45869d4bc6ef2ae2892b01df67afc94fabdda)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSAEpkCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmz0Q0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDkyMDQ1NzIxODAtSW5zdGFsbC1wYWNrYWdlcy1pbi10aGUtUmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpCg%3D%3D--60913a2e0f092ce3bb0ce6c11e6155998baf9bab)"
https://tickets.dominodatalab.com/hc/en-us/articles/15020552885780-What-is-Docker-in-Docker-DinD,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15020552885780-What-is-Docker-in-Docker-DinD/subscription.html ""Opens a sign-in dialog"")

## Problem statement/Issue

Some of our customers ask us about docker-compose and running Docker inside Domino.

What is Docker in Docker, and why can I not get it working?

I want to run docker-compose or use Docker images to run particular software/package versions!

Do you know if I can install a turnkey application in Domino?

## Cause and resolution

Domino is a full-stack application, it runs on a Kubernetes cluster with restrictions to the user. Domino should be considered 'the owner' for most of the functions.

In order to run DinD, you will need access - to the 'socket' and to networking. The pods managed by Domino will not allow you to access the host node (this makes the deployment more secure and avoids pitfalls which can happen when the container has too much privilege, i.e CAP, and is limited to those it needs to function).

Docker-compose does a lot of what happens in a Workspace. It will fetch an image (like our Environments) and you can select a revision or develop your versions. Same happens with Environments, which are revisioned and can be reused or typically and automatically, you use the new version (i.e. :latest for most Docker images available online through a repo/registry).

Domino allows you to select a default Environment, as well as choosing a revision of each Environment 'as default'.

Turnkey applications are often a wrapper with multiple services ready-to-run. Many of these can work with Domino, if they have a base image, you can build an environment, make it compatible with Domino, and ensure there is a startup script that will use a 'known inbound port', and create a Compute Environment Definition for the application.

Nvdia images are a great example of this.

Running Docker in Docker may have benefits, although these will not be manifest in Domino and Domino does provide resolutions for tracking revisions and you may be able to build a pipeline to push images to Domino with your local IT Team or with work and troubleshooting in the Domino Environment.

## What is Docker?

Docker is a containerised solution for running services (often referred to as micro-services) and docker or containerd will be found as a supporting backend in a Kubernetes deployment.

## What is Singularity?

Singularity is a similar but 'smaller' solution, focused on running a container in a less privileged environment. For all practical purposed, Singularity and Docker can be considered as providing a similar solution but at different scale.

### Recently viewed articles

*   [Install VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15617655514772-Install-VS-Code)
*   [Updating Julia and Julia Jupyter Kernel in Domino Compute Enviornments](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11)
*   [Symbols in Runs column under an Environment’s Projects tab](https://tickets.dominodatalab.com/hc/en-us/articles/19495116046484-Symbols-in-Runs-column-under-an-Environment-s-Projects-tab)

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQWuD6pDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--d00f2ba6d55bf76b7c0b77172a0374ce83b1124a)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSAEpkCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQWuD6pDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDkyMDQ1NzIxODAtSW5zdGFsbC1wYWNrYWdlcy1pbi10aGUtUmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBw%3D%3D--398ef5ae2e6de77f0d8ead2f8043b75c71cff342)
*   [Ray Client Connection Timeout](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQXyiLICDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQWuD6pDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzk2NTU2NzAxNTEwNjAtUmF5LUNsaWVudC1Db25uZWN0aW9uLVRpbWVvdXQGOwhUOglyYW5raQg%3D--9686f0127b38d15156b1ff2f7d4416bf8e19f5e0)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQWuD6pDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQk%3D--b5582a977547eccd79354a09b0709bc3a756cd9a)
*   [Starting a job from a commit Id](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTxxUi%2FCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQWuD6pDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzEyOTE2MTg3NTkxMDYwLVN0YXJ0aW5nLWEtam9iLWZyb20tYS1jb21taXQtSWQGOwhUOglyYW5raQo%3D--a3a550449f17fe22584b3d7db98e070b3953a9bc)"
https://tickets.dominodatalab.com/hc/en-us/articles/14799420386708-Install-custom-python-packages-from-imported-repos,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14799420386708-Install-custom-python-packages-from-imported-repos/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

There are some workflows where you must utilize imported repos to install custom packages. This can be due to specific development and versioning requirements that do not work with installing a package from a git-based project.

* * *

## **Root Cause:**

Although we specify how to install custom packages in our documentation, there are no specific steps on how to do this with imported repos.

* * *

## **Resolution:**

When editing the definition of an environment, locate the Run Setup Scripts section. Then add these lines to the **Pre Run Script**:

pip install --user -e /mnt/imported/code/<repo\_name>

![](https://tickets.dominodatalab.com/hc/article_attachments/14799090315028)

* * *

## **Notes/Information:**

You will have to ensure you run the files in the imported git repo with the same python version and user that installed the dependencies. Using programs like **virtualenv** or **pyenv** will able to overcome this.

While Domino Support does try to help users with environment issues, our main focus is Domino's core product. If you run into issues with your environments, the best first step is to connect with your local admins. 

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [What is Docker in Docker (DinD)?](https://tickets.dominodatalab.com/hc/en-us/articles/15020552885780-What-is-Docker-in-Docker-DinD)
*   [Install VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15617655514772-Install-VS-Code)
*   [Updating Julia and Julia Jupyter Kernel in Domino Compute Enviornments](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)
*   [Can I upgrade my Environment to Python 3.11?](https://tickets.dominodatalab.com/hc/en-us/articles/19423545848340-Can-I-upgrade-my-Environment-to-Python-3-11)

### Related articles

*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtMcJ1DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpBg%3D%3D--e17e9b02bfce93ae87aea3acb3da3ce04b1fc8ee)
*   [How do I ensure a Python package from a private repo is usable in both runs and models?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHC6IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtMcJ1DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0Mjk5Mi1Ib3ctZG8tSS1lbnN1cmUtYS1QeXRob24tcGFja2FnZS1mcm9tLWEtcHJpdmF0ZS1yZXBvLWlzLXVzYWJsZS1pbi1ib3RoLXJ1bnMtYW5kLW1vZGVscwY7CFQ6CXJhbmtpBw%3D%3D--6e5a406ddae430ffebd0becc4b7842b0b782e6e1)
*   [Implementing Zeppelin as an IDE in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTU4iV6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtMcJ1DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzkzMjA3MTQ2NTQ4NjgtSW1wbGVtZW50aW5nLVplcHBlbGluLWFzLWFuLUlERS1pbi1Eb21pbm8GOwhUOglyYW5raQg%3D--f8f3119692825de01189b535ae2fc4ad064c7012)
*   [Invoking function exposed by a Model API via a script](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQSMBZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtMcJ1DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NTEyODE0MjgtSW52b2tpbmctZnVuY3Rpb24tZXhwb3NlZC1ieS1hLU1vZGVsLUFQSS12aWEtYS1zY3JpcHQGOwhUOglyYW5raQk%3D--8f4da0b10edaf702a51dd4975a549b4770afc178)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQGhLkQBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTtMcJ1DToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc3Njg0MTMzMDg0MzYtSG93LXRvLWluc3RhbGwtcGFja2FnZS11c2luZy1HaXQtUmVwbwY7CFQ6CXJhbmtpCg%3D%3D--9065ecc232c8d463ecd1f215d8e1aafd7f42094c)"
https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

All

## **Issue:**

[Python 3.11](https://www.python.org/downloads/release/python-3110rc2/) has been released as of Oct 2022.  [Domino Standard Environments](https://docs.dominodatalab.com/en/latest/user_guide/71a047/tech-ecosystem/#compute-env) (DSE) always trail the newest released versions of included software such as Python & R as their intent is to provide a stable default environment for the broadest portion of the user base.  New DSE environments release when a new version of Domino is released.  The current v5.4 release of the DSE contains python 3.9.  

Note that the version tag of a DSE just indicates where it was released.  A DSE tagged with any 5.x version should be generally compatible with all version 4 & 5 Domino deployments.

If you need or want to try the newest release of python you will not find it in DSEs for at least several quarters after it's initial release.  But these versions are relatively easy to install yourself.

## **Resolution:**

If you are not familiar with creating Domino Compute Environments, documentation can be found here:

[https://docs.dominodatalab.com/en/latest/user\_guide/f51038/environments/](https://docs.dominodatalab.com/en/latest/user_guide/f51038/environments/)

If you are just looking for some example docker instructions to install python 3.11 then use the following:

The docker instructions below were built on the current DSE at the time of this writing,

**quay.io/domino/compute-environment-images:ubuntu20-py3.9-r4.2-domino5.4-standard.** 

Using other base images may require adjustments to the install python 3.11 properly.

USER root  
RUN apt update  
RUN apt install software-properties-common -y  
RUN add-apt-repository ppa:deadsnakes/ppa  
RUN apt update  
RUN apt install python3.11 -y  
RUN update-alternatives --install /opt/conda/bin/python python /usr/bin/python3.11 1  
RUN update-alternatives --install /opt/conda/bin/python3 python3 /usr/bin/python3.11 1  
RUN apt install python3.11-distutils -y  
RUN curl -sS https://bootstrap.pypa.io/get-pip.py | python3.11  
RUN pip install --upgrade jupyter

## **Note:** 

While Domino Support does try to help users with environment issues, our main focus is Domino's core product. If you run into issues with your environments, the best first step is to connect with your local admins. 

### Recently viewed articles

*   [Install custom python packages from imported repos](https://tickets.dominodatalab.com/hc/en-us/articles/14799420386708-Install-custom-python-packages-from-imported-repos)
*   [What is Docker in Docker (DinD)?](https://tickets.dominodatalab.com/hc/en-us/articles/15020552885780-What-is-Docker-in-Docker-DinD)
*   [Install VS Code](https://tickets.dominodatalab.com/hc/en-us/articles/15617655514772-Install-VS-Code)
*   [Updating Julia and Julia Jupyter Kernel in Domino Compute Enviornments](https://tickets.dominodatalab.com/hc/en-us/articles/16945970183700-Updating-Julia-and-Julia-Jupyter-Kernel-in-Domino-Compute-Enviornments)
*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)

### Related articles

*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTskzMyDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzQ0MTg5MzIwOTY3ODgtRmxhc2stQXBwLVNlcnZpbmctUmVhY3QtQ29kZQY7CFQ6CXJhbmtpBg%3D%3D--f2a155304012fc3d31e8af34d52c5046b41dfd98)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTskzMyDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--a8b9bc3f2a7f04aa83b2f58ff2752f32306c2403)
*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTskzMyDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQg%3D--2e38a1d399ac2922f351fd8cba386ab6c3252420)
*   [devtools addition to Compute Environment errors when using R4.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTysIBCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTskzMyDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk5MDMxNjc2NDA0NjgtZGV2dG9vbHMtYWRkaXRpb24tdG8tQ29tcHV0ZS1FbnZpcm9ubWVudC1lcnJvcnMtd2hlbi11c2luZy1SNC0wBjsIVDoJcmFua2kJ--00886a753604b9977623db5a818f1ca7ea93a71f)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTskzMyDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCg%3D%3D--579b56f8937b26b6164ce0a8c20e94fbd74cb48d)"
https://tickets.dominodatalab.com/hc/en-us/articles/12603650945044-How-to-edit-Jupyter-Notebook-configurations-via-Compute-Environment,"## **Issue:**

Some customers are curious how they can define or set configurations for Jupyter Notebook for their Compute Environment, referencing config files like [https://jupyter-notebook.readthedocs.io/en/stable/config.html](https://jupyter-notebook.readthedocs.io/en/stable/config.html)

* * *

## **Root Cause:**

Rather than needing to repeat some steps every time you start a new workspace or job, you can set configs via a Compute Environment.

* * *

## **Resolution:**

You can make modifications via Dockerfile instructions or via Pre-Run scripts.   For example if you want to specify an Application.log\_level per [https://jupyter-notebook.readthedocs.io/en/stable/config.html](https://jupyter-notebook.readthedocs.io/en/stable/config.html) :

Dockerfile instructions

RUN mkdir -p /home/ubuntu/.jupyter && printf '\\nc.Application.log\_level = 30\\n' >> /home/ubuntu/.jupyter/jupyter\_notebook\_config.py

RUN mkdir -p /home/ubuntu/.jupyterlab && printf '\\nc.Application.log\_level = 30\\n' >> /home/ubuntu/.jupyterlab/jupyter\_lab\_config.py

Pre-Run scripts

mkdir -p /home/ubuntu/.jupyter  
printf '\\nc.Application.log\_level = 30\\n' >> /home/ubuntu/.jupyter/jupyter\_notebook\_config.py  
mkdir -p /home/ubuntu/.jupyterlab  
printf '\\nc.Application.log\_level = 30\\n' >> /home/ubuntu/.jupyterlab/jupyter\_lab\_config.py

* * *

## **Notes/Information:**

Pro-tip: Test your instructions or commandline scripts within a running workspace's terminal first to confirm syntax prior to adding them to your Compute Environment.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/8625831233172-Creating-an-environment-to-install-mongod-on-a-Domino-Workspace,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8625831233172-Creating-an-environment-to-install-mongod-on-a-Domino-Workspace/subscription.html ""Opens a sign-in dialog"")

**Version** 

All Domino versions

**Issue**

Unable to install mongod on a workspace using a custom environment build using the the following

dockerfile instruction set: 

USER root  
RUN apt-get install gnupg \\  
    && wget -qO - [https://www.mongodb.org/static/pgp/server-5.0.asc](https://www.mongodb.org/static/pgp/server-5.0.asc) | sudo apt-key add - \\  
    && echo ""deb \[ arch=amd64,arm64 \] [https://repo.mongodb.org/apt/ubuntu](https://repo.mongodb.org/apt/ubuntu) bionic/mongodb-org/5.0 multiverse"" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list \\  
    && apt-get update \\  
    && apt-get install -y mongodb-org  
ENTRYPOINT \[""mongod""\]

**Root Cause:**

The build successfully completes without issue however when loading a workspace with the environment you are left with no running mongod instance. This is becuase when using _ENTRY POINT \[""mongod""\]_ docker assumes that you will be running the mongo daemon using systemd and hence it fails since systemd is non existent.

You will see this when manually attempting to install mongod on a workspace:

```
Adding user `mongodb' to group `mongodb' ...Adding user mongodb to group mongodbDone.System has not been booted with systemd as init system (PID 1). Can't operate.
```

**Resolution:**

To start up Mongod outside of systemd by specifying the _\--config flag_ and sending the command to the background using `&`

You would need to edit your docker instruction as follows:

USER root  
RUN apt-get install gnupg \\  
    && wget -qO - [https://www.mongodb.org/static/pgp/server-5.0.asc](https://www.mongodb.org/static/pgp/server-5.0.asc) | sudo apt-key add - \\  
    && echo ""deb \[ arch=amd64,arm64 \] [https://repo.mongodb.org/apt/ubuntu](https://repo.mongodb.org/apt/ubuntu) bionic/mongodb-org/5.0 multiverse"" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list \\  
    && apt-get update \\  
    && apt-get install -y mongodb-org

In addition to this, you would also require a pre-run script to ensure that mongo has access to its libraries and logs :

```
sudo chown -R ubuntu.mongodb /var/lib/mongodb/sudo chown -R ubuntu.mongodb /var/log/mongodb/mongod --config /etc/mongod.conf &
```

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/8626816881556/domino_logo.png)

![](blob:https://dominodatalab.atlassian.net/73659e8f-87a1-43df-b8eb-2b7532d1e71a#media-blob-url=true&id=c57ac581-96e6-4b53-9422-783ce2a24951&collection=contentId-1598521593&contextId=1598521593&height=862&width=2767&alt=)

### Recently viewed articles

*   [How to edit Jupyter Notebook configurations via Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/12603650945044-How-to-edit-Jupyter-Notebook-configurations-via-Compute-Environment)

### Related articles

*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR40TMIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRGm1vYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJeL2hjL2VuLXVzL2FydGljbGVzLzY2MzIyOTg4NzA5MzItTXktbGlicmFyeS10aWR5dmVyc2UtY29tbWFuZC1yZXR1cm5zLXN0YXR1cy0xLWluLVJTdHVkaW8GOwhUOglyYW5raQY%3D--e26799df54f89a404b3104c5c3c3e7e2ee448dbf)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRGm1vYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--be17df48a2b2840e336622420f93f92703f50fee)
*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSqxCQEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRGm1vYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NDMyNDg3ODgtUHl0aG9uLXByb2JsZW0tcGlwLW9yLW51bXB5BjsIVDoJcmFua2kI--7cb382990b0357ad7553fbba848c04f2ffd2544b)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRGm1vYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kJ--29057bac15dbeb3935da1111a930c8982d6ea6e0)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQGhLkQBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRGm1vYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc3Njg0MTMzMDg0MzYtSG93LXRvLWluc3RhbGwtcGFja2FnZS11c2luZy1HaXQtUmVwbwY7CFQ6CXJhbmtpCg%3D%3D--f85ebaa8d5c9e2d22d21b622064b5182fcbacc2e)"
https://tickets.dominodatalab.com/hc/en-us/articles/7963188322324-Getting-Started-with-Poetry-in-Domino,"[Poetry](https://python-poetry.org/) is a tool for dependency management and packaging in Python. It allows you to declare the libraries your project depends on and it will manage (install/update) them for you. While we generally recommend using requirements.txt or adding packages directly to your environment, you may have scenarios where you prefer to use Poetry, or it may just be a tool you're already comfortable using, so here's a quick overview to getting started with Poetry in Domino!

**Contents:**

[1\. Setting up your Environment](#h_01G8M27NGEZD5FD4TBPHHTMHAC)

[2\. Creating or Initializing a Poetry Project](#h_01G8M27VV3T0MX8Y0AN5THTMRQ)

[3\. Sample Job using Poetry](#h_01G8M281WZQJ1HWJ8WPFHDKJ9E)

* * *

#### **1\. Environment Setup**

You can add Poetry to your environment with Dockerfile instructions. The following instructions will install poetry and add the tool as an additional path in your environment ([more information on PATHs in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/115004581903-PATH-environment-cannot-be-set-for-a-run)):

**ENV** \\  
POETRY\_HOME=/etc/poetry \\  
PATH=/etc/poetry/bin:$PATH

**ADD** https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py ./  
**RUN** python get-poetry.py && chmod +x /etc/poetry/bin/poetry \\  
**&&** echo ""export PATH=/etc/poetry/bin/:${PATH}"" >> /home/ubuntu/.domino-defaults

\*If you get a build error with _python: can't open file 'get-poetry.py': \[Errno 13\] Permission denied_, you may need to switch to the user root before this code in your Dockerfile:

**USER** root

**ENV** \\  
POETRY\_HOME=/etc/poetry \\  
PATH=/etc/poetry/bin:$PATH

**ADD** https://raw.githubusercontent.com/python-poetry/poetry/master/get-poetry.py ./  
**RUN** python get-poetry.py && chmod +x /etc/poetry/bin/poetry \\  
**&&** echo ""export PATH=/etc/poetry/bin/:${PATH}"" >> /home/ubuntu/.domino-defaults

**USER** ubuntu

* * *

#### **2\. Creating or Initializing a Poetry Project**

Creating a New Poetry Project

We can use Poetry in a Workspace to start a new project and automatically generate the basic Poetry project files. To begin, start a new Workspace using the Poetry environment and your preferred IDE. Once your Workspace launches, go to the Terminal and use the command `poetry new <project-name>`.

![poetry_new-project.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7992179836948/poetry_new-project.JPG) This will create a new subfolder _<project\_name>_ in your Project files with all of the files necessary to get started with Poetry!![poetry_new-project2.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7992179681812/poetry_new-project2.JPG)

Initializing a Poetry project in an existing folder

If you've already created a subfolder for your project and you simply want to add the Poetry components, you can instead cd into that folder in the Terminal, and run `poetry init`.![poetry_init1.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7992151264916/poetry_init1.JPG)![poetry_init2.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7992151088404/poetry_init2.JPG)

You will be prompted to set up some options, or hit 'Enter' to accept defaults. Once completed, this will create a **pyproject.toml** for Poetry in your existing folder.![poetry_init3.JPG](https://tickets.dominodatalab.com/hc/article_attachments/7992179562900/poetry_init3.JPG)

* * *

#### **3\. Sample Job using Poetry**

We won't re-hash all of the Poetry commands as there's an overview of the Basic usage of Poetry on their site here: [Basic Usage](https://python-poetry.org/docs/basic-usage/), but here's a quick example of a Job you could run using Poetry:

For this job, we're simply going to use the Pendulum package (installed through Poetry) to tell you what time it is in the US Pacific timezone. Our simple example python file, which we'll put in our Poetry project folder from Step 2:

#poetry-test.py

import pendulum  
myTime = pendulum.now('US/Pacific')  
print(f'Hello World, it\\'s {myTime} at my house!')

To run this using Poetry:

a) Add any packages you need to **pyproject.toml** that lives in the Poetry project folder we set up in step 2. This can be done by manually editing the file, for example: 

```
[tool.poetry.dependencies]
pendulum = ""^1.4""
```

or in a Workspace terminal using Poetry: `$ poetry add pendulum`. This adds the package to the **pyproject.toml** automatically without you having to edit it yourself and worry about syntax. (Be sure to sync your Workspace back to your Project!)

b) Once you have Poetry set up with the packages you need, we'll need an `.sh` file to point to our Poetry project folder and **pyproject.toml** file. This file only contains a few steps and can be placed in your Poetry project or in your main project Files: 

#!/bin/sh

\# Change to our Poetry project folder  
cd my-poetry-proj

\# Install packages specified in pyproject.toml  
poetry install

\# Run our python script  
poetry run python poetry-test.py

c) Run the Job using the .sh file we created! Once the job completes, you can in the Results that Poetry installed our packages and ran our python script:![poetry_results.JPG](https://tickets.dominodatalab.com/hc/article_attachments/8002350804756/poetry_results.JPG)

* * *

This is just a basic example of how to use Poetry in Domino. Be sure to check out [their site](https://python-poetry.org/) for more information!"
https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo/subscription.html ""Opens a sign-in dialog"")

**Question:** 

I would like to setup a new environment by editing docker config file. One of the package I want to install need to use a Git repo. I wonder how to do that? 

Answer: 

Yes, you can edit environment dockerfile to install package use Git repo, such as example below, 

```
pip install git+https://github.com/tangentlabs/django-oscar-paypal.git@issue/34/oscar-0.6
```

   
Alternatively requirements.txt can be used, more details please see KB article below, 

[https://dominoup.zendesk.com/knowledge/articles/115001607683/en-us?brand\_id=2465906](https://tickets.dominodatalab.com/knowledge/articles/115001607683/en-us?brand_id=2465906)   

### Recently viewed articles

*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/7963188322324-Getting-Started-with-Poetry-in-Domino)
*   [Creating an environment to install mongod on a Domino Workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8625831233172-Creating-an-environment-to-install-mongod-on-a-Domino-Workspace)
*   [How to edit Jupyter Notebook configurations via Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/12603650945044-How-to-edit-Jupyter-Notebook-configurations-via-Compute-Environment)

### Related articles

*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSAEpkCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQGhLkQBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDkyMDQ1NzIxODAtSW5zdGFsbC1wYWNrYWdlcy1pbi10aGUtUmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBg%3D%3D--f6ede63490d339a4d757a88cff34b5f16836fceb)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQGhLkQBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kH--2e9df627e9da847378c5be87bd889b375d087a86)
*   [Failed to create a bus connection: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQX4hOsCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQGhLkQBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzEyODMzNjk1ODY0NTk2LUZhaWxlZC10by1jcmVhdGUtYS1idXMtY29ubmVjdGlvbi1Oby1zdWNoLWZpbGUtb3ItZGlyZWN0b3J5BjsIVDoJcmFua2kI--c3d50ec2fed998d2ab4a3c5d7d02ab917e665a3a)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQGhLkQBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpCQ%3D%3D--8e0d2d3facc3fb130042f11a9e09d4b936256bf5)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQFIVRiBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQGhLkQBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAzNjQ3NTYzNzItSG93LXRvLUNoYW5nZS1FbnZpcm9ubWVudHMtVmlzaWJpbGl0eQY7CFQ6CXJhbmtpCg%3D%3D--d575fff7a7fb7d115c213ff9701660741a35f935)"
https://tickets.dominodatalab.com/hc/en-us/articles/6665122897428-Configure-Certificates-for-A-Specific-Compute-Environment,"1\. Install the custom certificates into a location other than /etc/ssl/certs. This prevents the system from overwriting the certificates.

2. When you use applications, manually reference the certificates.  
In most applications, you can customize the certificate bundle or path when you verify SSL requests with cURL's \--cacert CLI argument. See [Publishing to an RStudio Connect Server with a Self-Signed or Untrusted SSL Certificate](https://support.rstudio.com/hc/en-us/articles/115006524187-Publishing-to-an-RStudio-Connect-Server-with-a-Self-Signed-or-Untrusted-SSL-Certificate) for one example of how to manually reference certificates."
https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio/subscription.html ""Opens a sign-in dialog"")

Some commands return status 1 in R

R complains about timedatectl

Systemd is missing or it's not working

dbus or bus errors in R when using the library function

\> library(tidyverse)  
**System has not been booted with systemd as init system (PID 1). Can't operate.**  
**Failed to create bus connection: Host is down**  
── **Attaching core tidyverse packages** ───────────────── tidyverse 2.0.0 ──  
✔dplyr     1.1.0     ✔readr     2.1.4  
✔forcats   1.0.0     ✔stringr   1.5.0  
✔ggplot2   3.4.1     ✔tibble    3.1.8  
✔lubridate 1.9.2     ✔tidyr     1.3.0  
✔purrr     1.0.1      
── **Conflicts** ─────────────────────────────────── tidyverse\_conflicts() ──  
✖dplyr::filter() masks stats::filter()  
✖dplyr::lag()    masks stats::lag()  
ℹ Use the conflicted package to force all conflicts to become errors  
Warning message:  
In system(""timedatectl"", intern = TRUE) :  
  running command 'timedatectl' had status 1

This relates to the timedatectl function which can fail in a containerised environment (and for practical purposes, all Workspaces, Apps, Models etc., in Domino are containerd/Docker environments). Most Docker environments do not run services, like dbus or systemd.

_**In your Environment's Dockerfile, add these commands to 'fix' R's dependence on timedatectl:**_

```
# Fix systemd conflict with timedatectl
USER root
RUN echo ""TZ=$( cat /etc/timezone )"" >> /etc/R/Renviron.site
USER ubuntu
```

Alternatively, you can try to set TZ as an Environment variable or as a Project's Environment Variable to enable timedatectl to bypass the lack of dbus and systemd, however this does not always work for R and the addition to the Renviron.site file is a more robust solution.

This should work for any Domino image, in the rare case where /etc/timezone does not exist, please use **timedatectl list-timezones** on any linux box to find the TZ= value that matches your requirements.

### Recently viewed articles

*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab)
*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/6665122897428-Configure-Certificates-for-A-Specific-Compute-Environment)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/7963188322324-Getting-Started-with-Poetry-in-Domino)
*   [Creating an environment to install mongod on a Domino Workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8625831233172-Creating-an-environment-to-install-mongod-on-a-Domino-Workspace)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR40TMIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--90fd8deeef1b29f4851571b1507ab53ff4388ec7)
*   [I need to install a package every time I start R Studio. How do I make it permanent?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR40TMIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpBw%3D%3D--48ac368d943b508a77d5011db73962d6aff2f45f)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEr%2BebCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR40TMIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk0NjU3MDAwMDg5ODAtQVBQUy1SZWFkLU9ubHktRXJyb3ItV2hlbi1TZXR0aW5nLVVwLVVSTC1Gb3ItQXBwLVVzaW5nLURhc2gtMi0xLTAGOwhUOglyYW5raQg%3D--9dd2984632fa5dff1223378dd6e0c305f705df15)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR40TMIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCQ%3D%3D--0e92635b91cacf3f85d654afdcf569659a96f470)
*   [Creating an environment to install mongod on a Domino Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRGm1vYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR40TMIBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzg2MjU4MzEyMzMxNzItQ3JlYXRpbmctYW4tZW52aXJvbm1lbnQtdG8taW5zdGFsbC1tb25nb2Qtb24tYS1Eb21pbm8tV29ya3NwYWNlBjsIVDoJcmFua2kK--d6f5cf9969d6c809846630621604b9e3b6e8c361)"
https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab,"## Add ArcGIS for Jupyterlab

![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab/subscription.html ""Opens a sign-in dialog"")

If you’d like to work with maps and geospatial data using ArcGIS, it is possible to add the [ArcGIS API for Python](https://developers.arcgis.com/python/guide/install-and-set-up/) for use in JupyterLab in your Domino environment. 

Both examples below are built on **Domino Standard Environment Py3.8 R4.1** (quay.io/domino/standard-environment:ubuntu18-py3.8-r4.1-domino5.1)

\*\*Please note: as of June 2022, ArcGIS API for Python is not compatible with Jupyterlab 3+. The instructions in the Dockerfile include steps to downgrade Jupyterlab from the version that comes in the base image to Jupyterlab 2.3.2 (the latest version prior to 3.0.0).

The ArcGIS API for Python is best experienced when all its dependencies are installed. The following instructions will install the ArcGIS API as well as the dependencies listed [in the ArcGIS API documentation here](https://developers.arcgis.com/python/guide/system-requirements/#Dependencies).

**USER** root  
  
\# Download older version of Workspaces from Domino  
**RUN** mkdir -p /var/opt/workspaces && cd /tmp && \\  
wget https://github.com/dominodatalab/workspace-configs/archive/2021q1-v1.zip && \\  
unzip 2021q1-v1.zip && \\  
    cp -Rf workspace-configs-2021q1-v1/\* /var/opt/workspaces && \\  
    rm -rf /var/opt/workspaces/workspace-logos /var/opt/workspaces/README.md && \\  
    rm -rf /tmp/workspace-configs-2021q1-v1 /tmp/2021q1-v1.zip

\# Install JupyterLab from workspaces  
**RUN** chmod +x /var/opt/workspaces/Jupyterlab/install && /var/opt/workspaces/Jupyterlab/install

\# Install ArcGIS   
**RUN** \\  
    apt-get update && apt-get install -y libkrb5-dev && \\  
    pip install arcgis==2.0.0 && \\

\# Fix version issue with numpy in ArcGIS  
    pip uninstall numpy -y && \\  
    pip install numpy==1.17.3 && \\

\# Add Jupyter Lab extensions and build  
    jupyter labextension install @jupyter-widgets/jupyterlab-manager && \\  
    jupyter labextension install arcgis-map-ipywidget@2.0.0 && \\  
    jupyter lab build && \\  
    chown ubuntu:ubuntu -R /opt/conda/share/jupyter

**USER** ubuntu

It is also possible to install ArcGIS with minimum dependencies, which is suitable for specific tasks such as GIS administration and content management. More information on this [here](https://developers.arcgis.com/python/guide/install-and-set-up/#Install-with-minimum-dependencies). To build an ArcGIS environment with minimum dependencies, only the following instructions are needed for your dockerfile:

**USER** root

\# Download older version of Workspaces from Domino  
**RUN** mkdir -p /var/opt/workspaces && cd /tmp && \\  
    wget https://github.com/dominodatalab/workspace-configs/archive/2021q1-v1.zip && \\  
    unzip 2021q1-v1.zip && \\  
    cp -Rf workspace-configs-2021q1-v1/\* /var/opt/workspaces && \\  
    rm -rf /var/opt/workspaces/workspace-logos /var/opt/workspaces/README.md && \\  
    rm -rf /tmp/workspace-configs-2021q1-v1 /tmp/2021q1-v1.zip

\# Install JupyterLab from workspaces  
**RUN** chmod +x /var/opt/workspaces/Jupyterlab/install && /var/opt/workspaces/Jupyterlab/install

\# Install ArcGIS and required dependencies  
**RUN** \\  
    pip install arcgis==2.0.0 --no-deps && \\  
    pip install ujson six requests\_toolbelt requests\_ntlm ntlm\_auth cachetools requests\_oauthlib  && \\

\# Add Jupyter Lab extensions and build  
    jupyter labextension install @jupyter-widgets/jupyterlab-manager && \\  
    jupyter labextension install arcgis-map-ipywidget@2.0.0 && \\  
    jupyter lab build && \\  
    chown ubuntu:ubuntu -R /opt/conda/share/jupyter

**USER** ubuntu

Once you’ve built your environment and opened Jupyterlab, you can verify your ArcGIS installation by running the following commands in your Jupyter notebook:

**from** arcgis.gis **import** GIS  
my\_gis **\=** GIS()  
m **\=** my\_gis**.**map()  
m

### Recently viewed articles

*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/6665122897428-Configure-Certificates-for-A-Specific-Compute-Environment)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/7963188322324-Getting-Started-with-Poetry-in-Domino)
*   [Creating an environment to install mongod on a Domino Workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8625831233172-Creating-an-environment-to-install-mongod-on-a-Domino-Workspace)
*   [How to edit Jupyter Notebook configurations via Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/12603650945044-How-to-edit-Jupyter-Notebook-configurations-via-Compute-Environment)

### Related articles

*   [How To Install nbextension for Jupyter Notebooks](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThBPJeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDQ1MS1Ib3ctVG8tSW5zdGFsbC1uYmV4dGVuc2lvbi1mb3ItSnVweXRlci1Ob3RlYm9va3MGOwhUOglyYW5raQY%3D--c5ed6817423f1b448f6d49fbc3ce5d36ebba7d90)
*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRKrKHeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThBPJeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzc1NTMyNjQ5Mjk0MjgtVXNpbmctRGFzaC1Cb290c3RyYXAtQ29tcG9uZW50cy1pbi15b3VyLUFwcHMGOwhUOglyYW5raQc%3D--dc124b4e3495f520d95cf8dff828ebc6dd315f41)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThBPJeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQg%3D--1851010398c787ba463455bf7e01ed1b96d6dd5a)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThBPJeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpCQ%3D%3D--5d945b0331e9854bdb4f5112ee16882f7d89367b)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT7dmBsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThBPJeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzQ4NjM1MjEzODkzMzItSG93LXRvLWluc3RhbGwtR3Vyb2JpBjsIVDoJcmFua2kK--b92f6af0e2dc632e986e908435820be79ee99812)"
https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi,"## How to install Gurobi

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi/subscription.html ""Opens a sign-in dialog"")

It is possible to install the licensed Gurobi product in Domino.  Gurobi is a [licensed product](https://www.gurobi.com/downloads/?campaignid=193283256&adgroupid=51266130904&creative=587350883907&keyword=gurobi&matchtype=p&gclid=Cj0KCQjwuMuRBhCJARIsAHXdnqPvKof3DUhcg6zSDZ37qf6stpPSzVQB2klsQUcWHRmHzePf0XE78kAaAvxaEALw_wcB) and not provided or installed by Domino.  The following is a brief outline of an example Gurobi install in to a Domino Compute Environment (CE) for use with R and Rstudio.  Python is also available from Gurobi and the install will differ of course but the framework should be similar.  Your mileage may vary as CE's are very dependent on the base image in use.

Dockerfile instructions:

USER root  
RUN R --no-save -e ""install.packages('slam')""  
WORKDIR ""/opt/gurobi""

RUN sudo chmod 777 /opt/gurobi  
RUN sudo wget ""https://packages.gurobi.com/9.5/gurobi9.5.1\_linux64.tar.gz""  
RUN tar -xzf ""gurobi9.5.1\_linux64.tar.gz""  
RUN R --no-save -e ""install.packages('/opt/gurobi/gurobi951/linux64/R/gurobi\_9.5-1\_R\_4.1.1.tar.gz', repos=NULL)""  
RUN echo ""TOKENSERVER=10.200.13.203"" > gurobi.lic  
RUN echo ""export GRB\_LICENSE\_FILE=/opt/gurobi/gurobi.lic"" >> /home/${DOMINO\_USER}/.domino-defaults

PRE-run script:  
export GUROBI\_HOME=/opt/gurobi/gurobi951/linux64/  
export PATH=${PATH}:${GUROBI\_HOME}/bin/  
export LD\_LIBRARY\_PATH=${LD\_LIBRARY\_PATH}:${GUROBI\_HOME}/lib/  
export GRB\_LICENSE\_FILE=/opt/gurobi/gurobi.lic

### Recently viewed articles

*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab)
*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/6665122897428-Configure-Certificates-for-A-Specific-Compute-Environment)
*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/7963188322324-Getting-Started-with-Poetry-in-Domino)

### Related articles

*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSqxCQEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT7dmBsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NDMyNDg3ODgtUHl0aG9uLXByb2JsZW0tcGlwLW9yLW51bXB5BjsIVDoJcmFua2kG--b1053e4eae2b8a6eaf9d2d4669741f230b3d81cf)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT7dmBsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--8dd8dd388d20c242085672c23e7130c82872bb18)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT7dmBsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kI--16f62a836c558308632bd2ad44158fe698ffefce)
*   [After starting a Spark on-demand cluster new executions are stuck in ""Assigning""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRncwSABzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT7dmBsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzgyNDY0MTE4ODAyMTItQWZ0ZXItc3RhcnRpbmctYS1TcGFyay1vbi1kZW1hbmQtY2x1c3Rlci1uZXctZXhlY3V0aW9ucy1hcmUtc3R1Y2staW4tQXNzaWduaW5nBjsIVDoJcmFua2kJ--1fe8dc2e24eb6c08b0cb9268b9d662d420e952a7)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT7dmBsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kK--1c70bab26046af17e4627a33454e8bfa0661a27c)"
https://tickets.dominodatalab.com/hc/en-us/articles/4820364756372-How-to-Change-Environments-Visibility,"To change your Domino deployment's Environment Visibility, kindly follow these steps.

1\. log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812841364/Screen_Shot_2021-06-28_at_9.06.13_AM.png)

2\. After logging in, go to the ""Environments"" Tab

![Screen_Shot_2022-03-16_at_12.47.11_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4820309578516/Screen_Shot_2022-03-16_at_12.47.11_PM.png)

3\. Go to the ""Environment"" you needed to change the visibility![Screen_Shot_2022-03-16_at_12.49.00_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4820329147668/Screen_Shot_2022-03-16_at_12.49.00_PM.png)

![Screen_Shot_2022-03-16_at_12.50.32_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4820328052372/Screen_Shot_2022-03-16_at_12.50.32_PM.png)

4\. Click the ""Edit Visibility"" to edit the Environments Visibility

![Screen_Shot_2022-03-16_at_12.50.49_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4820328055188/Screen_Shot_2022-03-16_at_12.50.49_PM.png)

5\. Then change it to your preferred Visibility and click Update Visibility

![Screen_Shot_2022-03-16_at_12.54.06_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4820372071700/Screen_Shot_2022-03-16_at_12.54.06_PM.png)

![Screen_Shot_2022-03-16_at_12.56.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4820373752852/Screen_Shot_2022-03-16_at_12.56.41_PM.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy/subscription.html ""Opens a sign-in dialog"")

I've got a strange problem in python - code shows an error.

Numpy has an error?

“AttributeError: module 'numpy.random' has no attribute '\_bit\_generator'”

The above error indicates a function does not exist in the numpy library. This particular error is introduced in numpy 1.18.

To resolve this use any of these options:

Dockerfile:

RUN pip install ""numpy>=1.19

Command-line:

pip install ""numpy>=1.19""

Edit or create a file in your Files named: requirements.txt, add:

numpy>=1.19

**For more examples you can add scope to the versions min/max:**

pip install ""numpy>1.18, <=1.20"" # Will install 1.20 unless some other requirements stop you from that.

pip install ""numpy>1.18, <1.20"" # Will install 1.19.X

When using < or > you must enclose the package and version in quotes for reliable operation since it can be interpreted as redirection symbol.

### Recently viewed articles

*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/articles/4820364756372-How-to-Change-Environments-Visibility)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi)
*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab)
*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/6665122897428-Configure-Certificates-for-A-Specific-Compute-Environment)

### Related articles

*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPsAl9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSqxCQEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMjE3NDMzMS1TdXBwb3J0LVNpdGUtU2lnbi1Jbi1QbGVhc2UtVmVyaWZ5LVlvdXItRW1haWwGOwhUOglyYW5raQY%3D--df14aac38d93238a4d0e2e93288d27749318f358)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT7dmBsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSqxCQEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzQ4NjM1MjEzODkzMzItSG93LXRvLWluc3RhbGwtR3Vyb2JpBjsIVDoJcmFua2kH--172851c229828b89185f960102be7791571fd3ac)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSqxCQEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQg%3D--aa8536c741cb63906efbe420bf2491c859c6b38c)
*   [I need to install a package every time I start R Studio. How do I make it permanent?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSqxCQEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpCQ%3D%3D--01376f6aed9ec4f574c99a47eb1f976f2ae39bef)
*   [Creating an environment to install mongod on a Domino Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRGm1vYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSqxCQEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzg2MjU4MzEyMzMxNzItQ3JlYXRpbmctYW4tZW52aXJvbm1lbnQtdG8taW5zdGFsbC1tb25nb2Qtb24tYS1Eb21pbm8tV29ya3NwYWNlBjsIVDoJcmFua2kK--b3bbc391a021f0a05e1317633159982acb5d890e)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4415843248788-Python-problem-pip-or-numpy) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt/subscription.html ""Opens a sign-in dialog"")

Some of our users know how to add Python dependencies (or other dependencies alike) to their project by adding them to their ""requirements.txt"" file .

But in order to get the packages actually installed then it requires them to restart the workspace. Restarting the workspace can be very cumbersome and sometimes can take a while with specially with on-prem version of Domino.

This can be resolved by using a pip command . Just simply add this to your dockerfile, a pre-run script, or even run manually from terminal after the workspace has started.

pip install -r /path/to/requirements.txt

But it would be advisable to add the needed packages via the dockerfile to the time to install the packages is not done during workspace startup time since the packages would already be in the docker (compute environment) image.

### Recently viewed articles

*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/articles/4820364756372-How-to-Change-Environments-Visibility)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi)
*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/articles/7004857098644-Add-ArcGIS-for-Jupyterlab)

### Related articles

*   [Models cannot use requirements.txt](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS3znABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAEpkCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQyMzQwNzQwMDQtTW9kZWxzLWNhbm5vdC11c2UtcmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBg%3D%3D--bcbd0ee5dc32c3e524a244675596ed8b9406c9fc)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAEpkCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQc%3D--6fcfacb06b737a8b6e31947d9115de59ad8405c8)
*   [Packages in the requirements.txt file are not being installed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSA%2BQMHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAEpkCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU1Mjc2ODk1OTI4NTItUGFja2FnZXMtaW4tdGhlLXJlcXVpcmVtZW50cy10eHQtZmlsZS1hcmUtbm90LWJlaW5nLWluc3RhbGxlZAY7CFQ6CXJhbmtpCA%3D%3D--9d87019e416dd3b4696bde8df5e2df89b5b45a83)
*   [How do I ensure a Python package from a private repo is usable in both runs and models?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHC6IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAEpkCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0Mjk5Mi1Ib3ctZG8tSS1lbnN1cmUtYS1QeXRob24tcGFja2FnZS1mcm9tLWEtcHJpdmF0ZS1yZXBvLWlzLXVzYWJsZS1pbi1ib3RoLXJ1bnMtYW5kLW1vZGVscwY7CFQ6CXJhbmtpCQ%3D%3D--9c539b72b7787d394a90ce3a04aeb3e0971b2919)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSAEpkCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kK--d70a85b4db1b632b3dc7286086942579055aabeb)"
https://tickets.dominodatalab.com/hc/en-us/articles/4402511602068-Installing-Selenium,"## Installing Selenium

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4402511602068-Installing-Selenium/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

To start working and install selenium and its pre-requisite packages do the following,

sudo apt-get update  
sudo apt install chromium-browser -y  
sudo apt install chromium-chromedriver  
pip install selenium

To test the installed selenium do the following,

from selenium import webdriveroptions = webdriver.ChromeOptions()  
options.add\_argument(""--no-sandbox"")  
options.add\_argument(""--remote-debugging-port=9222"")  
options.headless = True  
driver = webdriver.Chrome(""/usr/lib/chromium-browser/chromedriver"", desired\_capabilities=options.to\_capabilities()) # Optional argument, if not specified will search path.  
driver.get('http://www.google.com/');  
search\_box = driver.find\_element\_by\_name('q')  
search\_box.send\_keys('Domino Data Lab')  
search\_box.submit()  
driver.save\_screenshot('headless\_chrome\_test.png')  
driver.quit()

The chromium-chromedriver version is very dependent on the chromium-browser version, so if you aren’t installing them at the same time, then be careful of that.

options.headless = True is required or it will error.

## **Note:** 

While Domino Support does try to help users with environment issues, our main focus is Domino's core product. If you run into issues with your environments, the best first step is to connect with your local admins. 

### Recently viewed articles

*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)
*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/articles/4820364756372-How-to-Change-Environments-Visibility)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi)
*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio)

### Related articles

*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIucKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThIwoBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDA5MS1TZXR0aW5nLVVwLWEtSkRCQy1vci1PREJDLUNvbm5lY3Rpb24tZnJvbS1Eb21pbm8tSW5jbHVkaW5nLUluZm9ybWF0aWNhLUNvbm5lY3Rpb25zBjsIVDoJcmFua2kG--22a2994f1f6d44a608cbd328c6dd74a13ba27133)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThIwoBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBw%3D%3D--91564b11129a3e89360beeb752fb361af1eb39fc)
*   [Environment build fails with ERROR: Could not acquire image ID or digest following build](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnH%2FMABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThIwoBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzQ0MDIxMjU0NjUzNjQtRW52aXJvbm1lbnQtYnVpbGQtZmFpbHMtd2l0aC1FUlJPUi1Db3VsZC1ub3QtYWNxdWlyZS1pbWFnZS1JRC1vci1kaWdlc3QtZm9sbG93aW5nLWJ1aWxkBjsIVDoJcmFua2kI--620620d881d96f20885e424993e0223a1452b173)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThIwoBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kJ--3f25dc22526f21dc2d472a085a20e98fd12254c6)
*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCFxwBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJThIwoBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI4MTI3OTc0NjAtQ2hhbmdpbmctQWNjb3VudC1JbmZvcm1hdGlvbi1vbi00LXgGOwhUOglyYW5raQo%3D--82b0e464ec4cf8273aeb124ef3740a51f762cf54)"
https://tickets.dominodatalab.com/hc/en-us/articles/4408743723924-Can-Environment-Scripts-Be-Used-to-Access-an-Attached-Repo,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4408743723924-Can-Environment-Scripts-Be-Used-to-Access-an-Attached-Repo/subscription.html ""Opens a sign-in dialog"")

Yes, of the four different environment scripting options available in Domino, the pre-run script can be used to check the contents of a repo attached to a Domino project.

Here is a quick example pre-run script that goes into an attached repo, lists it contents, and checks the status of git:

echo ""@@@@@ Pre Run Script @@@@@""  
cd /repos/quick-start  
ls -la  
git status

For a git-based project, this just requires a change to the directory, such as:

echo ""@@@@@ Pre Run Script @@@@@""  
cd /mnt/code  
ls -la  
git status

If you have a need to validate files in a repo, target the pre-run script for your checks.

### Recently viewed articles

*   [Installing Selenium](https://tickets.dominodatalab.com/hc/en-us/articles/4402511602068-Installing-Selenium)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)
*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/articles/4820364756372-How-to-Change-Environments-Visibility)
*   [How to install Gurobi](https://tickets.dominodatalab.com/hc/en-us/articles/4863521389332-How-to-install-Gurobi)

### Related articles

*   [Install custom python packages from imported repos](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtMcJ1DToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDmn0CBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzE0Nzk5NDIwMzg2NzA4LUluc3RhbGwtY3VzdG9tLXB5dGhvbi1wYWNrYWdlcy1mcm9tLWltcG9ydGVkLXJlcG9zBjsIVDoJcmFua2kG--8bd7811183947dc08470e9ea31c2708ea7155343)
*   [Conda binary is not executable](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSpUB0zBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDmn0CBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzY4MTY2MDQ5MjQzMDgtQ29uZGEtYmluYXJ5LWlzLW5vdC1leGVjdXRhYmxlBjsIVDoJcmFua2kH--a9d156afd9174ebd727d2f08a53dc8b17d7dac5e)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR9iyAFBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDmn0CBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MjAwNjczNjAwMjAtRmlyc3QtcnVsZS1vZi1DTEktVHJvdWJsZXNob290aW5nBjsIVDoJcmFua2kI--b15bb440fc89294d88ca45e770feea158b7e3ead)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDmn0CBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQk%3D--6535ccbacb87e9598a6edadb447848b301ddbcde)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQplEICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSDmn0CBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0NTE3OTYtV29ya2luZy13aXRoLUdpdC1yZXBvc2l0b3JpZXMtZnJvbS10aGUtd29ya3NwYWNlLWNvbW1hbmQtbGluZQY7CFQ6CXJhbmtpCg%3D%3D--f89b16b98cd8da1ee8054aa357f56cb38f32d940)"
https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRC2f8BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSn9WkZEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY2MzM5MDY3MDgtV2hhdC1pcy1hLUxpdGUtVXNlci1MaWdodFVzZXIGOwhUOglyYW5raQY%3D--9ea8b2b7892bf938ae60d9cc7e66205ce2c01e59,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4406633906708-What-is-a-Lite-User-LightUser/subscription.html ""Opens a sign-in dialog"")

In Domino 4.3.3+ you will see a reference in the Domino admin UI to a Lite User in the role summary of users at the top of the Users page, for example,

**Users**

Total active users : 286 ( SupportStaff: 2, Practitioner: 167, ProjectManager: 2, **Lite User: 86**, ReadOnlySupportStaff: 2, Librarian: 94, SysAdmin: 122 )

If you are looking for the documentation on this role you can find the reference [here](https://admin.dominodatalab.com/en/4.6/user-management/Admin_roles.html?highlight=roles). Note that at the moment our documentation refers to these users as 'LightUser' vs. what you will see in the admin page 'Lite User'.

### What is a Lite User?

The definition of a Lite User is actually just a user who has no other assigned role.  The lite user will have very limited access.  They will be able to only view public projects, although they can be added as collaborators to private projects to view them they will not be able to execute workloads in those projects.  They will not be able to create their own projects.  

Lite Users do not consume a license.

### How can I set a user to have the 'Lite User' role?

By default new users will be set to the Practitioner role.  The Practitioner user consumes a license.  Note that this is a change from prior versions of Domino where a new user had no role until a role was manually set by an admin or until the user executed a workload where they would then be set to a Practitioner. 

If you would prefer all new users are created as 'Lite Users' and then have an admin set their role to one of the available roles...

*   **Practitioner**
*   **SysAdmin**
*   **ProjectManager**
*   **Librarian**
*   **SupportStaff**
*   **ReadOnlySupportStaff**

...there is a new central config setting that will set the default role for a new user to whichever role you prefer.  The central config setting is documented [here,](https://admin.dominodatalab.com/en/4.6/configuration/Central_configuration.html#authorization)

**com.cerebro.domino.frontend.authentication.defaultRoles**

Setting the value of this to either LightUser or LiteUser is acceptable.  In reality no such role exists in Domino since as noted, this is actually just the lack of any other defined role.  This means you will see an error logged in dispatcher logs indicating that no such role exists,

Role LiteUser does not match an existing Domino role.

This warning can be safely ignored.  

This setting will  only apply for users who are not receiving a roles from the identity provider, and who haven't been explicitly given roles from the Domino UI by an admin.

### How Can I identify which users are Lite Users?

In the Domino admin/users UI, these user's role is displayed as ""--""  ![Screen_Shot_2021-09-10_at_9.16.53_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4406638262164)

Note the test user in the above screenshot, dominotest00, has no other role assigned and is a Lite User.  

### Recently viewed articles

*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)
*   [Can Environment Scripts Be Used to Access an Attached Repo?](https://tickets.dominodatalab.com/hc/en-us/articles/4408743723924-Can-Environment-Scripts-Be-Used-to-Access-an-Attached-Repo)
*   [Installing Selenium](https://tickets.dominodatalab.com/hc/en-us/articles/4402511602068-Installing-Selenium)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)
*   [Python problem, pip or numpy](https://tickets.dominodatalab.com/hc/en-us/articles/4415843248788-Python-problem-pip-or-numpy)

### Related articles

*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPsAl9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRC2f8BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMjE3NDMzMS1TdXBwb3J0LVNpdGUtU2lnbi1Jbi1QbGVhc2UtVmVyaWZ5LVlvdXItRW1haWwGOwhUOglyYW5raQY%3D--95d9efa8190b7da0d88947989e363bfcbfbbc342)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRC2f8BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kH--7f557a0ae98e5a333dfbbb112f102ddf3924ccff)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRC2f8BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kI--d7a8665f8695311c68da8e25a64e399674ad75a0)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRP0uABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRC2f8BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYxMTMzNTc3MTYtVGhlLWhhcmR3YXJlLXRpZXItY29zdC1zZWVtcy1pbmNvbnNpc3RlbnQGOwhUOglyYW5raQk%3D--300536f41ef0942b16eaac21f5c6a7880d50f5d3)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRC2f8BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQo%3D--3d2de3259b1c3525c7cfcd37c289d2c127c062b5)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058963172-How-to-add-a-CAcert-to-a-Domino-Compute-Environment/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCA%3D%3D--12884e8f1f0514b4cbad829097050600141793e9,"The following is the general method to schedule apps.

This method leverages two calls in Domino's Python API: **app\_publish()** and **app\_unpublish()**, and runs a Python script as a scheduled job to make these calls.

To leverage these functions, simply:

*   Upload your script to your project files ([see example app.py files for your Domino version below](#h_01H582BV6TV15A6602RN6KEXY1))
*   Add the domino-python package via requirements.txt ([if needed - see note below File 2](#h_01H582C8WP60Y0X74644H9589N))
*   Create a scheduled job with the following command:

[![app_image.png](https://us.v-cdn.net/6031622/uploads/NQXXWUK5YS4J/app-image.png)](https://us.v-cdn.net/6031622/uploads/NQXXWUK5YS4J/app-image.png)

*   Then, schedule this to run whenever you'd like your app to republish.

\* Note: there will be a few minutes between the old instance shutting down and the new instance spinning up. 

Additionally, if you'd like the app to shut down regularly, you can schedule a job using the command ""app.py off""

Here are the files you will need:

#### **FILE 1: app.py**

**Domino versions 5.0+:**

import domino  
import os  
import sys

print(""Domino python-wrapper version:"", domino.\_\_version\_\_)  
print(""Minimum required python-wrapper version is 1.0.6"")

from domino import Domino

action = sys.argv\[1\]

domino = Domino(os.environ\['DOMINO\_PROJECT\_OWNER'\] + ""/"" + os.environ\['DOMINO\_PROJECT\_NAME'\])  
domino.authenticate(api\_key=os.getenv(""DOMINO\_USER\_API\_KEY""))

if action == ""on"":  
    domino.app\_publish()  
    print(""publishing app"")  
elif action == ""off"":  
    domino.app\_unpublish()  
    print(""unpublishing app"")  
else:  
     raise ValueError('This script uses the format: app.py \[on\]/\[off\]')

**Domino versions between 4.4.0 - 4.6.x:**

import domino  
import os  
import sys

print(""Domino python-wrapper version:"", domino.\_\_version\_\_)  
print(""Minimum required python-wrapper version is 1.0.6"")

from domino import Domino

action = sys.argv\[1\]

\# Schedules may fail after a while unless this is set:  
os.environ.pop('DOMINO\_TOKEN\_FILE')

domino = Domino(os.environ\['DOMINO\_PROJECT\_OWNER'\] + ""/"" + os.environ\['DOMINO\_PROJECT\_NAME'\])  
domino.authenticate(api\_key=os.getenv(""DOMINO\_USER\_API\_KEY""))

if action == ""on"":  
    domino.app\_publish()  
    print(""publishing app"")  
elif action == ""off"":  
    domino.app\_unpublish()  
    print(""unpublishing app"")  
else:  
     raise ValueError('This script uses the format: app.py \[on\]/\[off\]')

**Domino versions between 4.0 ~ 4.3.0:**

from domino import Domino
import os
import sys

action \= sys.argv\[1\]
\# Schedules may fail after a while unless this is set:
os.unsetenv('DOMINO\_TOKEN\_FILE')  
domino \= Domino(os.environ\['DOMINO\_PROJECT\_OWNER'\] + ""/"" + os.environ\['DOMINO\_PROJECT\_NAME'\],
                api\_key\=os.environ\['DOMINO\_USER\_API\_KEY'\],
                host\=os.environ\['DOMINO\_API\_HOST'\])
 
if action \== ""on"":
    domino.app\_publish()
elif action \== ""off"":
    domino.app\_unpublish()
else:
    raise ValueError('This script uses the format: app.py \[on\]/\[off\]')

#### **FILE 2: requirements.txt**

**All Domino versions 4.0+**

dominodatalab

Note: This step may not be necessary if your environment already has the python-domino package installed. For environments such as the [Domino Standard Environments](https://docs.dominodatalab.com/en/latest/user_guide/0d73c6/domino-standard-environments/) and others built upon those you may be able to skip this step.

You can also add the python-domino package installation to your Compute Environment Dockerfile Instructions instead of a requirements.txt file.

On older versions of Domino (e.g. 2.x, 3.x), you may see an error when using the latest version the python-domino package. If this occurs, **you can install the 0.3.5 version** of the python-domino package as follows:

pip install https://github.com/dominodatalab/python-domino/archive/0.3.5.zip"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOTEL9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kJ--5426c8a4c8999e36c897d7ae3a3b495876d201a5,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413223983252--PKIX-path-building-failed-when-using-Domino-CLI-How-to-resolve-on-a-Windows-machine/subscription.html ""Opens a sign-in dialog"")

Note: This is a follow-up to another article which describes fixing the ""PKIX path building failed"" on a Mac. If you are on a Mac, please find that article [here](https://tickets.dominodatalab.com/hc/en-us/articles/360058040052-CLI-login-fails-with-the-error-PKIX-path-building-failed-). 

If you are on a Windows machine and encounter the error: ""PKIX path building failed"" when using the CLI, please follow these instructions to resolve it: 

1\. Find the keytool.exe from your Windows Machine. It should be in one of these locations (use `domino --version` to confirm), keep this for step 4:

C:\\Users\\<user>\\AppData\\local\\domino\\jre8\\bin\\keytool.exe  
C:\\Program Files\\Java\\jre8\\bin\\keytool.exe  
C:\\Program Files (x86)\\Java\\jre8\\bin\\keytool.exe

_If the default Domino java does not work for you, please try your default java installation as well!_

2\. Grab the Domino SSL Certificate from https://<yourdominourl/. Save it on your Desktop or Documents folder and give it a filename, i.e.: ""domino-deployname-com-cert.cer"".

2a. Using Chrome, browse https://<yourdominourl>  
2b. Click the ""Secure"" button (padlock icon) in the address bar.  
2c. Click the ""Certificate (Valid)"" button.  
2d. Go to the ""Details"" tab  
2e. Click the ""Copy to file..."" button  
2f. Click Next  
2g. Select ""Base-64 encoded X.509 (.CER). Click next and give it a filename to use in step 4.

See: https://www.shellhacks.com/get-ssl-certificate-from-server-site-url-export-download/

3\. Change directory to Domino CLI location in CMD/Command Prompt. 

cd C:\\Users\\<userID>\\AppData\\Local\\Programs\\domino\\jre\\lib\\security

4\. Import the domino certificate using the keytool matching those found above. Type ""yes"" to trust the certificate.

""C:\\Program Files (x86)\\Java\\jre8\\bin\\keytool.exe"" -**import** -**keystore** cacerts -**alias** domino-deployname-com-cert -**file** ""$FILENAME\_FROM\_2g.cer""

If asked to, enter keystore password: **changeit**

5\. If there are no errors. Try logging in to Domino.

domino login https://<yourdominourl>

6\. Get the Authorization Code:

https://<yourdominourl>/authorizeCli

### Recently viewed articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)

### Related articles

*   [CLI login fails with the error ""PKIX path building failed""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPSuIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTYpYgDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDA1Mi1DTEktbG9naW4tZmFpbHMtd2l0aC10aGUtZXJyb3ItUEtJWC1wYXRoLWJ1aWxkaW5nLWZhaWxlZAY7CFQ6CXJhbmtpBg%3D%3D--bcd10b0b21501fb832fc86952a54efbcf119178d)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTYpYgDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kH--442c5b2aeec42a44218ea026afbcb039d11e1b3d)
*   [What setting should I use for trustStoreType in the CLI configuration file domino.vmoptions](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR5lAsEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTYpYgDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy80NDE1NDIwNjU5OTg4LVdoYXQtc2V0dGluZy1zaG91bGQtSS11c2UtZm9yLXRydXN0U3RvcmVUeXBlLWluLXRoZS1DTEktY29uZmlndXJhdGlvbi1maWxlLWRvbWluby12bW9wdGlvbnMGOwhUOglyYW5raQg%3D--def7a1ae24d59f6d566b12147adf01c58aa06918)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTYpYgDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--93d6e089a551bf9ee974494c82a860bc1b60815f)
*   [Using The CLI Behind A Proxy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIyiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTYpYgDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzg1Mi1Vc2luZy1UaGUtQ0xJLUJlaGluZC1BLVByb3h5BjsIVDoJcmFua2kK--41b17cab2e6688246fbe347f9ebc52587f2daf27)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSq%2B0ECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRf6%2FPUFToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDM0NTc5NDAtLUZpbGUtdG9vLWJpZy10by1iZS12aWV3ZWQtZGlyZWN0bHktaW4tYnJvd3Nlci1lcnJvcgY7CFQ6CXJhbmtpCA%3D%3D--bcb9431cbf99080ba7dc78a26bf96a050e58525c,"If you are trying to view files in your Domino project but get an error ""File too big to be viewed directly in browser. Please use the download link"", please contact your local admin. 

Admins should check this setting in central config: 

com.cerebro.domino.frontend.defaultMaxFileSizeToRenderInBytes

If that still doesn't fix the issue, admins may also want to check 

com.cerebro.domino.upload.maxUploadFileSizeInMegabytes

and

play.http.parser.maxDiskBuffer

If files are still not rendering, please reach out to Domino's support team."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24004369538964-Add-R-as-a-kernel-to-Jupyter-Jupyterlab,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20288906500244-Installing-R-packages-from-github-into-my-Domino-environment&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20288906500244-Installing-R-packages-from-github-into-my-Domino-environment/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTysIBCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk5MDMxNjc2NDA0NjgtZGV2dG9vbHMtYWRkaXRpb24tdG8tQ29tcHV0ZS1FbnZpcm9ubWVudC1lcnJvcnMtd2hlbi11c2luZy1SNC0wBjsIVDoJcmFua2kH--767da85d950a54466b82a0d894e1e28f9e15024e,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9903167640468-devtools-addition-to-Compute-Environment-errors-when-using-R4-0/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Compute Environments running specific version of R, like R version 4.0

* * *

## **Issue:**

This article is an illustration of some of the complexities of package and library dependencies when building environments.  The cases below are meant as examples to help you and your R experts foster your own ideas for determining how you want to build your compute environment.

When attempting to use R 4.0, adding R's devtools package to a Compute Environment's dockerfile instructions resulted in a build error, like:

```
Oct 04 2022 11:26:06 -0400	#9 153.9 ERROR: dependency ‘pkgdown’ is not available for package ‘devtools’	ip-10-196-141-106.ec2.internal	domino-build-633c4dfd85cc072d6da5ecac-6d7m9	forge-buildOct 04 2022 11:26:06 -0400		ip-10-196-141-106.ec2.internal	domino-build-633c4dfd85cc072d6da5ecac-6d7m9	forge-buildOct 04 2022 11:26:06 -0400	#9 153.9 * removing ‘/usr/local/lib/R/site-library/devtools’
```

* * *

## **Root Cause:**

The above error can occur with all versions of R, but to date I haven't found a resolution for R4.0 specifically, while we have found resolutions for other version of R.  Looking thru [https://community.rstudio.com/](https://community.rstudio.com/) , github forums and other online communities it appears there are a variety of permutations of this error, pointing to the culprit lying between R, the OS, and other R package dependencies, the problem is not occurring due to Domino components or functionality.

* * *

## **Resolution:**

The resolution varies depending on the base version of R, but we haven't found one for R4.0.  Rather here are working examples from older and newer versions.

**R4.2 example**

Using quay.io/domino/compute-environment-images:ubuntu20-py3.9-r4.2-domino5.3-standard the following instructions work to install devtools (and test it):

RUN sudo apt-get update  
RUN sudo apt install --yes libharfbuzz-dev libfribidi-dev  
RUN R --no-save -e 'install.packages(""devtools"")'  
RUN R -e 'devtools::install\_version(""shinydashboardPlus"", version = ""0.7.5"", dependencies=T)'

**R3.5 example** 

Using quay.io/domino/base:Ubuntu18\_DAD\_Py3.7\_R3.5-20190501 the following instructions work to install devtools (and test it):

#other necessary steps above, like nvidia gpg key fix  
RUN sudo apt-get update  
#avoid hang in build to to 'restart?' prompt  
RUN echo '\* libraries/restart-without-asking boolean true' | sudo debconf-set-selections  
RUN sudo apt install --yes build-essential libcurl4-gnutls-dev libxml2-dev libssl-dev  
RUN sudo apt install --yes libharfbuzz-dev libfribidi-dev  
RUN R --no-save -e 'install.packages(""devtools"")'  
RUN R -e 'devtools::install\_version(""shinydashboardPlus"", version = ""0.7.5"", dependencies=T)'

We aren't R experts, so the above aren't a definitive means for correcting the error, rather a simple listing of a combo of packages that act as a working example.

  
A smart approach to determining dockerfile instructions is to spin-up on your base image then test your 'apt install, 'pip install' and 'R -e install.packages' cmds directly in a terminal to watch the validity of those commands prior to inserting them into a dockerfile of your compute environment.

* * *

References:  
https://github.com/r-lib/devtools/issues/2472  
[https://community.rstudio.com/t/unable-to-install-devtools/146869/4](https://community.rstudio.com/t/unable-to-install-devtools/146869/4)

[https://dominoup.zendesk.com/agent/tickets/68472](https://tickets.dominodatalab.com/agent/tickets/68472) (internal ticket)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [I've switched to a GPU (or CPU) hardware tier and now my workspace will not leave assigning.](https://tickets.dominodatalab.com/hc/en-us/articles/19599879173012-I-ve-switched-to-a-GPU-or-CPU-hardware-tier-and-now-my-workspace-will-not-leave-assigning)
*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)
*   [Create a Pyspark environment with any version of Hadoop](https://tickets.dominodatalab.com/hc/en-us/articles/360058042312-Create-a-Pyspark-environment-with-any-version-of-Hadoop)
*   [My 'library(tidyverse)' command returns status 1 in RStudio](https://tickets.dominodatalab.com/hc/en-us/articles/6632298870932-My-library-tidyverse-command-returns-status-1-in-RStudio)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTysIBCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--3962fe666a3748f229d33e4e59f475e60465eb32)
*   [Notify you when other people add collaborators to your own project.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS89yy0BjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTysIBCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzczNzA5MTgzMTI5ODAtTm90aWZ5LXlvdS13aGVuLW90aGVyLXBlb3BsZS1hZGQtY29sbGFib3JhdG9ycy10by15b3VyLW93bi1wcm9qZWN0BjsIVDoJcmFua2kH--40241d8bd289e1f972c2e15a4709381e16a9d9a0)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0cpdyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTysIBCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy83MDg5MjM2OTE1MzQ4LVJzdHVkaW8tcGxvdC1mdW5jdGlvbnMtZmFpbC13aXRoLVItZ3JhcGhpY3MtZW5naW5lLXZlcnNpb24tMTUtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpCA%3D%3D--f1cb914cf4a37c382424627e15968840ba1164ed)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTysIBCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kJ--abda9d205cfedfc68851972c5dee4d0c6d704893)
*   [Persisting RStudio Preferences (1.4+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSW6HiFBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTysIBCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzYwNzA4MTcyOTgwNjgtUGVyc2lzdGluZy1SU3R1ZGlvLVByZWZlcmVuY2VzLTEtNAY7CFQ6CXJhbmtpCg%3D%3D--0649265a370eba479b05e3e21dbb2952a88bce3d)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSYEOFzEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpCQ%3D%3D--2e191f83ed17b325136c643f030f57b3c353a1db,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4410831466516-I-need-to-install-a-package-every-time-I-start-R-Studio-How-do-I-make-it-permanent/subscription.html ""Opens a sign-in dialog"")

I need to install libraries/packages in R Studio. They are not in the default Environment. How do I make the packages permanent?

I want to install tinytex to my R Studio environment, how to I do this?

In order to bake packages into an Environment - you can modify the default environment for your Project (remember to check in with your Admins first, and you may not have permission to do this) or you can make a copy of another environment. This is explained in the Domino Docs:

[https://docs.dominodatalab.com/en/latest/user\_guide/f51038/environment-management/](https://docs.dominodatalab.com/en/latest/user_guide/f51038/environment-management/)

Install packages (example are for the Dockerfile) with a direction for a particular repo:

RUN R --no-save -e ""install.packages(c('httr'),repos='http://cran.r-project.org')""

Install packages from a default repo:

RUN R --no-save -e ""install.packages('rpart')""

Install tinytex:

RUN R --no-save -e ""install.packages('tinytex')""  
RUN R --no-save -e ""tinytex::install\_tinytex()""

### Recently viewed articles

*   [How to install package using Git Repo](https://tickets.dominodatalab.com/hc/en-us/articles/7768413308436-How-to-install-package-using-Git-Repo)
*   [devtools addition to Compute Environment errors when using R4.0](https://tickets.dominodatalab.com/hc/en-us/articles/9903167640468-devtools-addition-to-Compute-Environment-errors-when-using-R4-0)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [I've switched to a GPU (or CPU) hardware tier and now my workspace will not leave assigning.](https://tickets.dominodatalab.com/hc/en-us/articles/19599879173012-I-ve-switched-to-a-GPU-or-CPU-hardware-tier-and-now-my-workspace-will-not-leave-assigning)
*   [Update the credentials of a Git Based project](https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project)

### Related articles

*   [Persistent packages (Shiny)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOCjT9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTwCvoCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTA1MTg3Mi1QZXJzaXN0ZW50LXBhY2thZ2VzLVNoaW55BjsIVDoJcmFua2kG--7183aeba293f493b54f593cb10a7bce9f941f0fc)
*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTwCvoCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kH--5ae14c81bf5c0a3dbc8501647b4f0b063c7d1dc0)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJThBPJeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTwCvoCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzcwMDQ4NTcwOTg2NDQtQWRkLUFyY0dJUy1mb3ItSnVweXRlcmxhYgY7CFQ6CXJhbmtpCA%3D%3D--de6c1f3469e8e4a213c1d8e30d8124dbe9613b6c)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTwCvoCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQk%3D--4c326e081ceebbc1441705b26ffabff321ff0780)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTwCvoCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kK--87496e82587105bc0d5331b8b3779fb4f82c6038)"
https://tickets.dominodatalab.com/hc/en-us/articles/20151258023828-FAQ-What-is-the-workspace-environment/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20288906500244-Installing-R-packages-from-github-into-my-Domino-environment,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20151258023828-FAQ-What-is-the-workspace-environment&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRqZ5lTEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSHk9RTEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzIwMTUwMjY1Mjc2OTQ4LWRjYS1pbml0LWhhbmdzLW9uLW9sZGVyLURvbWluby1TdGFuZGFyZC1FbnZpcm9ubWVudHMGOwhUOglyYW5raQg%3D--a91c9dfb845c5be32038927c0cdfb1f9ac6842ba,"#### _**Version/Environment (if relevant):**_

This is relevant to usage of DCA (Domino Code Assist) on DSE (Domino Standard Environments) 5.3 or older.

* * *

## **Issue:**

A user attempted to use DCA but during dca.init() there was a hang on ""Initializing"" that never returned:

![image (5) (1).png](https://tickets.dominodatalab.com/hc/article_attachments/20150284184212)

This occurred no matter which version of DCA was tested or which approach (pip vs requirements.txt, etc).

* * *

## **Root Cause:**

Javascript errors are occurring behind the scenes due to incompatible or missing libraries in the Compute Environment being used.

* * *

## **Resolution:**

The DCA feature predates Domino version 5.3, so the 5.3 DSE Compute Environment does not support DCA.  Try using the 5.4 DSE or even newer.

* * *

### **References/Internal Records:**

*   DOM-50784

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app/subscription.html ""Opens a sign-in dialog"")

In some versions of Domino users may notice issues with flask app redirects. This can show up when users are being sent to a secondary page of the app or when clicking a link in the app is supposed to download a file. 

If you are using a chrome browser and use developer tools (View > Developer > Developer Tools), you may see the following errors when attempting the flask redirects in your app: 

Network details for the error:   
Request URL: <app url>   
Request Method: GET  
Status Code: 302   
Referrer Policy: strict-origin-when-cross-origin

 or 

Mixed Content: The page at '<app url> was loaded over HTTPS, but requested an   
insecure resource 'http://<run\_id>-domino-compute.svc.cluster.local/<userid>/  
<project\_name>/r/notebookSession/<runid>/<redirect\_page>'. This request has been   
blocked; the content must be served over HTTPS.

To remediate this issue we'll want to slightly adjust the ReverseProxied function, which we've taken from the Domino docs (found [here](https://docs.dominodatalab.com/en/latest/reference/publish/apps/Publishing_a_Flask_web_app_in_Domino.html#create-the-files)): 

class ReverseProxied(object):  
  def \_\_init\_\_(self, app):  
      self.app = app  
  def \_\_call\_\_(self, environ, start\_response):  
      script\_name = environ.get('HTTP\_X\_SCRIPT\_NAME', '')  
      if script\_name:  
          environ\['SCRIPT\_NAME'\] = script\_name  
          path\_info = environ\['PATH\_INFO'\]  
          if path\_info.startswith(script\_name):  
              environ\['PATH\_INFO'\] = path\_info\[len(script\_name):\]  
      #flask fix                
      # Setting wsgi.url\_scheme from Headers set by proxy before app  
      scheme = environ.get('HTTP\_X\_SCHEME', 'https')  
      if scheme:  
        environ\['wsgi.url\_scheme'\] = scheme  
        # Setting HTTP\_HOST from Headers set by proxy before app  
      remote\_host = environ.get('HTTP\_X\_FORWARDED\_HOST', '')  
      remote\_port = environ.get('HTTP\_X\_FORWARDED\_PORT', '')  
      if remote\_host and remote\_port:  
          environ\['HTTP\_HOST'\] = f'{remote\_host}:{remote\_port}'  
      #end flaskfix   
      return self.app(environ, start\_response)

As you can see, the only change was to add the lines between #flaskfix and #end flaskfix, posted below: 

      #flask fix                
      # Setting wsgi.url\_scheme from Headers set by proxy before app  
      scheme = environ.get('HTTP\_X\_SCHEME', 'https')  
      if scheme:  
        environ\['wsgi.url\_scheme'\] = scheme  
        # Setting HTTP\_HOST from Headers set by proxy before app  
      remote\_host = environ.get('HTTP\_X\_FORWARDED\_HOST', '')  
      remote\_port = environ.get('HTTP\_X\_FORWARDED\_PORT', '')  
      if remote\_host and remote\_port:  
          environ\['HTTP\_HOST'\] = f'{remote\_host}:{remote\_port}'  
      #end flask fix 

### Recently viewed articles

*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [dca.init() hangs on older Domino Standard Environments](https://tickets.dominodatalab.com/hc/en-us/articles/20150265276948-dca-init-hangs-on-older-Domino-Standard-Environments)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/4420067360020-First-rule-of-CLI-Troubleshooting)

### Related articles

*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUpIkDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQY%3D--c960f5f912f94775f19c545df8efd03074d63ffe)
*   [Can Not Access App: Unauthorized : you must be authenticated to access this page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXze46BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUpIkDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ2NTExNjEwNjUzNjQtQ2FuLU5vdC1BY2Nlc3MtQXBwLVVuYXV0aG9yaXplZC15b3UtbXVzdC1iZS1hdXRoZW50aWNhdGVkLXRvLWFjY2Vzcy10aGlzLXBhZ2UGOwhUOglyYW5raQc%3D--5266f47f5c37af2fca80a3fce3eecbec2d65429c)
*   [Is it possible to receive a notification when an app published in Domino crashes?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTX8UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUpIkDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI4MTM5NzItSXMtaXQtcG9zc2libGUtdG8tcmVjZWl2ZS1hLW5vdGlmaWNhdGlvbi13aGVuLWFuLWFwcC1wdWJsaXNoZWQtaW4tRG9taW5vLWNyYXNoZXMGOwhUOglyYW5raQg%3D--4a9bd0b0f2809e8b67dc9d967627758196e06871)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUpIkDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kJ--1fc84dc16026a414fa035d2f7ab961592b56722c)
*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUpIkDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kK--9f0ddbecb995e14bbd21581ba278bf81d8a12d75)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20151258023828-FAQ-What-is-the-workspace-environment,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps/subscription.html ""Opens a sign-in dialog"")

Previously (before 4.x) Domino had a feature to sync files from within the app but later with subsequent versions this was deprecated.

## So how do users now sync files from within an app ?

By using the Python bindings for the Domino API, which is available with the python-domino library. It has a list of methods to perform functions like creation of project, list runs, etc. 

The particular method we would be using in this instance is files\_upload which accepts path and file as arguments.

## How to set up python-domino ?

python-domino is compatible with different versions of Domino, more info on [https://github.com/dominodatalab/python-domino](https://github.com/dominodatalab/python-domino).

### Installation :

python-domino is now available on PyPi. You can install with the following command:

pip install dominodatalab

Previously these Python bindings were not available in PyPi. You can also install the latest version from our Github master :

```
pip install https://github.com/dominodatalab/python-domino/archive/master.zip
```

If you are adding it in a docker file, you must add RUN to the beginning. You can also add python-domino to your requirements.txt as per below:

```
git+git://github.com/dominodatalab/python-domino.git
```

And to install a lower version of the library, for example 0.3.5, use the following :

```
pip install https://github.com/dominodatalab/python-domino/archive/0.3.5.zip
```

### Setting up a connection to interact with your Domino deployment :

This will be done by creating a new instance of Domino :

#### _class_ Domino(project, api\_key=None, host=None, domino\_token\_file=None)

Parameter project is accepted in the form of ownerusername/projectname

## How to use the files\_upload method ?

files\_upload which accepts path and file as arguments in the form files\_upload(path,filename) is used to upload a Python file object into the specified path inside the project.

### The parameters, both of which are required, are:

*   _path:_ The path to save the file to. For example, `/README.md` will write to the root directory of the project while `/data/numbers.csv` will save the file to a subfolder named `data` (if the `data` folder does not yet exist, it will be created)
*   _file:_ A Python file object. For example, `f = open(""authors.txt"",""rb"")`

## An Example :

From [https://github.com/dominodatalab/python-domino/blob/master/examples/upload\_file.py](https://github.com/dominodatalab/python-domino/blob/master/examples/upload_file.py)

from domino import Domino  
import os  
output\_dir = ""results""  
\# connect to domino; be sure to have these environment variables set  
\#  (runs inside a Domino executor automatically set these for you)  
domino = Domino(""ownerusername/projectname"",  
      api\_key=os.environ\['DOMINO\_USER\_API\_KEY'\],  
      host=os.environ\['DOMINO\_API\_HOST'\])  
f = open('testfile.txt', 'rb')  
r = domino.files\_upload(""/a\_new\_file.txt"", f)  
if r.status\_code == 201:  
      print("":) Upload successful"")  
else:  
      print(""!! Upload failed"")

The app will need to run the above whenever a file is uploaded or created, even scheduled if needed but updated with the source/destination names and folders.

### Recently viewed articles

*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [dca.init() hangs on older Domino Standard Environments](https://tickets.dominodatalab.com/hc/en-us/articles/20150265276948-dca-init-hangs-on-older-Domino-Standard-Environments)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)
*   [First rule of CLI Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/articles/4420067360020-First-rule-of-CLI-Troubleshooting)

### Related articles

*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQzDBwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQY%3D--3ddb3a92255defffc45771c60c9b718c2bc1b7b9)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQzDBwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQc%3D--7b51acb71eb342591552c29f040eadb1fc5995f0)
*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQzDBwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQg%3D--d36d35caba900ccb4ab381e4ae34093315ec9be8)
*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSxzoEEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQzDBwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MTc0MDQxODY5MDAtSXMtdGhlcmUtYS1saW1pdC10by10aGUtc2l6ZS1vZi10aGUtZmlsZXMtaW4tbXktbW9kZWwtQVBJBjsIVDoJcmFua2kJ--56621bdd49ee5262ec5bd94173534730ae944ce0)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQzDBwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCg%3D%3D--09e65951014f51b33492674ce0550b1ec31bccd9)"
https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F22669427451540-Apps&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App/subscription.html ""Opens a sign-in dialog"")

[Plumber](https://www.rplumber.io/) is an API Generator for R which ""allows you to create a web API by merely decorating your existing R source code with `roxygen2`\-like comments."" In Domino, you can quickly deploy a Plumber App with only a few lines of code and a Domino Standard Environment (DSE)!

**Environment**

Our Domino Standard Environments come with Plumber installed - you can use this to deploy a basic Plumber app with no customization. If you're using a custom environment and need to add Plumber, you can do so with the line:

RUN R --no-save -e ""install.packages('plumber')""

**Example R script**

This is based on the example from [Plumber's website](https://www.rplumber.io/), with an added ""Hello World"" message:

\# plumber.R

#\* Hello World  
#\* @get /  
#\* @serializer html  
function(){  
  ""<html><h1>Hello World!</h1></html>""  
}

#\* Echo back the input  
#\* @param msg The message to echo  
#\* @get /echo  
function(msg="""") {  
list(msg = paste0(""The message is: '"", msg, ""'""))  
}

#\* Plot a histogram  
#\* @serializer png  
#\* @get /plot  
function() {  
  rand <- rnorm(100)  
  hist(rand)  
}

#\* Return the sum of two numbers  
#\* @param a The first number to add  
#\* @param b The second number to add  
#\* @post /sum  
function(a, b) {  
  as.numeric(a) + as.numeric(b)  
}

**app.sh**

This file contains the command you need to start the App:

#!/bin/bash 

R -e 'plumber::plumb(file=""plumber.R"")$run(port=8888, host=""0.0.0.0"")'

**Viewing the App & Accessing Endpoints**

Once your App is running, simply hitting ""View App"" will bring up your Plumber app with our ""Hello World"" message.

![plumber_hello-world.png](https://tickets.dominodatalab.com/hc/article_attachments/22670219471252)

While our root page is accessible via the ""official"" app URL, you aren't able to append paths to this.

For this, you need to use the session URL:`http://<domino_url>/<user>/<project>/r/notebookSession/<session_id>`(see [App URLS and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)). You can find this easily with your running app by navigating to the ""static"" App URL: `https://<domino_url>/<user>/<project>/app`, which then redirects to the session URL.

With that URL, you can utilize the other endpoints. For example:

`http://<domino_url>/<user>/<project>/r/notebookSession/<session_id>/plot`

![plumber-plot.png](https://tickets.dominodatalab.com/hc/article_attachments/22670219477012)

This same URL would be utilized for making API calls directly. For example:

curl --location 'https://<domino\_url>/<user>/<project>/r/notebookSession/<session\_id>/sum' \\  
\--header 'Content-Type: application/x-www-form-urlencoded' -d 'a=2' -d 'b=5'

returns 7.

You can view the Swagger UI for your Plumber app at:

`http://<domino_url>/<user>/<project>/r/notebookSession/<session_id>/__docs__/`

![plumber_swagger.png](https://tickets.dominodatalab.com/hc/article_attachments/22670219481620)

### Recently viewed articles

*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [dca.init() hangs on older Domino Standard Environments](https://tickets.dominodatalab.com/hc/en-us/articles/20150265276948-dca-init-hangs-on-older-Domino-Standard-Environments)
*   [Install packages in the ""Requirements.txt""](https://tickets.dominodatalab.com/hc/en-us/articles/4409204572180-Install-packages-in-the-Requirements-txt)

### Related articles

*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAuSOeFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQY%3D--b5f9dfcd1a3b363ecbffa5486960a8aaa7495a19)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRTVzBOEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAuSOeFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzIwMTI3MDI3Nzc4NDUyLUZhc3RBUEktQXBwLXdpdGgtTXVsdGlwbGUtRW5kcG9pbnRzBjsIVDoJcmFua2kH--73405385afbddb646a75880e7436af0c68e70895)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQz1qYbCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAuSOeFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzEwMDE0MzY3ODIyNjEyLUFwcC1VUkxzLWFuZC1VUkwtcGFyYW1ldGVycwY7CFQ6CXJhbmtpCA%3D%3D--fe62e226cb57d9d84f1996ec5cbf4caea70a0434)
*   [App Publishing - 404 Not Found error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwES9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAuSOeFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDc0ODgxMi1BcHAtUHVibGlzaGluZy00MDQtTm90LUZvdW5kLWVycm9yBjsIVDoJcmFua2kJ--b29f8e857a6151e3198030f4657c7582eafc03a4)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSHCYHSFDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTAuSOeFDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzIyODk0MzQwNTczMDc2LUxpdmUtdGVzdGluZy10aGUtU3RyZWFtbGl0LWluLURvbWluby1vbi1WU0NvZGUtd29ya3NwYWNlBjsIVDoJcmFua2kK--96fc316cd6912e642c4dd52ce72bff6776e70a77)"
https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints/subscription.html ""Opens a sign-in dialog"")

Domino's [Simple FastAPI example](https://tickets.dominodatalab.com/hc/en-us/articles/6508752317588) is a great way to get started with FastAPI in Domino, but what if you're ready to go a step further and set up a FastAPI app to take multiple GET and POST requests?

This guide assumes you've already installed FastAPI in your environment or set it up to install via _requirements.txt_.

**app.sh**

Like many of our other App examples, this simply calls the Python script:

python app.py

**Python script**

First, we need to import our packages and collect some environment variables:

from fastapi import FastAPI  
from pydantic import BaseModel  
import uvicorn  
import os

  runID = os.environ\['DOMINO\_RUN\_ID'\]  
userID = os.environ\['DOMINO\_PROJECT\_OWNER'\]  
projectID = os.environ\['DOMINO\_PROJECT\_NAME'\]

Domino utilizes a reverse proxy, and App URLs have path prefixes that need to be included (e.g. `/username/app-name/app`). Therefore, we need to set a root\_path for our FastAPI app (see [https://fastapi.tiangolo.com/advanced/behind-a-proxy/#setting-the-root\_path-in-the-fastapi-app](https://fastapi.tiangolo.com/advanced/behind-a-proxy/#setting-the-root_path-in-the-fastapi-app)). With that example in mind, I was able to get to the swagger UI by modifying our code example as follows:

path\_prefix = f""/{userID}/{projectID}/r/notebookSession/{runID}""

app = FastAPI(root\_path=path\_prefix)

We can then add routes as desired for our API:

class Item(BaseModel):  
  name: str  
  description: str  
  price: float

@app.get(""/"")  
async def root():  
  return {""message"": ""Hello World""}

@app.get(""/items/{item\_id}"")
async def read\_item(item\_id):
  return {""item\_id"": item\_id}

@app.post(""/items/"")  
async def create\_item(item: Item):  
  return item

Lastly, run the app:

if \_\_name\_\_ == ""\_\_main\_\_"":   
  uvicorn.run(""app:app"",host=""0.0.0.0"",port=8888,reload = True)

Putting it all together, the complete app.py looks like:

from fastapi import FastAPI  
from pydantic import BaseModel  
import uvicorn  
import os

runID = os.environ\['DOMINO\_RUN\_ID'\]  
userID = os.environ\['DOMINO\_PROJECT\_OWNER'\]  
projectID = os.environ\['DOMINO\_PROJECT\_NAME'\]

path\_prefix = f""/{userID}/{projectID}/r/notebookSession/{runID}""

print(f""App URL is https://<domino\_url>/{path\_prefix}"")

app = FastAPI(root\_path=path\_prefix)

class Item(BaseModel):  
  name: str  
  description: str  
  price: float

@app.get(""/"")  
async def root():  
  return {""message"": ""Hello World""}

@app.get(""/items/{item\_id}"")   
async def read\_item(item\_id):   
  return {""item\_id"": item\_id}

@app.post(""/items/"")  
async def create\_item(item: Item):  
  return item

if \_\_name\_\_ == ""\_\_main\_\_"":  
  uvicorn.run(""app:app"",host=""0.0.0.0"",port=8888,reload = True)

Similar to our Simple FastAPI example, hitting ""View App"" will bring up your FastAPI app with our ""Hello World"" message.

![fastapi_hello.png](https://tickets.dominodatalab.com/hc/article_attachments/20127555159828)

While our root page is accessible via the ""official"" app URL, you aren't able to append paths to this. For this, you need to use the session URL:`http://<your-domino-url>/<user>/<project>/r/notebookSession/<session_id>`(see [App URLS and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)). To find this easily, you might add a print statement to your app.py, such as:

print(f""App URL is https://<domino\_url>/{path\_prefix}"")

...which would print in your User Output when you start your App.

With that URL, you can utilize your other endpoints. For example:

`http://<your-domino-url>/<userID>/<projectID>/r/notebookSession/<runID>/item/foo`

![fastapi_foo.png](https://tickets.dominodatalab.com/hc/article_attachments/20127555161492)

You can also view the Swagger UI for your FastAPI app at:

`http://<your-domino-url>/<userID>/<projectID>/r/notebookSession/<runID>/docs`

![fastapi_swagger.png](https://tickets.dominodatalab.com/hc/article_attachments/20127618302612)

### Recently viewed articles

*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [dca.init() hangs on older Domino Standard Environments](https://tickets.dominodatalab.com/hc/en-us/articles/20150265276948-dca-init-hangs-on-older-Domino-Standard-Environments)

### Related articles

*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRTVzBOEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQY%3D--8b67eeddf8d56bf39d5f2021a9d6b0ac54edbb1a)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQz1qYbCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRTVzBOEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzEwMDE0MzY3ODIyNjEyLUFwcC1VUkxzLWFuZC1VUkwtcGFyYW1ldGVycwY7CFQ6CXJhbmtpBw%3D%3D--d6ba2342a5a21260f342d7b6b5a9344c4e2f021a)
*   [App Scaling And Performance](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDyiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRTVzBOEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzc3Mi1BcHAtU2NhbGluZy1BbmQtUGVyZm9ybWFuY2UGOwhUOglyYW5raQg%3D--ff6f22f494c99f72f457aea6c57b650d28540687)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQwZvdvEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRTVzBOEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzE5MTcyNTg5NzExMzgwLVVzZS1HcmFkaW8taW4tYS1KdXB5dGVyLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--be09564e3b1e3f00aa2ee21c8fb3d72227482fe7)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRSg0w3DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRTVzBOEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzE1NjMwNjY5NjY0Nzg4LUhvdy10by1jcmVhdGUtYS10ZXN0LU1vZGVsLUFQSS11c2luZy10aGUtc2FtcGxlLW1vZGVsLXB5LWZpbGUGOwhUOglyYW5raQo%3D--b5fe8e896b0649c467195f3f3221e4bb3a75cdfe)"
https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask/subscription.html ""Opens a sign-in dialog"")

The following guide builds on the [Flask App example in the Domino Documentation](https://docs.dominodatalab.com/en/latest/user_guide/2039f2/publish-a-flask-app/). In addition to being an example of how to utilize Flask and Plotly in Domino, this example also demonstrates how to utilize multiple app routes in a Domino Flask App.

For this example we'll be using [Gapminder](https://www.gapminder.org/) data to build two graphs. 

Building off of the example in the Domino Documentation, we'll add a template for the styling of our page. **data-explorer.html** will be placed in the /templates subfolder of your app:

<!doctype html\>  
<html\>  
<head\>  
  <script src\=""https://cdn.plot.ly/plotly-latest.min.js""\></script\>  
  <script src\=""https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js""\></script\>  
  <script\>  
    function cb(selection) {  
      $.getJSON({  
        url: ""{{url\_for('gdp')}}"", data: { 'data': selection }, success: function (result) {  
          Plotly.newPlot('chart', result, {staticPlot: true});;  
        }  
      });  
      $.getJSON({  
        url: ""{{url\_for('population')}}"", data: { 'data': selection }, success: function (result) {  
          Plotly.newPlot('bar', result, {staticPlot: true});;  
        }  
      });  
    }  
  </script\>  
</head\>

<body style\=""font-family:arial, sans-serif""\>  
    <h1\>Exploring the Gapminder Dataset with Plotly</h1\>  
    <h2\>Choose your country</h2\>  
    <select id\=""fname"" onchange\=""cb(this.value)""\>  
        <option value\=""""\>Choose your Country</option\>  
        <option value\=""Canada""\>Canada</option\>  
        <option value\=""Germany""\>Germany</option\>  
        <option value\=""Ireland""\>Ireland</option\>  
        <option value\=""Mexico""\>Mexico</option\>  
        <option value\=""Spain""\>Spain</option\>  
        <option value\=""United Kingdom""\>United Kingdom</option\>  
        <option value\=""United States""\>United States</option\>  
    </select\>  
    <div id\=""chart"" class\=""chart""\></div\>  
    <div id\=""bar"" class\=""bar""\></div\>  
</body\>  
</html\>

Note carefully the use of `url_for()` in the above, which is needed to correctly add your project's path to the urls.

The **views.py** from the Domino Documentation example is modified to add the **data-explorer.html** template as the file that gets loaded when we view the homepage, and adds an `app.route()` for each of the two graphs being created. This file will also do the heavy lifting to generate our desired plots:

from flask\_app import app  
from flask import Flask, config, render\_template, request  
import pandas as pd  
import json  
import plotly  
import plotly.express as px

####################################################  
####################################################

@app.route('/')  
def index():  
    return render\_template('data-explorer.html',  gdpGraph\=gg(), popGraph\=pg())  
  
@app.route('/gdp', methods\=\['POST', 'GET'\])  
def gdp():  
    return gg(request.args.get('data'))

@app.route('/population')  
def population():  
    return pg(request.args.get('data'))

####################################################  
####################################################

def gg(country\=''):  
    gdpData = px.data.gapminder().query(""country == '"" + country + ""'"")

    fig = px.line(gdpData, x\=""year"", y\=""gdpPercap"", title\=f'GDP Per Capita of {country}')  
    gdpGraph = json.dumps(fig, cls\=plotly.utils.PlotlyJSONEncoder)  
  
    return gdpGraph

def pg(country\=''):  
    popData = px.data.gapminder().query(""country == '"" + country + ""'"")

    fig = px.bar(popData, x\='year', y\='pop', color\='lifeExp', height\=400, title\=f'Population and Life Expectancy in {country}')  
    popGraph = json.dumps(fig, cls\=plotly.utils.PlotlyJSONEncoder)

    return popGraph

Once these files are saved and you launch your new App, you should be able to change countries in the dropdown list and start exploring this data:

![gapminder_flask_app.png](https://tickets.dominodatalab.com/hc/article_attachments/18312119078420)

Additional resources referenced when building this app:

[An Interactive Web Dashboard with Plotly and Flask](https://github.com/alanjones2/Flask-Plotly/tree/main#an-interactive-web-dashboard-with-plotly-and-flask)  
[Explore the Gapminder Dataset with Plotly Express](https://www.kaggle.com/code/jhossain/explore-the-gapminder-dataset-with-plotly-express)

### Recently viewed articles

*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)

### Related articles

*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTU8l5UEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVa4lUEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzE3OTU0NTU2MjY5NTg4LURlYnVnZ2luZy1GbGFzay1BcHBzLWluLWEtV29ya3NwYWNlLXdpdGgtVlNDb2RlBjsIVDoJcmFua2kG--e1342b01ee0926ff771cd509f2e6cf0189a96659)
*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVa4lUEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzQ0MTg5MzIwOTY3ODgtRmxhc2stQXBwLVNlcnZpbmctUmVhY3QtQ29kZQY7CFQ6CXJhbmtpBw%3D%3D--26ebdef8da2cead4f7ad4e9cc078b0a49ed56fe3)
*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSBAxQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVa4lUEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MTEyNjcxODcwOTItT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYW4tQXBwLW9uLURvbWluby1WZXJzaW9uLTQtMy11cAY7CFQ6CXJhbmtpCA%3D%3D--99bf20fe8d225e41df5db0f291dd1ecb68687c48)
*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVa4lUEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQk%3D--cc81baa1376b06527c1bcd0cb81cc87bb110868f)
*   [Trouble with Dash app loading](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCKS4IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTVa4lUEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MjUzMi1Ucm91YmxlLXdpdGgtRGFzaC1hcHAtbG9hZGluZwY7CFQ6CXJhbmtpCg%3D%3D--b99b2ee28ae75b58259b4853f11c747217f0a9a5)"
https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode/subscription.html ""Opens a sign-in dialog"")

This article describes how to run a Flask App through your VSCode Workspace for debugging purposes. This is based on the [Flask App example in the Domino Documentation](https://docs.dominodatalab.com/en/latest/user_guide/2039f2/publish-a-flask-app/), but should work with any Flask app that follows the same App Structure.

First, to **\_\_init\_\_.py**: we gather some environment variables and add some code to _\_\_call\_\__ to help this run in a Workspace:

from flask import Flask
  
\# Needed to build a URL for Workspace Debugging
import os
workspace\_debug\_port = os.environ.get('FLASK\_WORKSPACE\_DEBUG\_PORT', '')

PROJECT\_OWNER = os.environ\[""DOMINO\_PROJECT\_OWNER""\]
PROJECT\_NAME = os.environ\[""DOMINO\_PROJECT\_NAME""\]
RUN\_ID = os.environ\[""DOMINO\_RUN\_ID""\]
SESSION\_URL = f'{PROJECT\_OWNER}/{PROJECT\_NAME}/r/notebookSession/{RUN\_ID}'

class ReverseProxied(object):
  def \_\_init\_\_(self, app):
    self.app = app
  def \_\_call\_\_(self, environ, start\_response):
      script\_name = environ.get('HTTP\_X\_SCRIPT\_NAME', '')  
      # Need for Workspace debugging as HTTP\_X\_SCRIPT\_NAME doesn't exist
      if workspace\_debug\_port:
          script\_name = '/{}/proxy/{}'.format(SESSION\_URL, workspace\_debug\_port)
      if script\_name:
          environ\['SCRIPT\_NAME'\] = script\_name
          path\_info = environ\['PATH\_INFO'\]
          if path\_info.startswith(script\_name):
              environ\['PATH\_INFO'\] = path\_info\[len(script\_name):\]
      # Setting wsgi.url\_scheme from Headers set by proxy before app
      scheme = environ.get('HTTP\_X\_SCHEME', 'https')
      if scheme:
        environ\['wsgi.url\_scheme'\] = scheme
      # Setting HTTP\_HOST from Headers set by proxy before app
      remote\_host = environ.get('HTTP\_X\_FORWARDED\_HOST', '')
      remote\_port = environ.get('HTTP\_X\_FORWARDED\_PORT', '')
      if remote\_host and remote\_port:
          environ\['HTTP\_HOST'\] = f'{remote\_host}:{remote\_port}'
      return self.app(environ, start\_response)

app = Flask(\_\_name\_\_)
app.wsgi\_app = ReverseProxied(app.wsgi\_app)

Second, an .sh file to run the Flask app from your Workspace. Rather than modifying the App's app.sh file, we can create a new file since we'll be calling it manually. Since an App URL in a Workspace can be a bit tricky to find manually, we've included a handy line to echo the URL where you can expect to find this App.

**flask-workspace.sh:**

#!/usr/bin/env bash

export FLASK\_APP=run.py
export FLASK\_DEBUG=1

export FLASK\_WORKSPACE\_DEBUG\_PORT=8887
export BASE\_URL=""https://sup540ds5748.support-team-sandbox.domino.tech/""
export APP\_URL=$BASE\_URL$DOMINO\_PROJECT\_OWNER""/""$DOMINO\_PROJECT\_NAME""/r/notebookSession/""$DOMINO\_RUN\_ID""/proxy/""$FLASK\_WORKSPACE\_DEBUG\_PORT""/""

echo ""Your app will be running at ""$APP\_URL

python -m flask run --host=0.0.0.0 --port=$FLASK\_WORKSPACE\_DEBUG\_PORT

Once you've modified your Flask app's \_\_init\_\_.py and created an .sh file, you're ready to run this App from your Workspace! 

From VSCode, open a new Terminal (Ctrl + Shift + \`). In that Terminal, run `bash flask-workspace.sh`.

If everything starts correctly, you should see output similar to the image below, including a handy link to the App running in your Workspace!

![flask-workspace-app.png](https://tickets.dominodatalab.com/hc/article_attachments/18341974523924)

### Recently viewed articles

*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app)

### Related articles

*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTVa4lUEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTU8l5UEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzE3OTU1MjY4ODQyOTAwLUludGVyYWN0aXZlLURhc2hib2FyZC1BcHAtd2l0aC1QbG90bHktYW5kLUZsYXNrBjsIVDoJcmFua2kG--ab20f48c1929b526561b4f1f5dd1d9e23f54f52e)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTU8l5UEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kH--f52be32698342c8dec3288a14ba5edf710b61492)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTU8l5UEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCA%3D%3D--672dc16746f7ff907db0f98d1a535f310332d907)
*   [Can Not Access App: Unauthorized : you must be authenticated to access this page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXze46BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTU8l5UEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ2NTExNjEwNjUzNjQtQ2FuLU5vdC1BY2Nlc3MtQXBwLVVuYXV0aG9yaXplZC15b3UtbXVzdC1iZS1hdXRoZW50aWNhdGVkLXRvLWFjY2Vzcy10aGlzLXBhZ2UGOwhUOglyYW5raQk%3D--5b1c457fbb323c04ed12bb8aeacc1143d80670b9)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTU8l5UEDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQo%3D--204875f700c5e019563be52821253ee3e50bfcd7)"
https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved/subscription.html ""Opens a sign-in dialog"")

Issue: When my app creates files on the filesystem the files are not synced to DFS. 

**Root cause:** This behaviour is by design.  Apps are not supposed to be able to sync files back to the Domino project saved on dfs . This decision prevents the app from making any changes to the project files/code it is running from.   As Domino is quite a flexible platform there are ways around this. 

**Solution:** In this article [here](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps)  we are reviewing the option of using dominodatalab python library to upload the files for us to the project via calls to the Domino API. However this option will require some change to your code to integrate the sync.  

Alternatively  it is possible to use Domino Datasets for this purpose. Which then requires very little to no changes to your app code.  Since Domino Datasets are presented as a network share mounts to the container of your App, any files written by the App over the dataset will be immediately visible (synced) to the dataset filesystem.   

  
To use the datasets attached to your project you will have to first find the mount path. You can see this under your project, data page: 

![](https://tickets.dominodatalab.com/hc/article_attachments/17262878819348)

This path will be presented to any jobs/apps/workspaces runs. And as such you can directly use the path in your code as an output location. 

### Recently viewed articles

*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548-Syncing-files-from-published-Apps)

### Related articles

*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQzDBwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBREg16zDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MTE0MDE5NzQ1NDgtU3luY2luZy1maWxlcy1mcm9tLXB1Ymxpc2hlZC1BcHBzBjsIVDoJcmFua2kG--1fa3359c07635994eb7d58cf397238bccfc60a8c)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBREg16zDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpBw%3D%3D--b4b44dfab35a08bae5531dde60ec557bdb6f6a83)
*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBREg16zDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpCA%3D%3D--440693570a1aa91864d76da48d2bd436ac3ec88a)
*   [Can you recover the files from a deleted workspace with un-synced file changes?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRw4%2FNdCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBREg16zDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzExMzk4NjQwMDA1MjY4LUNhbi15b3UtcmVjb3Zlci10aGUtZmlsZXMtZnJvbS1hLWRlbGV0ZWQtd29ya3NwYWNlLXdpdGgtdW4tc3luY2VkLWZpbGUtY2hhbmdlcwY7CFQ6CXJhbmtpCQ%3D%3D--2c0d1348d95d9234f068ac9afc86756ff3a31bb5)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBREg16zDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kK--f71949b8be89d5147fa27eadae4fcf4df6a30122)"
https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment :**_

5.x

* * *

## **Issue:**

Panel is a dashboard platform similar to Dash or Shiny. However, there is no Domino documentation specific to Panel for App deployment

* * *

## **Resolution:**

Panel has an example provided in their documentation that you can use to start your app. In this case, we are using the Editor version of developing the Panel App:  
[https://panel.holoviz.org/how\_to/editor/editor.html](https://panel.holoviz.org/how_to/editor/editor.html)

```
USER rootRUN pip install panel hvplot
```

Set it to the default environment for your project by going to your Project > Settings > Hardware & Environment > Compute environment. Click on the environment that you have built with Panel:  
![](https://tickets.dominodatalab.com/hc/article_attachments/16988691660692)

You will need to create an app.py inside of your project. This is an example that I used for my app:

import panel as pn
import hvplot.pandas
from bokeh.sampledata.autompg import autompg

columns \= list(autompg.columns\[:\-2\])

x \= pn.widgets.Select(value\='mpg', options\=columns, name\='x')
y \= pn.widgets.Select(value\='hp', options\=columns, name\='y')
color \= pn.widgets.ColorPicker(name\='Color', value\='#AA0505')

pn.Row(
    pn.Column('## MPG Explorer', x, y, color),
    pn.bind(autompg.hvplot.scatter, x, y, c\=color)
).servable()

An app.sh file needs to be created as well. Put in the following line to start the app:

```
panel serve app.py --show --autoreload --port 8888 --address 0.0.0.0 --allow-websocket-origin *:80
```

Click App to publish the app with your preferred Title, Description, and hardware tier. Once the app is running, you should see the following image or something similar below:  
![](https://tickets.dominodatalab.com/hc/article_attachments/16988824950036)

* * *

### Recently viewed articles

*   [Files created from Domino App are not saved](https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)

### Related articles

*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRrgYlzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQY%3D--2d3e009abedfb0f4fa60889a30e8baa6ddb11bbf)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSLHrB0DToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRrgYlzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE0Nzk0ODIyMTU5MTI0LVNoaW55LUFwcC1zaG93cy1hLWdyYXktc2NyZWVuLWFmdGVyLXNvbWV0aW1lLW9yLXRpbWVvdXRzBjsIVDoJcmFua2kH--8e878557c6484df17999eec7870dcbfa7b83c087)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRrgYlzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kI--5213ca4cb0db8928eec969c454cb96ac1bda4f7c)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRrgYlzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kJ--d7f209449d6ae0e2e7139b00bd1be3e194cb88a2)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRrgYlzDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCg%3D%3D--2184bbac5e7abf68c06903ec3de9a006c2d5282a)"
https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display/subscription.html ""Opens a sign-in dialog"")

**Issue:** I would like to use JupyterDash and do view my app with mode='inline'. However this results in an error or empty field in the notebook. 

**Root cause:** While possible to use this feature there are a number of additional steps here since the workspace is already running behind a proxy and thus JupyterDash will try to display your app results on what is unreachable address for your browser. 

**Solution:** To overcome this you will need to make a few changes to your code and also install jupyter Server proxy.  

First you will have to select your environment and add the jupter server proxy. Detailed steps can be found [here](https://docs.dominodatalab.com/en/5.3/user_guide/2c01ae/run-multiple-applications-in-a-workspace/#_install_jupyter_server_proxy) . 

Once this is complete you will have to add this to your code:

user = os.environ.get(""DOMINO\_PROJECT\_OWNER"")  
project = os.environ.get(""DOMINO\_PROJECT\_NAME"")  
runid = os.environ.get(""DOMINO\_RUN\_ID"")  
runurl = '/' + user + '/' + project + '/notebookSession/'+ runid + '/' + 'proxy/8050/'

app = JupyterDash(\_\_name\_\_,routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl,  
server\_url=""https://emeaplay8959.support-team-sandbox.domino.tech/"")

Note that we are using the port that we will run our app on at the end of the 'runurl' definition. 

This port will have to be unused and you might want to change it in case you would like to re-run your code. 

And starting the app: 

app.run\_server(port=8050, host='0.0.0.0', mode='inline', debug=True)

Note: here we can set the port for the app which should match the 'runurl'

After running your code you will be able to see the results of the app inline in the notebook: 

![Screenshot_2023-05-05_at_11.44.44.png](https://tickets.dominodatalab.com/hc/article_attachments/15594348511892)

Please find the attached ipynb file with the example code used in this article. 

* * *

## **Notes/Information:**

Related articles:

*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/articles/8430827274516)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372)

### Recently viewed articles

*   [Publish an simple App with Panel](https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel)
*   [Files created from Domino App are not saved](https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)

### Related articles

*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJST7tsuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBg%3D%3D--acf7f9b3afec64247010bdb3da85ea40743bfd10)
*   [JupyterDash in Domino 4.x - more efficient development using inline display](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIM7MtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJST7tsuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTEyNDYxMS1KdXB5dGVyRGFzaC1pbi1Eb21pbm8tNC14LW1vcmUtZWZmaWNpZW50LWRldmVsb3BtZW50LXVzaW5nLWlubGluZS1kaXNwbGF5BjsIVDoJcmFua2kH--1aed6824c36e5d1579507cd0b02061b54bb92459)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJST7tsuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kI--82893dc56af3b29a968d306f26e6e9bc08a1386f)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJST7tsuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--8669969fc1a7f1016aadf2d85314f690ad072c24)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJST7tsuDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kK--2eef50b8f5d24d863bcfc0b663fdce2353867aa0)"
https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App/subscription.html ""Opens a sign-in dialog"")

## **Issue/Scenario:**

 I would like to run a job and send some data from a certain Domino app. 

* * *

## **Resolution:**

This could be achieved via the python bindings or the dominodatalab pypi package to send relevant data, but we'd need an object instance of it inside the app realm, we'd send the data while making the request in the form of a json payload, employ urllib or any other url handler to interact with the rest api and assign a callback to it in your app, as per :

```
import jsonimport urllib.requestdata = {    ""commitId"": 12345,    ""projectId"": 6789,    ""runCommand"": ""something.py"",    ""title"": ""Post req""}data = json.dumps(data)req = urllib.request.Request(url = 'https://baseurl/api/jobs/v1/jobs', data = bytes(data.encode(""utf-8"")), method = ""POST"")req.add_header(""Content-type"", ""application/json; charset=UTF-8"")with urllib.request.urlopen(req) as response:    response_data = json.loads(response.read().decode(""utf-8""))    print(response_data)
```

* * *

### Recently viewed articles

*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display)
*   [Publish an simple App with Panel](https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel)
*   [Files created from Domino App are not saved](https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)

### Related articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTzsXiPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--ea8e2b0d485b4125f72cc1a7c9e27d500ca65d17)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTzsXiPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kH--844aa0871025783a74b9b9f3e6280d51518cc5d4)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTzsXiPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kI--54c22decf72847c1bc6128eaa854d0a187e712f5)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTzsXiPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCQ%3D%3D--f83ddacc930088c1e6e5998fb8898338176733fe)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTzsXiPDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpCg%3D%3D--f17bc2b7834f5fab80c2f863fce3e7baf78b5c69)"
https://tickets.dominodatalab.com/hc/en-us/articles/14067024236052-Apps-Feature-request-to-view-app-resource-usage-beyond-the-last-30-days,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14067024236052-Apps-Feature-request-to-view-app-resource-usage-beyond-the-last-30-days/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

Under the App’s **Resource Usage** tab > **App Views**, you cannot view usage beyond the last 30 days:

![App_-_Resource_Usage_-_App_Views_-_30_days.png](https://tickets.dominodatalab.com/hc/article_attachments/14066936381844)

* * *

## **Root Cause:**

The [History of App Views](https://docs.dominodatalab.com/en/latest/user_guide/71635d/publish-apps/#_history_of_app_views) shows you the number of views over time by users. It is currently limited to only showing the last 30 days.

* * *

## **Resolution:**

We have a feature request to add a date/time option or a session lifetime selector so that users can choose the duration for the history of app views. For reference: DOM-39351

If you find this functionality valuable, please [submit a ticket with Domino Support](https://docs.dominodatalab.com/en/latest/user_guide/80328c/contact-technical-support/) so that we can ""add your vote"" to this feature request.

* * *

## **Notes/Information:**

Please note that for _individual_ App runs, there is a different **Resource Usage** tab which shows the CPU and memory utilization for the run:

![App_run_Resource_Usage_-_Memory_and_CPU.png](https://tickets.dominodatalab.com/hc/article_attachments/14066995745428)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Start a job with parameters via a published App](https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display)
*   [Publish an simple App with Panel](https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel)
*   [Files created from Domino App are not saved](https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)

### Related articles

*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQct7LDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSO%2BzvLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzE0MDY5NzQ5OTYwODUyLUhvdy10by12aWV3LXRoZS1yZXNvdXJjZS11c2FnZS1vZi13b3Jrc3BhY2VzLWpvYnMtYW5kLWFwcHMGOwhUOglyYW5raQY%3D--5f6531da559288cd67f57e0b8d6b924ea0d0a0b3)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTE4l3IDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSO%2BzvLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhy9oYy9lbi11cy9hcnRpY2xlcy8xNDA1NDcwODEzNTA2MC1Ib3ctdG8tdmlldy13b3Jrc3BhY2UtcmVzb3VyY2UtdXNhZ2UtYW5kLXN3aXRjaC1oYXJkd2FyZS10aWVycy13aGVuLWhpdHRpbmctbWF4LUNQVS1hbmQtbWVtb3J5LWxpbWl0cwY7CFQ6CXJhbmtpBw%3D%3D--cdfe6ff00f2e09c228d08ce809ab1eb8dd8f965f)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEr%2BebCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSO%2BzvLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk0NjU3MDAwMDg5ODAtQVBQUy1SZWFkLU9ubHktRXJyb3ItV2hlbi1TZXR0aW5nLVVwLVVSTC1Gb3ItQXBwLVVzaW5nLURhc2gtMi0xLTAGOwhUOglyYW5raQg%3D--1793abc25b36916624072dc288fcec1f34db05c9)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSO%2BzvLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--2941e98e39c5e0e667d86f2df8ec01f028b89fb2)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSO%2BzvLDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQo%3D--4ca046cbd70e9f33b8d16cca61e831fcce1023a7)"
https://tickets.dominodatalab.com/hc/en-us/articles/13433972178068-Apps-What-the-app-status-colors-mean,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13433972178068-Apps-What-the-app-status-colors-mean/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Description:**

When you publish an app, the **App Versions** tab shows the [app’s history of executions](https://docs.dominodatalab.com/en/latest/user_guide/3bd46b/view-a-domino-app/). Each version will show the status of the run in a different color:

![App_status_colors_with_terms.png](https://tickets.dominodatalab.com/hc/article_attachments/13433335300116)

**Blue: Running** -- Your code is executing. 

**Green: Succeeded** -- Your execution has finished without error.

**Gray: Stopped** -- The execution has been manually stopped.

The app had a normal shutdown. The User Output logs will show that:

*   Domino received a request by the user to stop the run: `Request to stop app with id <runId>`
*   The container was terminated normally during the requested stop: 

Evaluating cleanup command on EXIT with exit code 143: ${CURL} --silent --show-error -X POST http://localhost:9000/executor/endSingleRun/63e57044c950e97e07bfe0c4?exitCode=$code\_at\_exit  
Session terminated, terminating shell... ...waiting for child to terminate.  
Caught termination signal!  
killed by pod termination --

The Support Bundle will show which user stopped the app:

*   executor.log: `Stopped by <username> Run <runId> is being stopped by request`
*   run.json log: `""commitMessage"": ""Stopped by username""`

* * *

## **Issue:**

**Red: Failed** -- Your execution did not complete due to a problem.  
The run did not have a normal shutdown. Either the container crashed, never got scheduled and timed out, or something else prevented the normal stop sequence from occurring.

* * *

## **Resolution:**

Check the User and Output logs for errors.

If you need assistance:

1.  Select the **Failed** run.
2.  Click on the **Logs** tab.
3.  Download the **Support Bundle** zip file.
4.  Click on the **Support** **button** to submit a ticket and send the zip file to Support.

![Failed_run_-_download_Support_Bundle_-_send_to_Support.png](https://tickets.dominodatalab.com/hc/article_attachments/13433335297684)

* * *

## **Notes/Information:**

When you start an [execution](https://docs.dominodatalab.com/en/latest/user_guide/4474ab/executions/) in Domino, it moves through several states during its lifecycle. Learn more about [Execution states](https://docs.dominodatalab.com/en/latest/user_guide/b4cb04/execution-states/).

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Apps: Feature request to view app resource usage beyond the last 30 days](https://tickets.dominodatalab.com/hc/en-us/articles/14067024236052-Apps-Feature-request-to-view-app-resource-usage-beyond-the-last-30-days)
*   [Start a job with parameters via a published App](https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display)
*   [Publish an simple App with Panel](https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel)
*   [Files created from Domino App are not saved](https://tickets.dominodatalab.com/hc/en-us/articles/17263059223572-Files-created-from-Domino-App-are-not-saved)

### Related articles

*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS8I9c3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQY%3D--6dd4e86188c351931732284bbb73bd79edd2a4ec)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS8I9c3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kH--4f2e2180a0992a2df24c7ca0e2a1c78e348d3e95)
*   [App Publishing - 404 Not Found error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwES9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS8I9c3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDc0ODgxMi1BcHAtUHVibGlzaGluZy00MDQtTm90LUZvdW5kLWVycm9yBjsIVDoJcmFua2kI--deec3ea4de32a4a360f6f50b34cd9e37519bd91b)
*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTwiUeJCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS8I9c3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85Mzg1NzAzNzY0MTE2LVNvbWV0aW1lcy1JLXNlZS1hLUxvc3QtY29ubmVjdGlvbi13aXRoLURvbWluby1zZXJ2ZXItYW5kLVJlY29ubmVjdGVkLXRvLURvbWluby1zZXJ2ZXItd2hlbi1zdGFydGluZy1ydW5uaW5nLWEtd29ya3NwYWNlBjsIVDoJcmFua2kJ--f3f23b281b3847075e7bb4a20374a13fb26caa99)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS8I9c3DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCg%3D%3D--1e476bcbc4e68530fed7b73829b12e24ee628745)"
https://tickets.dominodatalab.com/hc/en-us/articles/11731707451412-Apps-Feature-request-to-automatically-shut-down-apps,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11731707451412-Apps-Feature-request-to-automatically-shut-down-apps/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This issue affects all versions.

* * *

## **Issue:**

Long-running workspaces can be automatically shutdown as described in these docs: 

*   [User Guide to Configuring long-running workspaces](https://docs.dominodatalab.com/en/latest/user_guide/815d95/configure-long-running-workspaces/)
*   [Admin Guide to Long-running workspaces](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#long-running)

However, this same functionality is not available for apps. There is not currently a way to automatically shut down apps after a specified period of time. 

* * *

## **Root Cause:**

The option to automatically shut down is not currently available for apps.

* * *

## **Workaround:**

You can turn off apps via API calls.  For example a scheduled job and the domino-python wrapper can be combined as described in this article: [How can I set up my Dash or Shiny application as a scheduled run in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/360058494611-How-can-I-setup-my-Dash-or-Shiny-application-as-a-scheduled-run-in-Domino-)

* * *

## **Notes/Information:**

We currently have a feature request for the option to apply auto-shutdown to apps. For reference: DOM-42686. If you find this functionality valuable, please [submit a ticket with Domino Support](https://docs.dominodatalab.com/en/latest/user_guide/80328c/contact-technical-support/) so that we can ""add your vote"" to this feature request.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Apps: What the app status colors mean](https://tickets.dominodatalab.com/hc/en-us/articles/13433972178068-Apps-What-the-app-status-colors-mean)
*   [Apps: Feature request to view app resource usage beyond the last 30 days](https://tickets.dominodatalab.com/hc/en-us/articles/14067024236052-Apps-Feature-request-to-view-app-resource-usage-beyond-the-last-30-days)
*   [Start a job with parameters via a published App](https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display)
*   [Publish an simple App with Panel](https://tickets.dominodatalab.com/hc/en-us/articles/16988902615828-Publish-an-simple-App-with-Panel)

### Related articles

*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRYQYCrCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpBg%3D%3D--52ec30f6d38e0827c3efd738634d3d542deb9a0e)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRYQYCrCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpBw%3D%3D--042077da3d11f76246ccb20856b579c331515669)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRYQYCrCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kI--6422e720f4982f957af391a75ededd188c0ae18e)
*   [kubectl - An error occurred (AccessDenied) when calling the AssumeRole operation:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxooLYCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRYQYCrCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk3MjU5OTc2MjU3NDgta3ViZWN0bC1Bbi1lcnJvci1vY2N1cnJlZC1BY2Nlc3NEZW5pZWQtd2hlbi1jYWxsaW5nLXRoZS1Bc3N1bWVSb2xlLW9wZXJhdGlvbgY7CFQ6CXJhbmtpCQ%3D%3D--6237f5c8b1dd64bf001e1befd183f98cbbb0c731)
*   [202 Insuffucient\_Scope Error message for GitLab despite following guides](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTVme4CBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRYQYCrCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2Mzk1MDQ3ODgtMjAyLUluc3VmZnVjaWVudC1TY29wZS1FcnJvci1tZXNzYWdlLWZvci1HaXRMYWItZGVzcGl0ZS1mb2xsb3dpbmctZ3VpZGVzBjsIVDoJcmFua2kK--31d0d04c449812feb123cd1d81ecab8fd82afa64)"
https://tickets.dominodatalab.com/hc/en-us/articles/10886574341012-How-to-get-the-Domino-Username-of-a-Shiny-App-Viewer,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps)

![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10886574341012-How-to-get-the-Domino-Username-of-a-Shiny-App-Viewer/subscription.html ""Opens a sign-in dialog"")

## **Overview:**

Domino passes the username of a user accessing your [Domino App](https://docs.dominodatalab.com/en/latest/user_guide/8b094b/domino-apps/) in an HTTP header named`domino-username`. If your App framework gives you access to the HTTP headers of the active request, you can retrieve the username for use by your App code. If you allow users who are not logged in to Domino to view your Apps, for their requests to the App the value of the`domino-username`header will be ""Anonymous.""

**Prerequisite**

An App framework that can access proxied HTTP headers. This is supported by Flask and Dash by default, but is only supported by Shiny if [using Server Pro](https://docs.rstudio.com/shiny-server/#proxied-headers).

## **Usage:** 

Is there a workaround to extract username of R shiny App Viewer if not using Server Pro? 

## **Resolution:**

To extract username from document.cookie in JavaScript and sending that as an input value to Shiny with Shiny.setInputValue, [https://shiny.rstudio.com/articles/communicating-with-js.html](https://shiny.rstudio.com/articles/communicating-with-js.html)   
  
Sample JavaScript snippet other customer used to obtain the username and send it to the R Shiny app. 

```
var req = new XMLHttpRequest()// Handle HTTP GET response eventreq.addEventListener(""load"", function() {// If the HTTP GET failed, log and exit event handler earlyif (this.status !== 200) {console.error(""Failed to retrive username with HTTP code"", this.status)// Maybe set a default username?Shiny.setInputValue('username', 'anonymous')return}// Parse the returned JSON and retrive the usernamevar response = JSON.parse(this.responseText)var username = response.canonicalNameconsole.log(""Your username is:"", username)// Send username to Shiny// https://shiny.rstudio.com/articles/communicating-with-js.htmlShiny.setInputValue('username', username)})// Send the HTTP GET requestreq.open('GET', '/v4/auth/principal')req.send()
```

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Apps: Feature request to automatically shut down apps](https://tickets.dominodatalab.com/hc/en-us/articles/11731707451412-Apps-Feature-request-to-automatically-shut-down-apps)
*   [Apps: What the app status colors mean](https://tickets.dominodatalab.com/hc/en-us/articles/13433972178068-Apps-What-the-app-status-colors-mean)
*   [Apps: Feature request to view app resource usage beyond the last 30 days](https://tickets.dominodatalab.com/hc/en-us/articles/14067024236052-Apps-Feature-request-to-view-app-resource-usage-beyond-the-last-30-days)
*   [Start a job with parameters via a published App](https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display)

### Related articles

*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR7ZbrmCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpBg%3D%3D--3fc577e9eabcc197b54fe592afe7bdd528c9c3d1)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR7ZbrmCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBw%3D%3D--e829480e2a0f5e653044c9260422d21bffdc3c4c)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR7ZbrmCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQg%3D--12aa6b59af358245cbef5eb7a7a6cc0a1d9bf9ef)
*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRKrKHeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR7ZbrmCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzc1NTMyNjQ5Mjk0MjgtVXNpbmctRGFzaC1Cb290c3RyYXAtQ29tcG9uZW50cy1pbi15b3VyLUFwcHMGOwhUOglyYW5raQk%3D--ab9040ff12830b805d6238bbbcc4d457e84d1f59)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDCYddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR7ZbrmCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTg3NjcyMzk5NTYtRXh0cmFjdC11c2VybmFtZS1mcm9tLWxhdW5jaGVyLXJ1bnMtaW4tUHl0aG9uBjsIVDoJcmFua2kK--bfad563a79b90977ea168a5405264250ebd5583d)"
https://tickets.dominodatalab.com/hc/en-us/articles/10041610984340-Domino-App-URL-link-using-username-and-project-name,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10041610984340-Domino-App-URL-link-using-username-and-project-name/subscription.html ""Opens a sign-in dialog"")

App links auto generated by Domino are not descriptive and can be long and hard to remember. For example, 

[https://domino.mycompany.com/modelproducts/628d4564b6af415e500dedd1](https://domino.mycompany.com/modelproducts/628d4564b6af415e500dedd1%C2%A0) 

However you can share a more friendly version of the app URL that's descriptive by using username/projectname format of the app URL to achieve this.  The format is simply

[https://<deployment\_base\_url>/u/<userid>/<projectname>/app](https://<deployment_base_url>/u/<userid>/<projectname>/app)

For example, if my company's base URL is _domino.mycompany.com_, then the link to my test app is: 

[https://domino.mycompany.com/u/diana/test/app](https://domino.mycompany.com/u/josh/covid-19/app)

Or, you can of course still use the version of the URL that appears when you navigate to the app from the Publish UI, which is formatted like this:

[https://<](https://<deployment_base_url>/modelproducts/628d4564b6af415e500dedd1)[domino.mycompany.com](https://domino.mycompany.com/u/josh/covid-19/app)[\>/modelproducts/628d4564b6af415e500dedd1](https://<deployment_base_url>/modelproducts/628d4564b6af415e500dedd1) 

Both will take you to the same app, but the username/projectname/app version may be more descriptive and friendlier for sharing with users. Note that if you want something other than your username to appears in the username/projectname URL, you can create an organization with a descriptive name, transfer the project to that organization, and republish. Then the organization name would replace your username in the URL.

As always, if you need further help, please reach out to Domino support. 

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to get the Domino Username of a Shiny App Viewer](https://tickets.dominodatalab.com/hc/en-us/articles/10886574341012-How-to-get-the-Domino-Username-of-a-Shiny-App-Viewer)
*   [Apps: Feature request to automatically shut down apps](https://tickets.dominodatalab.com/hc/en-us/articles/11731707451412-Apps-Feature-request-to-automatically-shut-down-apps)
*   [Apps: What the app status colors mean](https://tickets.dominodatalab.com/hc/en-us/articles/13433972178068-Apps-What-the-app-status-colors-mean)
*   [Apps: Feature request to view app resource usage beyond the last 30 days](https://tickets.dominodatalab.com/hc/en-us/articles/14067024236052-Apps-Feature-request-to-view-app-resource-usage-beyond-the-last-30-days)
*   [Start a job with parameters via a published App](https://tickets.dominodatalab.com/hc/en-us/articles/14909856412436-Start-a-job-with-parameters-via-a-published-App)

### Related articles

*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQz1qYbCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTbp%2F4hCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzEwMDE0MzY3ODIyNjEyLUFwcC1VUkxzLWFuZC1VUkwtcGFyYW1ldGVycwY7CFQ6CXJhbmtpBg%3D%3D--fc71bf1b3d05686bf979fa71f5bc1ddf08dbdc54)
*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSznBsDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTbp%2F4hCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzQ0MTEzOTQ2NjcyODQtRW5hYmxpbmctbXVsdGktdGhyZWFkaW5nLWluLU1vZGVsLUFQSXMGOwhUOglyYW5raQc%3D--4092acf45dc0d2cf8eca98363d9bcfd3542d5483)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRTVzBOEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTbp%2F4hCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzIwMTI3MDI3Nzc4NDUyLUZhc3RBUEktQXBwLXdpdGgtTXVsdGlwbGUtRW5kcG9pbnRzBjsIVDoJcmFua2kI--c2230866d02a15fe09f69ca5c72b1c1fbc91a62c)
*   [Workspace cannot be deleted from current state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2Fn3aIEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTbp%2F4hCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzE4MTc4MjkxNzQ0NTMyLVdvcmtzcGFjZS1jYW5ub3QtYmUtZGVsZXRlZC1mcm9tLWN1cnJlbnQtc3RhdGUGOwhUOglyYW5raQk%3D--7aaa0bc87f8e59031750fbdd80c45665a09db4e7)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTbp%2F4hCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCg%3D%3D--a4d85d01b72fd391657f21da28c1d627c0c55b3e)"
https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters,"This article provides an overview of the different URLs you can use to access your Web App, as well as some options if you'd like to append parameters in your URL.

#### **Contents**  
[App URLs](#h_01GF6JEA4CENJNA2P8ZGHDK16K)  
[Using parameters in URLs](#h_01GF6JEGJPMKN4V6CEZW081PGB)  
[Examples](#h_01GF6JF50GE2PG1DPDAYNX94PW)  
[Summary](#h_01GF6JGDYNEH599X08Q5ZBMC6Y)

* * *

### App URLs

There are essentially 3 different URLs you can use to access an App:

* * *

### Using parameters in URLs

What if you want to use a parameter in your URL? For example, what if you want your landing page to be `<app url>/page.html?key1=value1`? 

Currently one of the three URL options will allow URL parameters. To summarize:

1) The official app URL:`http://<your-domino-url>/modelproducts/<app_id>`  
(URL will not ever change for an app.) Currently, you can't append a parameter to it, as it just gets ignored/thrown out.

2) The ""static"" internal app URL:`http://<your-domino-url>/u/<user>/<project>/app`  
(URL will not change if you stop and start the app, but it will change if you rename the project or change ownership.) Currently, you can't append a parameter to it, as it just gets ignored/thrown out. Going to this URL in a browser immediately redirects to the next URL, your app without the Domino banner:

3) The current session URL:`http://<your-domino-url>/<user>/<project>/r/notebookSession/<session_id>`  
(URL will change every time you start and stop the app.)  
You can append parameters or paths to other pages and the app will parse them.

* * *

### Example App with URL parameters

As we see above, there is a URL we can use for our App where we can append URL parameters. Great! But this URL is going to change any time the App is stopped/restarted. One way to address this is to make your initial app page a landing page, which can add your parameters before going to your main app page, or, if appropriate, prompt your app user for the parameters. 

Let's look at a couple examples! For both Apps, we will use the same app.sh and app.py:

**app.sh:**

#!/usr/bin/env bash  
python ./app.py

**app.py:**

import http.server  
import socketserver  
PORT = 8888  
Handler = http.server.SimpleHTTPRequestHandler  
httpd = socketserver.TCPServer(("""", PORT), Handler)  
print(f'serving at port {PORT}')  
httpd.serve\_forever()

Both Apps will also use the same main App page. This page simply greets the user by name:

**appPage.html:**

<html>  
  <head>  
    <script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js""></script>  
  </head>

  <body onload=""greetings()"">  
    <h1>Welcome to the App!</h1>  
    <p id=""greet""></p>  
    <script>  
      function greetings() {  
        let urlParams = new URLSearchParams(window.location.search);  
        let username = urlParams.get('name');  
        let timeperiod = urlParams.get('period');  
        if (username != null && timeperiod != null) {  
          document.getElementById(""greet"").innerHTML =  
          ""Hello "" + username + ""! How are you to"" + timeperiod + ""?"";  
        }  
      }  
    </script>

  </body>  
</html>

**Example App #1**

For our first example, we'll just pass coded variables as URL parameters. 

**Index.html:**

<html>  
  <head>  
    <script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js""></script>  
  </head>

  <body>  
    <script>  
      let person = ""Domino"";  
      const d = new Date();  
      let theHour = d.getHours();  
      if(4<=theHour<=20){  
        var period= ""day"";  
      }  
      else{  
        period = ""night"";  
      }  
      location.href=""appPage.html?name=""+person+""&period=""+period;  
    </script>

  </body>  
</html>

With this example, we can use any of the URLs to get to our main App.

The official app URL (`http://<your-domino-url>/modelproducts/<app_id>`) will automatically go to appPage.html: 

![app_main_url.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10034690047508)

The ""static"" internal app URL )`http://<your-domino-url>/u/<user>/<project>/app`) will automatically redirect to the current session URL and append the parameters:`http://<your-domino-url>/<user>/<project>/r/notebookSession/<session_id>appPage.html?name=Domino&period=day`

![app_static_url.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10034692968468)

**Example App #2**

For our second example, we'll actually prompt the user for some input. 

**Index.html:**

<html>

  <head>  
    <script src=""https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js""></script>  
  </head>

  <body onload=""myFunction()"">  
    <script>  
      function myFunction() {  
        const d = new Date();  
        let theHour = d.getHours();  
        if(4<=theHour<=20){  
          var period= ""day"";  
        }  
        else{  
          period = ""night"";  
        }

        let person = prompt(""Please enter your name"", """");  
        if (person != null) {  
          location.href=""appPage.html?name=""+person+""&period=""+period;  
       }  
      }  
    </script>  
  </body>  
</html>

The end result of this is the same (we can use any of the URLs to get to our main App). The only difference is, this App is going to stop and prompt the user for input before moving on to our appPage.html:

![app_parameter_prompt.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10034899109396)

Once the user adds their input - which will become a URL parameter - the official app URL (`http://<your-domino-url>/modelproducts/<app_id>`) will automatically go to appPage.html: 

![app_main_url.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10034690047508)

The ""static"" internal app URL )`http://<your-domino-url>/u/<user>/<project>/app`) will automatically redirect to the current session URL and append the parameters:`http://<your-domino-url>/<user>/<project>/r/notebookSession/<session_id>appPage.html?name=Domino&period=day`

![app_static_url.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10034692968468)

* * *

### Summary

The examples provided above are incredibly basic, but give you an idea of some of the ways you can utilize URL parameters for your Apps! 

\*Note: There is a feature request to allow users to append paths and query parameters to published apps URLs without needing alternatives such as the options described above. This request is currently tracked under DOM-26880.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically/subscription.html ""Opens a sign-in dialog"")

#### Issue

I've followed the guides to increase App timeout, and I have [Domino 4.5 or older](https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps-), can I avoid editing the configmap?

There are guides for the [manual proxy\_read\_timeout](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this-) available, can I avoid doing this every time?

#### Resolution

Normally Apps will not refresh their files, you cannot 'sync', and the normal way to get new files and new version of your App, is to restart the App.

If you've established an API Key, you can try a different method. Your app.sh can try downloading a more up-to-date file, which you've synced to the Files/DFS area!

**_This is not a Domino endorsed method but possible! Use at your own risk!_**

Check in a Workspaces Terminal or User Settings in Domini. Run the 'set' command to print your environment variables, and search for API (in a terminal, set |grep API)  
   
You can view the 'raw' file in the DFS, and the URL for your file is something like:  
https://$URL/u/$USER/$PROJECT/raw/$UNIQUEID/$FILENAME?inline=true  
   
We'll work that into the app.sh on a loop, but you'll need to add a trigger in the App code to exit (add a button which does exit(0) for example. We could catch the exit code, so you could make the following loop dependent on a particular exit code instead of checking for the file difference.  
   
Your app.sh might then look like:  
 

```
#!/bin/bashPROGRAM_NAMED=MyPythonApp.pyUNIQUEID=xxxx # Taken from the RAW URLwhile true ; do# At this point you should have the 'latest' program version as MyPythonApp.py.new# We'll always to run the 'original code'python ${PROGRAM_NAMED}EXIT_CODE=$?# replace with your Domino FQDN:MYDOMINO_SITE=my_Domino_fqdncurl -u $DOMINO_USER_API_KEY:$DOMINO_USER_API_KEY https://${MYDOMINO_SITE}/u/${DOMINO_PROJECT_OWNER}/${DOMINO_PROJECT_NAME}/raw/${UNIQUEID}/${PROGRAM_NAMED}?inline=true -o ${PROGRAM_NAMED}.new || echo ""Failed to download a new version""# Check if the .new file is different from the originalDIFF=$( diff  ${PROGRAM_NAMED}.new ${PROGRAM_NAMED} )if [ $DIFF -eq 0 ]; then # same file, exiting, this will Stop the App breakelse  # Make a backup just in case, then swap! cp ${PROGRAM_NAMED} ${PROGRAM_NAMED}.backup.$( date +%s ) mv ${PROGRAM_NAMED}.new ${PROGRAM_NAMED} echo ""Renaming the .new file for a loop after updated binary found""fidone
```

   
**Please note this is untested, not guaranteed or endorsed and could possibly 'delete' your python code** if it syncs curl's output back to your project (you can revert the code in the Files area if that happens! We'll make extra backups just in case! Also, the health check could kill off the pod, in case this takes longer than the health check timeout!!!  
   
Of course, after applying and testing, we'll still need to adjust the timeout at least once!

### Recently viewed articles

*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)

### Related articles

*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRumbYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQY%3D--e039db459b4c5fb49339434f02f8b741baf5a516)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRumbYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kH--59bd4b87019bac3f67d6e60062297e43071c2394)
*   [Apps: Feature request to automatically shut down apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRYQYCrCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRumbYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzExNzMxNzA3NDUxNDEyLUFwcHMtRmVhdHVyZS1yZXF1ZXN0LXRvLWF1dG9tYXRpY2FsbHktc2h1dC1kb3duLWFwcHMGOwhUOglyYW5raQg%3D--55214d90375d7cbd68ae3c6857277e2ed7183274)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRumbYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kJ--2b0630adcd7cfdd4386f4ab4d2234bf86a255efe)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTRumbYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--77e9ae672eb2908c918ceaada6f548c504e536e5)"
https://tickets.dominodatalab.com/hc/en-us/articles/8051246049556-Invitation-to-Published-App-isn-t-allowing-users-to-see-the-App,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8051246049556-Invitation-to-Published-App-isn-t-allowing-users-to-see-the-App/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All versions

* * *

## **Issue:**

A customer attempted to invite Domino users to view an App, but the users aren't able to see it.  

![Screen_Shot_2022-07-25_at_10.33.49_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/8051034729748)

The users either encounter a blank page when they're given a direct url to the App, or encounter errors trying to navigate to it.

![Screen_Shot_2022-07-25_at_10.36.22_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/8051071805460)

* * *

## **Root Cause:**

The email address specified on the Invite page had incorrect capitalization so the letters didn't match the user account's email address within Domino.   For example the Domino user's address might be all lower-case, while the value specified for the invite contained both upper-case and lower. 

* * *

## **Resolution:**

To resolve this problem you need to specify the exact email address for this user as defined in Domino including the proper capitalization.

* * *

## **  
Notes/Information:**

A user can find their own email address in Account Settings -> Manage Login Profile.   An Admin can find this information via MongoDB queries of the db.users collection, like

```
db.users.findOne({""lastName"" : ""Hudson""})
```

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)

### Related articles

*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQpqZNSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQY%3D--5f861229ad9e55a130dbf61b487e4ce8269f1575)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRuCKABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQpqZNSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDUwMjYzODU1NTYtQWNxdWlyaW5nLVB1Ymxpc2hlZC1BcHAtTG9ncy1mb3ItU3VwcG9ydAY7CFQ6CXJhbmtpBw%3D%3D--6db66e6dd62fe797b155992f6e4393ae244479a9)
*   [Cannot search Jobs by job number](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQQWe52EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQpqZNSBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzIxNDAxNTI1ODgyOTAwLUNhbm5vdC1zZWFyY2gtSm9icy1ieS1qb2ItbnVtYmVyBjsIVDoJcmFua2kI--68b624f3b1f06ae65f162a8fd9bd5a757956dd29)"
https://tickets.dominodatalab.com/hc/en-us/articles/7553264929428-Using-Dash-Bootstrap-Components-in-your-Apps,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7553264929428-Using-Dash-Bootstrap-Components-in-your-Apps/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

You've set up a basic Dash App (perhaps using our guide to [Get Started with Dash](https://docs.dominodatalab.com/en/latest/user_guide/de2589/get-started-with-dash/)), but you're ready to take it a step further by adding [Dash Bootstrap Components](https://dash-bootstrap-components.opensource.faculty.ai/).

* * *

## **Resolution:**

Dash Bootstrap Components can be implemented into your App with only a couple of steps!

#### **1) Adding to your Environment**

Add the following to the Dockerfile instructions for your Environment to add the Dash Bootstrap Components package:

pip install dash-bootstrap-components  

Using the example in our [Documentation](https://docs.dominodatalab.com/en/latest/user_guide/de2589/get-started-with-dash/), your environment's complete Dockerfile would be:

```
USER root

# Install the libraries we want to use in our app
RUN pip install dash==2.3.0 && \    pip install dash-bootstrap-components && \
    pip install dash-renderer==0.13.0  && \
    pip install plotly --upgrade

USER ubuntu
```

#### **2) Importing the Package**

Next you'll import the package into your App script, adding the following line:

import dash\_bootstrap\_components as dbc

#### **3) Calling your App**

To use a stylesheet, you can add it to the call instantiating your App. Without Dash Bootstrap Components, instantiating your app will probably look like:

```
app = dash.Dash(__name__, routes_pathname_prefix='/', requests_pathname_prefix=runurl)
```

Adding in the call to a stylesheet with Dash Bootstrap Components, your app will be instantiated the same way, but with an additional reference to a Bootstrap theme or stylesheet:

app = dash.Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl, external\_stylesheets=\[dbc.themes.BOOTSTRAP\])

Or, to assign your stylesheet to a variable prior to instantiating your App:

my\_stylesheet = \['stylesheet.css'\]

app = dash.Dash(\_\_name\_\_, routes\_pathname\_prefix='/', requests\_pathname\_prefix=runurl, external\_stylesheets=my\_stylesheet)

(Replacing 'stylesheet.css' with your own stylesheet file (include single quotations) or an available Bootstrap stylesheet (_e.g._ \[dbc.themes.BOOTSTRAP\] - no quotation marks).

A very basic sample App using Dash Bootstrap Components in Domino might look like the following:

```
import osimport dashimport dash_bootstrap_components as dbc# Configure Dash to recognize the URL of the containeruser = os.environ.get(""DOMINO_PROJECT_OWNER"")project = os.environ.get(""DOMINO_PROJECT_NAME"")runid = os.environ.get(""DOMINO_RUN_ID"")runurl = '/' + user + '/' + project + '/r/notebookSession/'+ runid + '/'app = dash.Dash(__name__, routes_pathname_prefix='/', requests_pathname_prefix=runurl, external_stylesheets=[dbc.themes.BOOTSTRAP])app.layout = dbc.Container(    dbc.Alert(""Hello Bootstrap!"", color=""success""),    className=""p-5"",)if __name__ == '__main__':    app.run_server(port=8888, host='0.0.0.0', debug=True)
```

### Recently viewed articles

*   [Invitation to Published App isn't allowing users to see the App](https://tickets.dominodatalab.com/hc/en-us/articles/8051246049556-Invitation-to-Published-App-isn-t-allowing-users-to-see-the-App)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)

### Related articles

*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRKrKHeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpBg%3D%3D--66cf5f5cca42106adf90625427e3e56af7758304)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEr%2BebCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRKrKHeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk0NjU3MDAwMDg5ODAtQVBQUy1SZWFkLU9ubHktRXJyb3ItV2hlbi1TZXR0aW5nLVVwLVVSTC1Gb3ItQXBwLVVzaW5nLURhc2gtMi0xLTAGOwhUOglyYW5raQc%3D--f3c89cab3704f94f0218dd6d283a2c9f4faf91d8)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRKrKHeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQg%3D--578ac6a0bcbee4782fd2a297251fb08e372a233c)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJThBPJeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRKrKHeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzcwMDQ4NTcwOTg2NDQtQWRkLUFyY0dJUy1mb3ItSnVweXRlcmxhYgY7CFQ6CXJhbmtpCQ%3D%3D--84d3da1f76f85a90cfaf92f9c70d89666d062ed1)
*   [Is it possible to receive a notification when an app published in Domino crashes?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTX8UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRKrKHeBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI4MTM5NzItSXMtaXQtcG9zc2libGUtdG8tcmVjZWl2ZS1hLW5vdGlmaWNhdGlvbi13aGVuLWFuLWFwcC1wdWJsaXNoZWQtaW4tRG9taW5vLWNyYXNoZXMGOwhUOglyYW5raQo%3D--b3e201e6e49f58085b86805566a546892b45e0ec)"
https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps,"![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps/subscription.html ""Opens a sign-in dialog"")

**Environment**  
This article applies for all Domino platform versions

**Issue**  
Default read/send request timeouts in nginx are set to 300 seconds. In some cases we might need a larger timeout period for our App operations (for example uploading/downloading large files) .

**Resolution**  
To achieve this we will have to edit the ConfigMap for the kubernetes pod which is running our App.  
First you will need to start the App so you can get the ID from the App versions view URL

Example:  
https://<DOMINO\_URL>/<USERNAME>/<PROJECT>/publishApp?appId=<**APPID**\>#appversions

We can use the appid to identify the pod which is running our Application:

\[user@host ~\]$ kubectl get pod -A | grep <**APP\_ID**\> --color  
domino-compute **run-<APP\_ID>** 4/4 Running 0 2d

 Once the pod has been identified we then proceed with editing the ConfigMap so we can change the  
timeout to the desired length. 

\[user@host ~\]$ kubectl edit cm -n domino-compute **run-<APP\_ID>**  
configmap/**run-<APP\_ID>** edited

 The specific nginx configuration we are looking for is proxy\_read\_timeout for uploading and proxy\_send\_timeout in the case of downloading .  Once you are presented with the text editor you can change those values to what suits your use case . When finished used ""**:wq**"" to save the changes and exit the editor. 

http{
   ...
   proxy\_read\_timeout **300**;
   proxy\_send\_timeout **300**;
   ...
}

The changed variables do not take effect after saving the files. For this to happen we will have to restart the App. 

\[user@host ~\]$ kubectl delete pod -n domino-compute **run-<APP\_ID>**  
pod ""**run-<APP\_ID>**"" deleted  

Now kubernetes will restart and re-deploy the app taking in to account the updated ConfigMap. We can monitor the status with the following commands. 

\[user@host ~\]$ kubectl get pod -A | grep **<APP\_ID>**  
domino-compute      **run-<APP\_ID>**        2/2     Running            0          1m10s  

Once we have the pod in ""Running"" state with the correct number of containers  our app will be back online and ready for use . 

**Note:** In later versions of Domino Platform (>=4.6) we have introduced Central Config parameters to  
tackle this issue.  To configure the connect timeout for Nginx proxy server running in the “run” pod you can use:  
“**com.cerebro.domino.computegrid.kubernetes.apps.nginx.readTimeout**” “**com.cerebro.domino.computegrid.kubernetes.apps.nginx.connectTimeout**”

 To configure these keys, use “finite duration” syntax for time, e.g. **30s** for 30 seconds, **5m** for 5 minutes, **1h** for 1 hour. If the keys are not configured then they default to 300 seconds. By default, the keys are not configured.

### Recently viewed articles

*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/articles/7553264929428-Using-Dash-Bootstrap-Components-in-your-Apps)
*   [Invitation to Published App isn't allowing users to see the App](https://tickets.dominodatalab.com/hc/en-us/articles/8051246049556-Invitation-to-Published-App-isn-t-allowing-users-to-see-the-App)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)

### Related articles

*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRobcddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQY%3D--07172484d51cd20c115621eb765f0d49925339cc)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRobcddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQc%3D--4e8b5b9c8dde0da0ed61bfdf5468e0f3b40268df)
*   [Upload limit in apps hosted on Domino 4.x - 413 error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRgkIoBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRobcddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NjYxOTYxMTYtVXBsb2FkLWxpbWl0LWluLWFwcHMtaG9zdGVkLW9uLURvbWluby00LXgtNDEzLWVycm9yBjsIVDoJcmFua2kI--4e643c161e0ef76b82612b57779d4e6e090a7ac5)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRobcddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQk%3D--0bd292450ef724ea29c63ad7e9f1ba4d5f7820c2)
*   [My Workspace is not added to a Node. Some Nodes are 'NotReady'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgFOoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRobcddBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTQ4NTg2MDA1OTYtTXktV29ya3NwYWNlLWlzLW5vdC1hZGRlZC10by1hLU5vZGUtU29tZS1Ob2Rlcy1hcmUtTm90UmVhZHkGOwhUOglyYW5raQo%3D--9f6c204f114b3cf183434479e5cf229147cfb755)"
https://tickets.dominodatalab.com/hc/en-us/articles/6508752317588-Simple-FastAPI-example-as-a-Published-App,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6508752317588-Simple-FastAPI-example-as-a-Published-App/subscription.html ""Opens a sign-in dialog"")

**Applies to:**

Domino Data Lab 4.x and 5.x

**Question:**

Can I use FastAPI in Domino Data Lab?

**Background:**

[FastAPI](https://fastapi.tiangolo.com/) is ""a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints.""   It's growing as an alternative to flask.

**Answer:**

Yes you can.  The typical instructions for starting a published app are that you write your application to serve from a host address of `0.0.0.0` on port `8888` and hit the ""publish"" button on the apps page.  Those same instructions apply for FastAPI, here are steps for a quick example:

**_Note:_**  This is a brief example of getting started with FastAPI, using a very minimal functionality to simply show a basic ""get"" request to FastAPI.

First, you'll need to install FastAPI. To install in your environment or via requirements.txt, see [Installing FastAPI](https://tickets.dominodatalab.com/hc/en-us/articles/11007594673812).

Alternatively, you can install FastAPI in the first line of your app.sh. Your app.sh would also call your Python script:  

pip install --user ""fastapi\[all\]""  
python app.py

 Then added a corresponding app.py file with:

from fastapi import FastAPI  
import uvicorn

app = FastAPI()

@app.get(""/"")  
async def root():  
  return {""message"": ""Hello World""}

if \_\_name\_\_ == ""\_\_main\_\_"":  
  uvicorn.run(""app:app"",host=""0.0.0.0"",port=8888,reload = True)

 After ""publish"" the ""view app"" button reveals your ""Hello World"" message.  

**Limitations:**

The above example will work with the main page of your App accessed by the ""view app"" button in Domino. For other endpoints, the app is presented in an iFrame, so adding paths to the end of your app’s URL (e.g. `https://<url>/modelproducts/61b204aa792ec2588b97d60d/foo`) doesn't really work unless you work out `https://<url>/$DOMINO_PROJECT_OWNER/$DOMINO_PROJECT_NAME/r/notebookSession/$DOMINO_RUN_ID`

### Recently viewed articles

*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps)
*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/articles/7553264929428-Using-Dash-Bootstrap-Components-in-your-Apps)
*   [Invitation to Published App isn't allowing users to see the App](https://tickets.dominodatalab.com/hc/en-us/articles/8051246049556-Invitation-to-Published-App-isn-t-allowing-users-to-see-the-App)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)
*   [App URLs and URL parameters](https://tickets.dominodatalab.com/hc/en-us/articles/10014367822612-App-URLs-and-URL-parameters)

### Related articles

*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSs3m%2FrBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzQ0MTg5MzIwOTY3ODgtRmxhc2stQXBwLVNlcnZpbmctUmVhY3QtQ29kZQY7CFQ6CXJhbmtpBg%3D%3D--98fe0e1cbdee5cd45c9242b545fa39dca5031ac0)
*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSs3m%2FrBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQc%3D--745009045e1dea106df106d1f064eeb2b9c71b2e)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSs3m%2FrBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kI--315d0b991a49c18f8ebba1f850b1cd709c1a7b02)
*   [Looping login when accessing Model Monitor link / DMM dashboard](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjf4zrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSs3m%2FrBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzY1MDkyMzI1OTU3MzItTG9vcGluZy1sb2dpbi13aGVuLWFjY2Vzc2luZy1Nb2RlbC1Nb25pdG9yLWxpbmstRE1NLWRhc2hib2FyZAY7CFQ6CXJhbmtpCQ%3D%3D--7e0533363b76fc91ba46d70ba60016045c1cd7e2)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSs3m%2FrBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kK--19521d50adf3559acc034911fbc2c83aa3233187)"
https://tickets.dominodatalab.com/hc/en-us/articles/5230382249748-Working-With-Project-Files-From-a-Domino-App,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps)

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5230382249748-Working-With-Project-Files-From-a-Domino-App/subscription.html ""Opens a sign-in dialog"")

Apps in Domino do not sync files back to project, so in order to update a file from a Domino app one must use the Domino REST API, or the python wrapper. Following below is an example of using the REST API for this purpose:

```
# Sample script for using the Domino API to upload a file.
# This script will create a file called ""myfile.txt"" in the project root
# then upload that same file to results/uploaded.txt
# The API call being used is: PUT https://api.dominodatalab.com/v1/projects/username/project_name/path
# This is documented here: https://dominodatalab.github.io/api-docs/#/reference/project-runs-and-files/file-uploads/upload-a-file-to-a-project

# Run this from any project to test, no additional inputs are required.

import os
import requests

# Get some Domino environment variables
domino_api_key = os.environ[""DOMINO_USER_API_KEY""]
domino_project = os.environ[""DOMINO_PROJECT_NAME""]
domino_user = os.environ[""DOMINO_STARTING_USERNAME""]
domino_api_host = os.environ['DOMINO_API_HOST']

# Create a sample file
with open('myfile.txt', 'w') as f:
    f.write('hello world')

# Supply the API key for our request
headers = {
    'X-Domino-Api-Key': domino_api_key, 
    'Content-Type': 'application/json'
}

# Specify the full path we want the file to be uploaded, without ""/mnt""
file_path = 'results/uploaded.txt'

# The endpoint is the API we want to call
endpoint = 'v1/projects/{}/{}/{}'.format(domino_user, domino_project, file_path)

# The URL is the API host plus the endpoint
url = '{}/{}'.format(domino_api_host, endpoint)

# Read the file contents as bytes
with open('myfile.txt', 'rb') as f:
    contents = f.read()
    # Make the API call to upload the file. Check the results folder in the project files section to see the ""uploaded.txt"" file.
    response = requests.request('PUT', url, headers = headers, data = contents)
```

For an example that uses the python wrapper, please see the following article:

[https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548](https://tickets.dominodatalab.com/hc/en-us/articles/4411401974548)

### Recently viewed articles

*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/articles/6508752317588-Simple-FastAPI-example-as-a-Published-App)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps)
*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/articles/7553264929428-Using-Dash-Bootstrap-Components-in-your-Apps)
*   [Invitation to Published App isn't allowing users to see the App](https://tickets.dominodatalab.com/hc/en-us/articles/8051246049556-Invitation-to-Published-App-isn-t-allowing-users-to-see-the-App)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)

### Related articles

*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQzDBwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR3E8vBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MTE0MDE5NzQ1NDgtU3luY2luZy1maWxlcy1mcm9tLXB1Ymxpc2hlZC1BcHBzBjsIVDoJcmFua2kG--5558dcc51d47a1d05ee6e2e0da93fbf7dbd293f9)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR3E8vBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpBw%3D%3D--6e697473f085bf81e32a145e08bd235c2b4918f7)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR3E8vBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCA%3D%3D--2593f798740a7446f43e6eaed6c343e500a88a04)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR3E8vBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpCQ%3D%3D--7a3d785a419241666346e5ed1e0ea1d551bd3156)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR3E8vBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCg%3D%3D--b127d280090ba60aa16a0e0a4bbb8d930922f7a5)"
https://tickets.dominodatalab.com/hc/en-us/articles/4418932096788-Flask-App-Serving-React-Code,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps)

![](https://tickets.dominodatalab.com/system/photos/5378045081876/IMG-20190304-WA0053.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4418932096788-Flask-App-Serving-React-Code/subscription.html ""Opens a sign-in dialog"")

#### Here is an example of a flask app serving react code.

Create the files

#### Create an \_\_init\_\_.py file in the flask\_app folder. This file will make flask\_app a Python package. In that file put the following:

from flask import Flask

class ReverseProxied(object):
 def \_\_init\_\_(self, app):

     self.app \= app
 def \_\_call\_\_(self, environ, start\_response):

     script\_name \= environ.get('HTTP\_X\_SCRIPT\_NAME', '')
     if script\_name:

         environ\['SCRIPT\_NAME'\] = script\_name
         path\_info \= environ\['PATH\_INFO'\]
         if path\_info.startswith(script\_name):

             environ\['PATH\_INFO'\] = path\_info\[len(script\_name):\]
     # Setting wsgi.url\_scheme from Headers set by proxy before app     scheme \= environ.get('HTTP\_X\_SCHEME', 'https')
     if scheme:

       environ\['wsgi.url\_scheme'\] = scheme
     # Setting HTTP\_HOST from Headers set by proxy before app     remote\_host \= environ.get('HTTP\_X\_FORWARDED\_HOST', '')
     remote\_port \= environ.get('HTTP\_X\_FORWARDED\_PORT', '')
     if remote\_host and remote\_port:

         environ\['HTTP\_HOST'\] = f'{remote\_host}:{remote\_port}'
     return self.app(environ, start\_response)

app \= Flask(\_\_name\_\_,static\_folder\='static/build')
app.wsgi\_app \= ReverseProxied(app.wsgi\_app)

#### And create file views.py in same folder

From flask\_app import app
from flask import send\_from\_directory
import os

@app.route('/', defaults\={'path': ''})
@app.route('/<path:path>')
def serve(path):

   if path != """" and os.path.exists(app.static\_folder \+ '/' \+ path):
       return send\_from\_directory(app.static\_folder, path)

   else:
       return send\_from\_directory(app.static\_folder, 'index.html')

#### Back in your Files section of Domino create a new file called run.py. In run.py add the following:

from flask\_app import app
from flask\_app import views

if \_\_name\_\_ \== '\_\_main\_\_':
   app.run()

#### Change your app.sh file in the Files section of Domino to:

#!/usr/bin/env bash
export FLASK\_APP\=run.py

export FLASK\_DEBUG\=1
python \-m flask run \--host\=0.0.0.0 \--port\=8888

#### At this point we are done with flask part, let’s move to the React. Add following parameter to the package.json

“homepage”: “.”

#### After that build React app with help of

npm run build 

It will produce build/ folder which you can upload to the flask\_app/static/build/ And now application may be published  

### Recently viewed articles

*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/articles/5230382249748-Working-With-Project-Files-From-a-Domino-App)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/articles/6508752317588-Simple-FastAPI-example-as-a-Published-App)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps)
*   [Using Dash Bootstrap Components in your Apps](https://tickets.dominodatalab.com/hc/en-us/articles/7553264929428-Using-Dash-Bootstrap-Components-in-your-Apps)

### Related articles

*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kG--1bbb6c59629bd321d9357b198a72e3da653f88fe)
*   [Flask, Shiny, Python projects with url\_for or links stopped working in Domino 4](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS7pfgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY1MTMwODkzMDAtRmxhc2stU2hpbnktUHl0aG9uLXByb2plY3RzLXdpdGgtdXJsLWZvci1vci1saW5rcy1zdG9wcGVkLXdvcmtpbmctaW4tRG9taW5vLTQGOwhUOglyYW5raQc%3D--1c79a7f04f7feeb74d68af286f76a09d27f9a529)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRqjyYEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU4NzMzMTM0MjgtSS1zZWUtc3RyYW5nZS10aW1lb3V0cy0zMDAtc2Vjb25kcy1pbi1teS1BcHAtQ2FuLUktZml4LXRoaXMGOwhUOglyYW5raQg%3D--e4aa1472fe995245a422cdef9e1e2b5d42ee548b)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpCQ%3D%3D--f45eb8da15c7cc87de20ad3691af53e5813029a2)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCg%3D%3D--d1ae1aa1721f9a7c7f6a533e9e74662de3f9eb75)"
https://tickets.dominodatalab.com/hc/en-us/articles/19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCehKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTI3MS1GQVEtSG93LWNhbi1JLWdldC1hLWZpbGUtZnJvbS1teS1sb2NhbC1tYWNoaW5lLWludG8tbXktY29tcHV0ZS1lbnZpcm9ubWVudC1Eb2NrZXJmaWxlBjsIVDoJcmFua2kG--4b3f479502c267298fc5cb48baaa23bd7b025e25,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058495271-FAQ-How-can-I-get-a-file-from-my-local-machine-into-my-compute-environment-Dockerfile/subscription.html ""Opens a sign-in dialog"")

Sometimes you may have a file that you need to get into your Dockerfile which can't be easily, directly downloaded from the web. In this case you can upload the file to a location of your choosing (such as an S3 bucket or even a Domino project) and then download it in the Dockerfile instructions when setting up your compute environment. While the way we handle these files will likely change in the future, for the moment here are some tips on how to do this using a temporarily public Domino project:

(1) Upload the file into a temporary public Domino project under your user.

(2) Open a Jupyter or Jupyterlab workspace and use the terminal within the workspace session to tar up the file. Assuming your file is called myfile.txt this would look like:

tar -cvzf myfile.tar.gz myfile.txt

(3) Note the download path to your compressed file on the web. If your username is myuser and your project name is myproject, then your filepath might be:

https://mydominodomain.com/u/myuser/myproject/raw/5313d9808od/myfile.txt.tar.gz

You can check the download path by navigating to your file and right-clicking the ""Download"" button. Copy this URL and remove anything after the .gz (there may be some characters after the extension when you copy the URL such as inline=true -- these are the ones you want to remove).

(4) In your Dockerfile, add the following commands to download your file with `wget` and expand it (ensuring you use your own URL for the file and your own filename in place of myfile):

RUN wget -O myfile.txt.tar.gz  ""https://mydominodomain.com/u/myuser/myproject/raw/5313d9808od/myfile.txt.tar.gz""
RUN gunzip -f myfile.txt.tar.gz > myfile.txt.tar
RUN tar -xvf myfile.txt.tar 

Have any questions or comments about this process? Let us know below.

### Recently viewed articles

*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/articles/4418932096788-Flask-App-Serving-React-Code)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/articles/5230382249748-Working-With-Project-Files-From-a-Domino-App)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/articles/6508752317588-Simple-FastAPI-example-as-a-Published-App)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/articles/6999847561364-How-to-increase-nginx-timeout-for-Domino-Apps)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQg%3D--9ea05db64d9853492b71a7fe1d394c7a502102cf,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360062405091-How-To-Whitelist-an-IP-Address/subscription.html ""Opens a sign-in dialog"")

## Background

For security purposes, access to a Domino deployment is restricted by security groups to accept incoming connections from pre-selected CIDRs. Usually it is required to contact Domino support to make modifications to the list of accepted CIDRs; however, this documentation provides sufficient information for Domino administrators to make simple modifications to the list.

## Caveats

*   Making such changes to the security groups can complicate future runs of the Domino deployer so **it is imperative that Domino support be informed of any changes made to IP whitelisting through a support ticket.**
*   The following instructions only cover basic additions and removals from the list of authorised CIDRs. More complex scenarios than just allowing/disallowing a particular CIDR will still require contacting Domino support.
*   AWS has a default limit of 60 rules in a security group. The Domino executor security group requires 3 rules per CIDR thus limiting the number of unique CIDRs to 20. If more are needed, request an AWS rule limit change to 100 which will allow 33 unique CIDRs. For more than that, please consult with Domino support.

## Preparation

You will need to know:

*   Whether your deployment is full Kubernetes (Domino 4.x+) or partial Kubernetes (generally speaking this is Domino 3.x.)
*   The stage name for your deployment. For example, if your company name is _Acme Inc._ and you’re working on your dev deployment then your stage name may be **_acmedev_** (or something similar) In the following steps replace **_STAGE_** with the appropriate stage name.

When editing the security groups in the AWS console, you will only update the **_Incoming rules_** of the security group. The required fields for **_Incoming rules_** are:

*   Type - HTTP, HTTPS, SSH, Custom port, etc.
*   Protocol - TCP, UDP, ICMP, etc.
*   Port range - the range of ports to allow connections to.
*   Source - the CIDR of the allowed incoming connections.

An example of this is shown below (CIDRs obscured for security reasons.)

## Background

For security purposes, access to a Domino deployment is restricted by security groups to accept incoming connections from pre-selected CIDRs. Usually it is required to contact Domino support to make modifications to the list of accepted CIDRs; however, this documentation provides sufficient information for Domino administrators to make simple modifications to the list.

## Caveats

*   Making such changes to the security groups can complicate future runs of the Domino deployer so **it is imperative that Domino support be informed of any changes made to IP whitelisting through a support ticket.**
*   The following instructions only cover basic additions and removals from the list of authorised CIDRs. More complex scenarios than just allowing/disallowing a particular CIDR will still require contacting Domino support.
*   AWS has a default limit of 60 rules in a security group. The Domino executor security group requires 3 rules per CIDR thus limiting the number of unique CIDRs to 20. If more are needed, request an AWS rule limit change to 100 which will allow 33 unique CIDRs. For more than that, please consult with Domino support.

## Preparation

You will need to know:

*   Whether your deployment is full Kubernetes (Domino 4.x+) or partial Kubernetes (generally speaking this is Domino 3.x.)
*   The stage name for your deployment. For example, if your company name is _Acme Inc._ and you’re working on your dev deployment then your stage name may be **_acmedev_** (or something similar) In the following steps replace **_STAGE_** with the appropriate stage name.

When editing the security groups in the AWS console, you will only update the **_Incoming rules_** of the security group. The required fields for **_Incoming rules_** are:

*   Type - HTTP, HTTPS, SSH, Custom port, etc.
*   Protocol - TCP, UDP, ICMP, etc.
*   Port range - the range of ports to allow connections to.
*   Source - the CIDR of the allowed incoming connections.

An example of this is shown below (CIDRs obscured for security reasons.)

![ip_whitelist.png](https://tickets.dominodatalab.com/hc/article_attachments/360097168631)

## Steps

Below are the steps for updating IP whitelisting for both Domino 3.x and 4.x & above. At any stage when running through these steps, if an error occurs then please record the error and the steps you have taken, then report the issue in a support ticket. You can use the **Rollback** section to rollback any changes made.

### For Domino version 3.x and below

1.  **In the AWS console** update the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

2.  **STAGE-domino\_fe\_ext\_elb** (this is labeled as **STAGE-general-access** in full Kubernetes deployments)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

*   **STAGE-executor**

1.  Type: _Custom TCP_, Protocol: _TCP_, Port range: _9000_
2.  Type: _Custom TCP_, Protocol: _TCP_, Port: _49000-49999_
3.  Type: _SSH_, Protocol: _TCP_, Port range: _22_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

1.  Login to the salt master and edit _/srv/pillar/custom/overrides.sls_ and look for sections _access_ and _admin\_cidr_ and update them appropriately with the new CIDR(s).
2.  Verify the ELBs are present in the deployment either through the AWS console or by running the command  
      
    _kubectl get svc | grep traefik-ing_
3.  Next, go to the directory _/domino/k8_s. There are two files here, _traefik-ingress-external.yaml_ and _traefik-ingress-internal.yaml_ corresponding to the two Kubernetes Elastic Load Balancers.  
    Update both of these files to include the new CIDR(s) and then apply the changes with  
      
    _kubectl apply -f traefik-ingress-external.yaml__kubectl apply -f traefik-ingress-internal.yaml_

4.  **IMPORTANT:** Communicate the CIDRs added to your deployment to Domino support so that future runs of the deployer will not revert your changes.

### For Domino versions 4.x and above

1.  **In the AWS console** update the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

*   **STAGE-general-access**

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

2.  Login to a node that can run _kubectl_. The primary Kubernetes security group for general access is controlled by the **nginx-ingress-controller**. To add CIDR(s), leverage kubectl and run 

_kubectl edit service nginx-ingress-controller -n domino-platform_

Locate the section _spec.loadBalancerSourceRanges_ to add the new CIDR(s).

1.  **IMPORTANT:** Communicate the CIDR(s) added to your deployment to Domino support so that future runs of the deployer will not revert your changes.

## Rollback

In the case that you need to rollback the changes the steps are the reverse of those for applying the changes.

### For Domino version 3.x and below

1.  **In the AWS console** remove the CIDR(s) from the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

2.  **STAGE-domino\_fe\_ext\_elb** (this is labeled as **STAGE-general-access** in full Kubernetes deployments)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

*   **STAGE-executor**

1.  Type: _Custom TCP_, Protocol: _TCP_, Port range: _9000_
2.  Type: _Custom TCP_, Protocol: _TCP_, Port: _49000-49999_
3.  Type: _SSH_, Protocol: _TCP_, Port range: _22_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

1.  Login to the salt master and edit _/srv/pillar/custom/overrides.sls_ and look for sections _access_ and _admin\_cidr_ and remove the CIDR(s) from each section where it appears.
2.  Verify the ELBs are present in the deployment either through the AWS console or by running the command  
      
    _kubectl get svc | grep traefik-ing_
3.  Next, go to the directory _/domino/k8_s. There are two files here, _traefik-ingress-external.yaml_ and _traefik-ingress-internal.yaml_ corresponding to the two Kubernetes Elastic Load Balancers.  
    Update both of these files to remove the CIDR(s) and then apply the changes with  
      
    _kubectl apply -f traefik-ingress-external.yaml__kubectl apply -f traefik-ingress-internal.yaml_

4.  **IMPORTANT:** Communicate the CIDRs removed from your deployment to Domino support so that future runs of the deployer will not revert your changes.

### For Domino versions 4.x and above

1.  **In the AWS console** remove the CIDR(s) from the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

*   **STAGE-general-access**

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

2.  Login to a node that can run _kubectl_. The primary Kubernetes security group for general access is controlled by the **nginx-ingress-controller**. To remove CIDR(s), leverage kubectl and run 

_kubectl edit service nginx-ingress-controller -n domino-platform_

Locate the section _spec.loadBalancerSourceRanges_ to remove the CIDR(s).

1.  **IMPORTANT:** Communicate the CIDRs removed from your deployment to Domino support so that future runs of the deployer will not revert your changes.

## Steps

Below are the steps for updating IP whitelisting for both Domino 3.x and 4.x & above. At any stage when running through these steps, if an error occurs then please record the error and the steps you have taken, then report the issue in a support ticket. You can use the **Rollback** section to rollback any changes made.

### For Domino version 3.x and below

1.  **In the AWS console** update the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

2.  **STAGE-domino\_fe\_ext\_elb** (this is labeled as **STAGE-general-access** in full Kubernetes deployments)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

*   **STAGE-executor**

1.  Type: _Custom TCP_, Protocol: _TCP_, Port range: _9000_
2.  Type: _Custom TCP_, Protocol: _TCP_, Port: _49000-49999_
3.  Type: _SSH_, Protocol: _TCP_, Port range: _22_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

1.  Login to the salt master and edit _/srv/pillar/custom/overrides.sls_ and look for sections _access_ and _admin\_cidr_ and update them appropriately with the new CIDR(s).
2.  Verify the ELBs are present in the deployment either through the AWS console or by running the command  
      
    _kubectl get svc | grep traefik-ing_
3.  Next, go to the directory _/domino/k8_s. There are two files here, _traefik-ingress-external.yaml_ and _traefik-ingress-internal.yaml_ corresponding to the two Kubernetes Elastic Load Balancers.  
    Update both of these files to include the new CIDR(s) and then apply the changes with  
      
    _kubectl apply -f traefik-ingress-external.yaml__kubectl apply -f traefik-ingress-internal.yaml_

4.  **IMPORTANT:** Communicate the CIDRs added to your deployment to Domino support so that future runs of the deployer will not revert your changes.

### For Domino versions 4.x and above

1.  **In the AWS console** update the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

*   **STAGE-general-access**

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

2.  Login to a node that can run _kubectl_. The primary Kubernetes security group for general access is controlled by the **nginx-ingress-controller**. To add CIDR(s), leverage kubectl and run 

_kubectl edit service nginx-ingress-controller -n domino-platform_

Locate the section _spec.loadBalancerSourceRanges_ to add the new CIDR(s).

1.  **IMPORTANT:** Communicate the CIDR(s) added to your deployment to Domino support so that future runs of the deployer will not revert your changes.

## Rollback

In the case that you need to rollback the changes the steps are the reverse of those for applying the changes.

### For Domino version 3.x and below

1.  **In the AWS console** remove the CIDR(s) from the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

2.  **STAGE-domino\_fe\_ext\_elb** (this is labeled as **STAGE-general-access** in full Kubernetes deployments)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

*   **STAGE-executor**

1.  Type: _Custom TCP_, Protocol: _TCP_, Port range: _9000_
2.  Type: _Custom TCP_, Protocol: _TCP_, Port: _49000-49999_
3.  Type: _SSH_, Protocol: _TCP_, Port range: _22_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

1.  Login to the salt master and edit _/srv/pillar/custom/overrides.sls_ and look for sections _access_ and _admin\_cidr_ and remove the CIDR(s) from each section where it appears.
2.  Verify the ELBs are present in the deployment either through the AWS console or by running the command  
      
    _kubectl get svc | grep traefik-ing_
3.  Next, go to the directory _/domino/k8_s. There are two files here, _traefik-ingress-external.yaml_ and _traefik-ingress-internal.yaml_ corresponding to the two Kubernetes Elastic Load Balancers.  
    Update both of these files to remove the CIDR(s) and then apply the changes with  
      
    _kubectl apply -f traefik-ingress-external.yaml__kubectl apply -f traefik-ingress-internal.yaml_

4.  **IMPORTANT:** Communicate the CIDRs removed from your deployment to Domino support so that future runs of the deployer will not revert your changes.

### For Domino versions 4.x and above

1.  **In the AWS console** remove the CIDR(s) from the following security groups for your VPC:

*   **STAGE-general-admin**

1.  Type: _SSH_, Protocol: _TCP__,_ Port Range: _22_
2.  Type: _All ICMP-IPv4_ , Protocol: _ICMP_, Port range: _All_

*   **STAGE-general-access**

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_

2.  **STAGE-domino\_fe\_int** (skip if it doesn’t exist)

1.  Type: _HTTP_, Protocol: _TCP_, Port range: _80_
2.  Type: _HTTPS_, Protocol: _TCP_, Port range: _443_
3.  Type: _Custom_ _TCP_, Protocol: _TCP_, Port range: _9000_

2.  Login to a node that can run _kubectl_. The primary Kubernetes security group for general access is controlled by the **nginx-ingress-controller**. To remove CIDR(s), leverage kubectl and run 

_kubectl edit service nginx-ingress-controller -n domino-platform_

Locate the section _spec.loadBalancerSourceRanges_ to remove the CIDR(s).

1.  **IMPORTANT:** Communicate the CIDRs removed from your deployment to Domino support so that future runs of the deployer will not revert your changes.

### Recently viewed articles

*   [""File too big to be viewed directly in browser"" error](https://tickets.dominodatalab.com/hc/en-us/articles/4407743457940--File-too-big-to-be-viewed-directly-in-browser-error)
*   [FAQ: How can I get a file from my local machine into my compute environment Dockerfile?](https://tickets.dominodatalab.com/hc/en-us/articles/360058495271-FAQ-How-can-I-get-a-file-from-my-local-machine-into-my-compute-environment-Dockerfile)
*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/articles/4418932096788-Flask-App-Serving-React-Code)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/articles/5230382249748-Working-With-Project-Files-From-a-Domino-App)

### Related articles

*   [Support Site Sign-In - Please Verify Your Email](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPsAl9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCONJZNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMjE3NDMzMS1TdXBwb3J0LVNpdGUtU2lnbi1Jbi1QbGVhc2UtVmVyaWZ5LVlvdXItRW1haWwGOwhUOglyYW5raQY%3D--fa175476c45b6ca8357181d8b8ca95262d79970d)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCONJZNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kH--f318699602228159758909d32616373b247157eb)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCONJZNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kI--b3e1d0fca6eedeacf8af65d41fc612d141e1d5ed)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQJH%2FICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCONJZNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2OTg1NjU5MDgtU2FtYmEtY2xpZW50cy1hcy1hbi1hbHRlcm5hdGl2ZS10by1DSUZTLW1vdW50ZWQtc2hhcmVkLWRyaXZlcwY7CFQ6CXJhbmtpCQ%3D%3D--84d1ab4a77359999f2d26192ca1a551d8d58451a)
*   [Is sudoers.so corrupt?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2FlmMECToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCONJZNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzk5MTQ0NTUzMTAxMDAtSXMtc3Vkb2Vycy1zby1jb3JydXB0BjsIVDoJcmFua2kK--505077e5d88688aad16bddc2a8a61b0c008dbbd1)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BkzMCCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk5MDUwNTk4ODg3ODgtSW4tcHJvamVjdHMtb3duZWQtYnktb3Jncy1yZXJ1bi1qb2JzLWZhaWwtaWYtam9icy1hY2Nlc3MtZGF0YXNldHMGOwhUOglyYW5raQk%3D--f374fb007c98057916f375e4c104d3c91df960ea,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9905059888788-In-projects-owned-by-orgs-rerun-jobs-fail-if-jobs-access-datasets/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 5.0.x, 5.1.x, 5.2.x

## **Issue:**

If you attempt to rerun a successful job that accesses files within a dataset in a project that is owned by an org, the job will fail with 'file not found' errors.  Initial runs of the jobs will succeed, but reruns will fail with logging similar to the following.

2022-10-06 04:34:32 : FileNotFoundError: \[Errno 2\] No such file or directory: '/domino/datasets/local/reruns\_fail/file.txt'

## **Root Cause:**

It appears that in this scenario where projects are owned orgs. and not individual owners, the rerun process fails to properly mount datasets.

## **Resolution:**

This issue is resolved in Domino 5.3 but in lower versions of 5.x, reruns should not be used in this scenario.  The workaround is to simply start the execution as a new job.

## **Notes:**

Internal Domino ticket: DOM-41455

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/articles/360062405091-How-To-Whitelist-an-IP-Address)
*   [""File too big to be viewed directly in browser"" error](https://tickets.dominodatalab.com/hc/en-us/articles/4407743457940--File-too-big-to-be-viewed-directly-in-browser-error)
*   [FAQ: How can I get a file from my local machine into my compute environment Dockerfile?](https://tickets.dominodatalab.com/hc/en-us/articles/360058495271-FAQ-How-can-I-get-a-file-from-my-local-machine-into-my-compute-environment-Dockerfile)
*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/articles/4418932096788-Flask-App-Serving-React-Code)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/articles/5029673612948-Simple-sample-App-using-dash-uploader)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BkzMCCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--504fd2c283de2876c5dc423b21df556c1af53524)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BkzMCCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kH--77ddf90caf6c5130a2693b1310e1892db8789b10)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BkzMCCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpCA%3D%3D--cc9f6d8125d95ad312b5fdc7c7d50f929fd33b02)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BkzMCCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCQ%3D%3D--136fc349dbcca285b1dcb39f92ede08e236503dc)
*   [Sync fails with logged error of ""Exception caught during execution of rm command""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30fGXCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJR%2BkzMCCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk0NDg2OTAxMzY4NTItU3luYy1mYWlscy13aXRoLWxvZ2dlZC1lcnJvci1vZi1FeGNlcHRpb24tY2F1Z2h0LWR1cmluZy1leGVjdXRpb24tb2Ytcm0tY29tbWFuZAY7CFQ6CXJhbmtpCg%3D%3D--fca62660ae7e4614e3dbf17858d7f5b3d4f57ba3)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQSOq1BzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQPwkHpEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzg0Nzc5MDEwOTkxNTYtRG9lcy1Eb21pbm8tU3VwcG9ydC1hLW11bHRpLXRlbmFudC1jbHVzdGVyBjsIVDoJcmFua2kK--f369da573bc9beb4cdcda833ec4f948c10b235f2,"#### _**Version**_

All

## **Issue:**

Domino can support multi-tenancy in a kubernetes cluster, but does not out of the box. See our [public docs](https://docs.dominodatalab.com/en/latest/admin_guide/7f4331/install-configuration-reference/) for more information.

## **Resolution:**

Reach out to Domino Technical Support if you are interested in running Domino in a multi-tenant cluster.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19693528289044-Access-project-files-during-docker-build-using-Dockerfile-Instructions,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSBAxQDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kH--2333296cce23eecdad72e72e016310a9ba2fa6df,"How to get support bundle logs of a workspace: 

The workspaces have support bundle logs that Domino support requests most frequently to review and resolve the workspace issue.

Here are the steps on how to get them:

In some deployments, only Admins have access to the Supportbundle Logs. If you need to download the logs as requested, please contact your Domino administrators."
https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4405026385556-Acquiring-Published-App-Logs-for-Support&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4405026385556-Acquiring-Published-App-Logs-for-Support,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F24141525831572-Creating-and-Publishing-React-Apps&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPEuP0FToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kG--174bac3d29825cf8dd6f471932f980d83e713b24,"![](https://tickets.dominodatalab.com/system/photos/360095004892/Screen_Shot_2018-09-26_at_10.08.17_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058040112-Publish-a-react-app-through-Domino/subscription.html ""Opens a sign-in dialog"")

This example uses the ""Create React App"" package:

The objective here is to make sure the app knows the base domain/subdirectory so that resources are referenced correctly. Application domains are dynamic since they include the run ID, so this must be set at runtime. Here is a sample app.sh file that will accomplish this, assuming you have already run create react app to create a new project called 'testing' in your project:

\# Modify base url for your deployment (domain.domino.tech), user (test\_user), project (react\_app)
URL\_BASE=""https://domain.domino.tech/test\_user/react\_app/r/notebookSession/""

# change to point to directory with create-react-app project
cd $DOMINO\_WORKING\_DIR
cd testing

# Set hostname to the base url for the app in package.json
sed ""4i  \\""homepage\\"": \\""$URL\_BASE$DOMINO\_RUN\_ID\\"","" package.json -i

npm run build

serve -s build -l 8888

Note that you will need a compute environment with the correct packages (npm/yarn , create react, serve) installed in order to support this

Update: on some deployments you will need to set the hostname to this instead of the above:

```
sudo sed -i ""s@\""homepage\"": \"".*\""@\""homepage\"": \""$URL_BASE\""@"" package.json
```

### Recently viewed articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/articles/8267874694804-Downloading-files-from-Dataset)
*   [JupyterDash in Domino 5.x using ""inline"" app display](https://tickets.dominodatalab.com/hc/en-us/articles/15594421130132-JupyterDash-in-Domino-5-x-using-inline-app-display)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/articles/8430827274516-Running-Apps-using-JupyterLab-Proxy-AND-as-App-not-working-since-port-in-use)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)

### Related articles

*   [Flask App Serving React Code](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2F4NwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDCvIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzQ0MTg5MzIwOTY3ODgtRmxhc2stQXBwLVNlcnZpbmctUmVhY3QtQ29kZQY7CFQ6CXJhbmtpBg%3D%3D--a74c7cebcf8e629203ef44fa6fecf52be80eea16)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDCvIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQc%3D--45bb7df58503d324b62f72c04cce424c6c852098)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDCvIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kI--7b2ad4a51745582308f789f0090a595c1758e84f)
*   [Flask, Shiny, Python projects with url\_for or links stopped working in Domino 4](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS7pfgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDCvIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY1MTMwODkzMDAtRmxhc2stU2hpbnktUHl0aG9uLXByb2plY3RzLXdpdGgtdXJsLWZvci1vci1saW5rcy1zdG9wcGVkLXdvcmtpbmctaW4tRG9taW5vLTQGOwhUOglyYW5raQk%3D--cb0654287dea00f5c1d3b05955e27661f36d04c6)
*   [App Scaling And Performance](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDyiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCDCvIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzc3Mi1BcHAtU2NhbGluZy1BbmQtUGVyZm9ybWFuY2UGOwhUOglyYW5raQo%3D--7af2ac1b8d5082f0dc12c2f2463bd1a41bd50b6b)"
https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard/subscription.html ""Opens a sign-in dialog"")

This documents shows us how to set up the Health Dashboard for Model Monitoring. 

1\. Sign In to your deploy

![Screen_Shot_2023-01-10_at_5.11.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144722516500)

2\. Once logged in, select Model Monitor on the left side. 

![Screen_Shot_2023-01-10_at_5.16.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144693091732)

3\. Once logged in, select Model Monitor on the left side.

![Settings_2023-01-10_at_5.19.36_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144729592468)

4\. Click on Health Dashboard.

![Screen_Shot_2023-03-22_at_1.41.45_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144750757652)

5\. You will see Options to set how many times of check you want from ( No. of Checks) and Prediction Traffics

![Screen_Shot_2023-03-22_at_1.46.02_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144823567508)

**Note**

**\*\* Make sure you click save once you have decided with the values**

**\*\*Prediction Traffic is et by days**

### Related articles

*   [Model API Deployment Failed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR6iJNBDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSXklndDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzE1Njc0ODEwODU4MDA0LU1vZGVsLUFQSS1EZXBsb3ltZW50LUZhaWxlZAY7CFQ6CXJhbmtpBg%3D%3D--5103baea643601572b9f1acc69adc62dd3ece069)
*   [Are authentication systems like LDAP supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEbAVgDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSXklndDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzIwNzYxOTQzNi1BcmUtYXV0aGVudGljYXRpb24tc3lzdGVtcy1saWtlLUxEQVAtc3VwcG9ydGVkBjsIVDoJcmFua2kH--a9e29700c882267414f05f42a698eb1ea9646e84)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSuPGvdDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSXklndDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE0MTQ1MTI2NDQ0NTY0LU1vZGVsLU1vbml0b3JpbmctQ29uZmlndXJpbmctRGF0YS1EcmlmdC1UZXN0LURlZmF1bHRzBjsIVDoJcmFua2kI--1e486c3c74a147c5e3fa7ef84d789d536ebc39fc)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSXklndDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNzY1NjI3MTk0NTE2LUktbmVlZC10by1pbnN0YWxsLXRoZS1hZG1pbi10b29sa2l0LWJ1dC1JLWFtLWFpcmdhcHBlZAY7CFQ6CXJhbmtpCQ%3D%3D--daf98bb05390887b33af08d4d515457b54701ff4)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSC7tyiCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSXklndDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzEyNzk0MTE5MjI2MDA0LUluY3JlYXNlLW1vZGVsLUFQSS1wYXlsb2FkLXNpemUGOwhUOglyYW5raQo%3D--b7dc0f1e978e422e2264cc298e5292db7aebe7bb)"
https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults/subscription.html ""Opens a sign-in dialog"")

This article helps users change the data drift default settings at the model level.

1\. Sign In to your deploy

![Screen_Shot_2023-01-10_at_5.11.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144998652436)

2\. Once logged in, select Model Monitor on the left side. 

![Screen_Shot_2023-01-10_at_5.16.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145000315540)

3\. Once you click on it, it will open a new tab. Select the Settings . 

![Settings_2023-01-10_at_5.19.36_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14144951991956)

4\. On the right side click on TEST DEFAULTS. It would automatically bring you to Data Drift Test Defaults.

![Screen_Shot_2023-03-22_at_2.00.12_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145015589780)

There are 3 statistical test you can configure (see [Test Defaults](https://docs.dominodatalab.com/en/latest/user_guide/66f1f0/test-defaults/) ) :

**A. Kullback–Leibler Divergence (Recommended)**

Kullback–Leibler divergence (also called relative entropy) is a measure of how one probability distribution is different from a second, reference probability distribution.

The divergence can range from zero to infinity. A value of zero means there is no difference between the data sets.

This is a robust test that works for different distributions and therefore is most commonly used to detect drift.

**B. Chi-square Statistic**

Chi-square test in another popular divergence test well-suited for categorical data.

The chi square statistic is a statistical hypothesis testing technique to test how two distributions of categorical variables are related to each other. Specifically, the chi-square statistic is a single number that quantifies the difference between the observed counts versus the counts that are expected if there was no relationship between the variables at all.

The divergence can range from zero to infinity. A value of zero means there is no difference between the data sets.

**C. Population Stability Index**

Population Stability Index (PSI) is a popular metric in the finance industry to measure changes in distribution for two datasets. It produces less noise and has the advantage of a generally accepted threshold of 0.2-0.25.

5\. Make sure you save the values you have set at the bottom of the screen![Screen_Shot_2023-03-22_at_2.05.47_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145125796116)

### Recently viewed articles

*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)

### Related articles

*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSuPGvdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQY%3D--d1055001cdf2520980b30b169e849605e19a985c)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSuPGvdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQc%3D--41045808365c5bcf13d6a927981d0a8a4be5fdfe)
*   [Is there a way to run a script after every run?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHunKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSuPGvdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njg5MS1Jcy10aGVyZS1hLXdheS10by1ydW4tYS1zY3JpcHQtYWZ0ZXItZXZlcnktcnVuBjsIVDoJcmFua2kI--7b28dcf2107f199107564a8bb613b2704316a540)
*   [Tuning and experimentation](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEY4o4DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSuPGvdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzIwNTAzMjAzNS1UdW5pbmctYW5kLWV4cGVyaW1lbnRhdGlvbgY7CFQ6CXJhbmtpCQ%3D%3D--3fe6966e3cd640e1cc1a99e3d3bb6a7da36a3da3)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSXklndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSuPGvdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0ODMwMDg0ODg0LU1vZGVsLU1vbml0b3JpbmctQ29uZmlndXJpbmctSGVhbHRoLURhc2hib2FyZAY7CFQ6CXJhbmtpCg%3D%3D--9a61f53180e428aa1d32154d6da1cc7eb744875b)"
https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

Stacy Alme

*   2 months ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size/subscription.html ""Opens a sign-in dialog"")

For Domino apps and workspaces you can increase the payload size by increasing the setting cerebro.domino.computegrid.kubernetes.apps.nginx.clientBodyMaxSizeMiB within Admin's Central Config. 

However, this does not apply to models. If it is critical to increase this settings for a model we recommend changing the payload for the model when it is running. This means when you publish a new version the same change will need to be reapplied. 

  
To edit the nginx configuration for specific running model use the below steps: 

1.  Login to central and get root access using sudo su
2.  Get the version id for your model version by navigating to the versions tab of your model API.
3.  Find the right configmap of your model API
    1.  **kubectl get configmap --all-namespaces | grep <model-version-id>**
4.  To view the configuration settings -
    1.  **kubectl describe configmap <config-map-name> -n <namespace>**
5.  In the output, you should be able to see a key ""_client\_max\_body\_size_"" which gives your current limit. This value can be edited using an editor
    1.  **KUBE\_EDITOR=""nano"" kubectl edit configmap <config-map-name> -n <namespace>**

  
**Important Notes:**

*   Any changes to this setting will only be available for the current running model and on publishing a new version will override this setting to the default value (10 mb). You will have to follow the above steps to edit the configmap again.
*   If the request sizes are large, it can affect the logging performance. We recommend not switching on instance logging for these models
*   Please remember that changing the limits to large values and hitting the model with high frequency can affect the performance of the system. Please exercise due caution and increase the limit as conservatively as possible and please do so in small increments

### Recently viewed articles

*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)

### Related articles

*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7tyiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpBg%3D%3D--8bc1f466b50c583e5ea4b5e80dea1f70bb6d8ae5)
*   [Model APIs: New builds fail with ""Error during image build and push: timed out waiting for replicator to prepare resources""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR1hq%2BACToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7tyiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmS9oYy9lbi11cy9hcnRpY2xlcy8xMDQ0ODMwNTI4ODU5Ni1Nb2RlbC1BUElzLU5ldy1idWlsZHMtZmFpbC13aXRoLUVycm9yLWR1cmluZy1pbWFnZS1idWlsZC1hbmQtcHVzaC10aW1lZC1vdXQtd2FpdGluZy1mb3ItcmVwbGljYXRvci10by1wcmVwYXJlLXJlc291cmNlcwY7CFQ6CXJhbmtpBw%3D%3D--c2840cb5109fbbee4b4f4507fb5e2af307f396d7)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7tyiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQg%3D--9cf699e3c045b351051677df2859c7dbfdbe476c)
*   [How to troubleshoot os error: write error or a broken pipe/socket seen in model api logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRi5HWjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7tyiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ9L2hjL2VuLXVzL2FydGljbGVzLzYxOTk2MTU3MDk3MTYtSG93LXRvLXRyb3VibGVzaG9vdC1vcy1lcnJvci13cml0ZS1lcnJvci1vci1hLWJyb2tlbi1waXBlLXNvY2tldC1zZWVuLWluLW1vZGVsLWFwaS1sb2dzBjsIVDoJcmFua2kJ--6a79a684612a606d98d1014e7fafe72eefdcbd53)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNuXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7tyiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjg5MS1FeGVjdXRpb24tbWVtb3J5LXNldHRpbmdzBjsIVDoJcmFua2kK--c90e20e2d1966d2024fa5f0593e7c9dcf05426fc)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12794119226004-Increase-model-API-payload-size) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults/subscription.html ""Opens a sign-in dialog"")

This article will show users how to set the default test condition and threshold for each metric to use when a new model is registered.

1\. Sign In to your deploy

![Screen_Shot_2023-01-10_at_5.11.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145121201300)

2\. Once logged in, select Model Monitor on the left side

![Screen_Shot_2023-01-10_at_5.16.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145190361620)

3\. Once you click on it, it will open a new tab. Select the Settings Launcher (you can't miss it, it's the gear icon)

![Settings_2023-01-10_at_5.19.36_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145165424916)

4\. Choose Test Defaults and then look for Model Quality Test Defaults on the right:

![Screen_Shot_2023-03-22_at_2.11.11_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/14145170726676)

\*\*Note

You will have Metrics for classification and regression models. ( See [Metrics for classification and regression models](https://docs.dominodatalab.com/en/latest/user_guide/d4f9b7/analyze-model-quality/#_regression_models) )  

### Recently viewed articles

*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)

### Related articles

*   [Model API Deployment Failed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR6iJNBDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa33HdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzE1Njc0ODEwODU4MDA0LU1vZGVsLUFQSS1EZXBsb3ltZW50LUZhaWxlZAY7CFQ6CXJhbmtpBg%3D%3D--0cb64f6b7249f9fa4046c250b4f32bdc0cd7195b)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSuPGvdDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa33HdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE0MTQ1MTI2NDQ0NTY0LU1vZGVsLU1vbml0b3JpbmctQ29uZmlndXJpbmctRGF0YS1EcmlmdC1UZXN0LURlZmF1bHRzBjsIVDoJcmFua2kH--f725466a9a53b847ee5772bffe3f44363e687d82)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSXklndDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa33HdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzE0MTQ0ODMwMDg0ODg0LU1vZGVsLU1vbml0b3JpbmctQ29uZmlndXJpbmctSGVhbHRoLURhc2hib2FyZAY7CFQ6CXJhbmtpCA%3D%3D--b08df9229325e0ecab7afb4310b03cd5e0609feb)
*   [Creating API Key on your Domino Account Settings](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT%2FisJDCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSa33HdDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzEyMzg1NjU0NjAzNjY4LUNyZWF0aW5nLUFQSS1LZXktb24teW91ci1Eb21pbm8tQWNjb3VudC1TZXR0aW5ncwY7CFQ6CXJhbmtpCQ%3D%3D--d0999601d39d3752b69d4295777b761fa0114bb1)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIeqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTp81XWEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI6L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTExMS1FeHBvcnRpbmctTW9kZWwtSW1hZ2UGOwhUOglyYW5raQg%3D--03a78f1ad8c3d556c19cd00d095386023b5d8c12,"## Exporting Model Image

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image/subscription.html ""Opens a sign-in dialog"")

## Exporting Model Image

Some times you may want to build models in Domino but host them in an environment outside Domino. This is for reasons such as you may have already made huge investments in the production environment outside Domino that supports very high scale or low latency, the production data can not be exported outside of an environments due to legal/compliance issues, you want to control deployment using a custom CI/CD pipeline, etc.

Domino allows you to export model images built in Domino to an external container registry. These images include all the information needed to run the model including the model code, artifacts, environment, project files, etc.

Domino has exposed [REST APIs](https://dominodatalab.github.io/api-docs/#/reference/models) that can be called by your CI/CD pipeline or workflow to programmatically build and export the model Image. By default the images are built in Model API format. These images can be easily deployed in an environment that can run docker containers. However, you can also export images which are in AWS Sagemaker-compatible format so that they can be directly deployed in AWS Sagemaker. Following APIs are now available:

**Build Model Image API**

This API builds a docker image for a model and stores it in Domino’s internal Registry. This can later be fetched from the registry (using other export APIs) by your CI/CD pipeline. The exported Image can be deployed in the your runtime env (outside Domino). Your CI/CD pipeline can add more layers to this image to do further customizations (such as adding Auth, etc).

**Build Model Image Status API**

Given a modelId and modelVersionId, this API will return the status of the build operation.

**Build Model Image Logs API**

Given a modelId and modelVersionId, this API will return the logs for the build operation.

**Export Model Image API**

This API can be used to Push a Model Image to a 3rd party container registry outside Domino. It assumes the Image was already built and available within Domino. As part of the API request, users need to provide credentials for their registry to push Image to it. These credentials are not saved inside Domino and can have a TTL attached.

**Export Model Image Status API**

Given a exportID, this API will return the status of the export operation.

**Export Model Image Logs API**

Given a exportID, this API will return the logs for the export operation.

**Export Model Image For Sagemaker API**

This API builds a docker image for a given version of an Model API in a AWS Sagemaker-compliant format and then exports it to AWS ECR or any 3rd party container registry outside Domino. As part of the API request, users need to provide credentials for their registry to push Image to it. These credentials are not saved inside Domino and can have a TTL attached.

Sagemaker has the capability to train and then deploy a model to serve requests. Model export functionality in Domino only supports the serve use case since train operation would have already happened in Domino. The Image is ready to be deployed in the Sagemaker environment. All the necessary files required to make predictions are packaged inside the container.

**Note**: This API only builds and exports an Sagemaker-compliant image to AWS ECR or any 3rd party container registry outside Domino. It does not automatically deploy the image inside Sagemaker. Users need to take care of ‘deploying’ on Sagemaker as part of their CI/CD or deployment scripts.

### Recently viewed articles

*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)
*   [Model Monitoring: Configuring Model Quality Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)

### Related articles

*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIeqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpBg%3D%3D--7a2938a0bc18a377b1d4ac993869c90a07949b09)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIeqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kH--fca2c18a000446510497ccf3d171c5d206b07db8)
*   [Adding a new Git Repository to your project using Personal Access Token (PAT)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJReP%2FEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIeqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYzODg5NDA0MzYtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1QZXJzb25hbC1BY2Nlc3MtVG9rZW4tUEFUBjsIVDoJcmFua2kI--436f434728f7d33c54ea2bbc50bed183d52e3fe5)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIeqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCQ%3D%3D--773973e039bc5835a9457bd0d0b2e8a0810a037d)
*   [Does Domino Support a multi-tenant cluster?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQSOq1BzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCIeqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzg0Nzc5MDEwOTkxNTYtRG9lcy1Eb21pbm8tU3VwcG9ydC1hLW11bHRpLXRlbmFudC1jbHVzdGVyBjsIVDoJcmFua2kK--d18d1ee720a7097aaa477039c0b8282afecd6f11)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSwGqvPDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTp81XWEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy8xNjI4NTA5MTY3MjA4NC1Nb2RlbC1BUElzLVJlcGVhdGVkLTQwMC1CYWQtUmVxdWVzdC1leGNlcHRpb25zLWluLUluc3RhbmNlLUxvZ3Mtd2hlbi1TaG93LWhlYWx0aC1jaGVja3MtaXMtY2hlY2tlZAY7CFQ6CXJhbmtpCQ%3D%3D--be9283fd0f560acd214e9d4b88f6641b9a1e1c41,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16285091672084-Model-APIs-Repeated-400-Bad-Request-exceptions-in-Instance-Logs-when-Show-health-checks-is-checked/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to Domino versions from 5.3.1 to 5.5.1.

* * *

## **Issue:**

In the Model API Instance logs, when **Show health checks** is checked: 

![Model](https://tickets.dominodatalab.com/hc/article_attachments/16285067249300)

After the model has been running for a few minutes, this error starts to appear every few minutes:

`Exception logging request: ""400 Bad Request: The browser (or proxy) sent a request that this server could not understand.""`

![Model](https://tickets.dominodatalab.com/hc/article_attachments/16285083648276)

* * *

## **Root Cause:**

This is a known issue affecting Domino versions between 5.3.1 and 5.5.1, where the exceptions appear in the Instance logs when [Show health checks](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/host-models-as-rest-apis/) is checked. Note that the exceptions appear even though the model is running successfully.

* * *

## **Resolution:**

Our Engineering Team is working to resolve this issue in Domino versions 5.3.1 to 5.5.1. The issue does not occur in version 5.5.2.

* * *

## **References/Internal Records:**

Issue: DOM-42632

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/articles/4413684145940-Swagger-Domino-Public-API)
*   [Model Monitoring: Configuring Model Quality Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)

### Related articles

*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTAVERfDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSwGqvPDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzE2OTAxODQyNzE0NjQ0LURlbGV0ZS1tbGZsb3ctZXhwZXJpbWVudHMtZnJvbS10aGUtRG9taW5vLVVJBjsIVDoJcmFua2kG--d3dff50b3fc1d9f9f53bcc6caad0eb312d3d8421)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSwGqvPDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--6fc68884a4d1eaff93fc1b3c90683ca313c5bd8a)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSwGqvPDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQg%3D--8ecab34db01afe17e7db8f5b584b5b69f4682549)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSwGqvPDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kJ--d16dd8c3e498f1b7d71a98c3036672d942d60deb)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSwGqvPDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQo%3D--a48f6d5e89d7244a6208be26c840a05fe3cf5249)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16285091672084-Model-APIs-Repeated-400-Bad-Request-exceptions-in-Instance-Logs-when-Show-health-checks-is-checked) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23333343890452-Models-Model-APIs&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/12385654603668-Creating-API-Key-on-your-Domino-Account-Settings,"Submitted by Gener Joseph Tomas

Please follow these steps to create API key from your domino account settings

1) Login to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812841364/Screen_Shot_2021-06-28_at_9.06.13_AM.png)

2) After logging in, go to ""Account Settings.""

![Screen_Shot_2022-05-31_at_1.53.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507442358164)

3) Navigate to ""API Key""

![Screen_Shot_2023-01-16_at_4.09.33_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385555796500)

4) Click on to ""Regenerate""

![Screen_Shot_2023-01-16_at_4.10.02_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385555371924)

5) Confirm on Regenerate API Key by clicking ""Yes, Regenerate API Key"" and you're done

![Screen_Shot_2023-01-16_at_4.10.25_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385595898900)

![Screen_Shot_2023-01-16_at_4.10.46_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385555444628)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/12232246316820-How-To-Set-Up-Notification-For-Model-Monitor,"Once you have your model registered, you can set up a  communication channel to send notifications to your users. Here are the steps.

1\. Sign In to your deploy

![Screen_Shot_2023-01-10_at_5.11.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231886757908)

2\. Once logged in, select Model Monitor on the left side.

![Screen_Shot_2023-01-10_at_5.16.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231896073492)

3\. Once you click on it, it will open a new tab. Select the Settings .

![Screen_Shot_2023-01-10_at_5.19.36_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231944990356)

4\. Next, choose NOTIFICATION CHANNELS on the right.

![Screen_Shot_2023-01-10_at_5.43.57_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231993715604)

5 Click on ADD Email 

![Screen_Shot_2023-01-10_at_5.45.58_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12232049942164)

6\. You will have to fill in the needed info on the pop-up. 

![Screen_Shot_2023-01-10_at_5.48.38_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12232089622932)

7\. Once done make sure you click on SAVE MAIL CONFIG at the bottom right. 

![Screen_Shot_2023-01-10_at_5.51.27_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12232181135124)

\*\*See 

[Model Monitoring](https://docs.dominodatalab.com/en/4.6/user_guide/3e6034/model-monitoring/)"
https://tickets.dominodatalab.com/hc/en-us/articles/12231734095764-How-to-Generate-API-Token-For-Model-Monitor,"1\. Sign In to your deploy![Screen_Shot_2023-01-10_at_5.11.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231162986388)

2\. Once logged in, select Model Monitor on the left side

![Screen_Shot_2023-01-10_at_5.16.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231231388180)

3\. Once you click on it, it will open a new tab. Select the Settings Launcher (you can't miss it, it's the gear icon)

![Screen_Shot_2023-01-10_at_5.19.36_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231292659988)

4\. On the right side of the pane, it will automatically land on API TOKEN.

![Screen_Shot_2023-01-10_at_5.21.49_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231334011284)

5\. Click on the Generate Token button .

![Screen_Shot_2023-01-10_at_5.24.16_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231467073172)

6\. It will now provide you a token. You will now have the option to copy it using the **CLIPBOARD ICON** or even **REVOKE** the token depending on your security preference. (Note that your Generate Token Button will be replaced by a REVOKE button)

![Screen_Shot_2023-01-10_at_5.34.08_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12231724288148)"
https://tickets.dominodatalab.com/hc/en-us/articles/9320464773652-Change-DMM-IMM-cronjob-schedule,"There's a parquet conversion job which basically is a k8s cron object and the schedule can be altered, default is hourly. The job essentially converts data/payload invoked on the Model API exposed function to parquet for DMM's compute component drift calculations.

Change the cronjob schedule per below :- 

`kubectl edit cronjob -n ""platform-ns"" parquet-conversion-job`  
search for schedule and change the value from `@hourly` to `'* * * * *'`  
`kubectl edit configmap -n ""platform-ns"" parquet-job-config`  
in here please change the below properties 

1.  Under the `job`  section:  
    1.  `prediction_data_dump_grace_seconds: ""60""`
    2.  `run_interval: ""minute""`
2.  Under the `prod.yaml`  section:  
    1.  `log: DEBUG`

**Note: Do not change the indentation**"
https://tickets.dominodatalab.com/hc/en-us/articles/9320451281428-Invoking-function-exposed-by-a-Model-API-via-a-script,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9320451281428-Invoking-function-exposed-by-a-Model-API-via-a-script/subscription.html ""Opens a sign-in dialog"")

**Please find code below to invoke the Model API from a script :-** 

```
seed(373)iterations=1000class Constants:    MODEL_API_URL = ""URL""    KEY = ""KEY""class payload_setter:    numeric_range=(1000,100000)    payload = {        ""area"" : {""range"":numeric_range}    }class Data_Generator:    @staticmethod    def generate_payload(payload_value):        numerical_range = sorted (payload_value.get(""range""))        return randint(numerical_range[0],numerical_range[1])+randint(1,9999)/1000    @classmethod    def callable(cls):        return{            payload : cls.generate_payload(payload_value)             for payload, payload_value in payload_setter.payload.items()        }class api_invoker:    @staticmethod    def return_response(response):        print(response.json())    @classmethod       def make_req(cls,req_payload):        response = requests.post(        Constants.MODEL_API_URL,        auth = (Constants.KEY,Constants.KEY,),        json={""data"":req_payload}        )        cls.return_response(response)
```

```
for i in range(1000):    payload = Data_Generator.callable()    api_invoker.make_req(payload)
```

  
**You should be able to get the URL and KEY from under the tester section (curl/java) of the Model API overview page.**

### Recently viewed articles

*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/articles/9320464773652-Change-DMM-IMM-cronjob-schedule)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API)
*   [How to Generate API Token For Model Monitor](https://tickets.dominodatalab.com/hc/en-us/articles/12231734095764-How-to-Generate-API-Token-For-Model-Monitor)
*   [How To Set Up Notification For Model Monitor](https://tickets.dominodatalab.com/hc/en-us/articles/12232246316820-How-To-Set-Up-Notification-For-Model-Monitor)
*   [Creating API Key on your Domino Account Settings](https://tickets.dominodatalab.com/hc/en-us/articles/12385654603668-Creating-API-Key-on-your-Domino-Account-Settings)

### Related articles

*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQSMBZ6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQY%3D--e44013dce5acab373f81a542b9b2a553e8f47c92)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQSMBZ6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQc%3D--b7f6369957ff03bf210dcf72e6ce335ba54ebee3)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTy%2FRZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQSMBZ6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NjQ3NzM2NTItQ2hhbmdlLURNTS1JTU0tY3JvbmpvYi1zY2hlZHVsZQY7CFQ6CXJhbmtpCA%3D%3D--ce1e30e5c5cf6bb32736d1ba54056d6cb58612d6)
*   [Model permissions change for Domino version 5.0 - 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQAc9jBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQSMBZ6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzgxMjUyNTYxNDI5OTYtTW9kZWwtcGVybWlzc2lvbnMtY2hhbmdlLWZvci1Eb21pbm8tdmVyc2lvbi01LTAtNS0yBjsIVDoJcmFua2kJ--9f0e732461c17711dd7d71921d863a8a0d1bcd70)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQSMBZ6CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQo%3D--3339eef7838200c0acdd79a51e415c01ac5245b1)"
https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API,"This article describes a simple project to train a linear regression model, expose this as a Model API, and configure Domino Model Monitoring on the Model.

[Train the Model](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244#h_01HBVJTGR79APVZ9RQFAG6MKP1)

[Expose the Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244#h_01HBHF5VMPSPK6S8WA3697G2BW)

[Configure Monitoring](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244#h_01HBVG1BB5YH5THDM391PBMGSB)

[Download sample files](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244#h_01HBVJX9FJRHH891TRG7M5G0VV)

### Train the Model

To keep things simple, we'll train a linear regression model on a dataset with only 1 feature. Then, we will serialize the model into a bytestream and save it to disk. The model saved on disk is later fed back into memory and invoked upon from an exposed method - which is basically what you’d pass as arguments when registering a Model API.  

_**Please note:**_ The below sample code is run out of a Jupyter notebook. To have this published as a Model API we'd tweak some properties as described below under [Exposing the method as a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244#h_01HBHF5VMPSPK6S8WA3697G2BW).

  
**Dataset (""train.csv""):**  
area,price  
2600,550000  
3000,565000  
3200,610000  
3600,680000  
4000,725000

\# Cell 1

from domino.training\_sets import TrainingSetClient, model 
import pandas as pd  
df=pd.read\_csv(""train.csv"")  
training\_set\_name=""dbs-test-data""

tsv=TrainingSetClient.create\_training\_set\_version(  
  training\_set\_name=training\_set\_name,  
  df=df,  
  key\_columns=\[\],
  target\_columns=\[""price""\],   
  exclude\_columns=\[\],  
  monitoring\_meta=model.MonitoringMeta(  
    timestamp\_columns=\[\],  
    categorical\_columns=\[\],  
    ordinal\_columns=\[\],  
    ),  
  meta={""year"": ""2022""}  
  )

#properties to invoke on the TrainingSetClient object to get it’s name and version number
print(f""Training Set Version {tsv.training\_set\_name}:{tsv.number}"") 

df.head()

![imm_output1.png](https://tickets.dominodatalab.com/hc/article_attachments/19727212292116)

#cell 2

import numpy  
from sklearn import linear\_model  
train=linear\_model.LinearRegression()    #y=mx+c  
train.fit(df\[\['area'\]\].values,df.price)    #train model on our dataset  
train.coef\_    #slope

![imm_output2.png](https://tickets.dominodatalab.com/hc/article_attachments/19727256097300)

#cell 3  
train.intercept\_   #point of inception

![imm_output3.png](https://tickets.dominodatalab.com/hc/article_attachments/19727212302996)  

#cell 4  
train.predict(\[\[5000\]\])   #invoking the model on data point 5000

![imm_output4.png](https://tickets.dominodatalab.com/hc/article_attachments/19727256114580)

#cell 5

import pickle

# Saving to disk 
with open('serialized\_model', 'wb') as files:
  pickle.dump(train, files)

#cell 6
#For how the file and the method you'd pass into the model api would look like

import uuid 
import datetime

#domino module to capture and store the prediction dat 
from domino\_data\_capture.data\_capture\_client import DataCaptureClient

features=\[""area""\]
target=\[""price""\]   #value of this arg/var is what you had set prior when defining the training data set
data\_capture\_client=DataCaptureClient(features,target)   #DataCaptureClient's signature

model\_file=""serialized\_model""   #loading the same model saved to disk
model=pickle.load(open(model\_file,'rb'))

def callable\_function (area):
  feature=\[\[area\]\]
  price\_predict=model.predict(feature)
  event\_id=uuid.uuid4()
  timestamp=datetime.datetime.now(datetime.timezone.utc).isoformat()

  #invoking the capturePrediction method on the DataCaptureClient object 
  data\_capture\_client.capturePrediction(feature,price\_predict,event\_id=event\_id,timestamp=timestamp)

#cell 7  
callable\_function(5000) #invoking the model api exposed endpoint

![imm_output7.png](https://tickets.dominodatalab.com/hc/article_attachments/19727212319380)  
  
**Response from the data\_capture\_client.capturePrediction method :-** The information shown below represents the structure and format of the prediction data recorded by Domino when this model is deployed as a Domino Model API  
  
{""predictions"": {""price"": 859554.7945205481}, ""features"": {""area"": \[5000\]}, ""metadata"": null, ""timestamp"": ""2022-08-08T17:55:10.913182+00:00"", ""\_\_domino\_timestamp"": ""2022-08-08T17:55:10.913209+00:00"", ""event\_id"": ""7fe0ac37-caac-44b8-844f-997e17f104d5"", ""prediction\_probability"": null, ""sample\_weight"": null, ""instance\_id"": null}  

### Exposing the method as a Model API

For the Model API endpoint function, we make some changes to format the return value as a json object to view the result in the Model API UI page, under the Response section. We also capture the result of the data capture client to a variable which is printed to stdout so it is visible in the logs.

def callable\_function1 (area):  
  feature=\[\[area\]\]  
  price\_predict=model.predict(feature)  
  price\_predict=price\_predict.tolist()  
  return\_val=json.dumps(price\_predict)  
  event\_id=uuid.uuid4()  
  timestamp=datetime.datetime.now(datetime.timezone.utc).isoformat()  
  pred\_capture=data\_capture\_client.capturePrediction(feature,price\_predict,event\_id=event\_id,timestamp=timestamp) #invoking the capturePrediction method on the DataCaptureClient object  
  print(f""Output from data\_capture\_client : {pred\_capture}"")  
  return return\_val

Now when you invoke the Model API from the ""Calling your Model"" section of the Model API UI, you'd see the below in the Response:   
![imm_output-api.png](https://tickets.dominodatalab.com/hc/article_attachments/19727212321428)

and in the Instance Logs:

|     |     |
| --- | --- |
| Aug 19 2022 20:43:07 +0530 | Output from data\_capture\_client : {'predictions': {'price': 1810068.4931506852}, 'features': {'area': \[12000\]}, 'metadata': None, 'timestamp': '2022-08-19T15:13:07.812615+00:00', '\_\_domino\_timestamp': '2022-08-19T15:13:07.812635+00:00', 'event\_id': '431c6ee6-03dc-4547-a0cd-3b1729d4d815', 'prediction\_probability': None, 'sample\_weight': None, 'instance\_id': '62fe74d13b92b410e21a7248'} |

### Configure Monitoring

Once the Model API is Running, we can configure monitoring. In the Model API Monitoring tab, we'll Configure monitoring using the Training Data and Version as shown in the output from Cell 1 of our Jupyter Notebook. Additionally, we assume that this data is continuous so when configuring monitoring make sure to select the ""Regression"" Model Type. 

![imm_configuration.png](https://tickets.dominodatalab.com/hc/article_attachments/19727256138388)

The monitoring tab would look somewhat like below:

![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/9320362337428)

### Sample Files"
https://tickets.dominodatalab.com/hc/en-us/articles/5838503838868-What-is-the-path-in-the-URL-for-my-exported-Model-API-s-Image,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5838503838868-What-is-the-path-in-the-URL-for-my-exported-Model-API-s-Image/subscription.html ""Opens a sign-in dialog"")

## Question:

A customer used our [REST API](https://dominodatalab.github.io/api-docs/#/reference/models/export-model-image/export-model-image-to-external-registry) to  export the Model Image of their Published Model Api to an external container registry.  Upon trying to deploy the Image and browse the webservice they weren't sure what the path needs to be in their url to invoke the webservice.

## Answer:

The path is <your host>:<your port>/model .   The port by default is 8888

## Background:

The export is essentially dumping out a (docker) Image.  The image contains your Python or R code for the model you developed, and it also contains a webservice wrapper/harness:  
for Python models: [Flask](https://flask.palletsprojects.com/) + [uwsgi](https://uwsgi-docs.readthedocs.io/en/latest/)  
for R models: [Plumber](https://www.rplumber.io/)

Domino creates several scripts that act as the harness or wrapper to provide the webservice which ""wraps"" your Model code.  By using ""docker inspect"" you can confirm the port, you can also see the cmd is one of the scripts created behind the scenes during the Model Api publish/creation process:

`""Cmd"": [`  
                `""/domino/model-manager/launch""`  

Exec'ing into a running ModelAPI container reveals that `""/domino/model-manager/launch""` is our script which calls  `/domino/model-manager/harness` which starts up uwsgi (in the case of Python) on port 8888 calling `/domino/model-manager/harness.py` which leads to an /`domino/model-manager/app.py`which lists /model as the route.  

## Summary:

Inside the Domino UI the url to reach your Model Api might be something like

`https://ghud-sandbox.domino.tech:443/models/6213b6ee406b5b7553503c00/latest/model`  or `https://ghud-sandbox.domino.tech:443/models/6213b6ee406b5b7553503c00//v/2/model`,

But when you've started up the container in your host from your external registry you'll POST to <yourhost>:8888/model

### Recently viewed articles

*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)
*   [Invoking function exposed by a Model API via a script](https://tickets.dominodatalab.com/hc/en-us/articles/9320451281428-Invoking-function-exposed-by-a-Model-API-via-a-script)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/articles/9320464773652-Change-DMM-IMM-cronjob-schedule)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API)
*   [How to Generate API Token For Model Monitor](https://tickets.dominodatalab.com/hc/en-us/articles/12231734095764-How-to-Generate-API-Token-For-Model-Monitor)

### Related articles

*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSE8mFPBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQY%3D--bf9f45f8f16ccdd4231de41ab89b2293d76687ae)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSE8mFPBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQc%3D--cdcfbf8df02715a3d23903653301d3ede9175633)
*   [Model permissions change for Domino version 5.0 - 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQAc9jBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSE8mFPBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzgxMjUyNTYxNDI5OTYtTW9kZWwtcGVybWlzc2lvbnMtY2hhbmdlLWZvci1Eb21pbm8tdmVyc2lvbi01LTAtNS0yBjsIVDoJcmFua2kI--c9eb6a6b826cd3c9c181860910a671fa97c78246)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSE8mFPBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQk%3D--ce1d0ece1eeabe269ec6197e6fffe2247d5ccdc0)
*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSxzoEEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSE8mFPBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MTc0MDQxODY5MDAtSXMtdGhlcmUtYS1saW1pdC10by10aGUtc2l6ZS1vZi10aGUtZmlsZXMtaW4tbXktbW9kZWwtQVBJBjsIVDoJcmFua2kK--34adb4e85f0bc9f34fcf07e6c86b95a2e944c55b)"
https://tickets.dominodatalab.com/hc/en-us/articles/4417404186900-Is-there-a-limit-to-the-size-of-the-files-in-my-model-API,"If you are publishing a Model API, be aware that the current size limit for files you can add to it is 500mb.  File sets larger than this will cause the model API build to fail, sometimes in un-obvious ways that are difficult to analyze.  If your model API build is failing, check this first just to rule it out. 

See screenshot below for where you can find the total size of the files in your project.  

![Screen_Shot_2022-01-27_at_3.54.08_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4417421194900)"
https://tickets.dominodatalab.com/hc/en-us/articles/4411394667284-Enabling-multi-threading-in-Model-APIs,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4411394667284-Enabling-multi-threading-in-Model-APIs/subscription.html ""Opens a sign-in dialog"")

If a Model API is making use of multi threading you can follow the below steps to manually enable this property by updating the container spec of the deployment object. This however is a temporary fix, meaning if the model is stopped completely the change would need to be reapplied. Rest assured, as long as the app is alive this change will function even if the model app is scaled up or down.

## How to update the spec ?

Run the kubectl edit deployment on the 'version' of the running model (eg : kubectl edit deployment/myapp-deployment)

Add the below sed command under spec/containers dict: 

containers:  
      - args:  
        - /bin/sed -i 's/workers\\ 1/workers\\ 1 --enable-threads/' /domino/model-manager/harness;  
          bash /domino/model-manager/launch  
        command:  
        - /bin/sh  
        - -c  
        env:

The env: line in a fresh/new Model API deployment has a dash '-' at the beginning which needs to be removed, since the stanza now starts at '- args:'

The second occurrence of worker in the sed line will be changed to your desired number of workers, 2 in this instance:

\- /bin/sed -i 's/workers\\ 1/workers\\ 2 --enable-threads/' /domino/model-manager/harness;

**Note: By enabling more workers, the HTTP/HTTPS query to the Model will allow more concurrent queries, however the resource usage might not suit the instance type and you may need to upgrade the instance to more CPU's and/or more RAM.**

### Recently viewed articles

*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/articles/4417404186900-Is-there-a-limit-to-the-size-of-the-files-in-my-model-API)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/articles/5838503838868-What-is-the-path-in-the-URL-for-my-exported-Model-API-s-Image)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)
*   [Invoking function exposed by a Model API via a script](https://tickets.dominodatalab.com/hc/en-us/articles/9320451281428-Invoking-function-exposed-by-a-Model-API-via-a-script)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/articles/9320464773652-Change-DMM-IMM-cronjob-schedule)

### Related articles

*   [How can I find my Project ID and available Hardware Tier IDs?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxbG6xCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSznBsDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzExNzU3MTc4MDczNDkyLUhvdy1jYW4tSS1maW5kLW15LVByb2plY3QtSUQtYW5kLWF2YWlsYWJsZS1IYXJkd2FyZS1UaWVyLUlEcwY7CFQ6CXJhbmtpBg%3D%3D--8de397752c8893416c6538294120ec3f0f97f90e)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSznBsDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kH--0d951e278ae2e2982ecfd40df9a5179bcb01e122)
*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSznBsDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpCA%3D%3D--1e3c000613dfa0cc217d1016b1f5381dcb8e604f)
*   [How do I integrate Domino with my CI/CD pipeline?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BbKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSznBsDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzk1MS1Ib3ctZG8tSS1pbnRlZ3JhdGUtRG9taW5vLXdpdGgtbXktQ0ktQ0QtcGlwZWxpbmUGOwhUOglyYW5raQk%3D--56bcd30427cfcd26a5bef710ef1224190ee356f5)"
https://tickets.dominodatalab.com/hc/en-us/articles/360060723672-Model-Invocation-Settings,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [How to increase the maximum number of Model API Instances for a single Model API?](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Model Monitoring: Configuring Model Quality Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs)

## Model Invocation Settings

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

Permanently deleted user

*   1 year ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060723672-Model-Invocation-Settings/subscription.html ""Opens a sign-in dialog"")

## Model invocation settings

### **Overview**

There are two authorization modes for Domino models. You can select which mode you want your model to use from the **Invocation** tab of the model settings page.

### **Unrestricted mode**

If your model is unrestricted, anyone with network access to Domino can call your model. No access token is required when sending a request.

### **Restricted mode**

If your model is restricted, callers must send a valid access token along with their requests to use the endpoint. Check out the code examples in the model overview tab to see how to send access tokens with your requests.

### **Access tokens**

On the **Invocation** tab, you can generate access tokens for your model. You can generate as many access tokens as you want. For convenience, you can use the name field to help you keep track of which tokens have been issued to whom, and for what purpose.

You can also revoke or regenerate a token by clicking the gear button.

### Recently viewed articles

*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/4411394667284-Enabling-multi-threading-in-Model-APIs)
*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/articles/4417404186900-Is-there-a-limit-to-the-size-of-the-files-in-my-model-API)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/articles/5838503838868-What-is-the-path-in-the-URL-for-my-exported-Model-API-s-Image)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)
*   [Invoking function exposed by a Model API via a script](https://tickets.dominodatalab.com/hc/en-us/articles/9320451281428-Invoking-function-exposed-by-a-Model-API-via-a-script)

### Related articles

*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRTVzBOEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNihStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzIwMTI3MDI3Nzc4NDUyLUZhc3RBUEktQXBwLXdpdGgtTXVsdGlwbGUtRW5kcG9pbnRzBjsIVDoJcmFua2kG--6ceef1e02f17752a894d37f32a444485086ab424)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360060723672-Model-Invocation-Settings) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/360061119131-Model-Access-And-Collaboration,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to increase the maximum number of Model API Instances for a single Model API?](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Model Monitoring: Configuring Model Quality Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs)

## Model Access And Collaboration

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061119131-Model-Access-And-Collaboration/subscription.html ""Opens a sign-in dialog"")

## Model access and collaboration

## **Overview**

It's easy to collaborate with your team on models, and to share your models broadly with interested consumers. There are two controls on the **Access & Sharing** tab of the model settings page that affect who has access to your model:

1.  The model's visibility setting
2.  The model's collaborators

![Screenshot_2023-04-25_at_2.43.52_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/15160091259412)

* * *

## **Visibility settings**

There are two visibility options:

*   **Public**
    *   Anyone with access to your Domino deployment can search, discover, and view your model.
    *   Only collaborators can modify or deploy model versions or settings.
*   **Private**
    *   Only collaborators can search, discover, and view your model.
    *   Only collaborators can modify or deploy model versions or settings.

Reference: https://docs.dominodatalab.com/en/latest/user\_guide/8dbc91/host-models-as-rest-apis/#\_make\_the\_model\_api\_public\_or\_private

* * *

## **Manage collaborators**

To grant other users access to your model, go to the **Access & Sharing** tab of the model settings page and scroll down to the **Collaborators** section. You can add new collaborators by their username or email address, and you can also add organizations as collaborators, granting permissions to all members.

The owner of a project can set different access levels for collaborators.

*   _Viewers_
    
    Can only view the model versions and logs. They will not be able
    
    to view or edit model settings, or publish new versions. A viewer
    
    cannot see any access tokens.
    
*   _Editors_
    
    Can deploy new versions if they have collaborator access to the
    
    underlying project. They can view logs and audit history, and they
    
    can change most settings. They cannot invite new collaborators or
    
    change model visibility. An editor can see all access tokens and
    
    create new ones.
    
*   _Owners_
    
    Have all permissions as above and they can invite new
    
    collaborators, change visibility, and transfer ownership. An owner
    
    can see and revoke all access tokens and create new ones.
    
    Reference: https://docs.dominodatalab.com/en/latest/user\_guide/8dbc91/host-models-as-rest-apis/#\_add\_collaborators
    

### Recently viewed articles

*   [Model Invocation Settings](https://tickets.dominodatalab.com/hc/en-us/articles/360060723672-Model-Invocation-Settings)
*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/articles/4411394667284-Enabling-multi-threading-in-Model-APIs)
*   [Is there a limit to the size of the files in my model API?](https://tickets.dominodatalab.com/hc/en-us/articles/4417404186900-Is-there-a-limit-to-the-size-of-the-files-in-my-model-API)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/articles/5838503838868-What-is-the-path-in-the-URL-for-my-exported-Model-API-s-Image)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to increase the maximum number of Model API Instances for a single Model API?](https://tickets.dominodatalab.com/hc/en-us/articles/21811285977492-How-to-increase-the-maximum-number-of-Model-API-Instances-for-a-single-Model-API)
*   [Un-register then re-register your model when making changes to Monitoring Config JSON](https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON)
*   [MLflow Diagnostic Code](https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file)
*   [Model Monitoring: Configuring Model Quality Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145237785236-Model-Monitoring-Configuring-Model-Quality-Test-Defaults)
*   [Model Monitoring: Configuring Data Drift Test Defaults](https://tickets.dominodatalab.com/hc/en-us/articles/14145126444564-Model-Monitoring-Configuring-Data-Drift-Test-Defaults)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)
*   [Increase model API payload size](https://tickets.dominodatalab.com/hc/en-us/articles/12794119226004-Increase-model-API-payload-size)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23333343890452-Models-Model-APIs)

## Model Deployment Configuration

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration/subscription.html ""Opens a sign-in dialog"")

## Model deployment configuration

## **Overview**

Domino model APIs are scalable, high-availability REST services. The **Deployment** tab of the model settings page allows you to configure three important things for your model:

1.  The compute resources available to your model hosts
2.  The number of model hosts serving your model
3.  The number of routes -- or versions -- you want to expose

## **Scaling your model**

There are two dimensions on which to scale your model.

1.  **Horizontal scale**
    
    You can select the number of model hosts that you want running at
    
    any given time. Domino will automatically load-balance requests to
    
    the model endpoint between these hosts. A minimum of 2 instances
    
    allows you to have a high-availability model and is the default
    
    selection. Domino supports up to 32 instances per model.
    
2.  **Vertical scale**
    
    You can choose a hardware tier that will determine the amount of
    
    RAM and CPU resources available to each model host.
    

When you change either of these selections, your model will be restarted with the new settings.

## **Routing your model**

Domino supports two routing modes.

1.  **Basic mode**
    
    In this mode, you only have one route exposed that always points to the latest successfully deployed model version. When you deploy a new one, the old one is shut down and replaced with the new one while maintaining availability. The route has the following signature:
    
    _Latest:_ /models/<modelId>/latest/model
    
2.  **Advanced mode**
    
    In this mode, you can have two running versions - a promoted version and a latest version. This allows you to have a workflow where your clients always point to the promoted version and you can test with the latest. When the latest version is ready for production, you can seamlessly switch it to be the promoted version with no downtime. The routes have the following signature:
    
    _Latest:_ /models/<modelId>/latest/model
    
    _Promoted:_ /models/<modelId>/labels/prod/model
    

### Recently viewed articles

*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)

### Related articles

*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRTVzBOEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEuqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzIwMTI3MDI3Nzc4NDUyLUZhc3RBUEktQXBwLXdpdGgtTXVsdGlwbGUtRW5kcG9pbnRzBjsIVDoJcmFua2kG--3b9aba722ef5ef305c891307f2173856f8eb573d)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058497211-How-can-I-programmatically-tell-if-my-code-is-running-in-a-model-or-not,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058497211-How-can-I-programmatically-tell-if-my-code-is-running-in-a-model-or-not/subscription.html ""Opens a sign-in dialog"")

I want my code to behave differently while I'm developing it in Jupyterlab than it does when live as a model, but I don't want to manually edit a _true/false_ variable every time. Is there a smart way to do this programmatically? 

Yes, here's a sample python snippet you can use to determine if you're in a model:

import os
os.environ\['HOSTNAME'\].startswith('model')

Domino injects a handful of useful environment variables into your runs - you can use the \`HOSTNAME\` environment variable to tell if you're inside a model. 

In a Domino model, it will look like model-<hash>​, for example: 

_HOSTNAME=model-5cw2d57d36e0fb0107a9c5c2-7b4574f7b9-htv2r_ 

In a Domino run, it will look like domino-run-<hash>, for example:

_HOSTNAME=domino-run-5ce2be3d43e0sb0107a9c5a9_

​

When running locally, it won't exist unless you've created it on your machine. 

### Recently viewed articles

*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration)
*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)

### Related articles

*   [How do models use environment variables?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN%2BnKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLuoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njk5MS1Ib3ctZG8tbW9kZWxzLXVzZS1lbnZpcm9ubWVudC12YXJpYWJsZXMGOwhUOglyYW5raQY%3D--b36b98e67ec3edf40d011d868337db3217149559)
*   [Model Access And Collaboration](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJuqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLuoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTEzMS1Nb2RlbC1BY2Nlc3MtQW5kLUNvbGxhYm9yYXRpb24GOwhUOglyYW5raQc%3D--81f34da397c85bc49f021aa74ae1db5e7b702618)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLuoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCA%3D%3D--43f9bcb56a1490b2e1778f714ca95b77ccb2a6da)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLuoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpCQ%3D%3D--cd22e80485a77ffcd5952d92b9b83308d16e7396)
*   [Workspace Fails to Start with git-upload-pack Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRCTc4BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLuoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU4MDI2NDgwODQtV29ya3NwYWNlLUZhaWxzLXRvLVN0YXJ0LXdpdGgtZ2l0LXVwbG9hZC1wYWNrLUVycm9yBjsIVDoJcmFua2kK--0f3367f087b558c682135029f135fce59f926130)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496991-How-do-models-use-environment-variables,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058496991-How-do-models-use-environment-variables/subscription.html ""Opens a sign-in dialog"")

Models do not inherit environment variables set at the project level. However, you can set model-specific environment variables on the model settings page. To get there, select the model you're running under the Model APIs tab, and at the top, you should see settings, followed by the environment tab on the left.

[https://docs.dominodatalab.com/en/latest/user\_guide/6ac5a1/environment-variables/](https://docs.dominodatalab.com/en/latest/user_guide/6ac5a1/environment-variables/)

### Recently viewed articles

*   [How can I programmatically tell if my code is running in a model or not?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497211-How-can-I-programmatically-tell-if-my-code-is-running-in-a-model-or-not)
*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration)
*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)

### Related articles

*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN%2BnKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQY%3D--c30cc35db7d1b9e1f5a8b678355a8176c4312603)
*   [Models cannot use requirements.txt](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS3znABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN%2BnKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQyMzQwNzQwMDQtTW9kZWxzLWNhbm5vdC11c2UtcmVxdWlyZW1lbnRzLXR4dAY7CFQ6CXJhbmtpBw%3D%3D--5b0c9ae96017ab0f089a34afb56f3e0499e668c4)
*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEuqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN%2BnKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTA1MS1Nb2RlbC1EZXBsb3ltZW50LUNvbmZpZ3VyYXRpb24GOwhUOglyYW5raQg%3D--0c90e795bfd003424f4f2f24db8c1a30dfa33d08)
*   [Switch the Domino CLI from S3 to using the API (troubleshooting CLI errors)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGenKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCN%2BnKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njg3MS1Td2l0Y2gtdGhlLURvbWluby1DTEktZnJvbS1TMy10by11c2luZy10aGUtQVBJLXRyb3VibGVzaG9vdGluZy1DTEktZXJyb3JzBjsIVDoJcmFua2kJ--969aa3543376f896aeed01aee95ba77511255c81)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058494311-Increase-the-request-timeout-when-using-jupyter-server-proxy,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494311-Increase-the-request-timeout-when-using-jupyter-server-proxy/subscription.html ""Opens a sign-in dialog"")

When using [jupyter-server-proxy](https://github.com/jupyterhub/jupyter-server-proxy) to run an app inside JupyterLab you may experience timeouts or 500 Internal Server Errors if a request to your app takes longer than 20 seconds to process. This is because jupyter-server-proxy uses the default timeout of 20s for HTTP client connections as provided by the Tornado package. There isn't a direct way to change this in jupyter-server-proxy but you can patch the Tornado package using the following method:

First, open a terminal in your Jupyter Lab session and run the command

find / -xdev -path ""\*/tornado/httpclient.py"" 2>/dev/null

This will print one of more lines like this:

/usr/local/anaconda/lib/python3.6/site-packages/tornado/httpclient.py

The actual path may differ from the example above on your system and there may be more than one path output. Make a note of each of the paths and then add the following line to the end of your environment's Dockerfile instructions, one per path you found above, and rebuild the environment:

RUN sed -i 's:^\\(\\s\*\\)request\_timeout=20.0,:\\1request\_timeout=600.0,:' /path/to/tornado/httpclient.py && rm -rf /path/to/tornado/\_\_pycache\_\_

So, for example, if you find two copies of `tornado/httpclient.py` at `/usr/local/anaconda/lib/python3.6/site-packages/tornado/httpclient.py` and `/usr/local/lib/python3.6/site-packages/tornado/httpclient.py`​ you would put this in your Dockerfile:

RUN sed -i 's:^\\(\\s\*\\)request\_timeout=20.0,:\\1request\_timeout=600.0,:' /usr/local/anaconda/lib/python3.6/site-packages/tornado/httpclient.py && rm -rf /usr/local/anaconda/lib/python3.6/site-packages/tornado/\_\_pycache\_\_
RUN sed -i 's:^\\(\\s\*\\)request\_timeout=20.0,:\\1request\_timeout=600.0,:' /usr/local/lib/python3.6/site-packages/tornado/httpclient.py && rm -rf /usr/local/lib/python3.6/site-packages/tornado/\_\_pycache\_\_

It is recommend that you make a copy of the environment you are using first and work on that copy. The change will affect all users and all code that uses the Tornado httpclient package in that environment. Essentially it is increasing the default timeout for requests to 600 seconds which may not be desirable in all situations. Once you have finished developing your app in Jupyter Lab you can switch back to the original environment without the patched copy of Tornado.

If you require a longer timeout then you can change the part of the line that reads `request_timeout=600.0`​ to a larger value like `request_timeout=1200.0`​ for example.

### Recently viewed articles

*   [How do models use environment variables?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496991-How-do-models-use-environment-variables)
*   [How can I programmatically tell if my code is running in a model or not?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497211-How-can-I-programmatically-tell-if-my-code-is-running-in-a-model-or-not)
*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration)
*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)

### Related articles

*   [Preventing Jupyter timeout errors when running notebooks as a batch/scheduled job](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBCxIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGedKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDU5Mi1QcmV2ZW50aW5nLUp1cHl0ZXItdGltZW91dC1lcnJvcnMtd2hlbi1ydW5uaW5nLW5vdGVib29rcy1hcy1hLWJhdGNoLXNjaGVkdWxlZC1qb2IGOwhUOglyYW5raQY%3D--5144d92f689f6824a05bbf7093fc0943f7477f52)
*   [Jupyter timeout errors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEQwS0DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGedKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzIxMzEyNDE2My1KdXB5dGVyLXRpbWVvdXQtZXJyb3JzBjsIVDoJcmFua2kH--40b174ccb48837bbb3a7602455da983ec0fd5309)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGedKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kI--48389aa23874aca7ee2d71d0bd55197df68991a1)
*   [Change DMM/IMM cronjob schedule](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTy%2FRZ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGedKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzkzMjA0NjQ3NzM2NTItQ2hhbmdlLURNTS1JTU0tY3JvbmpvYi1zY2hlZHVsZQY7CFQ6CXJhbmtpCQ%3D%3D--65c26e142915def78607db2f5dd3787a40c2e684)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGedKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--8116e9a7bd2acd704fff8e66401f5b5f83b0a4b2)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058039532-How-to-pass-multiple-parameters-to-a-Model-API,"![](https://tickets.dominodatalab.com/system/photos/360352320752/image.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058039532-How-to-pass-multiple-parameters-to-a-Model-API/subscription.html ""Opens a sign-in dialog"")

This scenario can come up if you have a lot of parameters (say 20+ predictors) that you want to pass to your [Model API](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/model-apis/) and don't want to explicitly list those out to your Model API function. Here's how you can set this up:

Sample model code:

import pandas as pd
 
def predict(multiparams):
    input\_df = pd.DataFrame.from\_dict(multiparams, orient='index')
    '''
    code to parse input dataframe and utilize the parameter values
    '''  
    return input\_df.to\_json()

In the above sample code, `multiparams` is a python dict that can essentially hold all/any number of parameters, be passed to the Model API via JSON (in the below form) and converted to a Pandas DataFrame using the `from_dict` method for further use.

[Deploy the above code as a Model API](https://docs.dominodatalab.com/en/4.2/user_guide/e2265c/configure-a-model-api-for-deployment/) and test it in the tester block on the published Model API page by

**(a) passing just 2 params**

{
  ""data"": {
    ""multiparams"": {
      ""first"": 100,
      ""second"": 200
    }
  }
}

response received:

![multiple_params1.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10070296909204)

**(b) passing 3 params**

{
  ""data"": {
    ""multiparams"": {
      ""first"": 100,
      ""second"": 200,
      ""third"": 300
    }
  }
}

response received:

[![multiple_params2.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10070312369428)](https://mail.google.com/mail/u/0?ui=2&ik=a17c503f4a&attid=0.2&permmsgid=msg-a:r-6901137143753894187&th=176919072078602a&view=fimg&sz=s0-l75-ft&attbid=ANGjdJ_IDymAwTQ_r6ZPqOCgB-BstGuYcIsgQVeyuxXMqDOYcNVaZN16YLX5fdvQYWaNkr3RO5cXSf_7A8To1-kRIEXp96bXHEZ_Ir-3B0sRkkChScV4eNjFQVtRCcE&disp=emb&realattid=ii_kj1xzzdj1)

### Recently viewed articles

*   [Increase the request timeout when using jupyter-server-proxy](https://tickets.dominodatalab.com/hc/en-us/articles/360058494311-Increase-the-request-timeout-when-using-jupyter-server-proxy)
*   [How do models use environment variables?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496991-How-do-models-use-environment-variables)
*   [How can I programmatically tell if my code is running in a model or not?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497211-How-can-I-programmatically-tell-if-my-code-is-running-in-a-model-or-not)
*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/articles/360061119051-Model-Deployment-Configuration)
*   [Exporting Model Image](https://tickets.dominodatalab.com/hc/en-us/articles/360061119111-Exporting-Model-Image)

### Related articles

*   [Enabling multi threading in Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSznBsDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOysIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzQ0MTEzOTQ2NjcyODQtRW5hYmxpbmctbXVsdGktdGhyZWFkaW5nLWluLU1vZGVsLUFQSXMGOwhUOglyYW5raQY%3D--5848d8136e58e0a7241bceedabcf2ed7b3b21bc7)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOysIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQc%3D--0e2d378942e3215d4770b61c3c19d5a9d3b6eb92)
*   [Model permissions change for Domino version 5.0 - 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSQAc9jBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOysIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzgxMjUyNTYxNDI5OTYtTW9kZWwtcGVybWlzc2lvbnMtY2hhbmdlLWZvci1Eb21pbm8tdmVyc2lvbi01LTAtNS0yBjsIVDoJcmFua2kI--db1761ddf46ad7d459d2ffc693c068f09a9d067c)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOysIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCQ%3D%3D--e1cf91597884236d03d7731ffb403d8a99aad980)
*   [Model Deployment Configuration](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEuqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOysIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTA1MS1Nb2RlbC1EZXBsb3ltZW50LUNvbmZpZ3VyYXRpb24GOwhUOglyYW5raQo%3D--6bd680edbe00f87b42a3b2799706ecc1d1a5de1b)"
https://tickets.dominodatalab.com/hc/en-us/articles/115000149063-Deploying-an-H2O-model-as-an-API-endpoint,"If you have developed a model in H2O, you can deploy that model as a web service using Domino’s [API endpoints](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/model-apis/). This help article will guide you through the steps of exporting your H2O model and publishing that model as an API endpoint in Domino using Python or R.

### **Export the H2O model**

You can export your H2O model in 3 different ways depending on how you're using H2O.

**For H2O Flow**, you will use the `exportModel` command. For example, if the name of your model is `gbm_airlines_test` and you want to save it to a particular folder calling it `airlines_model`, use the following command:

exportModel ""gbm\_airlines\_test"", ""/path/to/my\_models/airlines\_model"", overwrite: false

You can also use the user interface to export your model:![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/115000330643/ExportModelUI.png)

**For R**, use the `h2o.saveModelcommand`. For example, if your model object in R is airline\_model, save the model object with the following command:

h2o.saveModel(object=airline\_model,path\=getwd(), force\=TRUE)

Similarly, **for Python**, use the `h2o.save_model` command:

h2o.save\_model(model\=airline\_model, path=""/path/to/my\_model/airlines\_model"", force\=True)

  
**For all of the above**, after exporting, upload the model file to your Domino project.

### **Create a wrapper**

To create an API endpoint in Domino, you need to create an R or Python file that holds the function that you want to expose as an API endpoint. In this file, you will load the model and write a function to designate the input and output for the API endpoint.  

Here is an example in R:

\# Remove old H2O packages and install the latest H2O R package
if (""package:h2o"" %in% search()) { detach(""package:h2o"", unload=TRUE) }
if (""h2o"" %in% rownames(installed.packages())) { remove.packages(""h2o"") }
install.packages(""h2o"", type=""source"", repos=(c(""http://h2o-release.s3.amazonaws.com/h2o/rel-turnbull/2/R"")))

library(h2o)
localH2O <-  h2o.init(nthreads = -1)  # Start an H2O cluster with nthreads = num cores on your machine
model\_object <- h2o.loadModel(""airlines\_model"")  #Load up your saved model

# Define a function that feeds inputs to your model to return a prediction
score <- function(Year, 
                  Month, 
                  DayofMonth, 
                  DayOfWeek, 
                  CRSDepTime, 
                  CRSArrTime, 
                  UniqueCarrier, 
                  FlightNum, 
                  CRSElapsedTime, 
                  Origin, 
                  Dest) {
    new\_data<- data.frame(Year=Year, 
                          Month=Month, 
                          DayofMonth=DayofMonth, 
                          DayOfWeek=DayOfWeek, 
                          CRSDepTime=CRSDepTime,
                          CRSArrTime=CRSArrTime, 
                          UniqueCarrier=UniqueCarrier, 
                          FlightNum=FlightNum, 
                          CRSElapsedTime=CRSElapsedTime, 
                          Origin=Origin, 
                          Dest=Dest, ststringsAsFactors = F)
  predictions <- predict(model\_object, as.h2o(new\_data))
  return(as.character(as.data.frame(predictions$pred)$predict))

Here is an example in Python:

import h2o
h2o.init(nthreads = -1)  # Start an H2O cluster with nthreads = num cores on your machine
airlines\_model = h2o.load\_model(""airlines\_model"")

def score(Year, Month, DayofMonth, DayOfWeek, CRSDepTime, CRSArrTime, UniqueCarrier, FlightNum, CRSElapsedTime, Origin, Dest):
    new\_data = {'Year':Year, 
                'Month':Month, 
                'DayofMonth':DayofMonth, 
                'DayOfWeek':DayOfWeek, 
                'CRSDepTime':CRSDepTime,
                'CRSArrTime':CRSArrTime, 
                'UniqueCarrier':UniqueCarrier, 
                'FlightNum':FlightNum, 
                'CRSElapsedTime':CRSElapsedTime, 
                'Origin':Origin, 
                'Dest':Dest}
    h2oFrame = h2o.H2OFrame()
    new\_frame = h2oFrame.from\_python(new\_data)
    prediction = airlines\_model.predict(new\_frame)
    return prediction.as\_data\_frame()\['predict'\]\[0\]

WARNING: Make sure to have the correct version of H2O installed using the requirements.txt file. In our example, the model used version 3.10.1.2. Our requirements.txt file has one line in it to install the correct version of the H2O Python package:

http://h2o-release.s3.amazonaws.com/h2o/rel-turnbull/2/Python/h2o-3.10.1.2-py2.py3-none-any.whl

### **Publish the API endpoint**

1.  Navigate to the Publish page in Domino.
2.  Enter the file containing the code to invoke.
3.  Enter the function to invoke.
4.  Click Publish.
5.  Wait a 2-5 minutes for the API endpoint to start serving.

For more detailed instructions on how to publish an API endpoint, please see our [documentation on Model APIs](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/model-apis/)."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21346731691924-MLflow-Diagnostic-Code&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/21346731691924-MLflow-Diagnostic-Code/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRfKYR%2FEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQPXCxqEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzE5MjM5Mzc1ODIyNzQwLVdvcmtzcGFjZS1zdHVjay1pbi1QcmVwYXJpbmctd2l0aC1NdWx0aS1BdHRhY2gtZXJyb3ItZm9yLXZvbHVtZS1wdmMteHh4eHgGOwhUOglyYW5raQk%3D--8b60ae4214879a4715cbe7601f5eea9ea84d2a4e,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19239375822740-Workspace-stuck-in-Preparing-with-Multi-Attach-error-for-volume-pvc-xxxxx/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

 Domino 5.4.x or later

* * *

## **Issue:**

Restarting (through save & restart or stopping and starting a workspace) workspace results in the workspace attempting to start but is stuck on 'Preparing' until timeout. Reviewing the events.json from the workspace support bundle or the run that the workspace created has this message:

```
  Warning  FailedAttachVolume  3m32s  attachdetach-controller  Multi-Attach error for volume ""pvc-953a1ffa-xxxx-xxxx-xxxx-9129a9567689"" Volume is already exclusively attached to one node and can't be attached to another
```

The warning reports that the workspace PV is exclusively attached to one node and cannot be attached to another.

* * *

## **Root Cause:**

The workspace PV is currently attached to a node it's no longer using or does not exist. Due to race conditions between detaching and deleting volume operations, some workspace volumes never get detached from the nodes. This can be due to a node being recycled or after a Domino upgrade.

* * *

## **Resolution:**

Deleting the volumeattachment allows the workspace pod to be attached to a new node when the workspace is re-launched.

#### **Note: Please make sure to shut down the workspace before performing these steps, as the workspace may still fail to assign itself to a node after deleting the volumeattachment.**

The following steps will walk through how to delete it through kubectl.

1\. Find the volumeattachment that is associated with workspace PV. This can be found in events.json or through a kubectl describe pod of the run:

```
# kubectl get volumeattachment | grep pvc-953a1ffa-xxxx-xxxx-xxxx-9129a9567689csi-d0329b8e1b6510626ce31c4be79632a43c0cb5b6ad16da9c0377a42ff715b8fb   ebs.csi.aws.com   pvc-953a1ffa-xxxx-xxxx-xxxx-9129a9567689   ip-xx-xx4-xx-xx.ec2.internal    true       22h
```

2\. Confirm the node that the volumeattachment is associated with does not exist or that no workloads are using the PV:

```
# kubectl get no | grep ip-xx-xx4-xx-xx.ec2.internalip-xx-xx4-xx-xx.ec2.internal    Ready    worker              28h      v1.24.9# kubectl describe no ip-xx-xx4-xx-xx.ec2.internal....
```

3\. Delete the volumeattachment found in the first step:

```
# kubectl delete volumeattachment csi-d0329b8e1b6510626ce31c4be79632a43c0cb5b6ad16da9c0377a42ff715b8fb
```

4\. Describe the PV that was associated with volumeattachment to find the PVC associated with it:

% kubectl describe pv `pvc-953a1ffa-xxxx-xxxx-xxxx-9129a9567689` -n domino-compute   
Name: `pvc-953a1ffa-xxxx-xxxx-xxxx-9129a9567689`  
Labels: <none>  
Annotations: pv.kubernetes.io/provisioned-by: ebs.csi.aws.com  
volume.kubernetes.io/provisioner-deletion-secret-name:   
volume.kubernetes.io/provisioner-deletion-secret-namespace:   
Finalizers: \[kubernetes.io/pv-protection external-attacher/ebs-csi-aws-com\]  
StorageClass: dominodisk  
Status: Bound  
Claim: domino-compute/workspace-64ff48e260af5535065af769 <---------  
Reclaim Policy: Delete  
Access Modes: RWO  
VolumeMode: Filesystem  
Capacity: 10Gi  
Node Affinity:   
Required Terms:   
Term 0: topology.ebs.csi.aws.com/zone in \[xxxxxxx}\]  
Message:   
Source:  
Type: CSI (a Container Storage Interface (CSI) volume source)  
Driver: ebs.csi.aws.com  
FSType: ext4  
VolumeHandle: vol-xxxxxxxxxxx  
ReadOnly: false  
VolumeAttributes: storage.kubernetes.io/csiProvisionerIdentity=1xxxxxxxxxxxxx-ebs.csi.aws.com  
Events: <none>

5\. Describe the PVC to confirm that it is not mounted to anything:

```
% kubectl describe pvc workspace-64ff48e260af5535065af769 -n domino-computeName:          workspace-64ff48e260af5535065af769Namespace:     domino-computeStorageClass:  dominodiskStatus:        BoundVolume:        pvc-953a1ffa-xxxx-xxxx-xxxx-9129a9567689Labels:        dominodatalab.com/projectId=64xxx160af553xxxafxxxx               dominodatalab.com/startingUserId=64xxxf78aaxxxx0f4355e15               dominodatalab.com/type=Workspace               dominodatalab.com/workspaceId=64ff48e260af5535065af769Annotations:   pv.kubernetes.io/bind-completed: yes               pv.kubernetes.io/bound-by-controller: yes               pv.kubernetes.io/migrated-to: ebs.csi.aws.com               volume.beta.kubernetes.io/storage-provisioner: kubernetes.io/aws-ebs               volume.kubernetes.io/selected-node: ip-xx-xx-xxx-xxx.ec2.internalFinalizers:    [kubernetes.io/pvc-protection]Capacity:      25GiAccess Modes:  RWOVolumeMode:    FilesystemMounted By:    <none> <---------Events:        <none>
```

6\. Start the workspace again, and it should start and get past the 'Preparing' stage.

* * *

## **Notes/Information:**

If you are uncomfortable with performing these operations, please contact Domino Support for further assistance.

### **References/Internal Records:**

*   ZD-81365

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Can I upgrade Python in my Environment?](https://tickets.dominodatalab.com/hc/en-us/articles/19423030523668-Can-I-upgrade-Python-in-my-Environment)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/articles/21350281774356-404-200-or-401-200-MLflowException-on-API-request-to-endpoint-failure)
*   [Deploying an H2O model as an API endpoint](https://tickets.dominodatalab.com/hc/en-us/articles/115000149063-Deploying-an-H2O-model-as-an-API-endpoint)
*   [How to pass multiple parameters to a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/360058039532-How-to-pass-multiple-parameters-to-a-Model-API)

### Related articles

*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfKYR%2FEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kG--b056cd6b7fa0867290db86c313af6fbbacd0488f)
*   [Error: Failed with exit code 127 and ""No such file or directory""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQhATDHDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfKYR%2FEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzE0MDQ5NjQzNDA1NTg4LUVycm9yLUZhaWxlZC13aXRoLWV4aXQtY29kZS0xMjctYW5kLU5vLXN1Y2gtZmlsZS1vci1kaXJlY3RvcnkGOwhUOglyYW5raQc%3D--6980d01977a55c3b1e2f362423afcf5f1560a76b)
*   [Setting Up a JDBC or ODBC Connection from Domino (Including Informatica Connections)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIucKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfKYR%2FEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ3L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDA5MS1TZXR0aW5nLVVwLWEtSkRCQy1vci1PREJDLUNvbm5lY3Rpb24tZnJvbS1Eb21pbm8tSW5jbHVkaW5nLUluZm9ybWF0aWNhLUNvbm5lY3Rpb25zBjsIVDoJcmFua2kI--c04da29de00d1b6b09f57ddc8e6ebca08b713560)
*   [My Workspace is not added to a Node. Some Nodes are 'NotReady'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgFOoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfKYR%2FEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTQ4NTg2MDA1OTYtTXktV29ya3NwYWNlLWlzLW5vdC1hZGRlZC10by1hLU5vZGUtU29tZS1Ob2Rlcy1hcmUtTm90UmVhZHkGOwhUOglyYW5raQk%3D--b78240a8e743d9ddf35ce0e30863ccd395426b08)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BkzMCCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRfKYR%2FEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk5MDUwNTk4ODg3ODgtSW4tcHJvamVjdHMtb3duZWQtYnktb3Jncy1yZXJ1bi1qb2JzLWZhaWwtaWYtam9icy1hY2Nlc3MtZGF0YXNldHMGOwhUOglyYW5raQo%3D--aa5fd8b52398761502afc6bb31c1086221873262)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21346731691924-MLflow-Diagnostic-Code,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQft2C5CToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzEwNjkxNzk2MjEzNTI0LURvd25sb2FkaW5nLUZvbGRlcnMtZnJvbS10aGUtRG9taW5vLVVJBjsIVDoJcmFua2kJ--a2a9e60c9182c4736494263bc2584f8e1ffd7acf,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10691796213524-Downloading-Folders-from-the-Domino-UI/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

You have folders in your Project files that you would like to download, but when you check the box, the download button remains greyed out.

* * *

## **Root Cause:**

Downloading entire folders is controlled via a central configuration setting: `com.cerebro.domino.frontend.allowFolderDownloads`

If you don't have the ability to download folders, it's likely this setting is set to ""false"" or is not configured.

Enabling this setting will change the behavior of downloads from the Files page: Individual files will still download as usual, but selecting folders, multiple files, or a combination of both will return your download in a zipped folder.

* * *

## **Resolution:**

The central configuration setting `com.cerebro.domino.frontend.allowFolderDownloads` can be added/set to ""true"" in the Domino Admin UI. Note - this is only accessible by Domino Admins. Reach out to your Domino Administrators to inquire about enabling this setting!

To add this setting if it does not exist:

1.  On the Admin home page, navigate to Advanced > Central Config.
2.  Click ""Add Record""
3.  Add a record for `com.cerebro.domino.frontend.allowFolderDownloads` and set it to ""true"":![allowFolderDownloads.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10691663847188)
4.  Click ""Create"" to save this new setting.
5.  Changes will not take effect until services are restarted. Scroll to the top of the Central Configuration page; under the Configuration Management page title, the system shows the following message: “Changes here do not take effect until services are restarted. Click here to restart services.” Click the link to restart services.![restartServices.JPG](https://tickets.dominodatalab.com/hc/article_attachments/10691751022996)

* * *

## **Notes/Information:**

Please note, adding this central config setting introduces a bug into downloading files from older commits. If you select an older commit from the dropdown and attempt to download files/folders from that specific commit, the latest version of your files will be returned. This does not effect downloads of individual files, only multiple file downloads/folder downloads.

This bug will be addressed in Domino 5.4.0, please keep an eye on our [Release Notes](https://docs.dominodatalab.com/release_notes/) for further updates!

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Model monitoring: Feature request to un-register ground truth](https://tickets.dominodatalab.com/hc/en-us/articles/24842527911316-Model-monitoring-Feature-request-to-un-register-ground-truth)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)
*   [Delete mlflow experiments from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [Workspace stuck in 'Preparing' with Multi-Attach error for volume ""pvc-xxxxx""](https://tickets.dominodatalab.com/hc/en-us/articles/19239375822740-Workspace-stuck-in-Preparing-with-Multi-Attach-error-for-volume-pvc-xxxxx)

### Related articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQft2C5CToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kG--2011e9af057ece581099128a9fa14a209de4f21c)
*   [CLI: How to download project files into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXcGaXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQft2C5CToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzEwNTQ1ODYzMzY2NTQ4LUNMSS1Ib3ctdG8tZG93bmxvYWQtcHJvamVjdC1maWxlcy1pbnRvLXlvdXItbG9jYWwtbWFjaGluZS12aWEtdGhlLURvbWluby1DTEkGOwhUOglyYW5raQc%3D--40ddf95d112157389e522cc071ff5c1915556b08)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTskzMyDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQft2C5CToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzEzNDA5NzUzMjMwNDg0LUluc3RhbGxpbmctUHl0aG9uLTMtMTEtaW4tYS1Eb21pbm8tQ29tcHV0ZS1FbnZpcm9ubWVudAY7CFQ6CXJhbmtpCA%3D%3D--2624642e55213f98a6d2bc247766b20cf8b0a8c9)
*   [Add ArcGIS for Jupyterlab](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJThBPJeBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQft2C5CToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzcwMDQ4NTcwOTg2NDQtQWRkLUFyY0dJUy1mb3ItSnVweXRlcmxhYgY7CFQ6CXJhbmtpCQ%3D%3D--26b46f8c4cdccf68ed55d91363ad9d9c80886826)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQft2C5CToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpCg%3D%3D--99af1a3a80ec49e391c1e730d05b83567caa6908)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRCDiQBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSkgwJ3EzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI5NDYzOTI3MjQtVW5hYmxlLXRvLWFjY2Vzcy1zY2hlZHVsZWQtam9icy1oYXJkd2FyZS10aWVyLW5vdC1mb3VuZAY7CFQ6CXJhbmtpCg%3D%3D--663bc4822f80f00077cb7a0741a40c2f3258de7b,"If you go to your scheduled runs dashboard and receive the following or similar error,

Hardware tier large-test-tier not found.

It's likely that the hardware tier you scheduled your run with has been archived by an administrator.  The only way to recover is to have the admin recreate the hardware tier.

This issue only exists in v3.6 of Domino."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21401864217620-Un-register-then-re-register-your-model-when-making-changes-to-Monitoring-Config-JSON,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15630669664788-How-to-create-a-test-Model-API-using-the-sample-model-py-file,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16901842714644-Delete-mlflow-experiments-from-the-Domino-UI&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/16901842714644-Delete-mlflow-experiments-from-the-Domino-UI/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSvNHoGBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAVERfDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzc3MjQ0MDE0NzEyNTItSS1uZWVkLXRvLWRlbGV0ZS1vbGQtam9icy1mcm9tLXRoZS1xdWV1ZS1vci1vbGQtcnVucwY7CFQ6CXJhbmtpCQ%3D%3D--b9747d04b5f6d6f3a29806347e56a543e345f77c,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7724401471252-I-need-to-delete-old-jobs-from-the-queue-or-old-runs/subscription.html ""Opens a sign-in dialog"")

#### Problem:

I have Jobs/Runs/Models I need to shutdown. Can I do this as Batch-job?

I want to stop all runs over 1d/1day/1week, how can I do this quickly when I have hundred's of runs?

I need to stop all tasks from my Project X?

It's time-consuming to delete from the UI, can I run a shell script?

#### Resolution:

Each run/job/app/Model will have several labels. This includes starting users/owner/Project etc.

Using kubectl to collect the various deployments/jobs/runs you can run a 'delete' command against the parent controller (i.e. if you delete a pod, it's likely to be restarted by the controller, which can be deployment or service or job).

Attachment is a bash script, which will show you the basic way to find using Projects ID and can be modified to actually delete the result but use at your own risk and beware you might delete some runs that may be vital to somebody! If you are not certain how to use this or the consequences please contact Domino Support!

The AGE can be used to find pods by 'seconds', i.e. 86400=1 Day

#### Applies to:

Domino 4.X

Domino 5.X

### Recently viewed articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)
*   [Model APIs: Repeated ""400 Bad Request"" exceptions in Instance Logs when ""Show health checks"" is checked](https://tickets.dominodatalab.com/hc/en-us/articles/16285091672084-Model-APIs-Repeated-400-Bad-Request-exceptions-in-Instance-Logs-when-Show-health-checks-is-checked)
*   [Conda Virtual Environments in Compute Environments](https://tickets.dominodatalab.com/hc/en-us/articles/11035914891156-Conda-Virtual-Environments-in-Compute-Environments)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)

### Related articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSvNHoGBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--dc37bd4ef16e4de2d92b9c4691888c181a552c2c)
*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTHIm8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSvNHoGBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUwNDc1NzItU2NoZWR1bGluZy1SdW5zLWFuZC1Kb2JzLXVzaW5nLUNyb24tRXhwcmVzc2lvbgY7CFQ6CXJhbmtpBw%3D%3D--31acd532dc6fe52532a3a6c89d1fa6ee6f3c9f6b)
*   [Long Running Workspace: Notification](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRZFKQDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSvNHoGBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQyMDk5NDAtTG9uZy1SdW5uaW5nLVdvcmtzcGFjZS1Ob3RpZmljYXRpb24GOwhUOglyYW5raQg%3D--7a9d665ecfb9e06e49f2218b1d9aec8f380b4b5c)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSvNHoGBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQk%3D--741a2456e882ae170f5b8da7bec29df8522036cc)
*   [Error When Accessing Projects via the CLI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAQfYNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSvNHoGBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjEzMTk3Mi1FcnJvci1XaGVuLUFjY2Vzc2luZy1Qcm9qZWN0cy12aWEtdGhlLUNMSQY7CFQ6CXJhbmtpCg%3D%3D--92d15243ee1797f0617bb8fbc7cc1a3c71ba389e)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16901842714644-Delete-mlflow-experiments-from-the-Domino-UI,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/6200474459284-Sending-emails-in-python-using-smtplib,"## The following will be covered in this article :

*   #### setup a secure connection using smtps or starttls
    
*   #### use smtplib to send plain-text email
    
*   #### use the email package to define mime objects for sending emails formatted in html
    

## Setting up a local smtp debug server

To test the code you could use the available python smtpd binary, bind it to port 1025 since the messages won't cross over our localhost, otherwise, we'd use ports 587 or 2525 and 465 depending upon how the message is encrypted. All the messages submitted to port 1025 would be outputted to stdout as a byte stream.

```
python -m smtpd -c DebuggingServer -n localhost:1025
```

## Starting a secure smtp connection

Note: It isn't necessary to secure your messages when using a local debugging server

As mentioned above, there are 2 ways to secure your messages, using smtps and starttls

*   Start an SMTP connection that is secured from the beginning using `SMTP_SSL()`
*   Start an unsecured SMTP connection that can then be encrypted using `.starttls()`

We'll be employing python's smtplib package to secure our messages using the above 2 methods.

We'll also use the ssl package to load the default trusted ca bundles of our system/environment, this'll be achieved by create\_default\_context() method.

Below are the code examples of both the methods mentioned above, we'll be using the gmails smtp server in our examples hereon.

```
#using smtps to secure the connection from the outsetimport smtplib, ssl

port = 465  # For SSL
password = input(""Input password and press enter: "")

# Create a secure SSL context, loads system's default trusted CAs
context = ssl.create_default_context()

with smtplib.SMTP_SSL(""smtp.gmail.com"", port, context=context) as server:
    server.login(""my@gmail.com"", password)
```

```
#using starttls to secure the connection from a point onwardsimport smtplib, ssl

smtp_server = ""smtp.gmail.com""
port = 587  # For starttls
sender_email = ""my@gmail.com"" # Enter your address
password = input(""Input password and press enter: "")

# Create a secure SSL context, loads system's default trusted CAs
context = ssl.create_default_context()

# Try block 
try:
    server = smtplib.SMTP(smtp_server,port)
    server.ehlo() # Can be omitted, called implicitly by the method if required
    server.starttls(context=context) # Secure the connection
    server.ehlo() # Can be omitted, called implicitly by the method if required
    server.login(sender_email, password)
    # TODO: Send email here
except Exception as e:
    # Print any error messages to stdout
    print(e)
finally:
    server.quit() 
```

## Let's start with sending a plain text email

We'll employ server.sendmail to send our emails, I'll be using the as server directive in my examples below 

Define the email addresses and the message body at the beginning of your script rather than defining them inside the method, such as

```
sender_email = ""my@gmail.com"" # Enter your address
receiver_email = ""your@gmail.com"" # Enter receiver address
message = """"""\
Subject: Hi there

Your email body goes here (please note: 2 newlines follow the subject)""""""
```

Example to send a plain text email secured using smtps 

```
import smtplib, ssl

port = 465  # For SSL
smtp_server = ""smtp.gmail.com""
sender_email = ""my@gmail.com""  # Enter your address
receiver_email = ""your@gmail.com""  # Enter receiver address
password = input(""Input password and press enter: "")
message = """"""\
Subject: Hi there

Message body after 2 new lines.""""""

context = ssl.create_default_context()
with smtplib.SMTP_SSL(smtp_server, port, context=context) as server:
    server.login(sender_email, password)
    server.sendmail(sender_email, receiver_email, message)
```

Example to send a plain text email secured using starttls 

```
import smtplib, ssl

port = 587  # For starttls
smtp_server = ""smtp.gmail.com""
sender_email = ""my@gmail.com"" # Enter your address
receiver_email = ""your@gmail.com"" # Enter receiver address
password = input(""Input password and press enter:"")
message = """"""\
Subject: Hi there

Message body after 2 new lines.""""""

context = ssl.create_default_context()
with smtplib.SMTP(smtp_server, port) as server:
    server.ehlo()  # Can be omitted, called implicitly by the method if required
    server.starttls(context=context)
    server.ehlo()  # Can be omitted, called implicitly by the method if required
    server.login(sender_email, password)
    server.sendmail(sender_email, receiver_email, message)
```

## Sending emails structured with html content or having packages

What is MIME ? Just like how a byte stream is structured into IP packets and ethernet frames conforming to the different layers of the internet, MIME is an encapsulation used at the application level, it is basically an extension of SMTP. We'll be using MIME multipart email to achieve formatting emails combining HTML and plain ascii text. This would be handled by the python email.mime module.

Since we are combining both HTML and ascii text in our MIME data structures, and since as per the design, the email client will render the last MIME part first, we'd add HTML after the plain text.

Example to send a mail distributed using MIME

```
import smtplib, ssl
from email.mime.text import MIMEText # this object contains the html and ascii content
from email.mime.multipart import MIMEMultipart # this is where we combine the two 

sender_email = ""my@gmail.com"" # Enter your address
receiver_email = ""your@gmail.com"" # Enter receiver address
password = input(""Input password and press enter: "")

message = MIMEMultipart(""alternative"")
message[""Subject""] = ""multipart test""
message[""From""] = sender_email
message[""To""] = receiver_email

# Create the plain-text and HTML version of your message
text = """"""\
Hi,
How are you?
html = """"""\
<html>
  <body>
    <p>Hi,<br>
       How are you?<br>    </p>
  </body>
</html>
""""""

# Convert these into MIMEText objects
text1 = MIMEText(text, ""plain"")
html1 = MIMEText(html, ""html"")

# Add the objects to MIMEMultipart object
# The email client render the last part first, hence we add html part last
message.attach(text1)
message.attach(text2)

# Create secure connection with server and send email
context = ssl.create_default_context()
with smtplib.SMTP_SSL(""smtp.gmail.com"", 465, context=context) as server:
    server.login(sender_email, password)
    server.sendmail(
        sender_email, receiver_email, message.as_string()
    )
```

Certain unknowns that we'd need to define in the py script :- 

(Per below, I'm assuming that the SMTP server for the deployment is AWS SES, please amend as per your deployments SMTP host)

*   smtp host : value is the server name on the smtp settings page; smtp settings page can be reached via ses service page
*   smtp username and Passwd : these values need to be created from the smtp settings page via the function/button ""Create My SMTP Credentials""
*   Please note that these values should be available from Domino central config, if not, they must be populated as central config key value pairs. For more information regarding your deployment's central config, please reach out to the internal Domino admin."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4533055047572-Scheduling-Runs-and-Jobs-using-Cron-Expression,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4533055047572-Scheduling-Runs-and-Jobs-using-Cron-Expression/subscription.html ""Opens a sign-in dialog"")

Cron Expression is set to,

|     |     |     |     |     |     |     |
| --- | --- | --- | --- | --- | --- | --- |
| Seconds | Minutes | Hours | Day Of Month | Month | Day Of Week | Year |
| 0   | 0   | 0   | ?   | \*  | \*  |

The documentation we can use used for the Quartz cronTrigger format can be found here:

[http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/tutorials/tutorial-lesson-06.html#TutorialLesson6-ExampleCronExpressions](http://www.quartz-scheduler.org/documentation/2.4.0-SNAPSHOT/tutorials/tutorial-lesson-06.html#TutorialLesson6-ExampleCronExpressions)

and we use this page to construct the expressions needed:

[https://www.freeformatter.com/cron-expression-generator-quartz.html](https://www.freeformatter.com/cron-expression-generator-quartz.html)

It is very good and will let you select the options you want and generate an expression from it, or put in an expression and show you what schedule it represents.

1) Every 2 minutes starting at 0 minutes past midnight: `0 */2 * ? * *`

2) Every weekday, every 4 hours starting at midnight: `0 0 */4 ? * MON-FRI *`

3) First Monday every month at midnight: `0 0 0 ? * 2#1 *`

4) On the 2nd, 3rd, 4th, and 5th Monday of every month:

This one is a little trickier as Quartz CronTriggers doesn't support multiple 'Nth Monday of the month' triggers so you'll actually need to set up 4 different schedules using:

`0 0 0 ? * 2#2 *`  
`0 0 0 ? * 2#3 *`  
`0 0 0 ? * 2#4 *`  
`0 0 0 ? * 2#5 *`

If there isn't a 5th Monday in the current month the last one will not trigger until the next month that has 5 Mondays.

### Recently viewed articles

*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/articles/6200474459284-Sending-emails-in-python-using-smtplib)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/articles/7724401471252-I-need-to-delete-old-jobs-from-the-queue-or-old-runs)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [Members of organization-owned projects get PERMISSION\_DENIED error when trying to log experiments](https://tickets.dominodatalab.com/hc/en-us/articles/19500273118356-Members-of-organization-owned-projects-get-PERMISSION-DENIED-error-when-trying-to-log-experiments)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTHIm8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--c15f726f1b8639d46ad0885b268db9f5ca165d37)
*   [Can a collaborator change the schedule of another project collaborator?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSgHvAPBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTHIm8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzQ0NjY0OTk1NTk1NzItQ2FuLWEtY29sbGFib3JhdG9yLWNoYW5nZS10aGUtc2NoZWR1bGUtb2YtYW5vdGhlci1wcm9qZWN0LWNvbGxhYm9yYXRvcgY7CFQ6CXJhbmtpBw%3D%3D--eea3648879f92b7f0d1e1e292f3bd1782bec9e24)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTHIm8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCA%3D%3D--ce12b440aa03887c886c8127369bca3855f2f880)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTHIm8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQk%3D--d14b986d7638a220ae1de0cb24c37534062085d1)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTHIm8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--20751a20ee577d3e0e2559084af348f92829e0b1)"
https://tickets.dominodatalab.com/hc/en-us/articles/4401964892692-How-can-I-write-a-custom-schedule,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4401964892692-How-can-I-write-a-custom-schedule/subscription.html ""Opens a sign-in dialog"")

Custom schedules in Domino are created using the quartz cron scheduler.  A full tutorial for the quartz scheduler is located [here](https://tickets.dominodatalab.com/hc/en-us/articles/Example%20Cron%20Expressions%20CronTrigger%20Example%201%20-%20an%20expression%20to%20create%20a%20trigger%20that%20simply%20fires%20every%205%20minutes%20%20%E2%80%9C0%200/5%20*%20*%20*%20?%E2%80%9D%20%20CronTrigger%20Example%202%20-%20an%20expression%20to%20create%20a%20trigger%20that%20fires%20every%205%20minutes,%20at%2010%20seconds%20after%20the%20minute%20(i.e.%2010:00:10%20am,%2010:05:10%20am,%20etc.).%20%20%E2%80%9C10%200/5%20*%20*%20*%20?%E2%80%9D%20%20CronTrigger%20Example%203%20-%20an%20expression%20to%20create%20a%20trigger%20that%20fires%20at%2010:30,%2011:30,%2012:30,%20and%2013:30,%20on%20every%20Wednesday%20and%20Friday.%20%20%E2%80%9C0%2030%2010-13%20?%20*%20WED,FRI%E2%80%9D%20%20CronTrigger%20Example%204%20-%20an%20expression%20to%20create%20a%20trigger%20that%20fires%20every%20half%20hour%20between%20the%20hours%20of%208%20am%20and%2010%20am%20on%20the%205th%20and%2020th%20of%20every%20month.%20Note%20that%20the%20trigger%20will%20NOT%20fire%20at%2010:00%20am,%20just%20at%208:00,%208:30,%209:00%20and%209:30%20%20%E2%80%9C0%200/30%208-9%205,20%20*%20?%E2%80%9D%20%20Note%20that%20some%20scheduling%20requirements%20are%20too%20complicated%20to%20express%20with%20a%20single%20trigger%20-%20such%20as%20%E2%80%9Cevery%205%20minutes%20between%209:00%20am%20and%2010:00%20am,%20and%20every%2020%20minutes%20between%201:00%20pm%20and%2010:00%20pm%E2%80%9D.%20The%20solution%20in%20this%20scenario%20is%20to%20simply%20create%20two%20triggers,%20and%20register%20both%20of%20them%20to%20run%20the%20same%20job.).  As in the screenshot below, you will need to write the full cron expression in the custom field.

![Screen_Shot_2021-06-08_at_8.46.42_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4401958923540)

### General Form

The general form of the quartz-cron expression is...

1.  Seconds
2.  Minutes
3.  Hours 
4.  Day-of-Month
5.  Month
6.  Day-of-Week
7.  Year (optional field)

This equates to an expression in the following format...

```
* * * * * * *
| | | | | | | 
| | | | | | +-- Year              (range: 1970-2099)
| | | | | +---- Day of the Week   (range: 1-7 or SUN-SAT)
| | | | +------ Month of the Year (range: 0-11 or JAN-DEC)
| | | +-------- Day of the Month  (range: 1-31)
| | +---------- Hour              (range: 0-23)
| +------------ Minute            (range: 0-59)
+-------------- Second            (range: 0-59)
```

Note: The year field is optional as it's infrequently used and can be left off entirely.

### Special character meanings

```
Field Name      Mandatory   Allowed Values      Allowed Special Characters
Seconds         YES         0-59                , - * /
Minutes         YES         0-59                , - * /
Hours           YES         0-23                , - * /
Day of month    YES         1-31                , - * ? / L W   //allowed '?'
Month           YES         1-12 or JAN-DEC     , - * /
Day of week     YES         1-7 or SUN-SAT      , - * ? / L #   //allowed '?'
Year            NO          empty, 1970-2099    , - * /
```

`*`all values

*   used to select all values within a field. For example, “” in the minute field means \*“every minute”.

**`?`**no specific value

*   useful when you need to specify something in one of the two fields in which the character is allowed, but not the other. For example, if I want my trigger to fire on a particular day of the month (say, the 10th), but don’t care what day of the week that happens to be, I would put “10” in the day-of-month field, and “?” in the day-of-week field.  Note: it is mandatory to use a ? in one of the two fields, Day of Month or Day of Week 

**`/`** increment

*   used to specify increments. For example, “0/15” in the seconds field means “the seconds 0, 15, 30, and 45”. And “5/15” in the seconds field means “the seconds 5, 20, 35, and 50”. You can also specify ‘/’ after the ‘’ character - in this case ‘’ is equivalent to having ‘0’ before the ‘/’. ‘1/3’ in the day-of-month field means “fire every 3 days starting on the first day of the month”.

**`L`**Last

*   The ‘L’ character is allowed for the day-of-month and day-of-week fields. This character is short-hand for “last”, but it has different meaning in each of the two fields. For example, the value “L” in the day-of-month field means “the last day of the month” - day 31 for January, day 28 for February on non-leap years. If used in the day-of-week field by itself, it simply means “7” or “SAT”. But if used in the day-of-week field after another value, it means “the last xxx day of the month” - for example “6L” or “FRIL” both mean “the last friday of the month”. You can also specify an offset from the last day of the month, such as “L-3” which would mean the third-to-last day of the calendar month. _When using the ‘L’ option, it is important not to specify lists, or ranges of values, as you’ll get confusing/unexpected results._

**`W`**Nearest Weekday

*   The ‘W’ is used to specify the weekday (Monday-Friday) nearest the given day. As an example, if you were to specify “15W” as the value for the day-of-month field, the meaning is: “the nearest weekday to the 15th of the month”.

**`#`**Nth weekday of the month

*   The ‘#’ is used to specify “the nth” XXX weekday of the month. For example, the value of “6#3” or “FRI#3” in the day-of-week field means “the third Friday of the month”.

### Example Cron Expressions

CronTrigger Example 1 - an expression to create a trigger that simply fires every 5 minutes

“0 0/5 \* \* \* ?”

CronTrigger Example 2 - an expression to create a trigger that fires every 5 minutes, at 10 seconds after the minute (i.e. 10:00:10 am, 10:05:10 am, etc.).

“10 0/5 \* \* \* ?”

CronTrigger Example 3 - an expression to create a trigger that fires at 10:30, 11:30, 12:30, and 13:30, on every Wednesday and Friday.

“0 30 10-13 ? \* WED,FRI”

CronTrigger Example 4 - an expression to create a trigger that fires every half hour between the hours of 8 am and 10 am on the 5th and 20th of every month. Note that the trigger will NOT fire at 10:00 am, just at 8:00, 8:30, 9:00 and 9:30

“0 0/30 8-9 5,20 \* ?”

Note that some scheduling requirements are too complicated to express with a single trigger - such as “every 5 minutes between 9:00 am and 10:00 am, and every 20 minutes between 1:00 pm and 10:00 pm”. The solution in this scenario is to simply create two triggers, and register both of them to run the same job.

### Recently viewed articles

*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/articles/4533055047572-Scheduling-Runs-and-Jobs-using-Cron-Expression)
*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/articles/6200474459284-Sending-emails-in-python-using-smtplib)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/articles/7724401471252-I-need-to-delete-old-jobs-from-the-queue-or-old-runs)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)

### Related articles

*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTHIm8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTCjekABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUwNDc1NzItU2NoZWR1bGluZy1SdW5zLWFuZC1Kb2JzLXVzaW5nLUNyb24tRXhwcmVzc2lvbgY7CFQ6CXJhbmtpBg%3D%3D--db1994635a85769a176cc2860780a858f8d4bf54)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTCjekABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpBw%3D%3D--5d1ee8bbcff2db73c16d0861c1bc1034ecc98a88)
*   [Your run was unexpectedly killed by the system...](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS1tNwABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTCjekABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MDE3NDkzNDE1ODgtWW91ci1ydW4td2FzLXVuZXhwZWN0ZWRseS1raWxsZWQtYnktdGhlLXN5c3RlbQY7CFQ6CXJhbmtpCA%3D%3D--f30ccaf52142338cba27466f7c87a925f1797d82)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTCjekABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCQ%3D%3D--a72422110a638c54e8e6524b6801faca23d937f5)
*   [Recovering deleted project files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTu2YJXBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTCjekABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzgwNzI0Mzg4Njk1MjQtUmVjb3ZlcmluZy1kZWxldGVkLXByb2plY3QtZmlsZXMGOwhUOglyYW5raQo%3D--b1b99b2d9db35e918ce59fe8b30edf02f6d1d4cb)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496891-Is-there-a-way-to-run-a-script-after-every-run,"_""Is there a way in Domino to set up some kind of script to run after a run? For instance, I might want to convert a Jupyter notebook into another format or upload information to an external data storage source.""_

This type of functionality can be found in the post run script for a compute environment. The following support article provides some more information about how to implement this in your workflow.

[https://docs.dominodatalab.com/en/latest/user\_guide/5dd2c1/edit-environment-definition/](https://docs.dominodatalab.com/en/latest/user_guide/5dd2c1/edit-environment-definition/)"
https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/23509125171604-Jobs/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/23509125171604-Jobs/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots/subscription.html ""Opens a sign-in dialog"")

This a proof of concept created based on a need to get notified of completed runs or the like. This is a multi-user approach, meaning, that just like email lists, users can choose which notifications they would like to receive, but receive them through an IM application, in this case, [Telegram](https://telegram.org/). You will find references to all sources at the end of this post.

## What is Telegram

Much like WhatsApp and Facebook Messenger, Telegram is ""a cloud-based mobile and desktop messaging app with a focus on security and speed."" Their focus on, specifically, security and privacy are very high.

## Getting Started

First, you will need to set up Telegram on your device. Telegram supports pretty much everything but initially, you need to use your phone. Go to your App Store and get Telegram and setup your account. Secondly, install Telegram on your Desktop and make sure it is up and running before continuing. Once you are sure the Desktop version is up and running we need to create our Telegram bot using **BotFather**.

## Creating our bot

The bot is where our notifications will be sent and anyone can join the bot channel until you restrict it. We will, for the purpose of this guide, not restrict it but feel free to add this step later. To create the bot, click on this link and open it in Telegram, [https://telegram.me/botfather](https://telegram.me/botfather). Once you are talking to the BotFather perform the following steps:

1.  Send a “/newbot” message, then follow the instructions to set up a name and a username
2.  Your bot is now ready, be sure to save a backup of your API token, and correct, this API token is your `bot_token`

## Getting your Chat id

*   On Telegram, search your bot (by the username you just created) or by going to , press the “Start” button or send a “/start” message
*   Open a new tab with your browser, enter  , replace <yourtoken> with your API token, press enter and you should see something like this:

{""ok"":true,""result"":\[{""update\_id"":955696534,
""message"":{""message\_id"":4,""from"":{""id"":74xxxxxx,""is\_bot"":false,""first\_name"":""Petter"",""language\_code"":""en""},""chat"":{""id"":745094505,""first\_name"":""Petter"",""type"":""private""},""date"":1565178445,""text"":""/help"",""entities
\[{""offset"":0,""length"":5,""type"":""bot\_command""}\]}},{""update\_id"":955696535,
""message"":{""message\_id"":5,""from"":{""id"":74xxxxxx,""is\_bot"":false,""first\_name"":""Petter"",""language\_code"":""en""},""chat"":{""id"":745094505,""first\_name"":""Petter"",""type"":""private""},""date"":1565178479,""text"":""/token"",""entities"":\[{""offset"":0,""length"":6,""type"":""bot\_command""}\]}}\]}

*   Look for “id”, for instance, 745xxxxxx above is my chat id. Look for yours and put it as your bot\_chatID in the code below.

import requests
def telegram\_bot\_sendtext(bot\_message):
 bot\_token = ''
bot\_chatID = ''
send\_text = 'https://api.telegram.org/bot' + bot\_token + '/sendMessage?chat\_id=' + bot\_chatID + '&parse\_mode=Markdown&text=' + bot\_message
 response = requests.get(send\_text)
 return response.json()
 test = telegram\_bot\_sendtext(""My Test Text"")
print(test)

## References

Telegram API: [https://core.telegram.org/](https://core.telegram.org/)

Medium Post: [https://medium.com/@ManHay\_Hong/how-to-create-a-telegram-bot-and-send-messages-with-python-4cf314d9fa3e](https://medium.com/@ManHay_Hong/how-to-create-a-telegram-bot-and-send-messages-with-python-4cf314d9fa3e)

### Recently viewed articles

*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)
*   [Is there a way to run a script after every run?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496891-Is-there-a-way-to-run-a-script-after-every-run)

### Related articles

*   [202 Insuffucient\_Scope Error message for GitLab despite following guides](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTVme4CBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFy6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2Mzk1MDQ3ODgtMjAyLUluc3VmZnVjaWVudC1TY29wZS1FcnJvci1tZXNzYWdlLWZvci1HaXRMYWItZGVzcGl0ZS1mb2xsb3dpbmctZ3VpZGVzBjsIVDoJcmFua2kG--4e38a83966c0948e2dcba9d04afecbc58693705c)
*   [Domino Datasets: Feature request to be able to mount datasets to Model APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ66c4DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCFy6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzE1NjM2NDk4MjA2ODY4LURvbWluby1EYXRhc2V0cy1GZWF0dXJlLXJlcXVlc3QtdG8tYmUtYWJsZS10by1tb3VudC1kYXRhc2V0cy10by1Nb2RlbC1BUElzBjsIVDoJcmFua2kH--9c0ed39fd1491ed555906da949c24d198cece09d)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23509125171604-Jobs&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API/subscription.html ""Opens a sign-in dialog"")

Sometimes you may want to programmatically retrieve information about a particular run (job or workspace) in one of your Domino projects. Maybe you've seen our [Domino API docs](https://dominodatalab.github.io/api-docs/) and noticed that you can get a list of all runs in one of your projects using the [get-a-list-of-runs API](https://dominodatalab.github.io/api-docs/#/reference/project-runs-and-files/get-a-list-of-runs), but if you have a lot of runs you might not want to deal with that whole list. The good news is, it's easy to specify a particular run and get only the info for that run. All you have to do is add the RUN-ID to the end of the URL in your API call, like this:

!curl --include \\
   --header ""X-Domino-Api-Key: $DOMINO\_USER\_API\_KEY"" \\
  'https://<YOUR-DOMINO-DOMAIN>/v1/projects/<USER-ID>/<PROJECT-ID>/runs/<RUN-ID>'

The run ID usually starts with a 5 and contains a series of letters numbers, like this:

5d548364c9e77c111794729b

and it can be found in the URL when viewing a job or workspace in the UI (see screenshot below for a visual of where to find this).

[![Screen Shot 2019-08-14 at 3.08.23 PM.png](https://us.v-cdn.net/6031622/uploads/795/XGP5UFGE58YZ.png)](https://us.v-cdn.net/6031622/uploads/795/XGP5UFGE58YZ.png)

### Recently viewed articles

*   [Evolving Domino Notifications Through Instant Messaging Bots](https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)

### Related articles

*   [Calling Domino REST API from Python/Jupyter](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAufKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCemKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDczMS1DYWxsaW5nLURvbWluby1SRVNULUFQSS1mcm9tLVB5dGhvbi1KdXB5dGVyBjsIVDoJcmFua2kG--8d8f1c1509c2d5b782d9a428673ef0ae4fc0e913)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS2pKwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCemKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4Mjc4ODg2NjAtSG93LXRvLUZpbmQtVXNlci1JbmZvcm1hdGlvbi1pbi1hLURvbWluby1SdW4tUG9kBjsIVDoJcmFua2kH--d33ad71d0c23a129f9ffe82e768496427d1df01f)
*   [User Activity Report](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCyzIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCemKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTEzMi1Vc2VyLUFjdGl2aXR5LVJlcG9ydAY7CFQ6CXJhbmtpCA%3D%3D--b752180f97d5d0fc1b068ab7c60793349fcf6efc)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCemKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCQ%3D%3D--dbbd26aaa2b268077be17602f402751956b1654a)
*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSvNHoGBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCemKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzc3MjQ0MDE0NzEyNTItSS1uZWVkLXRvLWRlbGV0ZS1vbGQtam9icy1mcm9tLXRoZS1xdWV1ZS1vci1vbGQtcnVucwY7CFQ6CXJhbmtpCg%3D%3D--cea0041c8571cf23063ebb3d899cd69da2e4abff)"
https://tickets.dominodatalab.com/hc/en-us/articles/115000498883-How-to-start-a-job-with-files-and-data-from-the-past,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/115000498883-How-to-start-a-job-with-files-and-data-from-the-past/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All

## **How To:**

If you want to start a job from the past using the files and data from that past period, all you have to do is select your run from the timestamp you want and then choose ""Re-Run with Original Version"".  This will allow you to run the same code and project files with any environment configurations you have changed since the original run.

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17203350737940)

If you want to restart a job from the past using current project files, select your desired job by its timestamp and then choose ""Re-Run with Current Version.""  For jobs, this feature will allow you to run a job with the exact same input arguments while using the current versions of your files.

If your project is associated with a git repository, both ""Re-Run with Original Version"" and ""Re-Run with Current Version"" will pull the latest files from the configured branch. If git repository is associated with a specific commit, both ""Re-Run with Original Version"" and ""Re-Run with Latest Version"" will pull from that commit 

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How can I get run info for a specific run with the Domino Get-a-list-of-runs API?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API)
*   [Evolving Domino Notifications Through Instant Messaging Bots](https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [Working with Git repositories from the workspace command line](https://tickets.dominodatalab.com/hc/en-us/articles/4407753451796-Working-with-Git-repositories-from-the-workspace-command-line)

### Related articles

*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTHT3kBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMNakMYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzNzY3NDk4NDQtQ29uZmlndXJpbmctU01UUC1Ob3RpZmljYXRpb25zLWluLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--0207f3ac4ba307b4ca1fe1a39c50e4d10acb590a)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMNakMYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQc%3D--cd668bb178ae45f4cb1bcb15af34b13c2d8aa464)
*   ['pip install' throws SSL Certificate Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTiv6UIBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMNakMYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2MzQyMTAzMjA5MTYtLXBpcC1pbnN0YWxsLXRocm93cy1TU0wtQ2VydGlmaWNhdGUtRXJyb3IGOwhUOglyYW5raQg%3D--d4c18621e81c05b83a76cb2978704f4e568825d8)
*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTcE6mjBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMNakMYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzYyMDA0NzQ0NTkyODQtU2VuZGluZy1lbWFpbHMtaW4tcHl0aG9uLXVzaW5nLXNtdHBsaWIGOwhUOglyYW5raQk%3D--4725bc5783bcbc0938045853eef7737f6c0c1ce9)
*   [What is the path in the URL for my exported Model API's Image?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSE8mFPBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMNakMYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU4Mzg1MDM4Mzg4NjgtV2hhdC1pcy10aGUtcGF0aC1pbi10aGUtVVJMLWZvci1teS1leHBvcnRlZC1Nb2RlbC1BUEktcy1JbWFnZQY7CFQ6CXJhbmtpCg%3D%3D--86cf3050943a09758a525e93f1ee5228dc27ebd4)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058493011-Call-Python-and-R-in-one-scheduled-Run,"How to use a Schedule Run to execute both a Python and an R program at the same time. This is a pretty straightforward process that we will demonstrate here. Start by opening a new Workspace in a project of your choosing. We will create three files.

## a.py

\# Python File A
#!/usr/bin/python
import b
import subprocess
subprocess.call (\[""/usr/bin/Rscript"", ""--vanilla"", ""/mnt/a.R""\]) 

## b.py

#!/usr/bin/python
print(""hello from Python"")

## a.R

print(""Hello from R!"")

Make sure all these files exist within the same directory and then execute **a.py** and see the magic unfold."
https://tickets.dominodatalab.com/hc/en-us/articles/204186949-Speeding-up-your-calculations,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How do I find the Hardware Tier of the last job?](https://tickets.dominodatalab.com/hc/en-us/articles/20296206610836-How-do-I-find-the-Hardware-Tier-of-the-last-job)
*   [Resolving memory leaks in jobs](https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs)
*   [Number of jobs that can run simultaneously](https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously)
*   [How to view the resource usage of workspaces, jobs, and apps](https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails)
*   [Sending emails in python using smtplib](https://tickets.dominodatalab.com/hc/en-us/articles/6200474459284-Sending-emails-in-python-using-smtplib)
*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/articles/4533055047572-Scheduling-Runs-and-Jobs-using-Cron-Expression)
*   [How can I write a custom schedule?](https://tickets.dominodatalab.com/hc/en-us/articles/4401964892692-How-can-I-write-a-custom-schedule)
*   [Is there a way to run a script after every run?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496891-Is-there-a-way-to-run-a-script-after-every-run)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23509125171604-Jobs)

## Speeding up your calculations

![](https://tickets.dominodatalab.com/system/photos/380952543/Screen_Shot_2017-10-30_at_10.31.11_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/204186949-Speeding-up-your-calculations/subscription.html ""Opens a sign-in dialog"")

**_Note: Check out our blogpost [about simple parallelization](http://blog.dominodatalab.com/simple-parallelization/) using Python, R, Matlab & Octave, or [this webinar on parallelizing algorithms](https://blog.dominodatalab.com/video-exploring-limits-parallelized-machine-learning/) on Amazon's massive X1 instances._**

Broadly, there are two ways to speed up your calculations with Domino.

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/115000455623/HardwareTier.png)

1.  In your project's Settings, you can upgrade your hardware. Each run will use the amount cores and RAM you specify according the hardware tier you choose.
    
2.  You can start as many concurrent runs as you want, thereby ""manually"" parallelizing your work. Each run you start gets its own virtualized machine (container), so you can take advantage of dozens of machines at once.

_Note: The more powerful the hardware, the more expensive your run becomes. Specifically, more powerful hardware costs more per minute. Be conscious of how long each run takes and how many concurrent runs you have going if budget is a consideration._  

By the way, if you need to work more interactively, you can spin up an **IPython/Jupyter Notebook** session, or an ""R Notebook"" session. They will use your current hardware tier, just like running a script would do.

![](https://tickets.dominodatalab.com/hc/article_attachments/115018034703)

Pro tip: many of our machine have multiple cores, and there are tons of great libraries in R and Python to take advantage of multiple cores for faster computation.

We wrote [a blog post about parallelizing your code](http://blog.dominodatalab.com/simple-parallelization/), and here are a few more specific resources:

*   **Python**

*   [Joblib](https://pythonhosted.org/joblib/parallel.html)
*   [IPython Notebook Clusters](https://github.com/jakevdp/2014_fall_ASTR599/blob/master/notebooks/20_IPythonParallel.ipynb)
*   Scikitlearn supports native parallelism with its n\_jobs parameters for a number of routines, including [random forests](http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html), [grid search](http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html), [kmeans](http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html), [cross validation](http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html), and more.

*   **R**

*   [Parallel package](https://stat.ethz.ch/R-manual/R-devel/library/parallel/doc/parallel.pdf)
*   [Foreach package](http://cran.r-project.org/web/packages/foreach/vignettes/foreach.pdf)
*   The [Caret package](http://cran.r-project.org/web/packages/caret/index.html) has native multicore support
*   Examples of [parallelized random forests](https://www.kaggle.com/forums/t/1207/parallelized-random-forests)

### Recently viewed articles

*   [Call Python and R in one scheduled Run](https://tickets.dominodatalab.com/hc/en-us/articles/360058493011-Call-Python-and-R-in-one-scheduled-Run)
*   [How to start a job with files and data from the past](https://tickets.dominodatalab.com/hc/en-us/articles/115000498883-How-to-start-a-job-with-files-and-data-from-the-past)
*   [How can I get run info for a specific run with the Domino Get-a-list-of-runs API?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API)
*   [Evolving Domino Notifications Through Instant Messaging Bots](https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)

### Related articles

*   [My Workspace has died. Did R/RStudio run out of memory?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSSHO8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGkERaUrDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIwNTgxMzgxMzItTXktV29ya3NwYWNlLWhhcy1kaWVkLURpZC1SLVJTdHVkaW8tcnVuLW91dC1vZi1tZW1vcnkGOwhUOglyYW5raQY%3D--99d57436952616bafdda6fd7dde65e60205e352f)
*   [I need FUSE in my Domino Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR5hgI%2BBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGkERaUrDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzU3NjM4ODg0Nzg0ODQtSS1uZWVkLUZVU0UtaW4tbXktRG9taW5vLUVudmlyb25tZW50BjsIVDoJcmFua2kH--3ef218431a91b068676fd99c029f4b81f097a74c)
*   [Adding a new Git Repository to your project using Personal Access Token (PAT)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJReP%2FEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGkERaUrDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYzODg5NDA0MzYtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1QZXJzb25hbC1BY2Nlc3MtVG9rZW4tUEFUBjsIVDoJcmFua2kI--45c6b423e0f1a60b6921f8faf1a93147afde24c8)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGkERaUrDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzMzA2NzQzMjQtRXhlY3V0aW9ucy1TdHVjay1pbi1RdWV1ZWQtaW4tU2luZ2xlLUhhcmR3YXJlLVRpZXIGOwhUOglyYW5raQk%3D--957e2f873a05e0bcc61e7b68636c4a24bbd86b01)
*   [Basics Of Moving Data Over A Network](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCLSiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGkERaUrDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzg5Mi1CYXNpY3MtT2YtTW92aW5nLURhdGEtT3Zlci1BLU5ldHdvcmsGOwhUOglyYW5raQo%3D--28f3767a425c011f82b7223d9f9d21cb0beb490e)"
https://tickets.dominodatalab.com/hc/en-us/articles/205032035-Tuning-and-experimentation,"## Tuning and experimentation

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/205032035-Tuning-and-experimentation/subscription.html ""Opens a sign-in dialog"")

Domino provides a great way to iterate on your models, because it lets you run many experiments in parallel on powerful hardware and automatically track results. Two key features to use when iterating on your models are: **Run Comparisons** and **Diagnostic Statistics**.

## Run Comparison

Run comparison makes it really easy to figure out how two experiments differed in their inputs, and how those changes affected the results that were generated.

Comparing two runs is easy: simply select the two runs you’re interested in and hit the “Compare” button:

![Screenshot 2023-10-02 at 4.40.24 PM.png](https://tickets.dominodatalab.com/hc/article_attachments/19700061463956)

This will generate a report, summarizing the differences between those two runs:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202294469/567E66A2-85F0-45A3-AD83-12C800021993.png)

There are three sections: (1) a summary of the differences (2) the differences between the results that were generated by the two runs and (3) the differences between the input code and data.  

Remember that Domino snapshots the state of all the files in the project before the run starts (the “inputs”) and snapshots the project after the run completes (the “outputs”).  Any files that were added or modified between the input and outputs are considered “results.”  

To quickly navigate between the sections, you can use these links, located immediately below the run comparison table at the top:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202331755/BAEAE57E-2B44-49BE-9508-5C98101D5BCB.png) 

Domino will do its best to show you differences as sensibly as it can.  For text, we will highlight the lines in the file that are different:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202294489/28752072-CD89-4F8E-80C6-B289D0A3AB75.png)

For files that we know how to render, we will render those files side-by-side so you can easily visually compare them:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202331765/5AAA101D-B07E-49D5-B5CA-821D6FEB1F7F.png)

You can also overlay the images on top of each other for easier inspection.

And for files Domino doesn’t know how to render, we’ll give you some simple metadata and links to download the exact version so you can look at them on your own computer:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202294499/2868CD73-C03D-487F-B419-62C32BD323F0.png)

## Diagnostic Statistics 

Understanding the performance of a particular model can be quite complex, and often it’s useful to see key metrics at a glance — metrics like area under curve, F1 score, log-likelihood — across all your runs, to allow you to quickly pre-prune which experiments are worth investigating further.

Domino’s Diagnostic Statistics functionality allows you to do just that!

To enable this, write a file **dominostats.json** to the root of your project directory that has the diagnostic statistics you’re interested in showing.  Here is an example in R:

diagnostics = list(""R^2"" = 0.99, ""p-value"" = 0.05, ""sse"" = 10.49)
library(jsonlite)
fileConn<-file(""dominostats.json"")
writeLines(toJSON(diagnostics), fileConn)
close(fileConn)

And in Python:

import json
with open('dominostats.json', 'wb') as f:
    f.write(json.dumps({""R^2"": 0.99, ""p-value"": 0.05, ""sse"": 10.49}))

If Domino detects this file, it will parse the values out and show them on the Runs Dashboard:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202294509/29169F2E-07AB-4157-ABF5-96CDA4A5EA67.png)

Also, run comparisons will show these statistics rendered in a table as well to make it even easier to compare their performance:

 ![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/202331775/2B748216-F439-42FA-9BED-F25735C71CED.png)

### Recently viewed articles

*   [Speeding up your calculations](https://tickets.dominodatalab.com/hc/en-us/articles/204186949-Speeding-up-your-calculations)
*   [Call Python and R in one scheduled Run](https://tickets.dominodatalab.com/hc/en-us/articles/360058493011-Call-Python-and-R-in-one-scheduled-Run)
*   [How to start a job with files and data from the past](https://tickets.dominodatalab.com/hc/en-us/articles/115000498883-How-to-start-a-job-with-files-and-data-from-the-past)
*   [How can I get run info for a specific run with the Domino Get-a-list-of-runs API?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API)
*   [Evolving Domino Notifications Through Instant Messaging Bots](https://tickets.dominodatalab.com/hc/en-us/articles/360058042972-Evolving-Domino-Notifications-Through-Instant-Messaging-Bots)

### Related articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGkEY4o4DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kG--5ae139bbfe16bf614dd99cde4d5506e5c5ce0193)
*   [Rebuild environment failed with additional R packages failed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHqH7pEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGkEY4o4DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzE5Njk0NTUwMDA5NzQ4LVJlYnVpbGQtZW52aXJvbm1lbnQtZmFpbGVkLXdpdGgtYWRkaXRpb25hbC1SLXBhY2thZ2VzLWZhaWxlZAY7CFQ6CXJhbmtpBw%3D%3D--d7a4b990ce7061c8b8c901f9083b1091e90c7f12)
*   [Error when try to use ""domino get"" CLI to sync an existing project in Domino onto local machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR28MpODToYcmVmZXJyZXJfYXJ0aWNsZV9pZGkEY4o4DDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfy9oYy9lbi11cy9hcnRpY2xlcy8xNDYzMjA2MzM2NjgwNC1FcnJvci13aGVuLXRyeS10by11c2UtZG9taW5vLWdldC1DTEktdG8tc3luYy1hbi1leGlzdGluZy1wcm9qZWN0LWluLURvbWluby1vbnRvLWxvY2FsLW1hY2hpbmUGOwhUOglyYW5raQg%3D--711a3be244c5b489503f9392ba2d82c33d259dbb)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19891428949652-Resolving-memory-leaks-in-jobs&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19891428949652-Resolving-memory-leaks-in-jobs/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/4403909070484,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4403909070484-Why-does-my-computer-use-less-memory-than-Domino-to-do-the-same-job/subscription.html ""Opens a sign-in dialog"")

Occasionally we are asked why some tasks take longer or use more memory on Domino than when users run the code on their local machine. In our experience this usually comes down to which packages are installed. When testing the same version of a package on two different machines, they are not usually equivalent due to the different operating systems. In addition, processes that require copying data will almost always require more memory on Domino because Kubernetes doesn't allow the use of swap memory. This is expected behavior. 

If you are concerned about poor performance, you may want to reach out to your local admin just to make sure there aren't other issues at play. The next step would be to look at packages you are using and investigate bug statuses. For example, pandas, a popular package among data scientists, is a notorious memory leaker: [pandas memory leaks](https://medium.com/zendesk-engineering/hunting-for-memory-leaks-in-python-applications-6824d0518774). Here's another article with a better explanation of pandas memory leakage: [Investigating the pandas memory leaks](https://shekharsingh.com/blog/2019/03/26/analyzing-pandas-memory-leak-issue-with-fix.html). 

### Recently viewed articles

*   [Tuning and experimentation](https://tickets.dominodatalab.com/hc/en-us/articles/205032035-Tuning-and-experimentation)
*   [Speeding up your calculations](https://tickets.dominodatalab.com/hc/en-us/articles/204186949-Speeding-up-your-calculations)
*   [Call Python and R in one scheduled Run](https://tickets.dominodatalab.com/hc/en-us/articles/360058493011-Call-Python-and-R-in-one-scheduled-Run)
*   [How to start a job with files and data from the past](https://tickets.dominodatalab.com/hc/en-us/articles/115000498883-How-to-start-a-job-with-files-and-data-from-the-past)
*   [How can I get run info for a specific run with the Domino Get-a-list-of-runs API?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496551-How-can-I-get-run-info-for-a-specific-run-with-the-Domino-Get-a-list-of-runs-API)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOb10BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--e5e6803f1389c6dd8b1182f376bb9bd06b532880)
*   [Why does my workspace keep getting shut down?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT083YBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOb10BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzcxNzc2MjAtV2h5LWRvZXMtbXktd29ya3NwYWNlLWtlZXAtZ2V0dGluZy1zaHV0LWRvd24GOwhUOglyYW5raQc%3D--d276c8e221c97874b0385926916675cdf0659905)
*   [What's with this KubernetesClientException error message in my workspace logs?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQFYF0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOb10BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDgwNTIyNDQtV2hhdC1zLXdpdGgtdGhpcy1LdWJlcm5ldGVzQ2xpZW50RXhjZXB0aW9uLWVycm9yLW1lc3NhZ2UtaW4tbXktd29ya3NwYWNlLWxvZ3MGOwhUOglyYW5raQg%3D--968e63ff24c19f2c0ab034f222e43b512c902d54)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJclZtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOb10BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjUyNjg3MS1FcnJvci13aGVuLXN0YXJ0aW5nLXdvcmtzcGFjZS1Dcml0aWNhbC1lcnJvci1pbi1ydW4tZmlsZWNhY2hlLXBhdGgtZG9lcy1ub3QtZXhpc3QGOwhUOglyYW5raQk%3D--19c975195b706a676b9ae6aef5df556d721e83ab)
*   [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOdasDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSOb10BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4MDgwMjEwMTItSG93LXRvLURlbGV0ZS1hbi1FbXB0eS1Gb2xkZXItRnJvbS1hLURvbWluby1Qcm9qZWN0BjsIVDoJcmFua2kK--58be0a94971a1941cc1222408747db030e56eab0)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19891428949652-Resolving-memory-leaks-in-jobs,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15674051067412-Number-of-jobs-that-can-run-simultaneously&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGOXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjc3MS1Vc2luZy1TQVMtaW4tRG9taW5vLUdldHRpbmctU3RhcnRlZC1hbmQtQmVzdC1QcmFjdGljZXMGOwhUOglyYW5raQc%3D--1b5b1e1280937e3aea9ea5b1e803d86026115899,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [How to test a sample Spark application in your workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24571827575828-How-to-test-a-sample-Spark-application-in-your-workspace)
*   [How to update VSCode to a newer version in Domino 5.8 or higher](https://tickets.dominodatalab.com/hc/en-us/articles/21545524947092-How-to-update-VSCode-to-a-newer-version-in-Domino-5-8-or-higher)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Workaround for a running workspace that cannot be synchronised.](https://tickets.dominodatalab.com/hc/en-us/articles/19915726094484-Workaround-for-a-running-workspace-that-cannot-be-synchronised)
*   [Can I insert my JSON Configuration into JupyterLab in an easy way?](https://tickets.dominodatalab.com/hc/en-us/articles/19900361189268-Can-I-insert-my-JSON-Configuration-into-JupyterLab-in-an-easy-way)
*   [Use Gradio in a Jupyter workspace](https://tickets.dominodatalab.com/hc/en-us/articles/19172589711380-Use-Gradio-in-a-Jupyter-workspace)
*   [Unable to connect to data source from spark](https://tickets.dominodatalab.com/hc/en-us/articles/17544407586324-Unable-to-connect-to-data-source-from-spark)
*   [How to generate a Stata license file and apply it in an environment’s Dockerfile so that you can use Stata as a workspace](https://tickets.dominodatalab.com/hc/en-us/articles/16561394681108-How-to-generate-a-Stata-license-file-and-apply-it-in-an-environment-s-Dockerfile-so-that-you-can-use-Stata-as-a-workspace)
*   [Change workspace username to logged in Domino user.](https://tickets.dominodatalab.com/hc/en-us/articles/15594115859988-Change-workspace-username-to-logged-in-Domino-user)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/23508349380244-Workspaces)

![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058492771-Using-SAS-in-Domino-Getting-Started-and-Best-Practices/subscription.html ""Opens a sign-in dialog"")

[Many large and established companies use SAS](https://www.sas.com/en_us/customers.html#stories) as a part of their established research and analytics workflows. Using SAS for Containers you can bring your SAS projects and work into Domino to unify your data science teams and provide the benefits of the Domino platform to SAS users (or folks working in pretty much any language). Read on for best practices in using SAS + Domino.

1.  Identify any standards or regulations you need to comply with and ensure that your team gets a [SAS For Containers](https://support.sas.com/rnd/containers/index.html) tarball that is appropriate for your purposes.
2.  Identify any existing SAS work that needs to be brought into the Domino platform and put together a plan for copying these projects over (your Domino team can advise here, please don't hesitate to reach out).
3.  Create a SAS compute environment for your team and install your SAS tarball into it. Configure the environment with the SAS Studio pluggable workspace (another area where your Domino team can help).
4.  Have a set of users perform initial tests in the new SAS compute environment with some of their typical workflows. This is a good way to identify additional packages that may be needed or data source connections that may need to be configured, or resources that need to be scaled up (for example, if jobs are running slowly it may help to select a larger hardware tier on the project settings page).

Once your SAS compute environment is set up, you'll be able to select SAS notebooks as an option for interactive workspaces. You can either use Jupyter notebooks with a SAS kernel, or SAS Studio workspaces (shown below).

[![image.png](https://us.v-cdn.net/6031622/uploads/036/C9IT06KHZWQR.png)](https://us.v-cdn.net/6031622/uploads/036/C9IT06KHZWQR.png)

Check out our demo ([https://www.dominodatalab.com/resources/videos/sas-demo/](https://www.dominodatalab.com/resources/videos/sas-demo/)) and the resources below for more information.

Resources:

*   Domino and SAS Partnership: [https://www.sas.com/en\_us/partners/find-a-partner/alliance-partners/domino-data-lab.html](https://www.sas.com/en_us/partners/find-a-partner/alliance-partners/domino-data-lab.html)
*   SAS on Domino: [https://www.dominodatalab.com/resources/sas-for-containers-on-domino/](https://www.dominodatalab.com/resources/sas-for-containers-on-domino/)
*   SAS for Containers Technical Paper: [http://support.sas.com/resources/papers/understanding-containers-sas-9-4-container-deployment.pdf](http://support.sas.com/resources/papers/understanding-containers-sas-9-4-container-deployment.pdf)
*   As always, if you are working on setting up SAS on an existing Domino deployment, you can reach out to us for support via support@dominodatalab.com

Do you have further questions or suggestions for using SAS on Domino? Please let us know below!

### Recently viewed articles

*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGOXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--e69f068567c22e8b1c4159b38e7e551e2e3517f1)
*   [My SAS Workspace is notifying me it has insufficient space](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShDdwxBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGOXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ2MTIxOTE3ODkzMzItTXktU0FTLVdvcmtzcGFjZS1pcy1ub3RpZnlpbmctbWUtaXQtaGFzLWluc3VmZmljaWVudC1zcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--19d404808e6942fd70fe7266c682d3deb22f7db9)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGOXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kI--be1c90091c94b7be07cb0b454e5ea95916e19ae0)
*   [Switching Domino Users Roles](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSGZU80CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGOXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzkwMjA3NjMzNzUxMjQtU3dpdGNoaW5nLURvbWluby1Vc2Vycy1Sb2xlcwY7CFQ6CXJhbmtpCQ%3D%3D--9db2d7e43fc9b0053dc9ab2a1ca2f084531adbfb)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGOXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCg%3D%3D--355386cf6538ed4ae64c433d5bc7c014aacd7c3c)"
https://tickets.dominodatalab.com/hc/en-us/articles/15674051067412-Number-of-jobs-that-can-run-simultaneously/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgFOoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2BPmZBDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzQ0MTQ4NTg2MDA1OTYtTXktV29ya3NwYWNlLWlzLW5vdC1hZGRlZC10by1hLU5vZGUtU29tZS1Ob2Rlcy1hcmUtTm90UmVhZHkGOwhUOglyYW5raQg%3D--2337a737d502cfc83452e0c6b100b66ded5adb9f,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4414858600596-My-Workspace-is-not-added-to-a-Node-Some-Nodes-are-NotReady/subscription.html ""Opens a sign-in dialog"")

**_I am unable to start a Workspace. The Nodes or Auto-Scaler may have some messages. There are a number of Nodes in 'NotReady' state but I have a large number of Nodes too!_**

There is a possible state where the autoscaler/networking side cannot allocate an IP Address to your Nodes due to the nodepool running out of IP Addresses. Killing off Nodes is unlikely to help, as any 'new' Node will run into the same problem.

kubectl describe on the failing pods may include:

Node:                 <none>

and

Warning  FailedScheduling   <unknown>                default-scheduler   0/142 nodes are available: 128 Insufficient memory, 135 Insufficient cpu, 7 node(s) had taint {node.kubernetes.io/not-ready: }, that the pod didn't tolerate.

You must work with the Cloud provider or the operators to ensure the network CIDR address range is large enough to accommodate the entire number of Nodes and service IP Addresses. This varies according to each provider.

If you receive a message about podCidr, then you also may have allocated too large networks to the Nodes, which consumes the IP Address range as well.

networkPlugin cni failed to set up pod ""run-xxx-yyy-prod-compute"" network: no podCidr for node ip-a.b.c.d.ec2.internal

_Increase the cluster .yaml file's_`-- node-cidr-mask-size`

This actually decreases the amount of IP Addresses available for Nodes to allocate for services, but provides better utilisation of the larger subnet.

Further logs would be in the canal, calico-node and kube-flannel pods if they exist. Some cloud providers have different networking providers which may have different pods managing connectivity!

### Recently viewed articles

*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/articles/360058492771-Using-SAS-in-Domino-Getting-Started-and-Best-Practices)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)

### Related articles

*   [4.0 thru 4.6.1 Dispatcher restarts and connection problems (improper state transitions for workspaces/runs)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTnP5oDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgFOoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy80NDEzNTE5MjkyMzA4LTQtMC10aHJ1LTQtNi0xLURpc3BhdGNoZXItcmVzdGFydHMtYW5kLWNvbm5lY3Rpb24tcHJvYmxlbXMtaW1wcm9wZXItc3RhdGUtdHJhbnNpdGlvbnMtZm9yLXdvcmtzcGFjZXMtcnVucwY7CFQ6CXJhbmtpBg%3D%3D--6e5b370c4a414ae19c6b23a9bce6b9eca2968170)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgFOoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kH--213512fa9e525a4254677a955f61144f82315d2f)
*   [Slow build times, usually related to upgrades](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTWdArqBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgFOoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzc2MDIyNjc1NDMwNjAtU2xvdy1idWlsZC10aW1lcy11c3VhbGx5LXJlbGF0ZWQtdG8tdXBncmFkZXMGOwhUOglyYW5raQg%3D--63f50ff2dae9c4617095e01ffbf723963efd4f43)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgFOoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCQ%3D%3D--05dd4435604c4da1ee00a63017e6480540e7f582)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgFOoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--6584424e84ac2e7a673fd61861069d2b6e32e204)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15674051067412-Number-of-jobs-that-can-run-simultaneously,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NjY3MS1Jcy10aGVyZS1hbi1lYXN5LXdheS10by1idWxrLWFyY2hpdmUtcHJvamVjdHMtb3duZWQtYnktYS1zcGVjaWZpYy11c2VyBjsIVDoJcmFua2kH--55be4b8c6152e2ab8dffadba4fdd602f76e736f5,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058496671-Is-there-an-easy-way-to-bulk-archive-projects-owned-by-a-specific-user/subscription.html ""Opens a sign-in dialog"")

If you run into this scenario, please contact Domino Support as there are other options available. In addition, if it's important to you to have this process streamlined, please let us know! 

The best practice for looking up a user ID, finding all of the projects that they own, and then archiving those projects.

You can look up a user ID and list their projects using our Domino APIs for users and projects. In most cases these steps will require admin privileges.

Get user ID API:

Example of URL to include in Get user ID API call given a username:

https://**<YOUR-DOMINO-DOMAIN>**/v4/users?userName=poweruser

Get projects for user API:

Example of URL to include in Get projects for user API call:

[https://](https://api.dominodatalab.com/v4/projects?name=myProject&ownerId=507f191e810c19729de860ea)**<YOUR-DOMINO-DOMAIN>**[/v4/projects?name=myProject&ownerId=5xxxxxxxxxxxxxxxxxxxxxa](https://api.dominodatalab.com/v4/projects?name=myProject&ownerId=507f191e810c19729de860ea)

We don't currently offer an API for archiving projects, but admins or project owners can archive projects individually from the UI. If you need to archive a large number of projects, reach out to us at [support@dominodatalab.com](mailto:support@dominodatalab.com) and we may be able to do this for you.

### Recently viewed articles

*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)
*   [Unable to access scheduled jobs, hardware tier not found.](https://tickets.dominodatalab.com/hc/en-us/articles/4402946392724-Unable-to-access-scheduled-jobs-hardware-tier-not-found)
*   [My Workspace is not added to a Node. Some Nodes are 'NotReady'](https://tickets.dominodatalab.com/hc/en-us/articles/4414858600596-My-Workspace-is-not-added-to-a-Node-Some-Nodes-are-NotReady)
*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/articles/360058492771-Using-SAS-in-Domino-Getting-Started-and-Best-Practices)
*   [Jobs Dashboard displays Something Went Wrong](https://tickets.dominodatalab.com/hc/en-us/articles/4417891415444-Jobs-Dashboard-displays-Something-Went-Wrong)

### Related articles

*   [How to capture a HAR file from your Chrome web browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZlgwCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY4NDc2NTgzODgtSG93LXRvLWNhcHR1cmUtYS1IQVItZmlsZS1mcm9tLXlvdXItQ2hyb21lLXdlYi1icm93c2VyBjsIVDoJcmFua2kG--1e699c610d44c51dcf64aad9156b180e0970d400)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kH--6d14726d3dd64bd7b9e3bb7172fa6c49e6fb52e0)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kI--56e23d3e93eef89c55986e241170eda83cfcb399)
*   [Mongo Query: List of All Projects Owned by Deactivated Users and Completed timestamp of Runs in Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQNErsGBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhy9oYy9lbi11cy9hcnRpY2xlcy80NDI2OTU0ODM3Mzk2LU1vbmdvLVF1ZXJ5LUxpc3Qtb2YtQWxsLVByb2plY3RzLU93bmVkLWJ5LURlYWN0aXZhdGVkLVVzZXJzLWFuZC1Db21wbGV0ZWQtdGltZXN0YW1wLW9mLVJ1bnMtaW4tUHJvamVjdAY7CFQ6CXJhbmtpCQ%3D%3D--ef25e5e86ab88a172b87cfdcabb2c9f0603df762)
*   [Upload limit in apps hosted on Domino 4.x - 413 error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRgkIoBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJ%2BmKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NjYxOTYxMTYtVXBsb2FkLWxpbWl0LWluLWFwcHMtaG9zdGVkLW9uLURvbWluby00LXgtNDEzLWVycm9yBjsIVDoJcmFua2kK--0955151426697d872c5aa8beb02c8371a7c106e6)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHemKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NjYzMS1XaGF0LWRvZXMtQ1BVLXV0aWxpemF0aW9uLWdyZWF0ZXItdGhhbi0xMDAtaW5kaWNhdGUGOwhUOglyYW5raQg%3D--2c0778a19e609e79e86f46cff119974a7f018e96,"At times while executing runs you might observe CPU utilization in excess of 100%.

Domino measures CPU usage as a percentage of single core utilization. Therefore a machine with multiple cores can regularly utilize greater than 100% of a single processing core's maximum frequency.

For instance a m4.xlarge EC2 machine in AWS has 4 CPU cores and would show a maximum utilization of 400%.

* * *

If you have more questions please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQd%2BwwTDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQct7LDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoi9oYy9lbi11cy9hcnRpY2xlcy8xNDM3NTQ3MzMyMzI4NC1Nb2RlbC1BUElzLVR5cGVFcnJvci1idWlsZC1lcnJvci1yZXNwb25zZS1taXNzaW5nLTEtcmVxdWlyZWQtcG9zaXRpb25hbC1hcmd1bWVudC1tb2RlbC10aW1lLW1zLWVycm9yLXdoZW4tc2VuZGluZy1hLVBPU1QtcmVxdWVzdAY7CFQ6CXJhbmtpCQ%3D%3D--146525e9a8f8925f2b0c9abf0f15100b208616b1,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/14375473323284-Model-APIs-TypeError-build-error-response-missing-1-required-positional-argument-model-time-ms-error-when-sending-a-POST-request/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

The Model API works on the Tester tab. However, it doesn’t work when you hit the Model API with a POST request. It does not accept the POST request from the endpoint.

The Instance logs show errors indicating that there is a missing argument (`model_time_ms`) to the function `build_response_error()`:

```
ERROR in app: Exception on /model [POST]
```

```
else (harness_lib.build_error_response('""data"" or ""parameters"" must be supplied'), 400)TypeError: build_error_response() missing 1 required positional argument: 'model_time_ms'
```

* * *

## **Root Cause:**

The error indicates that the request body is not in the correct format.

* * *

## **Resolution:**

Change the format to the JSON document in the form either:

{  
  ""data"": {  
    ...  
  }  
}

or

{  
   ""parameters"": \[  
     ...  
   \]  
}

* * *

## **Notes/Information:**

For more about Model API's:

*   [Host Models as REST APIs](https://docs.dominodatalab.com/en/latest/user_guide/8dbc91/host-models-as-rest-apis/)
*   Model APIs section of [Domino University's Publishing in Domino](https://university.dominodatalab.com/page/domino-publishing-all-versions)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [What does CPU utilization greater than 100% indicate?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496631-What-does-CPU-utilization-greater-than-100-indicate)
*   [Is there an easy way to bulk archive projects owned by a specific user?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496671-Is-there-an-easy-way-to-bulk-archive-projects-owned-by-a-specific-user)
*   [How to view workspace resource usage and switch hardware tiers when hitting max CPU and memory limits](https://tickets.dominodatalab.com/hc/en-us/articles/14054708135060-How-to-view-workspace-resource-usage-and-switch-hardware-tiers-when-hitting-max-CPU-and-memory-limits)
*   [Unable to access scheduled jobs, hardware tier not found.](https://tickets.dominodatalab.com/hc/en-us/articles/4402946392724-Unable-to-access-scheduled-jobs-hardware-tier-not-found)
*   [My Workspace is not added to a Node. Some Nodes are 'NotReady'](https://tickets.dominodatalab.com/hc/en-us/articles/4414858600596-My-Workspace-is-not-added-to-a-Node-Some-Nodes-are-NotReady)

### Related articles

*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQd%2BwwTDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQY%3D--3e40e1f38d595a313bdd442140435ab68d4f7605)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQd%2BwwTDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQc%3D--582be262bb865056b0dd08002dce52bf81af194c)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQd%2BwwTDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQg%3D--24625b4ece6bf0d1987a019be55a183d8b2fbc88)
*   [Prometheus-adapter has OOMkilled failure](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTpmS9CCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQd%2BwwTDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzExMjc5MzgyNzM1MjUyLVByb21ldGhldXMtYWRhcHRlci1oYXMtT09Na2lsbGVkLWZhaWx1cmUGOwhUOglyYW5raQk%3D--23fc03633c851b51a8cd53e4de20f01775fdb161)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQd%2BwwTDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--946bbb2813a3d1359fc4f69d523f1eada67d8145)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14375473323284-Model-APIs-TypeError-build-error-response-missing-1-required-positional-argument-model-time-ms-error-when-sending-a-POST-request) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14069749960852-How-to-view-the-resource-usage-of-workspaces-jobs-and-apps,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/9616394950292-Obtaining-jobs-support-bundle-logs-on-Domino-version-4-x-to-5-x/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/6355197470868-How-to-exclude-attachments-from-the-Domino-run-notification-emails/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360061120071-Setting-Up-Your-Project-To-Ignore-Some-Files,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSWgVtvCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSoSa%2FHBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzkyNzQzNjk2MTE0MTItRXh0ZW5kaW5nLWFuLUxWLXdpdGhvdXQtbW92aW5nLXRoZS11bmRlcmx5aW5nLWRhdGEGOwhUOglyYW5raQY%3D--bd2022ce7009a3e2c668d8325b3e6902f94b3b87,"This article is adjunct to [https://tickets.dominodatalab.com/hc/en-us/articles/6555762877716](https://tickets.dominodatalab.com/hc/en-us/articles/6555762877716)

The former being more involved with additional steps.

Assume you have 2 PVs mapped to 2 diff VGs which are assigned an LV each:

sdb 8:16 0 8G 0 disk  
|-sdb1 8:17 0 2G 0 part  
\`-sdb2 8:18 0 6G 0 part

\[root@localhost ~\]# pvscan  
PV /dev/sdb1 VG vg1 lvm2 \[<2.00 GiB / <2.00 GiB free\]  
PV /dev/sdb2 VG vg2 lvm2 \[<6.00 GiB / <6.00 GiB free\]  
\[root@localhost ~\]# vgs -v  
VG Attr Ext #PV #LV #SN VSize VFree VG UUID VProfile  
vg1 wz--n- 4.00m 1 0 0 <2.00g <2.00g yDW2FC-UjZT-MpyG-Fo3r-PNZM-aFbU-ahZVmD  
vg2 wz--n- 4.00m 1 0 0 <6.00g <6.00g GH4JSm-56PK-jUop-SgSr-2hbt-qeds-yehVFW  
\[root@localhost ~\]# lvcreate -n lv1 -l 100%FREE /dev/vg1  
WARNING: ext4 signature detected on /dev/vg1/lv1 at offset 1080. Wipe it? \[y/n\]: y  
Wiping ext4 signature on /dev/vg1/lv1.  
Logical volume ""lv1"" created.  
\[root@localhost ~\]# lvcreate -n lv2 -l 100%FREE /dev/vg2  
Logical volume ""lv2"" created.  
\[root@localhost ~\]# lvscan -v  
ACTIVE '/dev/vg1/lv1' \[<2.00 GiB\] inherit  
ACTIVE '/dev/vg2/lv2' \[<6.00 GiB\] inherit

The scenario for this article would be that you one of the LV is almost fully consumed while the other is hardly used :- 

/dev/mapper/vg1-lv1 ext4 2.0G 1.7G 181M 91% /lv1  
/dev/mapper/vg2-lv2 ext4 5.8G 24M 5.5G 1% /lv2

The primary aim of this article is to achieve the resize without destroying the underlying abstractions, both of these LVs are formatted as ext4 which can be resized. If the filesystem used is something other that ext, like xfs, then you'd have to temporarily store the contents of the LV to another partition (logical or otherwise). 

Now we'd shrink lv2 and mount it again, steps to follow :-

umount /dev/mapper/vg2-lv2

e2fsck -f /dev/mapper/vg2-lv2

lvresize -r /dev/vg2/lv2 -L500M

e2fsck -f /dev/mapper/vg2-lv2

mount -t ext4 /dev/mapper/vg2-lv2 /lv2

\[root@localhost /\]# umount /dev/mapper/vg2-lv2  
\[root@localhost /\]# e2fsck -f /dev/mapper/vg2-lv2  
e2fsck 1.42.9 (28-Dec-2013)  
Pass 1: Checking inodes, blocks, and sizes  
Pass 2: Checking directory structure  
Pass 3: Checking directory connectivity  
Pass 4: Checking reference counts  
Pass 5: Checking group summary information  
/dev/mapper/vg2-lv2: 11/393216 files (0.0% non-contiguous), 63598/1571840 blocks  
\[root@localhost /\]# lvresize -r /dev/vg2/lv2 -L500M  
fsck from util-linux 2.23.2  
/dev/mapper/vg2-lv2: clean, 11/393216 files, 63598/1571840 blocks  
resize2fs 1.42.9 (28-Dec-2013)  
Resizing the filesystem on /dev/mapper/vg2-lv2 to 128000 (4k) blocks.  
The filesystem on /dev/mapper/vg2-lv2 is now 128000 blocks long.

Size of logical volume vg2/lv2 changed from <6.00 GiB (1535 extents) to 500.00 MiB (125 extents).  
Logical volume vg2/lv2 successfully resized.  
\[root@localhost /\]# e2fsck -f /dev/mapper/vg2-lv2  
e2fsck 1.42.9 (28-Dec-2013)  
Pass 1: Checking inodes, blocks, and sizes  
Pass 2: Checking directory structure  
Pass 3: Checking directory connectivity  
Pass 4: Checking reference counts  
Pass 5: Checking group summary information  
/dev/mapper/vg2-lv2: 11/32768 files (0.0% non-contiguous), 37137/128000 blocks  
\[root@localhost /\]# mount -t ext4 /dev/mapper/vg2-lv2 /lv2  
\[root@localhost /\]# df -ThP  
Filesystem Type Size Used Avail Use% Mounted on  
/dev/mapper/vg1-lv1 ext4 2.0G 1.7G 181M 91% /lv1  
/dev/mapper/vg2-lv2 ext4 364M 9.1M 320M 3% /lv2  
\[root@localhost /\]# lvs -v  
LV VG #Seg Attr LSize Maj Min KMaj KMin Pool Origin Data% Meta% Move Cpy%Sync Log Convert LV UUID LProfile  
lv1 vg1 1 -wi-ao---- <2.00g -1 -1 253 2 cVPdvl-Ca4o-s3XF-vV7e-zfKb-Yh0i-cOFlcz  
lv2 vg2 1 -wi-ao---- 500.00m -1 -1 253 3 JJ16DT-6w7p-ZUce-RqxC-8WUb-KVWA-jtVAUz

And as we can see below using pvs -v, the space has been released   
\[root@localhost /\]# pvs -v  
PV VG Fmt Attr PSize PFree DevSize PV UUID  
/dev/sdb1 vg1 lvm2 a-- <2.00g 0 <2.00g KvziZ8-1gdC-kew5-oDM1-bJVB-jy6V-tQl7Xq  
/dev/sdb2 vg2 lvm2 a-- <6.00g <5.51g 6.00g YMnwgX-mLh5-Gf9g-6uIP-JeHc-8mFC-PNRY4o

At this stage, if the PVs were part of the same VG we could have reclaimed the free space and mount it again but in our case we'd first merge the VGs and then perform the rest

vgchange -an /dev/vg1

vgmerge vg0 vg1

\[root@localhost /\]# umount /dev/mapper/vg2-lv2  
\[root@localhost /\]# vgchange -an /dev/vg2  
0 logical volume(s) in volume group ""vg2"" now active  
\[root@localhost /\]# vgmerge vg1 vg2  
Volume group ""vg2"" successfully merged into ""vg1""  
\[root@localhost /\]# vgs -v  
VG Attr Ext #PV #LV #SN VSize VFree VG UUID VProfile  
vg1 wz--n- 4.00m 2 2 0 7.99g <5.51g yDW2FC-UjZT-MpyG-Fo3r-PNZM-aFbU-ahZVmD

\[\[root@localhost /\]# pvscan  
PV /dev/sdb1 VG vg1 lvm2 \[<2.00 GiB / 0 free\]  
PV /dev/sdb2 VG vg1 lvm2 \[<6.00 GiB / <5.51 GiB free\]

Now we can swap the volumes, I tried moving sdb2 to sdb1 first but there weren't any extents available so moved sdb1 to sdb2 then sdb2 to sdb1 again, as per :- 

root@localhost /\]# pvmove -n lv2 /dev/sdb2 /dev/sdb1  
WARNING: No free extents on physical volume ""/dev/sdb1"".  
No specified PVs have space available.  
\[root@localhost /\]# pvmove -n lv1 /dev/sdb1 /dev/sdb2  
/dev/sdb1: Moved: 0.78%  
/dev/sdb1: Moved: 100.00%  
\[root@localhost /\]# pvmove -n lv2 /dev/sdb2 /dev/sdb1  
/dev/sdb2: Moved: 1.60%  
/dev/sdb2: Moved: 100.00%

The remaining steps are to basically split the VG and extend the LV :- 

\[root@localhost /\]# vgsplit vg1 vg2 /dev/sdb2  
New volume group ""vg2"" successfully split from ""vg1""

\[root@localhost /\]# lvresize -r -l 100%FREE /dev/mapper/vg1-lv1  
Size of logical volume vg1/lv1 changed from <2.00 GiB (511 extents) to 4.00 GiB (1024 extents).  
Logical volume vg1/lv1 successfully resized.  
resize2fs 1.42.9 (28-Dec-2013)  
Filesystem at /dev/mapper/vg1-lv1 is mounted on /lv1; on-line resizing required  
old\_desc\_blocks = 1, new\_desc\_blocks = 1  
The filesystem on /dev/mapper/vg1-lv1 is now 1048576 blocks long.

\[root@localhost /\]# lvchange -ay /dev/vg2/lv2  
\[root@localhost /\]# lvresize -r -l 100%FREE /dev/mapper/vg2-lv2  
fsck from util-linux 2.23.2  
/dev/mapper/vg2-lv2: 11/32768 files (0.0% non-contiguous), 37137/128000 blocks  
Size of logical volume vg2/lv2 changed from 500.00 MiB (125 extents) to <1.51 GiB (386 extents).  
Logical volume vg2/lv2 successfully resized.

\[root@localhost /\]# df -ThP | grep lv  
/dev/mapper/vg1-lv1 ext4 4.0G 1.7G 2.1G 45% /lv1"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQB9XNGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSoSa%2FHBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzEwMTk4MTk3Nzk3MTQwLVNhbHZhZ2luZy1hLVBWQy1GaWxlLVJlY292ZXJ5LWZyb20td2l0aGluLWEtd29ya3NwYWNlLWluLWFuLUVycm9yLXN0YXRlBjsIVDoJcmFua2kI--067121bc2d4a552b28f5eaa9ecf92ed52d6115d0,"**Version**

Domino v4x, 5x

**Issue:**

This article will provide details on how to recover files from a workspace PVC when given a **First Name** and **Project name**. 

**Root Cause**

Code operations can cause the underlining OS to terminate in which case runs can end in an **Error** state, thereby results of runs are never synced back to the project for future use.

**Resolution:**

**1\.  Find the User ID**

Within the Admin UI of Domino, navigate to the MongoDB (Advanced > MongoDB) and enter 

db.users.findOne({""firstName"": ""Abdul""})

This will provide you with the ObjectId (UserID), please take note of this.

{  
**""\_id"" : ObjectId(""624ae9ff0bcb78657c12e8dd""),**  
""idpId"" : ""50889425-d217-4505-962b-6383f309adf6"",  
""loginId"" : {  
""id"" : ""domino-abdulk"",  
""lowercaseId"" : ""domino-abdulk""

**2\. Find the project that the user owns: <Check Deployment URL>**

https://emeaplaydummy.support.domino.train/workspace/domino-abdulk/**quick-start  
**

We know from the URL it is **quick-start**, take note of this along with the ID we noted earlier

**3\. Put both the User ID and Project name into a MongoDB query to obtain the Project ID**

db.projects.findOne({""name"" : ""quick-start"",""ownerId"" : ObjectId(""624ae9ff0bcb78657c12e8dd""), })

This will give us the Project ID and the ownerId (User ID)

{  
**""\_id"" : ObjectId(""624ae9ff112cfb6b1ad5a459""),**  
**""ownerId"" : ObjectId(""624ae9ff0bcb78657c12e8dd""),**  
""name"" : ""quick-start"",  
""created"" : ISODate(""2022-04-04T12:52:19.460Z""),  
""collaborators"" : \[ \],

4\. **On your central node/bastion, construct a kubectl query that belongs to this User and this Project.**

_Note: We make use of the user **projectId** label and **startingUserId** label because sometimes projects are owned by organisation or other users._

This will give you a list of PVC(s) and their PV associated with runs: 

root@ip-10-0-0-18:~# **kubectl get pvc -n emeaplay255392-compute -l dominodatalab.com/projectId=624ae9ff112cfb6b1ad5a459,dominodatalab.com/startingUserId=624ae9ff0bcb78657c12e8dd**  
NAME STATUS VOLUME CAPACITY ACCESS MODES STORAGECLASS AGE  
workspace-635fa7730aaf43315a70cb49 Bound pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad 10Gi RWO dominodisk 62m

**5\. Run the Salvage PVC script against the PV,** _(the script is under /domino/bin/salvage-pvc.sh or can be obtained from [here](https://github.com/dominodatalab/utility-scripts/blob/e0015feefdde76adcb67452f2fa472ecb2a39a81/salvage-pvc.sh))_**:**

root@ip-10-0-0-18:/domino/bin# **./salvage-pvc.sh pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad**  
Creating PVC namespace: emeaplay255392-compute name: workspace-635fa7730aaf43315a70cb49  
Creating POD namespace: emeaplay255392-compute name salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad  
pod/salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad created  
Error from server (AlreadyExists): error when creating ""STDIN"": persistentvolumeclaims ""workspace-635fa7730aaf43315a70cb49"" already exists  
Use:  
**kubectl exec -it -n emeaplay255392-compute salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad bash**

**Recovered data will be in /salvage**

When you are done, please remove the pod and pvc:  
kubectl delete -n emeaplay255392-compute pod salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad  
kubectl delete -n emeaplay255392-compute pvc workspace-635fa7730aaf43315a70cb49

Additionally, please clean up the PV when data has been recovered:  
kubectl delete pv pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad

If you wish to keep this PV to rebind later with this script, clear its claim ref:  
kubectl patch pv pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad --type=json -p='\[{""op"": ""remove"", ""path"": ""/spec/claimRef/uid""}\]'  
root@ip-10-0-0-18:/domino/bin#

**6\. Find the kubectl exec command _(see the above snippet),_ copy and run it, this will exec you into the salvaged pvc pod with access to the files.**

root@ip-10-0-0-18:/domino/bin# **kubectl exec -it -n emeaplay255392-compute salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad bash  
**kubectl exec \[POD\] \[COMMAND\] is DEPRECATED and will be removed in a future version. Use kubectl exec \[POD\] -- \[COMMAND\] instead.  
root@salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad:/#

**7\. Change to directory /salvage/mnt and your run files will be visible**

root@salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad:/# **cd salvage/mnt/**  
root@salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad:/salvage/mnt# ls -ltrh  
total 21M  
\-rw-r--r-- 1 12574 12574 1015 Jan 1 1970 requirements\_apps.txt  
\-rw-r--r-- 1 12574 12574 488 Jan 1 1970 model.py  
\-rw-r--r-- 1 12574 12574 381 Jan 1 1970 model.R  
\-rw-r--r-- 1 12574 12574 879 Jan 1 1970 main.py  
.....

**8\. Compress the files using tar**

root@salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad:/salvage/mnt# **tar cvfz /tmp/recovery.tgz .**  
**./**  
./benefits.png  
./iris\_sample\_notebook.ipynb  
./retriever-12-error.txt  
./kubernetes-events.json  
....

 **9. Once compressed, in another session - Transfer your files out of the salvage pod** 

root@ip-10-0-0-18:/tmp# **kubectl cp -n emeaplay255392-compute salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad:/tmp/recovery.tgz /tmp/recovery-central.tgz**  
tar: Removing leading \`/' from member names  
root@ip-10-0-0-18:/tmp# ls -ltrh /tmp  
total 4.5M  
drwx------ 3 root root 4.0K Oct 31 08:00 systemd-private-c6b6d103dae8493e9916b90b6d94d284-systemd-timesyncd.service-OcQ06W  
\-rw-r--r-- 1 root root 4.5M Oct 31 13:51 recovery-central.tgz  
root@ip-10-0-0-18:/tmp# tar -tvf recovery-central.tgz  
drwxr-xr-x 12574/12574 0 2022-10-31 13:43 ./  
\-rw-r--r-- 12574/12574 69280 1970-01-01 00:00 ./benefits.png  
\-rw-r--r-- 12574/12574 122358 1970-01-01 00:00 ./iris\_sample\_notebook.ipynb  
\-rw-rw-r-- 12574/12574 2826 2022-10-31 13:43 ./retriever-12-error.txt  
\-rw-rw-r-- 12574/12574 173092 2022-10-31 13:43 ./kubernetes-events.json  
\-rw-r--r-- 12574/12574 4054 1970-01-01 00:00 ./app-dash.py

**10\. Cleanup Options**

When you are done, to remove the pod and pvc:

kubectl delete -n emeaplay255392-compute pod salvage-pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad  
kubectl delete -n emeaplay255392-compute pvc workspace-635fa7730aaf43315a70cb49

Additionally, please clean up the PV when data has been recovered:

kubectl delete pv pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad

If you wish to keep this PV to rebind later with this script, clear its claim ref:

kubectl patch pv pvc-f95cf879-abd2-47a6-83cb-0a96c77e28ad --type=json -p='\[{""op"": ""remove"", ""path"": ""/spec/claimRef/uid""}\]'

**Note(s)**

The above article describes recovery of a workspace in **existence** providing its PVC was not deleted. If a workspace is deleted, the normal underlining operation is that the PVC deletion follows. 

![domino-logo.png](https://tickets.dominodatalab.com/hc/article_attachments/10482618545300)

![](blob:https://dominodatalab.atlassian.net/dffebe19-62b2-46b1-8b2d-e3359c956cbf#media-blob-url=true&id=c57ac581-96e6-4b53-9422-783ce2a24951&collection=contentId-1598521593&contextId=1598521593&height=862&width=2767&alt=)"
https://tickets.dominodatalab.com/hc/en-us/articles/4407743237780-Is-it-possible-to-persist-certain-projects-settings-such-as-collaborators-and-exports-files,"Some customers report using one project as a template that everyone copies from (using the ""copy"" project button). As such, they would like to persist certain settings and exports/files associated with the template project. 

We do not currently persist settings, and this is an intentional design decision to protect user data. If this is something you'd like changed, please reach out to your account team."
https://tickets.dominodatalab.com/hc/en-us/articles/4411175477140-Reviewing-Merge-Changes,"## Reviewing Merge Changes

![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4411175477140-Reviewing-Merge-Changes/subscription.html ""Opens a sign-in dialog"")

This article tackles on checking the changes made by another user who has forked your project, has made progress and wants to combine his/effort to your main project. 

Here are the steps on how to check for merge reviews. 

1\. Go to your main project. (On the overview page you will already see an indicator on the right that your project was forked and gives you a link to the forked project. )

![Screen_Shot_2021-11-24_at_5.12.38_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411183563284)

2\. Click on Reviews on the left side and you will see a review request window. 

![Screen_Shot_2021-11-24_at_5.19.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411171912852)

3\. Open it and you will see a brief summary of the changes made from the forked project. 

(See images below of what to expect on each tab)

A. On the ""OVERVIEW"" Tab, this is where you can accept of reject the request. 

![Screen_Shot_2021-11-24_at_4.42.27_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411175461140)

B. Discussions tab contains comments or notes from the person requesting for a merge. You can also put your own note here.

![Screen_Shot_2021-11-24_at_4.42.38_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411175462932)

c. Revisions Tab contains the number of revised changes. 

![Screen_Shot_2021-11-24_at_4.42.43_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411175464852)

D. Lastly the, Files Changed Tab shows you added/removed files. You can review them manually by  leaving a comment. (\*\*\*NOTE\*\*\* Make sure you expand the section by clicking the down arrow on the right of the file or else you won't see the ""COMMENT"" section for each file .)

![Screen_Shot_2021-11-24_at_4.42.53_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411171928852)

4\. Now all that is left to do is to Accept or Reject the merge :).

\*\* Related Articles

[Requesting for Merge Review](https://tickets.dominodatalab.com/hc/en-us/articles/4411191465748)

[Forking And Merging Projects](https://docs.dominodatalab.com/en/latest/user_guide/ef261b/fork-projects/)

### Recently viewed articles

*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/articles/6910624144020-Email-notifications-are-not-received-when-using-SES-email)

### Related articles

*   [Requesting for Merge Review](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQXgA8DBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQfjA4DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzQ0MTExOTE0NjU3NDgtUmVxdWVzdGluZy1mb3ItTWVyZ2UtUmV2aWV3BjsIVDoJcmFua2kG--f460ff623ff4082cd6716f52dadb0d440b3464fb)
*   [Scheduling Runs and Jobs using Cron Expression](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTHIm8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQfjA4DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUwNDc1NzItU2NoZWR1bGluZy1SdW5zLWFuZC1Kb2JzLXVzaW5nLUNyb24tRXhwcmVzc2lvbgY7CFQ6CXJhbmtpBw%3D%3D--863b36013297dd3eec314bc399dcdf8dab04ea59)
*   [Samba clients as an alternative to CIFS mounted shared drives](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQJH%2FICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQfjA4DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2OTg1NjU5MDgtU2FtYmEtY2xpZW50cy1hcy1hbi1hbHRlcm5hdGl2ZS10by1DSUZTLW1vdW50ZWQtc2hhcmVkLWRyaXZlcwY7CFQ6CXJhbmtpCA%3D%3D--d38be044ba5e1b7c25fb8ff8e84042eea71d35d8)
*   [202 Insuffucient\_Scope Error message for GitLab despite following guides](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTVme4CBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQfjA4DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ0MTA2Mzk1MDQ3ODgtMjAyLUluc3VmZnVjaWVudC1TY29wZS1FcnJvci1tZXNzYWdlLWZvci1HaXRMYWItZGVzcGl0ZS1mb2xsb3dpbmctZ3VpZGVzBjsIVDoJcmFua2kJ--2e7aee8037e90f86d968197e580ccf25e2828dc4)
*   [""File too big to be viewed directly in browser"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSq%2B0ECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQfjA4DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDM0NTc5NDAtLUZpbGUtdG9vLWJpZy10by1iZS12aWV3ZWQtZGlyZWN0bHktaW4tYnJvd3Nlci1lcnJvcgY7CFQ6CXJhbmtpCg%3D%3D--c102bab51ca4446d92e1f89dd24fbce42d47d0ca)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/17116621350164-How-to-add-project-permissions-to-an-Organization,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17116621350164-How-to-add-project-permissions-to-an-Organization/subscription.html ""Opens a sign-in dialog"")

Submitted by: Gener Joseph Tomas

To add project permissions to Organization in Domino, kindly follow these steps.

1) log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/17116628506644)

2) After logging in, go to ""Projects""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116637844244)

3) Look for the correct Project name

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116653303316)

4) Go to ""Project Settings""

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116609508756)

5) Go to ""Access & Sharing"" and ""Collaborators and Permission"" below it

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116592989972)

6) Look for the correct organization name to whom you should provide project permission![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116653305492)

7) Click 'Invite'

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116628522004)

Example Output:

![Screenshot](https://tickets.dominodatalab.com/hc/article_attachments/17116637846676)

Note: All members on the organization should have the same permission on the project.

**You're All Set!**

### Recently viewed articles

*   [Choosing between a Git-based project (GBP) and a Domino File System (DFS) project with an imported repo](https://tickets.dominodatalab.com/hc/en-us/articles/19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo) 

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlIkaRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--38ae20d699905b5e08e753f8706896654c485587)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlIkaRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQc%3D--8a0330394f0ccf0c90036cfd5157bf710bb8f29b)
*   [Set the default project Environment for newly created projects automatically.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS3s7cLBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlIkaRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzY2NDczOTY0MTUyNTItU2V0LXRoZS1kZWZhdWx0LXByb2plY3QtRW52aXJvbm1lbnQtZm9yLW5ld2x5LWNyZWF0ZWQtcHJvamVjdHMtYXV0b21hdGljYWxseQY7CFQ6CXJhbmtpCA%3D%3D--361014ff12594e7ba7300da205859b4262707460)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTOh6x9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlIkaRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI2L2hjL2VuLXVzL2FydGljbGVzLzYwMzczMjM2MzIyNzYtLXRyYXNoLURpcmVjdG9yeQY7CFQ6CXJhbmtpCQ%3D%3D--13e71cb07e94d45d380601891c34811d0dfdabdf)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSlIkaRDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kK--f8bc3f6116dcb760b5cb6a310a7a0c9f9e528add)

### Comments

0 comments

Article is closed for comments."
https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags,"## Setting up Project Tags

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

Please follow these steps to setup project tags

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507463179924)

2) After logging in, navigate to the ""Projects Page.""

![Screen_Shot_2022-12-07_at_3.32.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507463188372)

3) Navigate to the project you wanted to add or change tags

![Screen_Shot_2023-01-16_at_4.43.24_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12386038843924)

4) Navigate to ""Description and Tags""

![Screen_Shot_2023-01-16_at_4.44.04_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12386011315092)

5) Add the tag to your Project and click the check box

![Screen_Shot_2023-01-16_at_4.44.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12386038906004)

The tag is now visible in the tab for your project and can be used as a search filter.

![Screen_Shot_2023-01-16_at_4.45.08_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12386038926228)

![Screen_Shot_2023-01-16_at_4.45.29_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12386011427348)

\*\* These project tags are used to organize your projects and assist other Domino users in finding public projects that interest them.

Related article or documents

[https://docs.dominodatalab.com/en/4.6/user\_guide/f9be5e/organize-projects-with-tags/](https://docs.dominodatalab.com/en/4.6/user_guide/f9be5e/organize-projects-with-tags/)

**You're All Set.**

### Recently viewed articles

*   [How to add project permissions to an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/17116621350164-How-to-add-project-permissions-to-an-Organization)
*   [Choosing between a Git-based project (GBP) and a Domino File System (DFS) project with an imported repo](https://tickets.dominodatalab.com/hc/en-us/articles/19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo) 

### Related articles

*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2FODZaBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS4Kt9DCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzY5ODQ1MjY1MTE4OTItSG93LXRvLWxvZ291dC1vci1lbmQtYS11c2VyLXMtdXNlci1zZXNzaW9uLWZyb20tRG9taW5vBjsIVDoJcmFua2kG--99b86f2f64acd712c6df2775a1475c3b14ef1fa7)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQFIVRiBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS4Kt9DCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAzNjQ3NTYzNzItSG93LXRvLUNoYW5nZS1FbnZpcm9ubWVudHMtVmlzaWJpbGl0eQY7CFQ6CXJhbmtpBw%3D%3D--d538bae24cfec2ba58625881a38cd31e7abb96a2)
*   [""File too big to be viewed directly in browser"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSq%2B0ECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS4Kt9DCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDM0NTc5NDAtLUZpbGUtdG9vLWJpZy10by1iZS12aWV3ZWQtZGlyZWN0bHktaW4tYnJvd3Nlci1lcnJvcgY7CFQ6CXJhbmtpCA%3D%3D--acb88f95ea02c01d4cdb7e88daef4429884126f6)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS4Kt9DCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kJ--186407db0fc68c853dd731a5e1241a14a01d7955)
*   [How do I delete organizations in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCLenKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS4Kt9DCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njk1MS1Ib3ctZG8tSS1kZWxldGUtb3JnYW5pemF0aW9ucy1pbi1Eb21pbm8GOwhUOglyYW5raQo%3D--1b089fc81f935c247470588a2de6403e327c2b15)"
https://tickets.dominodatalab.com/hc/en-us/articles/12385904024468-Changing-Project-Current-Stage,"Submitted by Gener Joseph Tomas

Please follow these steps to change project current stage

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449919764)

2) After logging in, navigate to the ""Projects Page.""

![Screen_Shot_2022-12-07_at_3.32.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449922964)

3) Navigate to the project you wanted to change current stage

![Screen_Shot_2022-12-07_at_3.32.17_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507476581012)

4) Navigate to ""quick-start"" header

![Screen_Shot_2023-01-16_at_4.22.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507476581524)

![Screen_Shot_2023-01-16_at_4.23.10_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449927572)

5) Change the current stage of the project based on the current stage of it.

![Screen_Shot_2023-01-16_at_4.34.22_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385947870740)

Note: Any changes to the project's current stage will be visible to all collaborators.

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/12385826222228-Changing-Project-Current-State,"## Changing Project Current State

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12385826222228-Changing-Project-Current-State/subscription.html ""Opens a sign-in dialog"")

Submitted by Gener Joseph Tomas

Please follow these steps to change project current state

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507426212244)

2) After logging in, navigate to the ""Projects Page.""

![Screen_Shot_2022-12-07_at_3.32.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449889556)

3) Navigate to the project you wanted to change the current state

![Screen_Shot_2022-12-07_at_3.32.17_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449890836)

4) Navigate to ""quick-start"" header

![Screen_Shot_2023-01-16_at_4.22.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385734829972)

![Screen_Shot_2023-01-16_at_4.23.10_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385735087252)

5) Change the current state of the project to preferred state ""I'm Blocked"" or ""Complete Project""

![Screen_Shot_2023-01-16_at_4.24.34_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/12385729032596)

Note: Once marked as ""The project has been completed,"" it will no longer be available on your project's tab, and if marked as ""I'm Blocked,"" you will see a red mark on the project headers.

**You're All Set.**

### Recently viewed articles

*   [Changing Project Current Stage](https://tickets.dominodatalab.com/hc/en-us/articles/12385904024468-Changing-Project-Current-Stage)
*   [Setting up Project Tags](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)
*   [How to add project permissions to an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/17116621350164-How-to-add-project-permissions-to-an-Organization)
*   [Choosing between a Git-based project (GBP) and a Domino File System (DFS) project with an imported repo](https://tickets.dominodatalab.com/hc/en-us/articles/19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo) 

### Related articles

*   [Changing Project Current Stage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTbaNFDCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwxcxDCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzEyMzg1OTA0MDI0NDY4LUNoYW5naW5nLVByb2plY3QtQ3VycmVudC1TdGFnZQY7CFQ6CXJhbmtpBg%3D%3D--4ae2c1c6c0387f16f968c748365d541bd5b2c13c)
*   [Packages in the requirements.txt file are not being installed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSA%2BQMHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwxcxDCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU1Mjc2ODk1OTI4NTItUGFja2FnZXMtaW4tdGhlLXJlcXVpcmVtZW50cy10eHQtZmlsZS1hcmUtbm90LWJlaW5nLWluc3RhbGxlZAY7CFQ6CXJhbmtpBw%3D%3D--5cc37b30c43f85c6c8ebc93fc597fc3571446f0c)"
https://tickets.dominodatalab.com/hc/en-us/articles/12204472092820-Project-Transfer-Ownership-Combinations,"## Project Transfer Ownership Combinations

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12204472092820-Project-Transfer-Ownership-Combinations/subscription.html ""Opens a sign-in dialog"")

**Version**

Domino v5+

**Issue**

Supported transfer project ownership combinations in Domino Data Lab

**What is allowed**

The transfer of ownership of a project is subject to the following rules in Domino:

*   The current owner (User A) can transfer ownership to a different user (User B) or organization (Org).
*   If the transfer is from an organization (Org) to another organization (Org), the current owner's username must be different from the new owner's username.
*   An organization (Org) may transfer a project to a user, provided that the project with the same name is not already owned by the receiving entity.

**What is not allowed**

*   Attempting to rename a project by transferring it to oneself is not supported.

**Notes**

There are no known issues with transferring ownership to an organization (Org), with a name of up to 63 characters in length.

For more details on project transfers see:

[https://docs.dominodatalab.com/en/5.0/user\_guide/5c2374/transfer-project-ownership/](https://docs.dominodatalab.com/en/5.0/user_guide/5c2374/transfer-project-ownership/)

[https://docs.dominodatalab.com/en/5.0/user\_guide/0b7d74/transfer-projects-to-an-organization/](https://docs.dominodatalab.com/en/5.0/user_guide/0b7d74/transfer-projects-to-an-organization/)

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/12204423133716)

![](blob:https://dominodatalab.atlassian.net/27152afc-afe7-4db9-8f85-d6e4f6d87014#media-blob-url=true&id=c57ac581-96e6-4b53-9422-783ce2a24951&collection=contentId-1598521593&contextId=1598521593&height=862&width=2767&alt=)

### Recently viewed articles

*   [Changing Project Current State](https://tickets.dominodatalab.com/hc/en-us/articles/12385826222228-Changing-Project-Current-State)
*   [Changing Project Current Stage](https://tickets.dominodatalab.com/hc/en-us/articles/12385904024468-Changing-Project-Current-Stage)
*   [Setting up Project Tags](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)
*   [How to add project permissions to an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/17116621350164-How-to-add-project-permissions-to-an-Organization)
*   [Choosing between a Git-based project (GBP) and a Domino File System (DFS) project with an imported repo](https://tickets.dominodatalab.com/hc/en-us/articles/19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo) 

### Related articles

*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRIOZMZCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kG--5056a45a763ec316d59870c50ac9841436e35f38)
*   [The 'fuser' utility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvARkdCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRIOZMZCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzEyMjE5NjAxNDY1MjM2LVRoZS1mdXNlci11dGlsaXR5BjsIVDoJcmFua2kH--84245ef0f840cca3010b7e5c0470714756db1c71)
*   [Why do I need to delete all durable workspaces before transferring ownership of a project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2JFfuCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRIOZMZCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2FL2hjL2VuLXVzL2FydGljbGVzLzk4MTk3NTcyNDU5NzItV2h5LWRvLUktbmVlZC10by1kZWxldGUtYWxsLWR1cmFibGUtd29ya3NwYWNlcy1iZWZvcmUtdHJhbnNmZXJyaW5nLW93bmVyc2hpcC1vZi1hLXByb2plY3QGOwhUOglyYW5raQg%3D--18e2d9da7e47d74a6556798fc670158947d4c00e)
*   [Upload limit in apps hosted on Domino 4.x - 413 error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRgkIoBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRIOZMZCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ2NjYxOTYxMTYtVXBsb2FkLWxpbWl0LWluLWFwcHMtaG9zdGVkLW9uLURvbWluby00LXgtNDEzLWVycm9yBjsIVDoJcmFua2kJ--1ab9b4f3ff2f2dd3cd0ad288505e6f5d22833bad)
*   [Transferring Project Ownership](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIimStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRIOZMZCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyNDg3Mi1UcmFuc2ZlcnJpbmctUHJvamVjdC1Pd25lcnNoaXAGOwhUOglyYW5raQo%3D--b3d74ab19add1410a9a013bad62df120eff4019a)"
https://tickets.dominodatalab.com/hc/en-us/articles/12162175145492-How-to-Unarchive-a-project,"#### _**Version:**_

All

## **Issue:**

Projects in Domino are never really deleted.  When their useful lifetime is over they can be [archived](https://docs.dominodatalab.com/en/latest/user_guide/3c528d/archive-a-project/).  This prevents them from appearing in the Domino UI.  At times it may be necessary to un-archive a project that was prematurely archived.  At the moment no functionality exists within the Domino UI for the un-archiving of a project.  However, it is possible to un-archive a project via the mongo database.  The restoration is not always complete, so read the caveats in the notes section below.

## **Resolution:**

The only way to un-archive a project is to manually edit the mongo database and flip the ""isArchived:true"" key in the project to ""isArchived:false"".  If your administrator is comfortable making a minor mongo database change like this, the process is below.

If your administrator is not comfortable with making this change, the Domino Support team can  
assist.  This change is well known to us and we consider it a ""standard"" change.  We still treat these changes with care and document a change request internally.  This can take us a day or two to get approved and turned around.

**Caution!  
**Manual editing of the mongo database that backs Domino is never recommended.  It is an inherently dangerous task and incorrect changes in the mongo database can make an entire deployment inaccessible. 

### For DIY admins, the process to unarchive a project

Let me start with the end goal here.  Our goal is to find the project in mongo and then flip the archived flag from true to false.  There are several relatively easy ways to find things in mongo and if you have a known method, of course use that.  For those not as used to working in mongo follow the example below.

To completely identify a project you will need two pieces of information: the owner and the project name.  Remember that project names are not necessarily unique so the owner is also needed.

If you are not completely sure of the name of the full project name or owner's userid, you can do wildcard searches with // instead of using """".  In the example I'll recover a project named ""archived\_project"", owned by the user ""integration-test"".

1\. Open the Admin UI in Domino. Then click **Advanced -> MongoDB**.  Here you will want to find the _\_id_ of the project.  In order to find that _\_id_ you can use the project owner's Domino userid.

2\. Find the owner's _\_id_:  remember my example userid for the project owner is ""integration-test"" so I just wildcard searched for ""integration"":

rs.secondaryOk()  
db.users.find({""loginId.id"":/integration/})

The return here should start with something like this:

{
	""\_id"" : ObjectId(""632c77b69f8eae654f009576""),
	""idpId"" : ""e513df55-57b8-4a53-9cea-3b8488da5d2b"",
	""loginId"" : {
		""id"" : ""integration-test"",
		""lowercaseId"" : ""integration-test""
	},
	""firstName"" : ""integration-test"",
	""lastName"" : ""integration-test"",
	""fullName"" : ""integration-test integration-test"",  
        ...  
        ...

You need to save the value of _\_id_:

632c77b69f8eae654f009576

3\. Now we will find the project belonging to that user by the project name. 

rs.secondaryOk()  
db.projects.find({""ownerId"":ObjectId(""632c77b69f8eae654f009576""),""name"":""archived-project""})

Note that if you only have a partial project name, use // instead of """" to do a wildcard search.

rs.secondaryOk()  
db.projects.find({""ownerId"":ObjectId(""632c77b69f8eae654f009576""),""name"":/archive/})

The return for this will look like this:

{
	""\_id"" : ObjectId(""63b85da9f122d94cf3928253""),
	""ownerId"" : ObjectId(""632c77b69f8eae654f009576""),
	""name"" : ""archived-project"",
	""description"" : ""This is a sample Domino Project. This project contains examples for using notebooks, publishing models as APIs, and publishing Python/Flask and R/Shiny web applications."",
	""created"" : ISODate(""2023-01-06T17:43:05.718Z""),
	""collaborators"" : \[ \],
	""ownerNotificationSettings"" : ""RunsStartedByUser"",
	**""isArchived"" : true**,
	""executionQueue"" : {
		""name"" : ""small-k8s""
	},  
        ...  
        ... 

Note the bolded, ""isArchived"" flag above is set to true.

Grab the _\_id_ for use in the following command to reset that flag:

63b85da9f122d94cf3928253

4\. Finally, flip the archived flag:

rs.secondaryOk()  
db.projects.update({ \_id: ObjectId(""63b85da9f122d94cf3928253"")},{$set: { ""isArchived"":false}})

You should see the following output if the change went through successfully:

WriteResult({ ""nMatched"" : 1, ""nUpserted"" : 0, ""nModified"" : 1 })

If you do not see this or you get an error, this likely means that the your command simply did not hit the master node of the mongoDB cluster.  Only the master node can do writes.  This can vary by version of Domino, but just keep retrying until you get the proper ""WriteResult"".  You'll eventually hit the master node.

5\. You can confirm that the project is now visible by using the find command to make sure ""isArchived"" is set to false.

rs.secondaryOk()  
db.projects.find({ \_id: ObjectId(""63b85da9f122d94cf3928253"")})

{
	""\_id"" : ObjectId(""63b85da9f122d94cf3928253""),
	""ownerId"" : ObjectId(""632c77b69f8eae654f009576""),
	""name"" : ""archived-project"",
	""description"" : ""This is a sample Domino Project. This project contains examples for using notebooks, publishing models as APIs, and publishing Python/Flask and R/Shiny web applications."",
	""created"" : ISODate(""2023-01-06T17:43:05.718Z""),
	""collaborators"" : \[ \],
	""ownerNotificationSettings"" : ""RunsStartedByUser"",
	**""isArchived"" : false,**
	""executionQueue"" : {
		""name"" : ""small-k8s""
	},  
        ...  
        ...

## **Notes:**

There are some caveats to be aware of when unarchiving a project this way.  Some items that are cleaned up during the archival process cannot currently be recovered automatically:

1.  If the project has been imported in other projects, the dependency to the archived project is removed from those projects. You will need to manually re-add these dependencies to the projects where they were removed.  There is no way to proactively find these projects.  Users will simply get failures in their project executions if they relied on an import from the archived project.  See documentation here on the ""Import, Export"" process: [https://docs.dominodatalab.com/en/latest/user\_guide/e6ed48/export-and-import-project-content/](https://docs.dominodatalab.com/en/latest/user_guide/e6ed48/export-and-import-project-content/)
    
2.  If the project had environment variables set, these will need to manually recreated. See documentation on project Environment Variables here: [https://docs.dominodatalab.com/en/latest/user\_guide/b224e9/secure-credential-storage/](https://docs.dominodatalab.com/en/latest/user_guide/b224e9/secure-credential-storage/)
    
3.  If there were any Model Exports in the project, these are deactivated when the project is archived and will need to be manually recreated.  See documentation here: [https://docs.dominodatalab.com/en/latest/user\_guide/02ec6d/export-model-image/](https://docs.dominodatalab.com/en/latest/user_guide/02ec6d/export-model-image/)
    

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/11757178073492-How-can-I-find-my-Project-ID-and-available-Hardware-Tier-IDs,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11757178073492-How-can-I-find-my-Project-ID-and-available-Hardware-Tier-IDs/subscription.html ""Opens a sign-in dialog"")

When using tools such as the Domino API or domino-python package, you'll usually use information such as project owner, project name, or other easy to find information in your calls. However, there are a few calls and functions that utilize your project's ID, or a Hardware Tier ID. For example, the [Project Hardware API call](https://dominodatalab.github.io/api-docs/#/reference/projects-v4/project-hardware/get-hardware-tiers-for-a-project), or [app\_publish() domino-python function](https://docs.dominodatalab.com/en/latest/api_guide/c5ef26/the-python-domino-library/#_app_publishunpublishrunningappstrue_hardwaretieridnone). As a non-Admin user of Domino, this information may be a bit more difficult to locate. 

There are two simple ways to get this information: 

1.  [The network activity in your browser, or](#h_01GMRQC8GYQP1BPGN1R1S0B97J)
2.  [With API calls](#h_01GMRQCG5BTZ028XBYBW25ZJVK)

### Find Project ID and Hardware Tiers through browser network activity

**To find your Project ID**

1.  In your browser, with your Domino project open, right-click in the browser window or tab and select **Inspect**.
2.  Click the **Network** tab in the panel that appears.
3.  Navigate to your Project's ""Overview"" dashboard (or, if you're already there, refresh the page)
4.  In the network trace results, find the entry with a Name that begins ""findProjectByOwnerAndName?ownerName="". Click on this entry.  
    ![har_projectid.png](https://tickets.dominodatalab.com/hc/article_attachments/11756892916372)
5.  Click on the **Response** tab in the panel that appears.
6.  The value listed under _""id"":_ corresponds to your project ID.  
    ![har_projectid2.png](https://tickets.dominodatalab.com/hc/article_attachments/11756892906132)  
    

**To find available Hardware Tiers for your Project**

1.  In your browser, with your Domino project open, right-click in the browser window or tab and select **Inspect**.
2.  Click the **Network** tab in the panel that appears.
3.  Navigate to your Project's ""Settings"" page (or, if you're already there, refresh the page)
4.  In the network trace results, find the entry with a Name ""hardwareTiers"". Click on this entry.  
    ![hwtier_har.png](https://tickets.dominodatalab.com/hc/article_attachments/11756892823188)  
    
5.  Click on the **Response** tab in the panel that appears.
6.  The results will give you a list of Hardware Tier IDs, Names, and other related information.  
    ![hwtier_har2.png](https://tickets.dominodatalab.com/hc/article_attachments/11756892822292)  
    

### Find Project ID and Hardware Tiers via API calls

The following python script can be run as a Job or in a Workspace, and will give you both your project's ID and the hardware Tiers available for your project:

import requests  
import os

\# Get Domino environment variables  
apiKey=os.getenv(""DOMINO\_USER\_API\_KEY"")  
owner=os.getenv(""DOMINO\_PROJECT\_OWNER"")  
project=os.getenv(""DOMINO\_PROJECT\_NAME"")

\# API call gets list of runs for project  
projUrl=f'https://your-domino-url.com/v1/projects/{owner}/{project}/runs'

headers = {  
'X-Domino-Api-Key': apiKey  
}

x = requests.get(projUrl, headers=headers)

response=x.json()

\# Return project id from first record  
my\_id = response\['data'\]\[0\]\['projectId'\]  
print(""Your Project ID is: "", my\_id)

\# API call gets hardware tiers available for a project  
tierURL = f'https://your-domino-url.com/v4/projects/{my\_id}/hardwareTiers'  
y = requests.get(tierURL, headers=headers)  
response2=y.json()

print(""\\nThe hardware tiers available for your project are:"")

\# Iterate through available hardware tiers and print  
for index, responseItem in enumerate(response2):  
print(""id=""+response2\[index\]\['hardwareTier'\]\['id'\]+"", Hardware Tier Name=""+response2\[index\]\['hardwareTier'\]\['name'\])

The above will give you a result similar to:

Your Project ID is: 633c9ba226d46a3537b177da

The hardware tiers available for your project are:  
id=small-k8s, Hardware Tier Name=Small  
id=large-k8s, Hardware Tier Name=Large  
id=medium-k8s, Hardware Tier Name=Medium  
id=medium-k8s-clone, Hardware Tier Name=Medium-clone  
id=gpu-k8s, Hardware Tier Name=GPU  
id=gpu-small-k8s, Hardware Tier Name=GPU (small)

### Recently viewed articles

*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/articles/12162175145492-How-to-Unarchive-a-project)
*   [Project Transfer Ownership Combinations](https://tickets.dominodatalab.com/hc/en-us/articles/12204472092820-Project-Transfer-Ownership-Combinations)
*   [Changing Project Current State](https://tickets.dominodatalab.com/hc/en-us/articles/12385826222228-Changing-Project-Current-State)
*   [Changing Project Current Stage](https://tickets.dominodatalab.com/hc/en-us/articles/12385904024468-Changing-Project-Current-Stage)
*   [Setting up Project Tags](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)

### Related articles

*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxbG6xCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpBg%3D%3D--df0b529e6c837c2a0fb06bf9ef77bcaafb1246b4)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxbG6xCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBw%3D%3D--a11329f227d2d1515f05929147c40a404b59342d)
*   [Transferring Project Ownership](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIimStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxbG6xCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyNDg3Mi1UcmFuc2ZlcnJpbmctUHJvamVjdC1Pd25lcnNoaXAGOwhUOglyYW5raQg%3D--01d15fbdac78638d04a603e7fcfcb7840b68797d)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxbG6xCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQk%3D--d156c585b5320545cac2e4474664503d25aab993)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQxbG6xCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--e8c7758477b601aae978a7e900b2315a45d1dc1d)"
https://tickets.dominodatalab.com/hc/en-us/articles/11411971570324-Archiving-a-Project,"Submitted by Gener Joseph Tomas

Please follow these steps to archive a project

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507459688340)

2) After logging in, navigate to the ""Projects Page.""

![Screen_Shot_2022-12-07_at_3.32.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507465425556)

3) Navigate to the project you wanted to transfer the ownership

![Screen_Shot_2022-12-07_at_3.32.17_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507459690260)

4) Navigate to the project settings

![Screen_Shot_2022-12-07_at_3.33.06_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507465427092)

5) Navigate to archive project or transfer ownership

![Screen_Shot_2022-12-07_at_3.33.48_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507465427604)

6) Click transfer archive this project

![Screen_Shot_2022-12-07_at_3.43.54_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11412002072596)

7) Click archive and done

![Screen_Shot_2022-12-07_at_3.45.36_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411954019220)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/11411997758100-Transferring-Project-Ownership,"Submitted by Gener Joseph Tomas

Please follow these steps to transfer project ownership.

1) Access your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/19931138732820)

2) After logging in, navigate to the ""Projects Page.""

![Screen_Shot_2022-12-07_at_3.32.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411908187668)

3) Navigate to the project you wanted to transfer the ownership

![Screen_Shot_2022-12-07_at_3.32.17_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411877192468)

4) Navigate to the project settings

![Screen_Shot_2022-12-07_at_3.33.06_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411877234068)

5) Navigate to archive project or transfer ownership

![Screen_Shot_2022-12-07_at_3.33.48_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411908234388)

6) Click change project owner

![Screen_Shot_2022-12-07_at_3.34.09_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411877270292)

7) Fill the transfer ownership details

![Screen_Shot_2022-12-07_at_3.34.30_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411908268180)

8) Click transfer ownership and done

![Screen_Shot_2022-12-07_at_3.34.45_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/11411908273044)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/9819757245972-Why-do-I-need-to-delete-all-durable-workspaces-before-transferring-ownership-of-a-project,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9819757245972-Why-do-I-need-to-delete-all-durable-workspaces-before-transferring-ownership-of-a-project/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 5.2+

## **Issue:**

At Domino version 5.2 and above, before transferring a project to a new owner you will need to delete all durable workspaces.

## **Root Cause:**

This restriction was introduced to resolve an issue that occurs if workspaces are not deleted.  Specifically the quota for workspaces still counts against the original owner, but the original owner now does not have access to delete the workspace once the project is transferred to the new owner.

## **Note:**

Internal ticket, DOM-30626.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/articles/10198197797140-Salvaging-a-PVC-File-Recovery-from-within-a-workspace-in-an-Error-state)
*   [Downloading Folders from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/10691796213524-Downloading-Folders-from-the-Domino-UI)
*   [Transferring Project Ownership](https://tickets.dominodatalab.com/hc/en-us/articles/11411997758100-Transferring-Project-Ownership)
*   [Archiving a Project](https://tickets.dominodatalab.com/hc/en-us/articles/11411971570324-Archiving-a-Project)
*   [How can I find my Project ID and available Hardware Tier IDs?](https://tickets.dominodatalab.com/hc/en-us/articles/11757178073492-How-can-I-find-my-Project-ID-and-available-Hardware-Tier-IDs)

### Related articles

*   [Email notifications are not received when using SES email.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQaTAFJBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2JFfuCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY5MTA2MjQxNDQwMjAtRW1haWwtbm90aWZpY2F0aW9ucy1hcmUtbm90LXJlY2VpdmVkLXdoZW4tdXNpbmctU0VTLWVtYWlsBjsIVDoJcmFua2kG--96f2b43e6627368eefa0596369e0810b4ac8e959)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAzkUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2JFfuCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE5OTM3Mi1Nb25nby1RdWVyaWVzLWZvci1EdXJhYmxlLVdvcmtzcGFjZXMGOwhUOglyYW5raQc%3D--dc1f182c80b2a172f7203bb9df0c1e6b21b900f0)"
https://tickets.dominodatalab.com/hc/en-us/articles/7370918312980-Notify-you-when-other-people-add-collaborators-to-your-own-project,"Submitted by Gener Joseph Tomas

Please follow these steps to get notification when others add collaborators to your own project

1) Login to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812841364/Screen_Shot_2021-06-28_at_9.06.13_AM.png)

2) After logging in, go to ""Account Settings.""

![Screen_Shot_2022-05-31_at_1.53.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647329554196/Screen_Shot_2022-05-31_at_1.53.22_PM.png)

3) Navigate to ""Notifications""

![Screen_Shot_2022-06-28_at_2.53.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/7370937150740/Screen_Shot_2022-06-28_at_2.53.41_PM.png)

4) Set ""Notify me when others add collaborators to projects I own""

![Screen_Shot_2022-06-28_at_2.53.54_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/7370917003284/Screen_Shot_2022-06-28_at_2.53.54_PM.png)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/8072438869524-Recovering-deleted-project-files,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above)
*   [Importing and Merging Tags](https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags)
*   [Editing and Deleting Tags in Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher)
*   [Adding Project Tags Using Tags Launcher](https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher)
*   [Downloading audit logs that has project permission changes.](https://tickets.dominodatalab.com/hc/en-us/articles/20495926267924-Downloading-audit-logs-that-has-project-permission-changes)
*   [Understanding SSH Keys](https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys)
*   [Choosing between a Git-based project (GBP) and a Domino File System (DFS) project with an imported repo](https://tickets.dominodatalab.com/hc/en-us/articles/19368069670676-Choosing-between-a-Git-based-project-GBP-and-a-Domino-File-System-DFS-project-with-an-imported-repo) 
*   [How to add project permissions to an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/17116621350164-How-to-add-project-permissions-to-an-Organization)
*   [Setting up Project Tags](https://tickets.dominodatalab.com/hc/en-us/articles/12386134833300-Setting-up-Project-Tags)
*   [Changing Project Current Stage](https://tickets.dominodatalab.com/hc/en-us/articles/12385904024468-Changing-Project-Current-Stage)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206766-Projects)

## Recovering deleted project files

![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

Joseph

*   2 years ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8072438869524-Recovering-deleted-project-files/subscription.html ""Opens a sign-in dialog"")

How to get recover delete files from a project: 

Here are the steps on how to recover them:

*   Navigate to Project
*   Go to the Project Files folder. ![Screen_Shot_2022-07-26_at_1.52.07_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/8072436597012) 
*   Select File History.![Screen_Shot_2022-07-26_at_1.52.54_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/8072424079764)
*   You will then have the option to restore to an earlier version of your files and have the deleted file recovered.![Screen_Shot_2022-07-26_at_1.53.25_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/8072436623252)

### Recently viewed articles

*   [Why do I need to delete all durable workspaces before transferring ownership of a project](https://tickets.dominodatalab.com/hc/en-us/articles/9819757245972-Why-do-I-need-to-delete-all-durable-workspaces-before-transferring-ownership-of-a-project)
*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/articles/10198197797140-Salvaging-a-PVC-File-Recovery-from-within-a-workspace-in-an-Error-state)
*   [Downloading Folders from the Domino UI](https://tickets.dominodatalab.com/hc/en-us/articles/10691796213524-Downloading-Folders-from-the-Domino-UI)
*   [Transferring Project Ownership](https://tickets.dominodatalab.com/hc/en-us/articles/11411997758100-Transferring-Project-Ownership)
*   [Archiving a Project](https://tickets.dominodatalab.com/hc/en-us/articles/11411971570324-Archiving-a-Project)

### Related articles

*   [Files were deleted by accident - can I bring them back?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRAr7wBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTu2YJXBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU1MDcwODAzNDAtRmlsZXMtd2VyZS1kZWxldGVkLWJ5LWFjY2lkZW50LWNhbi1JLWJyaW5nLXRoZW0tYmFjawY7CFQ6CXJhbmtpBg%3D%3D--3a2c022ea994ed84b8693967ae9cb56d909c7a2f)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTOh6x9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTu2YJXBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI2L2hjL2VuLXVzL2FydGljbGVzLzYwMzczMjM2MzIyNzYtLXRyYXNoLURpcmVjdG9yeQY7CFQ6CXJhbmtpBw%3D%3D--a6b51e84743ead697487d939aa059130c4b83f85)
*   [Deleted files and folder keep appearing back in domino project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIebKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTu2YJXBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzgzMS1EZWxldGVkLWZpbGVzLWFuZC1mb2xkZXIta2VlcC1hcHBlYXJpbmctYmFjay1pbi1kb21pbm8tcHJvamVjdAY7CFQ6CXJhbmtpCA%3D%3D--c4da7377cdbf8b4b666a2a1950c4982cfd7a0d65)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTu2YJXBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kJ--410e93ff00880a095e60a3b6dbaf93e28835a262)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTu2YJXBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--73bff1e3aee99f6adaa2464a83c62b5b7662c6ed)

### Comments

0 comments

Article is closed for comments."
https://tickets.dominodatalab.com/hc/en-us/articles/6037323632276--trash-Directory,"Have you ever encountered a new folder in your Files Tab with an extension of .TRASH (sometimes it might say .trashinfo)? This takes up space and would most of the time come in multiple folders. 

![image__2___1_.png](https://tickets.dominodatalab.com/hc/article_attachments/6037319367188)

It can be that a  user( mac on user on most case) has pushed sync or an ubuntu user in some Workspace trying to delete, but synced instead.

**So how do we address it?**

**\>We need to add the .trash extension to .dominoignore file and your project should automatically take care of it.**"
https://tickets.dominodatalab.com/hc/en-us/articles/6647396415252-Set-the-default-project-Environment-for-newly-created-projects-automatically,"Submitted by Gener Joseph Tomas

Please follow these steps to Set the default project Environment for newly created projects automatically.

1) Login to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812841364/Screen_Shot_2021-06-28_at_9.06.13_AM.png)

2) After logging in, go to ""Account Settings.""

![Screen_Shot_2022-05-31_at_1.53.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647329554196/Screen_Shot_2022-05-31_at_1.53.22_PM.png)

3) Navigate to ""Workspace Settings""

![Screen_Shot_2022-05-31_at_2.01.30_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647392656788/Screen_Shot_2022-05-31_at_2.01.30_PM.png)

4) Set ""Default Environment"" to the preferred Environment for your newly created projects.

![Screen_Shot_2022-05-31_at_2.01.53_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647405065492/Screen_Shot_2022-05-31_at_2.01.53_PM.png)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/4418132738708-How-to-Change-Project-Visibility,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4418132738708-How-to-Change-Project-Visibility/subscription.html ""Opens a sign-in dialog"")

During project creation, you will be asked to set the visibility to Public, Searchable, or Private (see [Visibility settings](https://docs.dominodatalab.com/en/latest/user_guide/d7731d/sharing-and-collaboration/#_visibility_settings). 

But, there are instances when you may need to change the visibility of a project after its creation, to help other users better collaborate with you. Now how do you do that?

1\. In your project, click on the Settings Icon at the bottom lower left.

![Screen_Shot_2022-02-02_at_6.02.59_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4418119254548/Screen_Shot_2022-02-02_at_6.02.59_PM.png)

2\. In the next screen, just choose Access and Sharing Tab, and then change the visibility as desired. 

![Screen_Shot_2022-02-02_at_6.04.16_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4418137797652/Screen_Shot_2022-02-02_at_6.04.16_PM.png)

Now you are all set. 

\*\* Related articles:

[Sharing and Collaboration](https://docs.dominodatalab.com/en/latest/user_guide/d7731d/sharing-and-collaboration/)

### Recently viewed articles

*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/articles/5185124068884-Workspace-Logs-And-Support-Bundle-for-5-1-and-Above)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/articles/6037323632276--trash-Directory)
*   [Set the default project Environment for newly created projects automatically.](https://tickets.dominodatalab.com/hc/en-us/articles/6647396415252-Set-the-default-project-Environment-for-newly-created-projects-automatically)
*   [Upload files to Domino](https://tickets.dominodatalab.com/hc/en-us/articles/6194439126164-Upload-files-to-Domino)
*   [Notify you when other people add collaborators to your own project.](https://tickets.dominodatalab.com/hc/en-us/articles/7370918312980-Notify-you-when-other-people-add-collaborators-to-your-own-project)

### Related articles

*   [Can you sync a specific folder on your computer to a project in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR38UECBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSCO60EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NDI3ODk1MjQtQ2FuLXlvdS1zeW5jLWEtc3BlY2lmaWMtZm9sZGVyLW9uLXlvdXItY29tcHV0ZXItdG8tYS1wcm9qZWN0LWluLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--ea9a5a162c2afaba4e293739b62391a1857fa34a)
*   [Is there training available for Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTZzPf9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSCO60EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzY1ODgzNDIyNjIxNjQtSXMtdGhlcmUtdHJhaW5pbmctYXZhaWxhYmxlLWZvci1Eb21pbm8GOwhUOglyYW5raQc%3D--2a71c32a605c91345eff6ee8c6625b64e395a053)
*   [Unable to register a Model Monitor that uses a file from S3 Datasource](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS12Q7lBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSCO60EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzUzODE4NDMxNzA1ODAtVW5hYmxlLXRvLXJlZ2lzdGVyLWEtTW9kZWwtTW9uaXRvci10aGF0LXVzZXMtYS1maWxlLWZyb20tUzMtRGF0YXNvdXJjZQY7CFQ6CXJhbmtpCA%3D%3D--4d08c4ee16539eaa5a632b3011f3882dd4bf4974)
*   [How to Change Environments Visibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQFIVRiBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSCO60EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAzNjQ3NTYzNzItSG93LXRvLUNoYW5nZS1FbnZpcm9ubWVudHMtVmlzaWJpbGl0eQY7CFQ6CXJhbmtpCQ%3D%3D--1387a835b5b996c4231b46233969d3ec651a47df)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDjYoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSCO60EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNTU5MTAxNjQtVGlwcy1mb3Itc2V0dGluZy11cC1BV1MtY3JlZGVudGlhbC1wcm9wYWdhdGlvbgY7CFQ6CXJhbmtpCg%3D%3D--d53cd4c4eebb5e85757082dc12a11d2e4f107e69)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4418132738708-How-to-Change-Project-Visibility) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/4411191465748-Requesting-for-Merge-Review,"## Requesting for Merge Review

![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4411191465748-Requesting-for-Merge-Review/subscription.html ""Opens a sign-in dialog"")

It is common for users working on the same project to make changes individually and later merge the changes once deemed necessary. This is usually done if a project is forked. See [Forking And Merging Projects](https://docs.dominodatalab.com/en/latest/user_guide/ef261b/fork-projects/)

Below are the steps to take on how to request a Merge Review. 

1\. Go to your forked project, work as normal and once you have changes that needs to be merged from the main project just click on the "" Review "" button on the left of the project dashboard. 

![Screen_Shot_2021-11-24_at_4.57.44_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411183514004)

2\. On the next window you will need to fill in the title and a brief summary of the changes made. Click on Create Merge Request

![Screen_Shot_2021-11-24_at_4.41.54_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4411171816340)

3\. A notification will now be sent to the main project where other users will look at the changes and approve them for merge if necessary. 

\*\*Please see related articles 

[Forking And Merging Projects](https://docs.dominodatalab.com/en/latest/user_guide/ef261b/fork-projects/)

[Reviewing Merge Changes](https://tickets.dominodatalab.com/hc/en-us/articles/4411175477140)

### Recently viewed articles

*   [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/articles/4413808021012-How-to-Delete-an-Empty-Folder-From-a-Domino-Project)
*   [How to Change Project Visibility](https://tickets.dominodatalab.com/hc/en-us/articles/4418132738708-How-to-Change-Project-Visibility)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/articles/5185124068884-Workspace-Logs-And-Support-Bundle-for-5-1-and-Above)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/articles/6037323632276--trash-Directory)
*   [Set the default project Environment for newly created projects automatically.](https://tickets.dominodatalab.com/hc/en-us/articles/6647396415252-Set-the-default-project-Environment-for-newly-created-projects-automatically)

### Related articles

*   [Files were deleted by accident - can I bring them back?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRAr7wBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQXgA8DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU1MDcwODAzNDAtRmlsZXMtd2VyZS1kZWxldGVkLWJ5LWFjY2lkZW50LWNhbi1JLWJyaW5nLXRoZW0tYmFjawY7CFQ6CXJhbmtpBg%3D%3D--2d5722db367a24658efd6f333b98f7632e9c93d0)
*   [Reviewing Merge Changes](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQfjA4DBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQXgA8DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzQ0MTExNzU0NzcxNDAtUmV2aWV3aW5nLU1lcmdlLUNoYW5nZXMGOwhUOglyYW5raQc%3D--33a370603e6f8ce95b899811e9b972e39da32a25)
*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTHT3kBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQXgA8DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzNzY3NDk4NDQtQ29uZmlndXJpbmctU01UUC1Ob3RpZmljYXRpb25zLWluLURvbWlubwY7CFQ6CXJhbmtpCA%3D%3D--eaef0472b7e9799cea40e711abb60084b883e223)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQXgA8DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQk%3D--1bbeccc957bc6e0c2a3930b690208188c6aba0e1)
*   [.trash Directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTOh6x9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQXgA8DBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI2L2hjL2VuLXVzL2FydGljbGVzLzYwMzczMjM2MzIyNzYtLXRyYXNoLURpcmVjdG9yeQY7CFQ6CXJhbmtpCg%3D%3D--e8325467310196d1c4d0ee221654a1920ab05564)"
https://tickets.dominodatalab.com/hc/en-us/articles/4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAOdKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIxMS1Ib3ctdG8tc2V0LXVwLVplcHBlbGluLVdvcmtzcGFjZXMGOwhUOglyYW5raQk%3D--4afbc9b00e06333f69daae5de1eac0e8edaaebbb,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494211-How-to-set-up-Zeppelin-Workspaces/subscription.html ""Opens a sign-in dialog"")

This post will share steps for setting up [Zeppelin 0.8.2](https://zeppelin.apache.org/docs/0.8.2/) as a workspace in Domino 4.1+ into the Domino Analytics Distribution (DAD)

**Prerequisites:**

*   [Domino version 4.1+](https://docs.dominodatalab.com/en/latest/release_notes/4-1.html) with access to the internet (specifically, to `http://apache.claz.org`)
*   A compute environment with the [Py3.6 R 3.6 DAD](https://github.com/dominodatalab/Domino_Base_Images/tree/master/Domino_Analytics_Distribution/2019_q3_py3.6_r3.6) base

**Instructions:**

1 . Add the following lines to the dockerfile instructions for your compute environment:

##Install Zeppelin from workspaces
RUN sudo apt-get update -y && \\
    sudo apt-get install -y axel && \\
    axel -n 10 http://apache.claz.org/zeppelin/zeppelin-0.8.2/zeppelin-0.8.2-bin-all.tgz && \\
    tar xvzf zeppelin-0.8.2-bin-all.tgz && \\
    rm -rf /opt/zeppelin && \\
    mv zeppelin-0.8.2-bin-all /opt/zeppelin && \\
    rm zeppelin-0.8.2-bin-all.tgz
RUN chown -R ubuntu:ubuntu /opt/zeppelin && \\
    mv  /var/opt/workspaces/Zeppelin/zeppelin-env.txt /opt/zeppelin/conf/zeppelin-env.sh  && \\
    chmod 777 /opt/zeppelin/conf/zeppelin-env.sh  && \\
    chown ubuntu:ubuntu /opt/zeppelin/conf/zeppelin-env.sh  && \\
    sed -i '94d' /opt/zeppelin/conf/zeppelin-env.sh  && \\
    chown -R ubuntu:ubuntu /opt/zeppelin && \\
    echo ""export ZEPPELIN\_ADDR=0.0.0.0"" >> /opt/zeppelin/conf/zeppelin-env.sh

2 . Add the following lines to the Pluggable Workspace Tools section for your compute environment:

Zeppelin:
  title: ""Zeppelin""
  iconUrl: ""https://raw.githubusercontent.com/dominodatalab/workspace-configs/develop/workspace-logos/Zeppelin.svg?sanitize=true""
  start: \[ ""/var/opt/workspaces/Zeppelin/start"" \]
  httpProxy:
    port: 8888
    requireSubdomain: false

The resulting Compute Environment settings should look like:

[![Screen Shot 2020-06-17 at 10.48.22 AM.png](https://us.v-cdn.net/6031622/uploads/HYBGYQTL7GC0/screen-shot-2020-06-17-at-10-48-22-am.png)](https://us.v-cdn.net/6031622/uploads/HYBGYQTL7GC0/screen-shot-2020-06-17-at-10-48-22-am.png)

3 . You should now have Zeppelin available as a workspace in projects using this compute environment:

[![Screen Shot 2020-06-17 at 10.56.26 AM.png](https://us.v-cdn.net/6031622/uploads/ARL93OIW07FM/screen-shot-2020-06-17-at-10-56-26-am.png)](https://us.v-cdn.net/6031622/uploads/ARL93OIW07FM/screen-shot-2020-06-17-at-10-56-26-am.png)

Warnings:

*   There are known issues using Zeppelin with [imported projects](https://docs.dominodatalab.com/en/latest/reference/projects/advanced/Project_dependencies.html) (it doesn't work).
*   These instructions may not work on different base images or in a Domino version <4.1

### Recently viewed articles

*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)

### Related articles

*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kG--747f3075fd8d15d94955fcda89bc278d1fdf83c6)
*   [Model resource quotas](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMvNItNTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI6L2hjL2VuLXVzL2FydGljbGVzLzM2MDAyNDU1OTA1MS1Nb2RlbC1yZXNvdXJjZS1xdW90YXMGOwhUOglyYW5raQc%3D--b7376f9856fdbce05c4450c68263c4d93da27c8a)
*   [Implementing Zeppelin as an IDE in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTU4iV6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzkzMjA3MTQ2NTQ4NjgtSW1wbGVtZW50aW5nLVplcHBlbGluLWFzLWFuLUlERS1pbi1Eb21pbm8GOwhUOglyYW5raQg%3D--03e231cbc21ed82f146e304d62a52da5d248aa22)
*   [Model API in "" Starting "" state forever](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRZLXEXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0OTg3Mjk1NTYzNzItTW9kZWwtQVBJLWluLVN0YXJ0aW5nLXN0YXRlLWZvcmV2ZXIGOwhUOglyYW5raQk%3D--0d671894181c3b4dfe9eaf1be81836de7ec63e1d)
*   [Comparing Jobs/Workspaces in Domino versions 4.4 and above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShMa0EBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOdKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ0MTgxMzIwOTExNTYtQ29tcGFyaW5nLUpvYnMtV29ya3NwYWNlcy1pbi1Eb21pbm8tdmVyc2lvbnMtNC00LWFuZC1hYm92ZQY7CFQ6CXJhbmtpCg%3D%3D--91cf7cc64357a8f7aec7e2b05696b3ed45b04aa6)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRZw1H3CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShMa0EBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzk4NTgzMjE3MDEyNjgtRXJyb3ItRU5PU1BDLVN5c3RlbS1saW1pdC1mb3ItbnVtYmVyLW9mLWZpbGUtd2F0Y2hlcnMtcmVhY2hlZAY7CFQ6CXJhbmtpCg%3D%3D--3ed0e21094bc7c1f967d7490c574c04a89bf2570,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9858321701268-Error-ENOSPC-System-limit-for-number-of-file-watchers-reached/subscription.html ""Opens a sign-in dialog"")

**Version:** 

Domino 4.x 5.x with VSCode

**Issue:**

When running a workspace with VSCode an error prompt appears:

![vscode_error.png](https://tickets.dominodatalab.com/hc/article_attachments/9858261309332)

This is also visible in the support bundle logs with similar errors:

\[File Watcher (node.js)\] Failed to watch /home/ubuntu/.local/share/code-server/Machine/settings.json  
for changes using fs.watch() (Error: ENOSPC: System limit for number of file watchers reached, watch  
'/home/ubuntu/.local/share/code-server/Machine/settings.json

**Root Cause:**

This indicates that the VS Code file watcher is running out of handles because the workspace is large and contains many files

**Resolution:**

Before adjusting platform limits, make sure that potentially large folders, such as Python .venv, are added to the files.watcherExclude setting (more details below).

```
// Configure paths or glob patterns to exclude from file watching.  ""files.watcherExclude"": {    ""**/.git/objects/**"": true,    ""**/.git/subtree-cache/**"": true,    ""**/node_modules/*/**"": true,    ""**/.hg/store/**"": true  },
```

You would change this in either one of settings section as described here: 

*   **User Settings**\- Settings that apply globally to any instance of VS Code you open.
*   **Workspace Settings**\- Settings stored inside your workspace and only apply when the workspace is opened.

See the settings editor section further to make those changes.

\*Note - to ensure that you can make change in the settings editor UI, look for the following setting:  

_workbench.settings.useSplitJSON_ and enable this. This will give you two panes, a split pane on the left (read only editor) and a split pane on the right (writeable editor). Make your changes in the right pane and save.

You can also increase the max\_user\_watches value on the server side:

```
# insert the new value into the system configecho fs.inotify.max_user_watches=<insert new watchers value> | sudo tee -a /etc/sysctl.conf && sudo sysctl -p# check that the new value was appliedcat /proc/sys/fs/inotify/max_user_watches
```

The max value that could be placed here would be 524288  (maximum number of files that can be watched).

**Notes:**

[https://code.visualstudio.com/docs/setup/linux#\_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc](https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc)

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/10177766385428)

### Recently viewed articles

*   [How to set up Zeppelin Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360058494211-How-to-set-up-Zeppelin-Workspaces)
*   [How to Get Workspace Logs (4.4.x and above)](https://tickets.dominodatalab.com/hc/en-us/articles/360061919571-How-to-Get-Workspace-Logs-4-4-x-and-above)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/articles/4485322580884-Domino-is-slow-and-I-see-Waiting-for-available-socket-in-my-browser)
*   [Error when starting workspace: ""Critical error in run: filecache path does not exist""](https://tickets.dominodatalab.com/hc/en-us/articles/360062526871-Error-when-starting-workspace-Critical-error-in-run-filecache-path-does-not-exist)

### Related articles

*   [kubectl - An error occurred (AccessDenied) when calling the AssumeRole operation:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxooLYCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZw1H3CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk3MjU5OTc2MjU3NDgta3ViZWN0bC1Bbi1lcnJvci1vY2N1cnJlZC1BY2Nlc3NEZW5pZWQtd2hlbi1jYWxsaW5nLXRoZS1Bc3N1bWVSb2xlLW9wZXJhdGlvbgY7CFQ6CXJhbmtpBg%3D%3D--bc8a6dd2da94520eb1e34846a36799dfd3a0f575)
*   [How to Delete an Empty Folder From a Domino Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSOdasDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZw1H3CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4MDgwMjEwMTItSG93LXRvLURlbGV0ZS1hbi1FbXB0eS1Gb2xkZXItRnJvbS1hLURvbWluby1Qcm9qZWN0BjsIVDoJcmFua2kH--5d887dba665d63badb4132a8333f392101426375)
*   [Can I turn off long running workspace notifications?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSSgXQCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZw1H3CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDg1OTEwOTQ0MjAtQ2FuLUktdHVybi1vZmYtbG9uZy1ydW5uaW5nLXdvcmtzcGFjZS1ub3RpZmljYXRpb25zBjsIVDoJcmFua2kI--27fcd2c48afdd82912ecf0e27530ffe3f05b8915)
*   [Dispatcher log has ""Error post-processing run.... domino.authz.NotAuthorizedException: Not authorized""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQULD3CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZw1H3CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgC9oYy9lbi11cy9hcnRpY2xlcy85ODU5OTA4MDMwNjEyLURpc3BhdGNoZXItbG9nLWhhcy1FcnJvci1wb3N0LXByb2Nlc3NpbmctcnVuLWRvbWluby1hdXRoei1Ob3RBdXRob3JpemVkRXhjZXB0aW9uLU5vdC1hdXRob3JpemVkBjsIVDoJcmFua2kJ--2ed1c228e3d115ac1baf9ef779697ca0753324af)
*   [Why do I need to delete all durable workspaces before transferring ownership of a project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2JFfuCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRZw1H3CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2FL2hjL2VuLXVzL2FydGljbGVzLzk4MTk3NTcyNDU5NzItV2h5LWRvLUktbmVlZC10by1kZWxldGUtYWxsLWR1cmFibGUtd29ya3NwYWNlcy1iZWZvcmUtdHJhbnNmZXJyaW5nLW93bmVyc2hpcC1vZi1hLXByb2plY3QGOwhUOglyYW5raQo%3D--f278858fd073a9a34d4ecd6a61373fe55fda6dbc)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4418132091156-Comparing-Jobs-Workspaces-in-Domino-versions-4-4-and-above,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23165339336596-Importing-and-Merging-Tags&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/23165339336596-Importing-and-Merging-Tags/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23165339336596-Importing-and-Merging-Tags,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23164968413204-Editing-and-Deleting-Tags-in-Tags-Launcher,"This could be a misconfiguration in the system or a service outage. We track these errors automatically and take action on them, but if the problem persists contact the systems administrator.

Please try again."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23164424654100-Adding-Project-Tags-Using-Tags-Launcher&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/23164424654100-Adding-Project-Tags-Using-Tags-Launcher/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23164424654100-Adding-Project-Tags-Using-Tags-Launcher,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F21773764089620-Launchers&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/21773764089620-Launchers/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/21773764089620-Launchers/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19908279566996-Understanding-SSH-Keys&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIcxrNFTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSC7kEbEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDAwMDAwODU4My1DaGFuZ2luZy10aGUtdGltZXpvbmUtb24teW91ci1leGVjdXRvcnMGOwhUOglyYW5raQk%3D--f4cde72f7a41ece6c477755ebb5da8692edb0acf,"![](https://tickets.dominodatalab.com/system/photos/380952943/Screen_Shot_2017-11-02_at_3.40.20_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360000008583-Changing-the-timezone-on-your-executors/subscription.html ""Opens a sign-in dialog"")

The timezone in your run logs may not match your local timezone. For example, inside of your RStudio notebook, you may notice that it's running on Coordinated Universal Time (UTC) whereas your runs dashboard shows time in Central Time Zone (CT):

![image002.png](https://tickets.dominodatalab.com/hc/article_attachments/360000013906)

Figure 1: Inside of your Rstudio notebook

![image001__8_.png](https://tickets.dominodatalab.com/hc/article_attachments/360000012223)

Figure 2: Runs dashboard

In order to synchronize this, you will need to add the following lines to the [Dockerfile instructions](https://support.dominodatalab.com/hc/en-us/articles/115000392643-Compute-Environment-Management) for your environment:

#change time zone  
env TZ=America/Chicago   
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

This particular example sets the timezone to Central Standard Time on the executor, which will be reflected in your RStudio workspace. [Here’s the full list of locales](https://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/timezone.html).

If you have any questions, please contact us at support@dominodatalab.com 

### Recently viewed articles

*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/articles/4413296938260--log4j-zero-day-vulnerability)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19908279566996-Understanding-SSH-Keys,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20495926267924-Downloading-audit-logs-that-has-project-permission-changes&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20495926267924-Downloading-audit-logs-that-has-project-permission-changes/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRAsQWREjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSQZxSkEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzIwNDE0MDc1MDYwMjQ0LVdvcmtzcGFjZS1zdHVjay1hc3NpZ25pbmctYW5kLW5vLWxvZ3MtYXJlLWFwcGVhcmluZy1pbi10aGUtU2V0dXAtbG9ncwY7CFQ6CXJhbmtpCQ%3D%3D--872cf47f9b1b41569bf6de071bffbdc16069d44f,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/20414075060244-Workspace-stuck-assigning-and-no-logs-are-appearing-in-the-Setup-logs/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

All versions of Domino.

* * *

## **Issue:**

Attempting to start a new workspace or existing workspace results in the workspace being stuck in the assigning phase for over 10 or 15 minutes:  
![](https://tickets.dominodatalab.com/hc/article_attachments/20414106862868)

In addition, the Workspace Logs do not show anything in Setup:  
![](https://tickets.dominodatalab.com/hc/article_attachments/20414091335828)

* * *

## **Root Cause:**

This can happen due to the cluster-autoscaler intermittently restarting due to running out of resources. This can be confirmed by looking for the cluster-autoscaler log with this command:

% kubectl get po -n domino-platform | grep cluster   
cluster-autoscaler-6cb6bf4f4d-ghx9n 0/1 CrashLoopBackOff 4 (79s ago) 3m15s

In this case, it's confirmed that the cluster-autoscaler is in CrashLoopBackOff status. Running `kubectl describe pod -n domino-compute cluster-autoscaler-xxxxxxx` will allow us to determine what its last status was before crashing again. In this case, we look for the `state` it is in and there it shows `Last State` which was `Terminated` due to `OOMKilled`:

    State:          Waiting
      Reason:       CrashLoopBackOff
    Last State:     Terminated
      Reason:       OOMKilled
      Exit Code:    137
      Started:      Fri, 27 Oct 2023 17:46:59 -0500
      Finished:     Fri, 27 Oct 2023 17:47:04 -0500
    Ready:          False
    Restart Count:  1
    Limits:
      cpu:     100m
      memory:  500Mi
    Requests:
      cpu:     50m
      memory:  100Mi

* * *

## **Resolution:**

The cluster-autoscaler log needs more memory to run properly. Depending on different Domino deployments, the resources will differ for the cluster-autoscaler pod.

To edit the amount of memory the pod can have, enter the command `kubectl edit deployment -n domino-platform cluster-autoscaler` to edit the deployment.

Edit the following section in the deployment for memory and then save the configuration:

    Limits:
      cpu:     100m
      memory:  800Mi <----
    Requests:
      cpu:     50m
      memory:  100Mi

This will delete the cluster-autoscaler pod and create a new one with those resource increases. Describe the pod using the command `kubectl describe pod -n domino-compute cluster-autoscaler-xxxxxxx` again, and it should now show that memory has been increased:

    State:          Running
      Started:      Fri, 27 Oct 2023 18:00:58 -0500
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     100m
      memory:  800Mi
    Requests:
      cpu:     50m
      memory:  100Mi

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Managing Dependencies](https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies)
*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/articles/12162175145492-How-to-Unarchive-a-project)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)
*   [Re-add Julia to 5.9 Domino Standard Environment](https://tickets.dominodatalab.com/hc/en-us/articles/24004260312212-Re-add-Julia-to-5-9-Domino-Standard-Environment)
*   [Changing the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/articles/360000008583-Changing-the-timezone-on-your-executors)

### Related articles

*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRAsQWREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kG--5877b5f3295e75d657e73947301dab03aef18b32)
*   [JupyterLab workspace fails to start with 'Failed with exit code: 1'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSgO7FiEjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRAsQWREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzIwMjE1MDg5NTY5ODEyLUp1cHl0ZXJMYWItd29ya3NwYWNlLWZhaWxzLXRvLXN0YXJ0LXdpdGgtRmFpbGVkLXdpdGgtZXhpdC1jb2RlLTEGOwhUOglyYW5raQc%3D--86a8c120b2577f8b9e54134d37620b0f4d329e3b)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRAsQWREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kI--4c44fc99e946c128fd6a2f1a4f706d5eae9aeecf)
*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRAsQWREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQk%3D--2badc982bdb1cf7fe09273b2a0ee45e4ad21f8ba)
*   [Domino is slow and I see ""Waiting for available socket"" in my browser](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQjD1IUBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRAsQWREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzQ0ODUzMjI1ODA4ODQtRG9taW5vLWlzLXNsb3ctYW5kLUktc2VlLVdhaXRpbmctZm9yLWF2YWlsYWJsZS1zb2NrZXQtaW4tbXktYnJvd3NlcgY7CFQ6CXJhbmtpCg%3D%3D--ae33cf674f8493b665578beaaae5efe34a5b7524)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F6998767239956-Extract-username-from-launcher-runs-in-Python&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360061119231-How-To-Get-The-Domino-Username-Of-An-App-Viewer,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Obtaining Support bundle Logs on an App on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/articles/4411267187092-Obtaining-Support-bundle-Logs-on-an-App-on-Domino-Version-4-3-up)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/articles/4405026385556-Acquiring-Published-App-Logs-for-Support)
*   [How to publish a Domino Code Assist (DCA) sample app](https://tickets.dominodatalab.com/hc/en-us/articles/24584495728148-How-to-publish-a-Domino-Code-Assist-DCA-sample-app)
*   [How to access Dash 2.x Apps from within a Domino workspace](https://tickets.dominodatalab.com/hc/en-us/articles/24366622244372-How-to-access-Dash-2-x-Apps-from-within-a-Domino-workspace)
*   [Creating and Publishing React Apps](https://tickets.dominodatalab.com/hc/en-us/articles/24141525831572-Creating-and-Publishing-React-Apps)
*   [Live testing the Streamlit in Domino on VSCode workspace](https://tickets.dominodatalab.com/hc/en-us/articles/22894340573076-Live-testing-the-Streamlit-in-Domino-on-VSCode-workspace)
*   [Creating your own web API with a Plumber App](https://tickets.dominodatalab.com/hc/en-us/articles/22669436764308-Creating-your-own-web-API-with-a-Plumber-App)
*   [FastAPI App with Multiple Endpoints](https://tickets.dominodatalab.com/hc/en-us/articles/20127027778452-FastAPI-App-with-Multiple-Endpoints)
*   [Interactive Dashboard App with Plotly and Flask](https://tickets.dominodatalab.com/hc/en-us/articles/17955268842900-Interactive-Dashboard-App-with-Plotly-and-Flask)
*   [Debugging Flask Apps in a Workspace with VSCode](https://tickets.dominodatalab.com/hc/en-us/articles/17954556269588-Debugging-Flask-Apps-in-a-Workspace-with-VSCode)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/22669427451540-Apps)

## How To Get The Domino Username Of An App Viewer

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061119231-How-To-Get-The-Domino-Username-Of-An-App-Viewer/subscription.html ""Opens a sign-in dialog"")

## How to get the Domino username of an App viewer

## **Overview**

Domino passes the username of a user accessing your [Domino App](https://docs.dominodatalab.com/en/latest/user_guide/71635d/publish-apps/) in an HTTP header named domino-username.

If your App framework gives you access to the HTTP headers of the active request, you can retrieve the username for use by your App code. If you allow users who are not logged in to Domino to view your Apps, for their requests to the App the value of the domino-username header will be ""Anonymous.""

**Prerequisite**

An App framework that can access proxied HTTP headers. This is

supported by Flask and Dash by default, but is

## **Example**

Consider this simple [Flask](http://flask.pocoo.org/) example where you have the following files in your project.

An app.sh script that starts your app code listening on the correct port.

export LC\_ALL\=C.UTF\-8
export LANG\=C.UTF\-8
export FLASK\_APP\=app.py
export FLASK\_DEBUG\=1
python \-m flask run \--host\=0.0.0.0 \--port\=8888

A simple app.py file that renders a template named index.html. Note that this app imports request from flask, which gives you access to the headers of the active HTTP request.

import flask
from flask import request, redirect, url\_for

class ReverseProxied(object):
  def \_\_init\_\_(self, app):
      self.app \= app
  def \_\_call\_\_(self, environ, start\_response):
      script\_name \= environ.get('HTTP\_X\_SCRIPT\_NAME', '')
      if script\_name:
          environ\['SCRIPT\_NAME'\] \= script\_name
          path\_info \= environ\['PATH\_INFO'\]
          if path\_info.startswith(script\_name):
              environ\['PATH\_INFO'\] \= path\_info\[len(script\_name):\]
      return self.app(environ, start\_response)

app \= flask.Flask(\_\_name\_\_)
app.wsgi\_app \= ReverseProxied(app.wsgi\_app)

@app.route('/')
def index\_page():
  return flask.render\_template(""index.html"")

A template file at templates/index.html that fetches the domino-username header from the requests object and renders it.

<html\>
  <body\>
    <h1\>Your username is {{ request.headers.get(""domino-username"") }}</h1\>
  </body\>
</html\>

If you host this App in Domino and open it, you'll see something like the following, where the username shown will match the username of the user viewing the App.

### Recently viewed articles

*   [Understanding SSH Keys](https://tickets.dominodatalab.com/hc/en-us/articles/19908279566996-Understanding-SSH-Keys)
*   [Workspace stuck assigning and no logs are appearing in the Setup logs](https://tickets.dominodatalab.com/hc/en-us/articles/20414075060244-Workspace-stuck-assigning-and-no-logs-are-appearing-in-the-Setup-logs)
*   [Managing Dependencies](https://tickets.dominodatalab.com/hc/en-us/articles/360060724212-Managing-Dependencies)
*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/articles/12162175145492-How-to-Unarchive-a-project)
*   [How to add TWO (or more Tiles in JupyterLab)](https://tickets.dominodatalab.com/hc/en-us/articles/20526444968084-How-to-add-TWO-or-more-Tiles-in-JupyterLab)

### Related articles

*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDCYddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCP%2BqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTg3NjcyMzk5NTYtRXh0cmFjdC11c2VybmFtZS1mcm9tLWxhdW5jaGVyLXJ1bnMtaW4tUHl0aG9uBjsIVDoJcmFua2kG--f3f4e5c85bf3fe5b8588ac1615f6dc4d52a444cd)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCP%2BqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQc%3D--dd0520adbf647d3ef1c350c5b12cc319cdbe0f98)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCP%2BqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpCA%3D%3D--1cea388f7b25fd1a7007541a850f8865ee70dfb1)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCP%2BqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kJ--dfe008052cc86c417e1bc1d5be5a1b22e99f0c7b)
*   [Acquiring Published App Logs for Support](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRuCKABBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCP%2BqUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDUwMjYzODU1NTYtQWNxdWlyaW5nLVB1Ymxpc2hlZC1BcHAtTG9ncy1mb3ItU3VwcG9ydAY7CFQ6CXJhbmtpCg%3D%3D--8fc81382fc4ca4490c32f234eb270f42a7383c93)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F6998767239956-Extract-username-from-launcher-runs-in-Python,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058496771-How-can-I-best-share-my-Launcher&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEs5y6DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOnKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI0L2hjL2VuLXVzL2FydGljbGVzLzIxMzU1NjQwMy1SdW5zLXNsb3ctdG8tc3RhcnQGOwhUOglyYW5raQc%3D--c97b3e94f1aded4d3c52a83a55f209bd0e74e746,"If your run is taking longer than expected to start, then possible explanations may be found below. First, identify the [run state](http://support.dominodatalab.com/hc/en-us/articles/206834373-Run-States) that your run appears to be spending an unusual amount of time in:

*   [Queued / Assigning](#Queued)
*   [Scheduled](#Scheduled)
*   [Preparing](#Preparing)
*   [Building](#Building)
*   [Running](#Running)

Queued/Assigning

When a run is queued, this means that it is waiting to be assigned to a machine.

**If you are working in a private on-premises deployment with a fixed number of machines:**

A run stuck in the Queued state could mean that all of the available run slots are occupied by other runs. Please contact a [SysAdmin](http://support.dominodatalab.com/hc/en-us/articles/207459193-System-Admin-Roles), who can determine whether this is the case.

**If you are working in our cloud or a private VPC deployment:**

A run is stuck in the Queued state means that no machines in the chosen [hardware tier](http://support.dominodatalab.com/hc/en-us/articles/204187149-What-hardware-will-my-code-run-on-) are currently available. A new machine will need to spin up, which can take a few minutes. If your run remains queued after several minutes, it's possible that a capacity limit has been reached, or there may be some problem with the system. Please contact your system admins (or [support@dominodatalab.com](mailto:support@dominodatalab.com), if appropriate) for further assistance in diagnosing the issue.

System admins, please see possible explanations [here](http://support.dominodatalab.com/hc/en-us/articles/115000152523).

Scheduled

This is different from user [scheduled runs](https://support.dominodatalab.com/hc/en-us/articles/204843165-Scheduling-Runs), this is a run state. When a run is in a scheduled state it means that the [dispatcher](https://support.dominodatalab.com/hc/en-us/articles/115000550746-Domino-Glossary) has requested an [executor](https://support.dominodatalab.com/hc/en-us/articles/115000550746-Domino-Glossary) to process a run. The executor has acknowledged this request but hasn’t started the run yet. If you see it in this state for more than a couple minutes, please [contact us](mailto:support@dominodatalab.com) for further assistance.

Preparing

When the run is Preparing, this means that data is being downloaded to the machine where your code will run.

**If you are experiencing a long wait in this stage:**

First, check the size of your project as well as any projects from which you are [importing files](http://support.dominodatalab.com/hc/en-us/articles/205703615-Project-Dependencies). Large projects, in terms of overall size (many GBs) and/or file count (thousands of files) can take some time to download and extract.

**If you find the length of the Preparing step is inconsistent:**

This could be explained by Domino's built-in file caching. If an existing copy of your project files is available on an executor machine you've previously used, Domino will attempt to re-use that data as a starting point for the Preparing stage, which can significantly speed up the sync.

**If you think that the Preparing step is taking longer than it should, or if the length of time is prohibitive for your workflow:**

Please [contact us](mailto:support@dominodatalab.com) for further assistance.

Building

When the run is Building, this means that it is compiling a [custom compute environment](http://support.dominodatalab.com/hc/en-us/articles/206172876-Compute-Environment-Management) from a [Dockerfile](http://support.dominodatalab.com/hc/en-us/articles/213226403-How-to-avoid-re-installing-packages-in-each-run).

**If this seems to be taking longer than expected:**

Check your environment definition for any packages that you may be installing by mistake, or can otherwise remove.

**If the length of this stage is inconsistent:**

It could be due to built-in Docker caching, which is used when possible. If you re-run on a machine that has already built this environment, this stage will be skipped.

**If you can't explain why this step is taking so long, or if the slowness is significantly impacting your workflow:**

Please [contact us](mailto:support@dominodatalab.com) for further assistance.

Running

This is the state where your script or interactive session runs. However, it is also the state where [requirements.txt packages are pip installed](http://support.dominodatalab.com/hc/en-us/articles/204842945-How-can-I-install-packages-or-dependencies-#python) and any code contained in the pre-setup and post-setup scripts of a [custom compute environment](http://support.dominodatalab.com/hc/en-us/articles/206172876-Compute-Environment-Management) is executed.

**If you are waiting on a workspace, you might come across the message ""There was a problem connecting to the notebook session. Click here to retry,"" or just ""Starting"" with a spinner:**

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/210213786/Screen_Shot_2016-11-03_at_7.55.34_PM.png)

or

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/210104863/Screen_Shot_2016-11-03_at_7.39.35_PM.png)

This usually means that your requirements.txt or pre/post-setup script packages are still being installed.

**If you don't expect these installations to take very long:**

You can try clicking the ""retry"" link (if available) until the ""Open Session"" button appears. If the installation is still not completing, inspect the console output for debugging information (if you can no longer see the console output, try starting a new session or running a batch script).

**If you do expect these installations to take a while:**

Consider [caching them](http://support.dominodatalab.com/hc/en-us/articles/213226403-How-to-avoid-re-installing-packages-in-each-run).

**If you don't have any requirements.txt or pre/post-setup script installations, or if they shouldn't be taking this long:**

Please [contact us](mailto:support@dominodatalab.com) for further assistance."
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuCKwwBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAOnKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzc5MDU2MjYwNTgyNjAtU3luYy1mYWlscy1hZnRlci1zZWxmLXVwZ3JhZGUtdG8tRG9taW5vLTUteAY7CFQ6CXJhbmtpCQ%3D%3D--713810a9cd2c4f4287393eda515ad334a7e6f8c7,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7905626058260-Sync-fails-after-self-upgrade-to-Domino-5-x/subscription.html ""Opens a sign-in dialog"")

#### _**Version**_

Domino 5.x

## **Issue:**

After performing a self-upgrade to Domino 5.x you might find that workspace syncs are failing. You might also note in the dispatcher logs the following HTTP 404 error:

WARN \[d.s.r.d.s.DefaultRunManager\] Failure on pull correlationId=""27d03134-d6b0-45d9-bbd1-f20886bf99b3"" thread=""application-akka.actor.default-dispatcher-200"" domino.common.util.http.HttpException: Code: 404, Error: Not Found, headers: Map(Play-Processing-Time -> List(2), Date -> List(Thu, 07 Jul 2022 12:51:43 GMT), Content-Type -> List(application/json), Content-Length -> List(39)), Body: {""success"":false,""message"":""Not Found""}

## **Root Cause:**

Domino 5.0 has removed some configuration flags that will cause this sync failure if those flags are still present.  

## **Resolution:**

1\. Go to **Admin >> Advanced >> Central Config.**

2\. Find the following keys and click the trash can icon at the end of each row.

*   `com.cerebro.domino.builder.image`
    
*   `com.cerebro.domino.computegrid.kubernetes.executor.imageName`
    
*   `com.cerebro.domino.modelmanager.harnessProxy.image`
    

3\. Click the message at the top of the page to restart the services.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [Runs slow to start](https://tickets.dominodatalab.com/hc/en-us/articles/213556403-Runs-slow-to-start)

### Related articles

*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0cpdyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuCKwwBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy83MDg5MjM2OTE1MzQ4LVJzdHVkaW8tcGxvdC1mdW5jdGlvbnMtZmFpbC13aXRoLVItZ3JhcGhpY3MtZW5naW5lLXZlcnNpb24tMTUtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpBg%3D%3D--203a94d5024c2f5ac0799adf08768ddf5a8d3cf6)
*   [Data Importer failed due to name of the backup file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRG5%2F4tBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuCKwwBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzU2OTUxMDgyMzY5NDgtRGF0YS1JbXBvcnRlci1mYWlsZWQtZHVlLXRvLW5hbWUtb2YtdGhlLWJhY2t1cC1maWxlBjsIVDoJcmFua2kH--dc02344e0f13ea1f72a2010a56b5fcb63c5bc8d6)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuCKwwBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kI--3f06cadab662c190a58b3dcbac05887f84ffe385)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuCKwwBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kJ--5f504b9e0ad1a7c75eca1307ab27502c1f2c4f20)
*   [Requesting for Merge Review](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQXgA8DBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRuCKwwBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzQ0MTExOTE0NjU3NDgtUmVxdWVzdGluZy1mb3ItTWVyZ2UtUmV2aWV3BjsIVDoJcmFua2kK--1501987462f766e86bb332fc89eda57ba24086c9)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058496771-How-can-I-best-share-my-Launcher,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSvpw4BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJeL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI1ODczNDg4ODQtSW5zdGFsbGluZy10aGUtQ0xJLWVycm9yLWNvZGUtbGF1bmNoLXBhdGgtbm90LWFjY2Vzc2libGUGOwhUOglyYW5raQc%3D--2d2d06e6875a4b703406f2e323e1b4d8f4558741,"## An internal error occurred (error code: launch path not accessible)

Once the installer begins, it will try to install a compatible version of Java on your system. If you have a newer version of Java, you may need to download and install the latest 64-bit version of Java 8 from the Oracle website. [https://java.com/en/download/manual.jsp](https://java.com/en/download/manual.jsp) (32-bit browsers do not support Java 7 and later versions on macOS)  
Then run the following commands in order from your local terminal, substituting your own values where appropriate.

*   hdiutil mount <path\_to\_CLI\_installer>/<name\_of\_domino\_download.dmg>
*   sudo cp -R /Volumes/domino/Domino\\ installer.app /Applications
*   sudo Applications/Domino\\ Installer.app/Contents/MacOS/JavaApplicationStub

At this point you should see the popup warning from above and should follow those instructions.

## You must be logged in as root when installing this program.

After clicking **Open** on the popup warning the installer will begin, and you might run into this error.  
[![](https://lh3.googleusercontent.com/CS3ifO6jdR8ohU7GY3HAbNDay8u--qL8r5tIrx6rz3dITewP9E0s6EsD463DvdBKJdB9O5ttiOQ-TQqTf7NUDTb6vDwHViWLx4Mob0QFFTIpRBCW4BwV3MUvS6m8sUuYdmPPSjZ5)](https://lh3.googleusercontent.com/CS3ifO6jdR8ohU7GY3HAbNDay8u--qL8r5tIrx6rz3dITewP9E0s6EsD463DvdBKJdB9O5ttiOQ-TQqTf7NUDTb6vDwHViWLx4Mob0QFFTIpRBCW4BwV3MUvS6m8sUuYdmPPSjZ5)  
Similar to the above, you will need to run the installer contents from your Applications folder using 'sudo'. Run through the 3 bullets from above in order. If you've already copied the installer to your Applications folder, then you only need to run the last command to begin the install.

You should be able to complete the installation of the CLI on your Mac with these steps. Remember to run the CLI and authorize it with your deployment (domino login https://<domino-URL>)."
https://tickets.dominodatalab.com/hc/en-us/articles/360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQZyxHSBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy82Mzk5Nzk5Nzk0MDY4LVdoeS1pc250LXRoZS13b3Jrc3BhY2UtSURFLXR5cGUtSS13YW50LUp1cHR5ZXItUnN0dWRpby1KdXB5dGVybGFiLVNBUy1hdmFpbGFibGUtaW4tbXktcHJvamVjdAY7CFQ6CXJhbmtpCQ%3D%3D--d06987f36c088c3b3f2221e5dd7c875a636336fa,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6399799794068-Why-isnt-the-workspace-IDE-type-I-want-Juptyer-Rstudio-Jupyterlab-SAS-available-in-my-project/subscription.html ""Opens a sign-in dialog"")

## Problem

Integrated Development Environments (IDEs) are available to use in your Domino project as a workspace.  The type of IDE you prefer to use in your project may not be available as an option for you in every project.

## Solution

IDEs are defined by the Compute Environment in use in your project.  Not all Environments are set up to contain every IDE, so if you have just changed your Compute Environment and can no longer find the IDE the want, either revert the Compute Environment or choose another that does have the IDE you need defined.  If you would like to edit your current Environment to add the IDE you want, instructions for that can be found in our documentation, [here](https://docs.dominodatalab.com/en/latest/user_guide/03e062/add-workspace-ides/).

## Affects Versions

All

## Related Articles

[Environments](https://docs.dominodatalab.com/en/latest/user_guide/0d73c6/environments/)

[What is all this DAD/DME/DSE stuff in my compute environments?](https://tickets.dominodatalab.com/hc/en-us/articles/4417115922452-What-is-all-this-DAD-DME-DSE-stuff-in-my-compute-environments-)

[Domino 4 Standard Environments](https://tickets.dominodatalab.com/hc/en-us/articles/360061119791-Domino-4-Standard-Environments)

[Workspaces](https://docs.dominodatalab.com/en/latest/user_guide/867b72/workspaces/)

### Recently viewed articles

*   [Installing the CLI - error code:launch path not accessible](https://tickets.dominodatalab.com/hc/en-us/articles/4402587348884-Installing-the-CLI-error-code-launch-path-not-accessible)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496771-How-can-I-best-share-my-Launcher)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/articles/6998767239956-Extract-username-from-launcher-runs-in-Python)
*   [Runs slow to start](https://tickets.dominodatalab.com/hc/en-us/articles/213556403-Runs-slow-to-start)

### Related articles

*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZyxHSBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kG--65d6f94b9f0b04bd8cda8da10b3f464cce698149)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZyxHSBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--400c057c0aae2e4a690c2d45df99b493c4b6efe0)
*   [Tensorflow will not find GPUs in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTm1NWMBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZyxHSBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzUwMDI5Mjk0MzIwODQtVGVuc29yZmxvdy13aWxsLW5vdC1maW5kLUdQVXMtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpCA%3D%3D--be13496f09e0ac74f52e37eea3838b91e7ee35d8)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZyxHSBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpCQ%3D%3D--23483d6c9e51d557aa7c3776e438801000f11f98)
*   [How do I integrate Domino with my CI/CD pipeline?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BbKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZyxHSBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzk1MS1Ib3ctZG8tSS1pbnRlZ3JhdGUtRG9taW5vLXdpdGgtbXktQ0ktQ0QtcGlwZWxpbmUGOwhUOglyYW5raQo%3D--d7f1c18453afd0b70be2ac5063f7cabee951c5f3)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058493111-Populating-the-path-from-the-project-files-in-Domino-Launcher,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20511317772180-Update-the-credentials-of-a-Git-Based-project&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20511317772180-Update-the-credentials-of-a-Git-Based-project/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20511317772180-Update-the-credentials-of-a-Git-Based-project,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23509058167572-Git-Integration&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23509058167572-Git-Integration/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/23509058167572-Git-Integration/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496251-How-to-add-a-git-repository-with-a-custom-ssh-port,"Please see [this guide](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/) for adding git repositories to Domino.

If you want to add a repo from a git server with ssh configured to another port (in this example, it's 12345) you will need to use the below format:

ssh://git@my-internal-git-server.example.com:12345/username/mycoolrepo.git

If you have any issues setting this up, please let us know!

_Note: Don't forget to_ [add your git credentials](https://docs.dominodatalab.com/en/latest/user_guide/314004/import-git-repositories/#_step_2_add_your_credential_to_domino) _for the domain in question._"
https://tickets.dominodatalab.com/hc/en-us/articles/12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQc%3D--58d454f4d68dca044ff06de13fa12e1582c37b14,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set/subscription.html ""Opens a sign-in dialog"")

_**Version/Environment:**_

Any version, though most likely to occur if you're an established customer who upgraded from one of our older (pre-Keycloak) versions.

* * *

**Issue:**

When trying to activate or deactivate a user in the Domino Admin pages, you receive the error message ""User could not be activated: User <user> does not have idpId set"" or ""User could not be deactivated: User <user> does not have idpId set"".

![idpId_unset.JPG](https://tickets.dominodatalab.com/hc/article_attachments/9122882126484/idpId_unset.JPG)

* * *

**Root Cause:**

This issue can occur if the MongoDB record for a specific user lacks an entry for ""idpId"", a field that facilitates communication between the Domino UI and Keycloak.

* * *

**Resolution:**

_\*Note_: This resolution involved editing records in MongoDB. While the steps outlined in this article are fairly straightforward, if you have any questions or are not comfortable executing these steps, please don't hesitate to reach out to [Domino Support](https://tickets.dominodatalab.com/hc/en-us/requests/new#numberOfResults=5) for assistance!

To fix this issue, the user needs their idpId from Keycloak added to their MongoDB user record in Domino. MongoDB can be accessed in the Domino Admin UI under **Advanced** > **MongoDB**, and Keycloak is accessed at https://<your domino url>/auth/admin.

1.  Locate the user in MongoDB. The user ID from the error message can be used for this step. Confirm there is no field/value for ""idpId"". 
    
    **Example MongoDB query:**
    
    db.users.find({""loginId.id"":""domino\_user""}).pretty()
    
      
    **Example Results** (note the lack of ""idpId"" field):  
    
    {
    	""\_id"" : ObjectId(""631765c41af713753257ab76""),
    	""loginId"" : {
    		""id"" : ""domino\_user"",
    		""lowercaseId"" : ""domino\_user""
    	},
    	""firstName"" : ""Domino"",
    	""lastName"" : ""User"",
    	""fullName"" : ""Domino User"",
    	""email"" : ""test@email.com"",
    	""created"" : ISODate(""2022-09-06T15:22:44.476Z""),
    	""planInfo"" : {
    		""trialStartDate"" : ISODate(""2022-09-06T15:22:44.476Z""),
    		""freeRunsForAllProjects"" : false
    	},
    	""\_systemRoles"" : \[
    		""Practitioner""
    	\],
    	""sshKeys"" : \[ \],
    	""gitDomainCredentials"" : \[ \],
    	""deactivatedFlag"" : true,
    	""productOptIn"" : true,
    	""marketingOptIn"" : false,
    	""isDominoEmployee"" : false
    }
    
       
2.  Locate the user in Keycloak and copy their idpId. This will be the value in the ""ID"" field.![keycloak_id.JPG](https://tickets.dominodatalab.com/hc/article_attachments/9123248918164/keycloak_id.JPG)  
        
3.  Update the user's MongoDB record with the ""idpId"" (the ""ID"" from Keycloak). If your query in Step 1 only returned a single user, this could be done with the user's loginId, however using the ""\_id"" field to identify the user to update will always ensure only a single record is updated and there are no unintended consequences. 
    
    **Example MongoDB Query:**
    
    db.users.update({""\_id"" : ObjectId(""631765c41af713753257ab76"")}, {$set: {""idpId"":""2fc9f176-49c4-49a3-8c63-8a0d3a956420""}})
    
      
    **Expected Result:**  
    
    WriteResult({ ""nMatched"" : 1, ""nUpserted"" : 0, ""nModified"" : 1 })
    
        
4.  Re-run the query from Step 1 to double check the ""idpId"" is now added  
    **  
    Example MongoDB query:** db.users.find({""loginId.id"":""domino\_user""}).pretty()
    
    **Example Results:**
    
    {
    	""\_id"" : ObjectId(""631765c41af713753257ab76""),
    	""loginId"" : {
    		""id"" : ""domino\_user"",
    		""lowercaseId"" : ""domino\_user""
    	},
    	""firstName"" : ""Domino"",
    	""lastName"" : ""User"",
    	""fullName"" : ""Domino User"",
    	""email"" : ""test@email.com"",
    	""created"" : ISODate(""2022-09-06T15:22:44.476Z""),
    	""planInfo"" : {
    		""trialStartDate"" : ISODate(""2022-09-06T15:22:44.476Z""),
    		""freeRunsForAllProjects"" : false
    	},
    	""\_systemRoles"" : \[
    		""Practitioner""
    	\],
    	""sshKeys"" : \[ \],
    	""gitDomainCredentials"" : \[ \],
    	""deactivatedFlag"" : false,
    	""productOptIn"" : true,
    	""marketingOptIn"" : false,
    	""isDominoEmployee"" : false,
    	""idpId"" : ""2fc9f176-49c4-49a3-8c63-8a0d3a956420"",
    	""hashedApiKey"" : ""0343cc45c0f21ed8a50a45805b97b28db537cb0e""
    }
    

It should now be possible to Activate/Deactivate this user in Domino.

![idpId_set.JPG](https://tickets.dominodatalab.com/hc/article_attachments/9124674967572/idpId_set.JPG)

### Recently viewed articles

*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)

### Related articles

*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSMnHlLCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBg%3D%3D--060a2aadc96a96503752e59a474c323ba58f1470)
*   [Switching Domino Users Roles](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSGZU80CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSMnHlLCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJCL2hjL2VuLXVzL2FydGljbGVzLzkwMjA3NjMzNzUxMjQtU3dpdGNoaW5nLURvbWluby1Vc2Vycy1Sb2xlcwY7CFQ6CXJhbmtpBw%3D%3D--f82aa05a00048526db74041a84baa02352d2f9b5)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSMnHlLCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kI--23cc6602db54daa48f9de6e926ac726781d8495d)
*   [How can I best share my Launcher?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAOnKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSMnHlLCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njc3MS1Ib3ctY2FuLUktYmVzdC1zaGFyZS1teS1MYXVuY2hlcgY7CFQ6CXJhbmtpCQ%3D%3D--24b27a9cc872400be5e358f4079f7efe8f1154b5)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSMnHlLCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQo%3D--1af0c7eda3abaa0e2e7c5bab114e896a8b03faac)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSLlZGYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRPdvp5CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzgzNTE4NTg5MjAzNDAtTmV3LUdJVC1yZXBvLW5vdC1hZGRlZC10by1kdXJhYmxlLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCA%3D%3D--398a84ce39539521dd8a1f966da48008cee49e17,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8351858920340-New-GIT-repo-not-added-to-durable-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Durable workspaces were introduced in Domino v4.4.  The messaging noted in this article was added as of Domino 5.2.

## **Issue:**

If a new git repository is added to a project, an existing durable workspace will not use that repository.  A new durable workspace must be created to use the newly added GIT repository.

## **Root Cause:**

Reproducibility is at the heart of the durable workspace.  Adding a new GIT repo to an existing workspace is antithetical to the concept of reproducibility.  This also includes new GIT commits for which a new workspace will need to be created.

## **Resolution:**

If you need to add a new GIT repository to a project, start a new workspace.  As of Domino v5.2 you will see the following messaging when you add the new repository as below:

![new_repo.png](https://tickets.dominodatalab.com/hc/article_attachments/8351759521940)

Additionally within the workspace you will see the highlighted warning:

![Screen_Shot_2022-08-05_at_11.05.30_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/8351828061076)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)

### Related articles

*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ6EgwEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSLlZGYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzQ0MTU0Mjg5MDEzOTYtSS1tLXVuYWJsZS10by1hZGQtYS1HSVQtcmVwby10by1teS1wcm9qZWN0BjsIVDoJcmFua2kG--865502f81850e0b0b10f7f033bd94d4f55fa5169)
*   [Error connecting to shared Git based project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTlyWCiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSLlZGYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzYxOTQ5NjY2ODUwNzYtRXJyb3ItY29ubmVjdGluZy10by1zaGFyZWQtR2l0LWJhc2VkLXByb2plY3QGOwhUOglyYW5raQc%3D--b72921f9259da9843b14bb763f7dd54b747ff1bc)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSLlZGYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kI--86666f91288b4e14ded1fe7242c58a35ea5b41a4)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSLlZGYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQk%3D--992263f01c2f23424c48817627dfdeb21a56ecbb)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSLlZGYBzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kK--7f16c8c6e506151d148432acaa32662664333e72)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F8351858920340-New-GIT-repo-not-added-to-durable-workspace) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12618521005972-Can-the-Git-repo-that-a-Domino-Git-backed-project-is-based-on-be-changed,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12633059560084-Upgrade-fails-with-errors-about-statefulsets&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

Stacy Alme

*   1 month ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment/subscription.html ""Opens a sign-in dialog"")

At this time we do not officially support, nor do we have a process for upgrading Salt and/or Kubernetes for 3.x deployments. 

If you are on a 3.6 deployment and have questions about this policy, please reach out to your account team and/or Domino support. 

### Recently viewed articles

*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/articles/4415428901396-I-m-unable-to-add-a-GIT-repo-to-my-project)
*   [New GIT repo not added to durable workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8351858920340-New-GIT-repo-not-added-to-durable-workspace)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/articles/8600982680212-Error-adding-Azure-devops-git-repository-Cannot-access-Git-repository-with-URI)

### Related articles

*   [Sync fails after self upgrade to Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuCKwwBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTUvwkaCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzc5MDU2MjYwNTgyNjAtU3luYy1mYWlscy1hZnRlci1zZWxmLXVwZ3JhZGUtdG8tRG9taW5vLTUteAY7CFQ6CXJhbmtpBg%3D%3D--0613d4e5af692748e6f0352f6683f6dc2c848908)
*   [Data Importer failed due to name of the backup file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRG5%2F4tBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTUvwkaCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzU2OTUxMDgyMzY5NDgtRGF0YS1JbXBvcnRlci1mYWlsZWQtZHVlLXRvLW5hbWUtb2YtdGhlLWJhY2t1cC1maWxlBjsIVDoJcmFua2kH--fbe2d4474e05fc7e9c5c17ca20dbf073321c90d5)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/5695108236948-Data-Importer-failed-due-to-name-of-the-backup-file,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5695108236948-Data-Importer-failed-due-to-name-of-the-backup-file/subscription.html ""Opens a sign-in dialog"")

During an upgrade, when applying a backup to a fresh install of Domino 5.1 via the data importer (with postgres data), it failed with below error message, 

Running postgres migration...  
Backing up local postgres db to /opt/scratch/postgres/postgres\_archive\_local-backup\_20220413-233813.gz...  
Running: \['pg\_dump', '-h', 'postgresql', '-U', 'postgres', '-Z', '9', 'keycloak'\], piping to /opt/scratch/dev-postgres.sql  
Dropping and recreating 'keycloak' database...  
Sending UPDATE pg\_database SET datallowconn = 'false' WHERE datname = 'keycloak' to postgres...  
UPDATE 1

Sending SELECT pg\_terminate\_backend(pid) FROM pg\_stat\_activity WHERE datname = 'keycloak' to postgres...  
pg\_terminate\_backend  
\---------------------- t  
(1 row)

Sending DROP DATABASE keycloak to postgres...  
DROP DATABASE

Sending CREATE DATABASE keycloak to postgres...  
CREATE DATABASE

Restoring postgres from /opt/scratch/dev-postgres.sql...  
Sending file data to postgres...

Traceback (most recent call last):  
File ""src/importer/importer"", line 275, in <module>  
main()  
File ""src/importer/importer"", line 40, in main  
Importer().process\_all()  
File ""src/importer/importer"", line 269, in process\_all  
\[q.migrate() for q in queue\]  
File ""src/importer/importer"", line 269, in <listcomp>  
\[q.migrate() for q in queue\]  
File ""/app/src/importer/import\_workers/postgres.py"", line 96, in migrate  
self.psql\_cmds(stdin=f, db=""keycloak"", encoding=None)  
File ""/app/src/importer/import\_workers/postgres.py"", line 143, in psql\_cmds  
raise WorkerException(f""Command \[{psql\_cmd}\] exited with {p.returncode}: {p.stderr}"")  
importer.import\_workers.WorkerException: Command \[\['psql', '-h', 'postgresql', '-U', 'postgres', '-d', 'keycloak'\]\] exited with 0: b'invalid command \\\\@\\xc2\\x198\\xb4\\ninvalid command 

### Recently viewed articles

*   [Sync fails after self upgrade to Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/7905626058260-Sync-fails-after-self-upgrade-to-Domino-5-x)
*   [Is it possible to upgrade platform dependency software in a 3.6 deployment?](https://tickets.dominodatalab.com/hc/en-us/articles/10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/articles/4415428901396-I-m-unable-to-add-a-GIT-repo-to-my-project)
*   [New GIT repo not added to durable workspace](https://tickets.dominodatalab.com/hc/en-us/articles/8351858920340-New-GIT-repo-not-added-to-durable-workspace)

### Related articles

*   [After using the v51 installer we are unable to build any environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTqu%2BUGBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRG5%2F4tBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzU1MjcxODIyNDA0MDQtQWZ0ZXItdXNpbmctdGhlLXY1MS1pbnN0YWxsZXItd2UtYXJlLXVuYWJsZS10by1idWlsZC1hbnktZW52aXJvbm1lbnRzBjsIVDoJcmFua2kG--76ec2b279e0299f2230f3473c82dbea8c71c5154)
*   [Jupyter breaks in older DAD compute environments when adding domino-code-assist library](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSVpnWtEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRG5%2F4tBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzE5NDM2NzAwODY1ODEyLUp1cHl0ZXItYnJlYWtzLWluLW9sZGVyLURBRC1jb21wdXRlLWVudmlyb25tZW50cy13aGVuLWFkZGluZy1kb21pbm8tY29kZS1hc3Npc3QtbGlicmFyeQY7CFQ6CXJhbmtpBw%3D%3D--24005e1d993c1d676c4f7c8191b0c4b73aec2c88)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSK6Z4zEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRG5%2F4tBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzE3ODEzODk1NDgyMDA0LWRvbWluby13b3JrYmVuY2gtYmFja3VwLWZhaWxzLWZpbGUtY2hhbmdlZC1hcy13ZS1yZWFkLWl0BjsIVDoJcmFua2kI--bc5c2dffe0a55320fce4ee90e5b9beea5a5f1395)"
https://tickets.dominodatalab.com/hc/en-us/articles/5527182240404-After-using-the-v51-installer-we-are-unable-to-build-any-environments,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5527182240404-After-using-the-v51-installer-we-are-unable-to-build-any-environments/subscription.html ""Opens a sign-in dialog"")

We recently discovered a bug in the v51 fleetcommand installer for Domino version 5.1.0. Using this installer will prevent environment builds from initiating. This will be fixed in the 5.2.0+ version of Domino but for now you can modify the nucleus network policy `cidr` range during installation to be inclusive of the node IPs as well so that the host-based Docker image builder can access nucleus.

The suggested override is: 

services:   
  nucleus:chart\_values:   
      networkPolicy:   
        ingressSelectors:   
          - ipBlock:   
            cidr: 0.0.0.0/0

An example of the error you may see in build logs before fixing the configuration: 

![image.png](https://tickets.dominodatalab.com/hc/article_attachments/5527289523860)

### Recently viewed articles

*   [Data Importer failed due to name of the backup file](https://tickets.dominodatalab.com/hc/en-us/articles/5695108236948-Data-Importer-failed-due-to-name-of-the-backup-file)
*   [Sync fails after self upgrade to Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/7905626058260-Sync-fails-after-self-upgrade-to-Domino-5-x)
*   [Is it possible to upgrade platform dependency software in a 3.6 deployment?](https://tickets.dominodatalab.com/hc/en-us/articles/10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)
*   [I'm unable to add a GIT repo to my project](https://tickets.dominodatalab.com/hc/en-us/articles/4415428901396-I-m-unable-to-add-a-GIT-repo-to-my-project)

### Related articles

*   [Prometheus fails when upgrading to 5.3.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSoEOY6CjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTqu%2BUGBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzExMjQ4MDg0MjMyMjEyLVByb21ldGhldXMtZmFpbHMtd2hlbi11cGdyYWRpbmctdG8tNS0zLXgGOwhUOglyYW5raQY%3D--873dcc355c518f919f7ee558574acd03588313df)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F5527182240404-After-using-the-v51-installer-we-are-unable-to-build-any-environments) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/12633059560084-Upgrade-fails-with-errors-about-statefulsets/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQZAnrBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzE1MTI0NjI2ODA3MTg4LUZhaWxlZE1vdW50LWV2ZW50LWVmcy1jc2ktYXdzLWNvbS1ub3QtZm91bmQtaW4tdGhlLWxpc3Qtb2YtcmVnaXN0ZXJlZC1DU0ktZHJpdmVycwY7CFQ6CXJhbmtpBg%3D%3D--a9c186af7b9714d1fa17927dc6df1a98ac9a6cd7,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15124626807188-FailedMount-event-efs-csi-aws-com-not-found-in-the-list-of-registered-CSI-drivers/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

Admins have seen this event while describing a pod and are curious if it is a sign of problems:

`Warning  FailedMount             55s (x2 over 1m2s)  kubelet                  MountVolume.MountDevice failed for volume ""domino-shared-store-domino-compute"" : kubernetes.io/csi: attacher.MountDevice failed to create newCsiDriverClient: driver name efs.csi.aws.com not found in the list of registered CSI drivers`

* * *

## **Root Cause:**

This often a short-term warning that can be ignored.  The above would only be seen in EKS (Amazon) based clusters.    If the ""FailedMount"" warnings stop being issued to the events and mounts attach, then this problem can be ignored because it is temporary, a short-term occurrence while CSI is exposing the file system to a node's pods. 

* * *

## **Resolution:**

If the problem is not temporary and your pod continues to have `FailedMount` then run `kubectl get csidrivers.storage.k8s.io` to confirm the efs.csi.aws.com driver returns in the list and is actually installed.  If not, your not may not have been provisioned correctly.  

![Screenshot_2023-04-24_at_3.28.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/15124386717204)

If the above cmd does show efs.csi.aws.com in the list, then you should inspect the pods containing the letters 'csi' `kubectl get po -A | grep csi` reviews pod describes and log.  Making sure you include the kube-system namespace in your search and review the ""controllers"" as well as the \*csi\* pod on the node which your failing pod has been assigned to.  If you need help contact Technical Support, including your screenshots, describes, logs, etc.

* * *

## **Notes/Information:**

any useful, additional background if necessary.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [After using the v51 installer we are unable to build any environments](https://tickets.dominodatalab.com/hc/en-us/articles/5527182240404-After-using-the-v51-installer-we-are-unable-to-build-any-environments)
*   [Data Importer failed due to name of the backup file](https://tickets.dominodatalab.com/hc/en-us/articles/5695108236948-Data-Importer-failed-due-to-name-of-the-backup-file)
*   [Sync fails after self upgrade to Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/7905626058260-Sync-fails-after-self-upgrade-to-Domino-5-x)
*   [Is it possible to upgrade platform dependency software in a 3.6 deployment?](https://tickets.dominodatalab.com/hc/en-us/articles/10007437366292-Is-it-possible-to-upgrade-platform-dependency-software-in-a-3-6-deployment)
*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/articles/4407753305620-Adding-a-new-Git-Repository-to-your-project-using-SSH-key)

### Related articles

*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZAnrBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQY%3D--069f7afb581c8c9ab2e52865b60f146f5514e36b)
*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTtucC%2FDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZAnrBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzE1MTE3MjIzMzI0OTQ4LVNob3VsZC10aGlzLVBWLXBlcnNpc3RlbnRWb2x1bWUtc3RpbGwtYmUtaW4tbXktc3lzdGVtLWluLVJldGFpbi1zdGF0dXMGOwhUOglyYW5raQc%3D--0fe8187120427f722717632a90530ec26631f784)
*   [kubectl - An error occurred (AccessDenied) when calling the AssumeRole operation:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQxooLYCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZAnrBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk3MjU5OTc2MjU3NDgta3ViZWN0bC1Bbi1lcnJvci1vY2N1cnJlZC1BY2Nlc3NEZW5pZWQtd2hlbi1jYWxsaW5nLXRoZS1Bc3N1bWVSb2xlLW9wZXJhdGlvbgY7CFQ6CXJhbmtpCA%3D%3D--a6accc98be56dd3ef748abe1374925b50b53dabf)
*   [""Error: Repoman service disk pressure"" when connecting github repo's to Domino projects](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQmk2tnBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZAnrBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzQ4NDIyMzI5NDgyNDQtLUVycm9yLVJlcG9tYW4tc2VydmljZS1kaXNrLXByZXNzdXJlLXdoZW4tY29ubmVjdGluZy1naXRodWItcmVwby1zLXRvLURvbWluby1wcm9qZWN0cwY7CFQ6CXJhbmtpCQ%3D%3D--cd9aad57593336f566db90f4891dbda164fa0db4)
*   [devtools addition to Compute Environment errors when using R4.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTysIBCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQZAnrBDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk5MDMxNjc2NDA0NjgtZGV2dG9vbHMtYWRkaXRpb24tdG8tQ29tcHV0ZS1FbnZpcm9ubWVudC1lcnJvcnMtd2hlbi11c2luZy1SNC0wBjsIVDoJcmFua2kK--32742421a7102058685b9c92687421f7df05fdb3)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmrAAsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQKB119CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiy9oYy9lbi11cy9hcnRpY2xlcy80NTg3MDM2MzU0MTk2LU51Y2xldXMtU2VydmljZXMtV2lsbC1Ob3QtU3RhcnQtRHVlLXRvLUZhaWxpbmctUmVwbGljYXRpb24taW4tTW9uZ29EQi1FcnJvci13aGlsZS1pbml0aWFsaXppbmctdGhlLWluZGV4ZXMGOwhUOglyYW5raQo%3D--0fda49874f37269f3d7e4735fbd92e764c7285d8,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4587036354196-Nucleus-Services-Will-Not-Start-Due-to-Failing-Replication-in-MongoDB-Error-while-initializing-the-indexes/subscription.html ""Opens a sign-in dialog"")

If you encounter a scenario where the nucleus frontend and dispatcher pods are stuck in a CrashLoopBackOff state, and you find entries in their logs such as:

_Commands:_

kubectl logs -n <domino-platform-namespace> nucleus-dispatcher-<id> --tail 1000  
kubectl logs -n <domino-platform-namespace> nucleus-frontend-<id> -c nucleus-frontend --tail 1000

_Logs:_

_1) Error in custom provider, org.quartz.SchedulerConfigException: Error while initializing the indexes_  
_\[See nested exception: com.mongodb.MongoWriteConcernException: waiting for replication timed out\]_

This is pointing to an issue with replication in at least one of the mongodb-replicaset pods. A tell-tale sign will be a mongodb-replicaset pod with a high restart count, and entries such as this in its logs:

_Commands:_

kubectl logs -n <domino-platform-namespace> mongodb-replicaset-<id> -c mongodb-replicaset --tail 1000

_Logs:_

_2022-03-01T18:20:13.599+0000 I REPL \[rsBackgroundSync\] transition to SECONDARY from ROLLBACK_

_2022-03-01T18:20:13.599+0000 I REPL \[rsBackgroundSync\] Resetting sync source to empty, which was mongodb-replicaset-0.mongodb-replicaset.domino-platform.svc.cluster.local:27017_

_2022-03-01T18:20:13.599+0000 F REPL \[rsBackgroundSync\] Rollback failed with unrecoverable error: UnrecoverableRollbackError: Recover to stable timestamp failed._

_2022-03-01T18:20:13.599+0000 F - \[rsBackgroundSync\] Fatal assertion 50666 UnrecoverableRollbackError: Recover to stable timestamp failed. at src/mongo/db/repl/bgsync.cpp 720_

Nucleus services are dependent on mongoDB and therefore will not start if replication is failing in the mongodb statefulset.

To recover from this situation and get the nucleus services started, one must terminate the failing mongodb-replicaset pod by scaling the mongoDB stateful set down to the number of working pods, usually 2, and then back up to the original number of pods, usually 3 in most deployments.

Following are the commands that will accomplish this:

_Identify the statefulset for the mongoDB replicaset:_

kubectl get statefulsets -n <domino-platform-namespace> | grep mongo

_Scale the statefulset down to working number of pods:_

kubectl scale statefulsets -n <domino-platform-namespace> mongodb-replicaset --replicas=2

_Check the mongodb-replicasetpods to validate its scaled down:_

kubectl get pods -n <domino-platform-namespace> | grep mongodb-replicaset

_Scale the stateful set back up to its original configuration:_

kubectl scale statefulsets -n <domino-platform-namespace> mongodb-replicaset --replicas=3

_Check the mongodb-replicasetpods to validate its scaled back up:_

kubectl get pods -n <domino-platform-namespace> | grep mongodb-replicaset

_The nucleus services may start automatically once mongo is restored, and you can check their status with:_

kubectl get pods -n <domino-platform-namespace> | grep nucleus

_If needed you can force a restart of the nucleus pods by deleting them one by one:_

kubectl delete pod -n <domino-platform-namespace> <nucleus-service-name>

If the guidance in this article does not work in your particular situation, please open a support ticket with us for further assistance.

### Recently viewed articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/articles/9151903649812-500-and-400-errors-due-to-com-bettercloud-vault-VaultException-using-K8s-1-21-on-Domino-4-6-x-5-x-up-to-5-2-2-and-5-3-0)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058039392-Getting-started-with-Streamlit-in-Domino)
*   [FailedMount event ""efs.csi.aws.com not found in the list of registered CSI drivers""](https://tickets.dominodatalab.com/hc/en-us/articles/15124626807188-FailedMount-event-efs-csi-aws-com-not-found-in-the-list-of-registered-CSI-drivers)
*   [After using the v51 installer we are unable to build any environments](https://tickets.dominodatalab.com/hc/en-us/articles/5527182240404-After-using-the-v51-installer-we-are-unable-to-build-any-environments)

### Related articles

*   [NFS failure on RedHat NFS server (RedHat 6/7)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS4eK6sBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmrAAsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzg0MzgyNDI5MTY1MDAtTkZTLWZhaWx1cmUtb24tUmVkSGF0LU5GUy1zZXJ2ZXItUmVkSGF0LTYtNwY7CFQ6CXJhbmtpBg%3D%3D--ffa6a8e37306f79358616d446f74ae3ce8ed9723)
*   [Mongo Query: List of All Projects Owned by Deactivated Users and Completed timestamp of Runs in Project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQNErsGBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmrAAsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhy9oYy9lbi11cy9hcnRpY2xlcy80NDI2OTU0ODM3Mzk2LU1vbmdvLVF1ZXJ5LUxpc3Qtb2YtQWxsLVByb2plY3RzLU93bmVkLWJ5LURlYWN0aXZhdGVkLVVzZXJzLWFuZC1Db21wbGV0ZWQtdGltZXN0YW1wLW9mLVJ1bnMtaW4tUHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--a246ec2033872cdd1f628d6ed538137ac30fcaac)
*   [Dispatcher Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGSSUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmrAAsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExMjkzMi1EaXNwYXRjaGVyLVRyb3VibGVzaG9vdGluZwY7CFQ6CXJhbmtpCA%3D%3D--fe6ea4bc08768fffc1fcb4fd60eab3626cba01dd)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmrAAsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQk%3D--45c5e9807703962363995ac651b991038072d346)
*   [lookup failures 'mongodb-replicaset on 10.85.0.10:53: no such host'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRe96kFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQmrAAsBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzc3MjA5MDc3OTIwMjAtbG9va3VwLWZhaWx1cmVzLW1vbmdvZGItcmVwbGljYXNldC1vbi0xMC04NS0wLTEwLTUzLW5vLXN1Y2gtaG9zdAY7CFQ6CXJhbmtpCg%3D%3D--ec40d7788e4935063a15300ba44d410fc3b1d062)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12633059560084-Upgrade-fails-with-errors-about-statefulsets,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12632440069268-During-an-upgrade-Ingress-errors-are-seen-and-the-installation-stops&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/12632440069268-During-an-upgrade-Ingress-errors-are-seen-and-the-installation-stops/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRcGjh9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE5Njc4NDUyNTI5MDQ0LVdvcmtzcGFjZXMtam9icy1hbmQtYXBwcy1mYWlsaW5nLWFmdGVyLURvbWluby11cGdyYWRlBjsIVDoJcmFua2kK--6ccb80466f90660725cc28f988d936abc75d8cb1,"![](https://secure.gravatar.com/avatar/05a119b8b815eb77081ca8ce6a606064?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19678452529044-Workspaces-jobs-and-apps-failing-after-Domino-upgrade/subscription.html ""Opens a sign-in dialog"")

Workspaces, jobs and apps are affected in their executions:

*   Workspaces could be opened but not get synced nor be stopped
*   Jobs are left running but can’t be stopped and will eventually timeout and error
*   Apps are left running and can be stopped but could get restarted as the container starts failing recurrently

## Root cause

This issue is caused by the rabbitmq-ha Kubernetes service being switched from a “headless” service to a cluster IP service as part of a Domino upgrade. As a result, Nucleus is substituting the IP address of the rabbit pods instead of using the service name.

This issue affects systems being **upgraded** from Domino **5.5.x - 5.6.x** to Domino **5.5.4**, **5.6.2** or **5.7.0**\-**5.7.2.**

Upgrades from versions **<5.5** to **\>=5.5** are **not** affected.

New installs are not affected.

This is permanently fixed in Domino 5.7.3 and 5.8.0.

## How to diagnose if your Domino is affected

Sample command and output from **affected** Domino, note `None` value in `CLUSTER-IP` column:

\> kubectl get svc rabbitmq-ha -n domino-platform
NAME          TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)                                          AGE
rabbitmq-ha   ClusterIP   **None**         <none>        15672/TCP,5672/TCP,4369/TCP,5552/TCP,15692/TCP   2d13h

Sample from **non-affected** Domino, note IP address in `CLUSTER-IP` column:

\> kubectl get svc rabbitmq-ha -n domino-platform
NAME          TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)                                          AGE
rabbitmq-ha   ClusterIP   **172.20.169.55**   <none>        15672/TCP,5672/TCP,4369/TCP,5552/TCP,15692/TCP   2d13h

## Immediate workaround

The only way to fix this issue is to manually recreate the `rabbitmq-ha` service.

PLATFORM\_NS=$(kubectl get ns -l domino-platform=true -ojsonpath='{.items\[\].metadata.name}')
kubectl -n $PLATFORM\_NS get svc rabbitmq-ha -o json > rabbitha.json
kubectl delete -f rabbitha.json
jq 'del(.spec.clusterIPs) | .spec.clusterIP= """"' rabbitha.json | kubectl apply -f -

Restart all services that use rabbitmq-ha.

PLATFORM\_NS=$(kubectl get ns -l domino-platform=true -ojsonpath='{.items\[\].metadata.name}')
COMPUTE\_NS=$(kubectl get ns -l domino-compute=true -ojsonpath='{.items\[\].metadata.name}')
for i in data-plane-agent hephaestus-manager; do
  kubectl rollout restart deploy/$i -n $COMPUTE\_NS
done
for i in domino-admin-toolkit model-hosting nucleus-dispatcher nucleus-frontend nucleus-train nucleus-workspace-volume-snapshot-cleaner pusher-service; do
  kubectl rollout restart deploy/$i -n $PLATFORM\_NS
done
for i in sts/repoman sts/vault ds/fluentd; do
  kubectl rollout restart $i -n $PLATFORM\_NS
done

### Related articles

*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyOTY5MzgyNjAtLWxvZzRqLXplcm8tZGF5LXZ1bG5lcmFiaWxpdHkGOwhUOglyYW5raQY%3D--96e49965e92fea0667e203aff04d5926efce6f91)
*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQc%3D--d68e30e817dd207cce9789cbb97581680a023af9)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQg%3D--b1b8502f3a762b261dce62d7b970b59217d4e26a)
*   [Simple FastAPI example as a Published App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSs3m%2FrBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY1MDg3NTIzMTc1ODgtU2ltcGxlLUZhc3RBUEktZXhhbXBsZS1hcy1hLVB1Ymxpc2hlZC1BcHAGOwhUOglyYW5raQk%3D--c5ce7394217b2e1071325f317d83b70a5d9aa9df)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kK--c66ae1fe7cfdbc521e250926556a24b8c711c6ea)"
https://tickets.dominodatalab.com/hc/en-us/articles/13016256769940-test-mongodb-py-Runbook,"## test\_mongodb.py | Runbook

![](https://tickets.dominodatalab.com/system/photos/360342143651/Screen_Shot_2019-09-05_at_4.25.28_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13016256769940-test-mongodb-py-Runbook/subscription.html ""Opens a sign-in dialog"")

From the CLI you can run the pytest file on its own:

\> ./toolkit.sh pytest checks/test\_mongodb.py

The test file contains several checks related to MongoDB.

*   [test\_mongo\_creds](#h_01GRPJ0236FVFCQ1KVGQ87T9AT)
*   [test\_mongo\_ping](#h_01GRPJ22FBK2SS7SNZP9ZP31B9)
*   [test\_mongo\_version](#h_01GRPJ2BQ4DSMHPNWM58F2KMSN)
*   [test\_check\_storage\_engine](#h_01GRPJ2MN3EC9Y98CSEWBRZR7N)
*   [test\_mongo\_replication\_status](#h_01GRPJ2MN3EC9Y98CSEWBRZR7N)
*   [test\_sagaindex](#h_01GRPJ32SDDHYK8124PJ0KN37N)
*   [test\_mongodb\_sizes](#h_01GRPJ3B0K9G34J4WZ9E3WQP2C)
*   [test\_mongo\_workspaces\_with\_importedGitRepos\_issues](#h_01GRPJ3JEYFFQA0K0V0FAR6ZMH)

## test\_mongo\_creds

Looks up and then displays the authentication information for MongoDB. This check is marked 'sensitive', which means it is not run unless executed from the CLI.

If this check is failing, it means that the mongodb credentials are not being passed to the container. Reach out to Domino Support for assistance.

## test\_mongo\_ping

A number of other checks in this file are dependent on this check returning successfully. Sends a ping and returns the result along with operationTime and clusterTime.

This check failing implies that the mongodb connection is not working.

Reach out to Domino Support for assistance.

## test\_mongo\_version

Returns the version of MongoDB running in Domino.

Failing this check means that the version of Mongo could not be retrieved.

Reach out to Domino Support for assistance.

test\_check\_storage\_engine

This check returns the storage engine and is looking for an older and deprecated version of the MongoDB storage engine called MMAPv1. [https://www.mongodb.com/docs/v4.0/core/mmapv1/](https://www.mongodb.com/docs/v4.0/core/mmapv1/) 

Failing this check means that the storageEngine is MMAPv1 and needs to be upgraded.

Reach out to Domino Support for assistance.

## test\_mongo\_replication\_status

Returns the replication lag between the primary and secondary replicas. [https://www.mongodb.com/docs/manual/reference/command/replSetGetStatus/#mongodb-dbcommand-dbcmd.replSetGetStatus](https://www.mongodb.com/docs/manual/reference/command/replSetGetStatus/#mongodb-dbcommand-dbcmd.replSetGetStatus) 

Failing this check means that the secondary replicas are not replicating from the primary. This check will pass If secondary replicas are not configured to be used.

## test\_sagaindex

The default query based on the sagaId uses a COLLSCAN. When tested on 300,000 records, the query takes approximately 200 ms to complete. Adding the index will allow queries to use an IXSCAN. When tested on the same 300,000 records, the query takes approximately 0 ms to complete. This will significantly speed up Mongo queries.

Failing this check means that the optimal index SagaId is not in use. This index greatly increases mongo query performance.  Reach out to Domino Support for assistance.

## test\_mongodb\_sizes

Sometimes it's helpful to inspect the size of MongoDB components during an incident. This will report collection counts, seizes, Index counts, and Storage.

This test should only fail if mongodb cannot be reached. In that case reach out to Domino Support.

## test\_mongo\_workspaces\_with\_importedGitRepos\_issues

Only runs against Domino < v5.4.0 and looks for workspaces with imported git repos attached, since these may have trouble resuming after an upgrade.

If this test fails and marks specific workspaces as problematic, they will need to be recreated.

*   Start a brand-new workspace
*   Clear the user sessions, cookies/cache, logoff and re-login
*   Recover files from an existing run pod, if present using
    
    kubectl cp -n <compute namespace> -c run <run pod>:/mnt/code/important\_file.csv important\_file.csv
    
    (or)
    
    kubectl cp -n <compute namespace> -c run <run pod>:/mnt/code/ recover-code-folder
    

### Recently viewed articles

*   [Workspaces, jobs and apps failing after Domino upgrade](https://tickets.dominodatalab.com/hc/en-us/articles/19678452529044-Workspaces-jobs-and-apps-failing-after-Domino-upgrade)

### Related articles

*   [Workspaces, jobs and apps failing after Domino upgrade](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ3LL%2FlEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRvXJXWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzE5Njc4NDUyNTI5MDQ0LVdvcmtzcGFjZXMtam9icy1hbmQtYXBwcy1mYWlsaW5nLWFmdGVyLURvbWluby11cGdyYWRlBjsIVDoJcmFua2kG--04d917dee2f5c48d7919422a366426336cf04685)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRvXJXWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQc%3D--d6cc46d0c9b6740ae9d357c3b55403323d7c2700)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSCT8Z4EzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRvXJXWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhS9oYy9lbi11cy9hcnRpY2xlcy8yMTQwOTQ0NDEwMjY3Ni0tRmFpbGVkLXRvLWNyZWF0ZS10aGUtc2V0dGluZy1lcnJvci13aGVuLXRyeWluZy10by1hZGQtYS1DZW50cmFsLUNvbmZpZy1zZXR0aW5nLXRoYXQtYWxyZWFkeS1leGlzdHMGOwhUOglyYW5raQg%3D--9cee42b7b7283d24ab2786a1ca5f99931e618f67)
*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSr1t%2FWCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRvXJXWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEzMDE3NTA2Mjk0Njc2LUFkbWluLVRvb2xraXQtc2NyaXB0LXVzYWdlBjsIVDoJcmFua2kJ--95570b109c217845121973b26f6f32f3968291ac)
*   [Can you recover the files from a deleted workspace with un-synced file changes?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRw4%2FNdCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRvXJXWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzExMzk4NjQwMDA1MjY4LUNhbi15b3UtcmVjb3Zlci10aGUtZmlsZXMtZnJvbS1hLWRlbGV0ZWQtd29ya3NwYWNlLXdpdGgtdW4tc3luY2VkLWZpbGUtY2hhbmdlcwY7CFQ6CXJhbmtpCg%3D%3D--9f01701d3c88b038d5c21d38dc21c6131f518bba)"
https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/13015804020244-Admin-Toolkit/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0cpdyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy83MDg5MjM2OTE1MzQ4LVJzdHVkaW8tcGxvdC1mdW5jdGlvbnMtZmFpbC13aXRoLVItZ3JhcGhpY3MtZW5naW5lLXZlcnNpb24tMTUtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpCA%3D%3D--f7807ceb7924477cd6aad75fa20ecab10f6a68a5,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio/subscription.html ""Opens a sign-in dialog"")

## _**Environment:**_

Compute Environments tagged with 5.1 such as [quay.io/domino/standard-environment:ubuntu18-py3.8-r4.1-domino5.1](http://quay.io/domino/standard-environment:ubuntu18-py3.8-r4.1-domino5.1)

## **Issue:**

These compute environments will fail certain graphics and plot commands inside rstudio, such as

 plot(rnorm(100))

You will get an error message:

**R graphics engine version 15 is not supported by this version of RStudio. The Plots tab will be disabled until a newer version of RStudio is installed.**

## **Root Cause:**

These images were inadvertently installed with R v4.2 and [RStudio v1.4.1717-3 Juliet Rose - June 1, 2021](https://www.rstudio.com/products/rstudio/release-notes/#rstudio-1-4-juliet-rose).  This version of the Rstudio IDE only supports the v14 graphics engine in R v4.1

## **Resolution:**

If you need these functions inside the rstudio IDE, either use the older image for 5.0, [quay.io/domino/compute-environment-images:ubuntu18-py3.8-r4.1-domino5.0-standard](http://quay.io/domino/compute-environment-images:ubuntu18-py3.8-r4.1-domino5.0-standard)

or the newer 5.2 Compute Environment base images which have not released at the time of this writing.

Domino images are tagged with the version where they are released, but are compatible with Domino versions of the same major release and generally with all versions of Domino.  

## **Notes:**

DOM-38411

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)

### Related articles

*   [Rstudio warning messages: ""R graphics engine version 'X' is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTADyUBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0cpdyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgS9oYy9lbi11cy9hcnRpY2xlcy80NDAyOTYzMjY3NzMyLVJzdHVkaW8td2FybmluZy1tZXNzYWdlcy1SLWdyYXBoaWNzLWVuZ2luZS12ZXJzaW9uLVgtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpBg%3D%3D--e1ee4df8a12e8861dace26f4133552361acf46f9)
*   [devtools addition to Compute Environment errors when using R4.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTysIBCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0cpdyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk5MDMxNjc2NDA0NjgtZGV2dG9vbHMtYWRkaXRpb24tdG8tQ29tcHV0ZS1FbnZpcm9ubWVudC1lcnJvcnMtd2hlbi11c2luZy1SNC0wBjsIVDoJcmFua2kH--3576042dee7c8fce73feae4ca31ea449115653f5)
*   [Conda binary is not executable](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSpUB0zBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0cpdyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzY4MTY2MDQ5MjQzMDgtQ29uZGEtYmluYXJ5LWlzLW5vdC1leGVjdXRhYmxlBjsIVDoJcmFua2kI--2c92fe9287302f536c96ceab62cfbc51f5380144)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0cpdyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQk%3D--9029ad6003c79c8635511da2812e78b57c812869)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS0cpdyBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQo%3D--a608c310f4c87e14501acb30434bab0cba8fe34b)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT5JG8fBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTT9Bx9CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzQ1MzMwNTUxOTE0NDQtUmVzdGFydGluZy1Gcm9udGVuZC1EaXNwYXRjaGVyLVJhYmJpdE1RLWxvZ3Mtb24tRG9taW5vLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--97a89745ef544f683dce60bbe1bad61f54454a8c,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4533055191444-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-4-x/subscription.html ""Opens a sign-in dialog"")

On Domino 4.x

To restart the dispatcher you must log in to the central server, delete its pod. A new one will be created to replace it.

`kubectl delete pod \ -n {PLATFORM_NAMESPACE} --selector app.kubernetes.io/instance=nucleus,app.kubernetes.io/component=dispatcher`

where `{PLATFORM_NAMESPACE}` will be found with `kubectl get ns` and you look for the namespace that ends in something like `domino-platform`  and `<pod name>` is the name of the pod you want the logs for, i.e. `nucleus-dispatcher-XXXX` or `nucleus-frontend-XXXX` where `XXXX` is some random string of digits that uniquely identify the pod.

To restart the frontend you must log in to the central server, delete its pod. A new one will be created to replace it.

1.  `kubectl get po --all-namespaces|grep frontend`
2.  `Identify FE pod names`
3.  `kubectl delete <1st FE pod name>`
4.  `kubectl get po --all-namespaces|grep frontend`
5.  `You should see the pod delete, and disappear, followed by a new one spinning up immediately to replace it. When this pod is in a running state # with 2/2 containers running you can delete the other pod the same way.`
6.  `kubectl delete <2nd FE pod name>`
7.  `Make sure the 2nd pod recreates properly and test UI access to ensure everything is running as it should be.`

If you suspect an intermittent or otherwise unknown connectivity issue between the three RabbitMQ cluster nodes, a rolling restart can be attempted:

1.  `kubectl rollout restart -n <platform namespace> sts/rabbitmq-ha-ord`
2.  `If there is no rabbitmq-ha-ord statefulset, you may need to try`
3.  `kubectl rollout restart -n <platform namespace> sts/rabbitmq-ha`

### Recently viewed articles

*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)

### Related articles

*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmrAAsBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT5JG8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiy9oYy9lbi11cy9hcnRpY2xlcy80NTg3MDM2MzU0MTk2LU51Y2xldXMtU2VydmljZXMtV2lsbC1Ob3QtU3RhcnQtRHVlLXRvLUZhaWxpbmctUmVwbGljYXRpb24taW4tTW9uZ29EQi1FcnJvci13aGlsZS1pbml0aWFsaXppbmctdGhlLWluZGV4ZXMGOwhUOglyYW5raQY%3D--2c73fd762236aa8ebac61d881ff06e812b7d6bab)
*   [GPU workspace not starting intermittently](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRf%2B7vBDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT5JG8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzE3MzI0NzU2OTE4MTY0LUdQVS13b3Jrc3BhY2Utbm90LXN0YXJ0aW5nLWludGVybWl0dGVudGx5BjsIVDoJcmFua2kH--c40c80760a3edc64bab9fe3d8c6d6e5308f76313)
*   [Calico pods unhealthy](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJREupxKDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT5JG8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzE1NzEzNjE5ODIxNzE2LUNhbGljby1wb2RzLXVuaGVhbHRoeQY7CFQ6CXJhbmtpCA%3D%3D--f265954ff20279ffe83862c0dbcf685b467c10ac)
*   [Error: ""Repo in run does not match repo in workspace""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRARmVyCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJT5JG8fBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzExNDg2NDQxNjUyMzcyLUVycm9yLVJlcG8taW4tcnVuLWRvZXMtbm90LW1hdGNoLXJlcG8taW4td29ya3NwYWNlBjsIVDoJcmFua2kJ--86585b1377ae19a791a5406f241cd5eca38849fa)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12631984624532-During-an-upgrade-a-secret-is-missing-rabbitmq-ha-forge,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups,"![](https://tickets.dominodatalab.com/system/photos/360095004892/Screen_Shot_2018-09-26_at_10.08.17_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups/subscription.html ""Opens a sign-in dialog"")

This guide requires admin access to domino

In order to create private hardware tiers that are only accessible by specific users, you first need to edit the Tier, go to the end and uncheck the 'Is Globally Available' flag. Note this cannot be done with the default hardware tier.

[![Screenshot 2020-07-07 at 1.37.42 PM.png](https://us.v-cdn.net/6031622/uploads/3P2TWNURJF6X/screenshot-2020-07-07-at-1-37-42-pm.png)](https://us.v-cdn.net/6031622/uploads/3P2TWNURJF6X/screenshot-2020-07-07-at-1-37-42-pm.png)

Once this is done, on the admin page click on Users -> Organizations. Edit the Organization that you wish to give access to the tier. Under the 'Hardware Tiers' section, select the tiers which you want to assign to the Org. Global hardware tiers are always accessible by everyone.

[![Screenshot 2020-07-07 at 1.40.51 PM.png](https://us.v-cdn.net/6031622/uploads/ADOGQCPEDXCV/screenshot-2020-07-07-at-1-40-51-pm.png)](https://us.v-cdn.net/6031622/uploads/ADOGQCPEDXCV/screenshot-2020-07-07-at-1-40-51-pm.png)

All users in the given Org will now have access to the tier in question.

### Recently viewed articles

*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4533055191444-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-4-x)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)
*   [Self upgrade failed with errors for executions-logback-config](https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config)

### Related articles

*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEOZKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMecKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzI1MS1EZWxldGluZy1vci1EZWFjdGl2YXRpbmctYW4tT3JnYW5pemF0aW9uBjsIVDoJcmFua2kG--b81eda15125d8e0347bdf9f3bb8970deabd3731e)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Assigning hardware tier to an organization](https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization)
*   [Practitioner role not visible for Data Analyst users](https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users)
*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [Adding members in the Organization via Admin Access](https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access)
*   [How do I create an organization in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/17116162101012-How-do-I-create-an-organization-in-Domino)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)
*   [Admin Users Console: Total active users](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users)
*   [Resetting a user's account when they're using SAML/SSO via keycloak](https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak)
*   [When deactivating a Domino user, what happens to their Projects and Executions?](https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206666-User-Management)

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

Permanently deleted user

*   2 months ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: tyler.bubin

#### _**Version/Environment (if relevant):**_

5.7 and Above

**Issue:**

Is there a way to deactivate or delete organizations within Domino? 

**Answer**

Domino ""organizations"" do not have an option for deletion.   
We do not support deleting organizations at this time. Deleting an organization would affect the associated projects (workspace, data etc). 

  
**Work Around;**

**Removing all active members from organization would be an alternative for admins who wants to delete an organization.** 

We have an existing Feature Request to get this worked on . 

**See:**

*   DOM-27043

### Recently viewed articles

*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4533055191444-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-4-x)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/articles/360059504652-Scope-of-Support-Coverage)

### Related articles

*   [I need to install a package every time I start R Studio. How do I make it permanent?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTwCvoCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOZKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MTA4MzE0NjY1MTYtSS1uZWVkLXRvLWluc3RhbGwtYS1wYWNrYWdlLWV2ZXJ5LXRpbWUtSS1zdGFydC1SLVN0dWRpby1Ib3ctZG8tSS1tYWtlLWl0LXBlcm1hbmVudAY7CFQ6CXJhbmtpBg%3D%3D--d530961364148b27079811cc494e20da217b3c4e)
*   [Feature flags](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCH%2BlosYaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOZKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIyL2hjL2VuLXVzL2FydGljbGVzLzExNTAwMTY5NzY2My1GZWF0dXJlLWZsYWdzBjsIVDoJcmFua2kH--5743629f90f095207bc0f95ff85d54e2d221a544)

### Comments

2 comments

*   ![](https://assets.zendesk.com/hc/assets/default_avatar.png)
    
    Permanently deleted user
    
    *   3 years ago
    
    Good Morning Tyler! As of now it is not possible to delete an organization as the org data structure is embedded pretty deeply in our infrastructure. The standard workaround is to switch the owner to a sysadmin, delete other users, name the org in a way that makes it obvious it isn't usable.  
    \--  
    Renaming Domino organization  
    See the steps below what you'll need to rename your organization via MongoDB queries:  
    Before renaming the organization:  
    1) All users of a group will need to be removed  
    2) All projects belonging to the Organization will need to be transferred to another user  
    3) Are there any Hardware tiers or Compute Environments that belong to the org you want to remove? If so, you will need to re-assign them.  
    \--  
    After that, the steps below needs to be followed:  
    Steps to rename an organization:  
    1) Find the owner of the org you wish to rename (keep in mind an owner can own multiple orgs, so look for the correct id in step 2)  
    db.users.find({""loginId.id"": ""<current admin username>""})  
    2) Find the Organizations whos members match the returned ID  
    db.organizations.find({""members"": {$elemMatch: {userId: ObjectId(""<user object id>"")}}}).pretty()  
    3) Find the org (using the below users object) using the org id  
    db.users.find({""\_id"" : ObjectId(""<organizationUserId:ObjectId>"")}).pretty()  
    4) Update the Organization name with the new name (set this for both loginId & loginId.lowercaseId)  
    db.users.update({""\_id"" : ObjectId(""<ObjectId>"")},{$set: {""loginId.id"": ""<new name>"", ""loginId.lowercaseId"": ""<new name>""}}
    
    Note, all these things must do your Domino admin (Admin->Advanced->MongoDB)
    
    Submitted by: alex.abramovich
    
*   ![](https://assets.zendesk.com/hc/assets/default_avatar.png)
    
    Permanently deleted user
    
    *   3 years ago
    
    Update: If you are considering renaming an organization, please contact Domino support or your account team. We do not recommend updating Mongo directly without speaking with our team first.
    
    Submitted by: katie.shakman
    

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058493251-Deleting-or-Deactivating-an-Organization) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360000206666-User-Management&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206666-User-Management/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403/subscription.html ""Opens a sign-in dialog"")

**Version:** 

Domino 4x, 5.0~5.6

**Issue:** When trying to  deactivate users from the Admin UI,  you are presented with the message:

**  
""User could not be deactivated. Please ensure your admin user has appropriate user management permissions in Keycloak. Error code:403. ""**

**![image__1_.png](https://tickets.dominodatalab.com/hc/article_attachments/15783406672020)**

**Why does the issue occur:**

In Keycloak, the system administrator **does not** have the`manage-users` role for the **realm-management** to activate and deactivate users in Domino. Not having these permissions will result in receiving a 403 error indicating they are not authorized to perform the above actions.

**Resolution:**

Assign the admin account the `manage-users` role in Keycloak. On gaining access to Keycloak and setting the permissions, review subsection 'Access Keycloak' & Set permissions to activate / deactivate users [here](https://admin.dominodatalab.com/en/latest/admin_guide/b5dd5a/keycloak-authentication-service/)

**Note:**

The manage-users role is no longer needed [as of Domino 5.7](https://docs.dominodatalab.com/release_notes/5-7-0/#_improvements).

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/17954755455764)

### Recently viewed articles

*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4533055191444-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-4-x)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTZweBaDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--1c6dcce7ccd742611f7abffe9b0283bfe78b3a74)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTZweBaDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpBw%3D%3D--6cb8de86345735ab82d2c500c960b5ce5852b9b2)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTZweBaDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--b45d74ea049ccb28288bb013e3f90afd8cceb0f4)
*   [What is Docker in Docker (DinD)?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQWuD6pDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTZweBaDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzE1MDIwNTUyODg1NzgwLVdoYXQtaXMtRG9ja2VyLWluLURvY2tlci1EaW5EBjsIVDoJcmFua2kJ--ccf235d8614f624d3e30543b3fa15305552a9a33)
*   [In projects owned by orgs, rerun jobs fail if jobs access datasets](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR%2BkzMCCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTZweBaDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk5MDUwNTk4ODg3ODgtSW4tcHJvamVjdHMtb3duZWQtYnktb3Jncy1yZXJ1bi1qb2JzLWZhaWwtaWYtam9icy1hY2Nlc3MtZGF0YXNldHMGOwhUOglyYW5raQo%3D--76bb985080f6b46abc3bffece5416cee3a64b684)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206666-User-Management/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users/subscription.html ""Opens a sign-in dialog"")

**Question:**

How the Total active users number seen in the Admin Users console is calculated?

For example, the Admin Console > Users shows:       

`Total active users : 1023 ( SupportStaff: 8, Practitioner: 996, ProjectManager: 23, Lite User: 23, ReadOnlySupportStaff: 6, Librarian: 8, SysAdmin: 49 )`

  In MongoDB: 

```
db.users.find().count() 
1431 
db.users.find({""deactivatedFlag"" : true}).count() 
355 
db.users.find({""deactivatedFlag"" : false}).count() 
1076 
db.users.find({""_systemRoles"" : 'Practitioner'}).count() 
1348
```

Total does not match. 

**Answer:**

Domino's Total active users that's displayed in the Admin Users console is the number of users who are not deactivated excluding the user records that point to organizations.

Basically it is number of records in the `users` collection where deactivatedFlag != true then subtract the number of records in the `organizations` collection.

Please note Total active users won't match the sum of all Practitioners + SupportStaff + SysAdmin because some users have more than one role, and therefore will be counted in all those categories. 

If you have any further questions, please contact Domino Support at support@dominodatalab.com.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)
*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4533055191444-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-4-x)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)

### Related articles

*   [Resetting a user's account when they're using SAML/SSO via keycloak](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTBYDbxDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCKCo0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzE1MzI5NjUwNTg5OTcyLVJlc2V0dGluZy1hLXVzZXItcy1hY2NvdW50LXdoZW4tdGhleS1yZS11c2luZy1TQU1MLVNTTy12aWEta2V5Y2xvYWsGOwhUOglyYW5raQY%3D--dd7e381c2bce0a73fcac990433bf1605b3701ec2)
*   [How to Unarchive a project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQWIboPCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCKCo0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzEyMTYyMTc1MTQ1NDkyLUhvdy10by1VbmFyY2hpdmUtYS1wcm9qZWN0BjsIVDoJcmFua2kH--04e6613816e98b457a751caa5552042ace43dc85)
*   [Dispatcher log has ""Error post-processing run.... domino.authz.NotAuthorizedException: Not authorized""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQULD3CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCKCo0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBgC9oYy9lbi11cy9hcnRpY2xlcy85ODU5OTA4MDMwNjEyLURpc3BhdGNoZXItbG9nLWhhcy1FcnJvci1wb3N0LXByb2Nlc3NpbmctcnVuLWRvbWluby1hdXRoei1Ob3RBdXRob3JpemVkRXhjZXB0aW9uLU5vdC1hdXRob3JpemVkBjsIVDoJcmFua2kI--1457cac57f14d25d6437b6004a82268d38ea79d3)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAzkUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCKCo0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE5OTM3Mi1Nb25nby1RdWVyaWVzLWZvci1EdXJhYmxlLVdvcmtzcGFjZXMGOwhUOglyYW5raQk%3D--0f315307ecc844914acf9b2d32d537d495e084f4)
*   [Unable to Deactivate user from Admin UI page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJReEOaKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSCKCo0DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzEwNDkyMTY5OTY5MzAwLVVuYWJsZS10by1EZWFjdGl2YXRlLXVzZXItZnJvbS1BZG1pbi1VSS1wYWdlBjsIVDoJcmFua2kK--69966ef795cead2c125246ee27f584b69cca9039)"
https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak/subscription.html ""Opens a sign-in dialog"")

Please follow the steps below to reset a user's account with Keycloak.

1\. Go to Keycloak.

![Screen_Shot_2023-05-02_at_9.43.25_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449221524)

2\. Navigate to the ""Administration Console"".

![Screen_Shot_2023-05-02_at_9.43.44_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507449224084)

3\. Log in using your username or email address and password.

![Screen_Shot_2023-05-02_at_9.44.11_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507425544084)

4\. After logging in, navigate to the ""Users"".

![Screen_Shot_2023-05-02_at_9.44.58_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507425545748)

5\. Navigate to the ""View all users""

![Screen_Shot_2023-05-02_at_9.45.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/21507425546004)

6\. Navigate to the user for whom you want to reset the password and select Edit.

![Screen_Shot_2023-05-02_at_11.08.19_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/15329384129428)

7\. Click ""Delete"".

![Screen_Shot_2023-05-02_at_11.16.39_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/15329536395028)

The Domino user will be unaffected, as well as their projects because it's hardcoded into Mongo. If you're using SAML/SSO, a fetch of attributes and credentials is performed each time, which is checked against Mongo, and if there's a match, you get into Domino.

**You're All Set.**

### Recently viewed articles

*   [Admin Users Console: Total active users](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)
*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups)
*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4533055191444-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-4-x)

### Related articles

*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBYDbxDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kG--15c9aa3fb9d6aa6181a3bf02416f31b4ed6d7362)
*   [When deactivating a Domino user, what happens to their Projects and Executions?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTfnIa%2FCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBYDbxDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzEwNzE4MjAxODMxMzE2LVdoZW4tZGVhY3RpdmF0aW5nLWEtRG9taW5vLXVzZXItd2hhdC1oYXBwZW5zLXRvLXRoZWlyLVByb2plY3RzLWFuZC1FeGVjdXRpb25zBjsIVDoJcmFua2kH--abe7ca6e0e0551d399ea6c32b84f057fbc804bb7)
*   [When Does Domino Set A User as Inactive?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgkaB9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBYDbxDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzYwMzcxMjI5MTY1MDAtV2hlbi1Eb2VzLURvbWluby1TZXQtQS1Vc2VyLWFzLUluYWN0aXZlBjsIVDoJcmFua2kI--d415dac7c2a4b62f2a562220c1df147970800626)
*   [How to create a test Model API using the sample model.py file](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRSg0w3DjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTBYDbxDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzE1NjMwNjY5NjY0Nzg4LUhvdy10by1jcmVhdGUtYS10ZXN0LU1vZGVsLUFQSS11c2luZy10aGUtc2FtcGxlLW1vZGVsLXB5LWZpbGUGOwhUOglyYW5raQk%3D--5b606a381a3ae4d5691bad37312ae03c26fe5b0e)"
https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions,"![](https://secure.gravatar.com/avatar/34af3e6ce18b9fac2affeaa7b4b7c375?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions/subscription.html ""Opens a sign-in dialog"")

For Domino Administrators considering deactivating old users, you may be wondering what the impact will be on those users' workloads, as well as the implications for the projects they own. This article outlines the various workloads and the expected impact of deactivating the owning user.

### **Executions**

_Current running Jobs (script executions)_

If a Job is currently running when a user is deactivated, the Job will continue to run. However, the Job will begin to exhibit errors in the User Output if it reaches an interval to refresh the access token and the job may not complete:

2022-11-09 11:31:53 : INFO:\_\_main\_\_:-- Refreshing access token --  
2022-11-09 11:31:53 : ERROR:\_\_main\_\_:Attempt to refresh failed due to an HTTP Error HTTP Error 400: Bad Request POSTing to http://keycloak-http.domino-platform/auth/realms/DominoRealm/protocol/openid-connect/token

_Scheduled Jobs_

Scheduled Jobs will trigger, but will not be able to complete due to a token error:

2022-11-09 12:57:15 : INFO:\_\_main\_\_:-- Preparing access token --  
2022-11-09 12:57:15 : ERROR:\_\_main\_\_:Attempt to refresh failed due to an HTTP Error HTTP Error 400: Bad Request POSTing to http://keycloak-http.domino-platform/auth/realms/DominoRealm/protocol/openid-connect/token  
2022-11-09 12:57:41 : Preparing working directory.  
2022-11-09 12:58:12 : Preparing working directory.  
2022-11-09 12:58:42 : Preparing working directory.  
2022-11-09 12:59:12 : Preparing working directory.  
2022-11-09 12:59:15 : INFO:\_\_main\_\_:-- Preparing access token --  
2022-11-09 12:59:15 : ERROR:\_\_main\_\_:Attempt to refresh failed due to an HTTP Error HTTP Error 400: Bad Request POSTing to http://keycloak-http.domino-platform/auth/realms/DominoRealm/protocol/openid-connect/token

_Workspaces_

Any Workspaces left running by the deactivated user will continue to run. These can be stopped by a Domino Administrator.

_Apps_

Apps will continue to run and be accessible according to the Access Permissions set up by the App owner. Apps can be managed by any active Project Collaborators, or Domino Administrators.

_Model APIs_

Model APIs will continue to run and can be invoked according to the permissions set by the Model API owner. Model APIs can only be modified by Domino Administrators, or active users specifically added as Collaborators to the Model API (this is a separate action than being added as a Collaborator to a Project).

### Project with Collaborators

If you deactivate the owner of a Project that has Collaborators, those Collaborators will retain access to the project. Collaborators' access will continue to be consistent with [Domino Collaborator Permissions](https://docs.dominodatalab.com/en/latest/user_guide/26332c/collaborator-permissions/). The project itself can only be archived or transferred to a new owner by a Domino Administrator.

As noted under _Model APIs_ above, Model API Collaborators are set separately from Project Collaborators. A user who is a Collaborator on a Project will not be able to manage Model APIs whose source files are in said Project unless they are also a Collaborator on the Model API.

### Other Considerations

Perhaps the most important implication of deactivating a Domino user is the running Executions that are left behind, using resources and potentially costing money. A Domino Administrator can search for a username in current Executions in the Domino Admin UI under **Executions** to view what a particular user may have running.

### Recently viewed articles

*   [Resetting a user's account when they're using SAML/SSO via keycloak](https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak)
*   [Admin Users Console: Total active users](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)
*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/articles/360058494151-Isolate-Hardware-Tiers-for-User-groups)

### Related articles

*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTfnIa%2FCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBg%3D%3D--db457321b136c173cab71067858b9eeca77fe8ac)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTfnIa%2FCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBw%3D%3D--8760f61f091f98f727a455ccba9161e56754a6e5)
*   [Hephaestus environment build failures in Domino 5.2.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCSYhUBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTfnIa%2FCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzgwNTk2NDUxNjYyMjgtSGVwaGFlc3R1cy1lbnZpcm9ubWVudC1idWlsZC1mYWlsdXJlcy1pbi1Eb21pbm8tNS0yLTAGOwhUOglyYW5raQg%3D--33b43ec8d6b92a8a19d3d345bf28a17f6aca91f0)
*   [When Does Domino Set A User as Inactive?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgkaB9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTfnIa%2FCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzYwMzcxMjI5MTY1MDAtV2hlbi1Eb2VzLURvbWluby1TZXQtQS1Vc2VyLWFzLUluYWN0aXZlBjsIVDoJcmFua2kJ--729d9677cdf6c7a3e57a474de307ce07bb4edd5d)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTZweBaDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTfnIa%2FCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzE1NzgzNDgwNjQ1OTA4LVVzZXItY291bGQtbm90LWJlLWRlYWN0aXZhdGVkLUVycm9yLWNvZGUtNDAzBjsIVDoJcmFua2kK--d09e9d6fc2ed23a060c99060298b83e2d1de0dde)"
https://tickets.dominodatalab.com/hc/en-us/articles/10018006097172-User-could-not-be-de-activated-Access-token-for-current-user-not-found,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10018006097172-User-could-not-be-de-activated-Access-token-for-current-user-not-found/subscription.html ""Opens a sign-in dialog"")

When integrating single sign-on for Domino you may see a variety of errors that tend to be rather generic. In most cases, when you see a red toast message that appears related to credentials, we recommend logging out completely then logging back in to trigger a new token to be issued. 

![image001.png](https://tickets.dominodatalab.com/hc/article_attachments/10016667466900)

If the issue is not fixed after initiating a fresh session, we'll want to dig deeper into the root cause.

This specific error:

 User could not be (de)activated: Access token for current user not found

was triggered by the user having empty ""first name"" and ""last name"" fields within Keycloak. 

We'll add more cases as they come up to assist in troubleshooting. 

As always, if you need further help, please reach out to Domino support. 

### Recently viewed articles

*   [When deactivating a Domino user, what happens to their Projects and Executions?](https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions)
*   [Resetting a user's account when they're using SAML/SSO via keycloak](https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak)
*   [Admin Users Console: Total active users](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)
*   [Deleting or Deactivating an Organization](https://tickets.dominodatalab.com/hc/en-us/articles/360058493251-Deleting-or-Deactivating-an-Organization)

### Related articles

*   [What does the 'Domino Employee' setting do in the Admin>>User Dashboard?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQSLu3TCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTdsX8cCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzk3MDYzMTAzNDExNDAtV2hhdC1kb2VzLXRoZS1Eb21pbm8tRW1wbG95ZWUtc2V0dGluZy1kby1pbi10aGUtQWRtaW4tVXNlci1EYXNoYm9hcmQGOwhUOglyYW5raQY%3D--585b176504a9150954e1da086e1f8e74828be181)
*   [Unable to Deactivate user from Admin UI page](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJReEOaKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTdsX8cCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzEwNDkyMTY5OTY5MzAwLVVuYWJsZS10by1EZWFjdGl2YXRlLXVzZXItZnJvbS1BZG1pbi1VSS1wYWdlBjsIVDoJcmFua2kH--7a05bf93d1dcd3abb289478ace9430f5ac2459af)"
https://tickets.dominodatalab.com/hc/en-us/articles/9706310341140-What-does-the-Domino-Employee-setting-do-in-the-Admin-User-Dashboard,"#### _**Version:**_

Domino v4.3.1+

## **Issue:**

In the Admin>>User dashboard you may note a column for Domino Employee.  

![Screen_Shot_2022-09-29_at_10.08.54_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/9706112931604)

## **Information:**

Typically Domino support and field personnel will have accounts on your deployment.  This is simply a visual marker for admins and managers looking at the User dashboard and/or the Activity Report to understand who is a Domino Employee and should not be counted towards licensing.  It has no other effect in the product.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/10492169969300-Unable-to-Deactivate-user-from-Admin-UI-page,"![](https://secure.gravatar.com/avatar/09dffa324f3ed7935b2c1ff1483e8acb?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10492169969300-Unable-to-Deactivate-user-from-Admin-UI-page/subscription.html ""Opens a sign-in dialog"")

## **Issue:**

Domino Admin unable to Deactivate user from Admin UI page, got ""Keycloak. Error code: 404"" 

![Screen_Shot_2022-10-31_at_1.44.09_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/10491814417428)

![Screen_Shot_2022-10-31_at_1.49.36_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/10491933973908)

## **Root Cause:**

The user no longer has a user account in keycloak 

## **Resolution:**

The user will not be able to login to Domino, therefore it is absolutely safe to leave the user active. However if the user needs to be deactivate in Domino for reporting or cosmetic purpose, it can be done directly in Mongo DB. Below are Mongo queries to perform: 

1.  Find the user by running `db.users.find({""loginId.id"": ""XXXXXX""})` (where XXXXXX is username)
    
2.  Then run `db.users.update({""_id"": ObjectId(""YYYYYY"")}, {$set: {""deactivatedFlag"": true}})` (where YYYYYY is the object id of the user record found above).
    

(note this recipe is only applicable to the case when there’s no Keycloak user; but if there is one, then deactivation from UI should work and deactivate both Domino and Keycloak users, at least starting from 5.1.0 release).

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [User could not be (de)activated: Access token for current user not found](https://tickets.dominodatalab.com/hc/en-us/articles/10018006097172-User-could-not-be-de-activated-Access-token-for-current-user-not-found)
*   [When deactivating a Domino user, what happens to their Projects and Executions?](https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions)
*   [Resetting a user's account when they're using SAML/SSO via keycloak](https://tickets.dominodatalab.com/hc/en-us/articles/15329650589972-Resetting-a-user-s-account-when-they-re-using-SAML-SSO-via-keycloak)
*   [Admin Users Console: Total active users](https://tickets.dominodatalab.com/hc/en-us/articles/15617208386068-Admin-Users-Console-Total-active-users)
*   [User could not be deactivated...(Error code: 403)](https://tickets.dominodatalab.com/hc/en-us/articles/15783480645908-User-could-not-be-deactivated-Error-code-403)

### Related articles

*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTdnsd3BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReEOaKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYwMTIwMDgzMjQ1MDAtRGVhY3RpdmF0aW9uLW9mLWEtdXNlcgY7CFQ6CXJhbmtpBg%3D%3D--f74e489aa5af25168eabc41b3362547e33eaa617)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReEOaKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kH--bc4539c1ea1b11b9b0d8f3e943b3bd99a1349542)
*   [Logrotate error in model api logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTJdknsCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReEOaKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzEwOTEwNDQ5NDUzMzMyLUxvZ3JvdGF0ZS1lcnJvci1pbi1tb2RlbC1hcGktbG9ncwY7CFQ6CXJhbmtpCA%3D%3D--942de4bababe13d8395817b6ce781da75fb7fcd6)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReEOaKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQk%3D--14726844d591dcf4802345539a5ff02a1faf7bfc)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJReEOaKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kK--9a830180e0223e4e80387ac40a824d4c394c85cb)"
https://tickets.dominodatalab.com/hc/en-us/articles/9020763375124-Switching-Domino-Users-Roles,"## Switching Domino Users Roles

![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9020763375124-Switching-Domino-Users-Roles/subscription.html ""Opens a sign-in dialog"")

**_Version/Environment (if relevant):_**

All Domino deployments that use Role Synchronization with Keycloak, as described [here](https://docs.dominodatalab.com/en/latest/admin_guide/bc00bd/sso-group-and-role-synchronization/). 

**Issue:**

Sometimes Domino administrators may want to switch some Domino users to a different user type. For example, switching a Practitioner to a Lite User (see docs [here](https://docs.dominodatalab.com/en/latest/admin_guide/2611b7/roles/)). To do this admins will need to set the new role within the  domino-system-roles attribute as described [here](https://docs.dominodatalab.com/en/latest/admin_guide/bc00bd/sso-group-and-role-synchronization/#_attribute_mapper_2). **Please note that once the new role is set, users are required to login to their Domino deployment for their user type to transition.** At this time there is no workaround for this step. 

**Root Cause:**

New roles are only set when users are authenticated with the corporate SSO, which requires the users to manually login. 

**Resolution:**

We do have an open feature request to make it easier for administrators to transition user roles. If you have feedback or have a good use case for this feature, please reach out to your account team and let us know! 

### Recently viewed articles

*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set)
*   [What does the 'Domino Employee' setting do in the Admin>>User Dashboard?](https://tickets.dominodatalab.com/hc/en-us/articles/9706310341140-What-does-the-Domino-Employee-setting-do-in-the-Admin-User-Dashboard)
*   [Unable to Deactivate user from Admin UI page](https://tickets.dominodatalab.com/hc/en-us/articles/10492169969300-Unable-to-Deactivate-user-from-Admin-UI-page)
*   [User could not be (de)activated: Access token for current user not found](https://tickets.dominodatalab.com/hc/en-us/articles/10018006097172-User-could-not-be-de-activated-Access-token-for-current-user-not-found)
*   [When deactivating a Domino user, what happens to their Projects and Executions?](https://tickets.dominodatalab.com/hc/en-us/articles/10718201831316-When-deactivating-a-Domino-user-what-happens-to-their-Projects-and-Executions)

### Related articles

*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSHfi%2B0BjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGZU80CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzczNzA5NjA3MDEyMDQtSG93LXRvLWNyZWF0ZS1hLW5ldy1Pcmdhbml6YXRpb24taW4teW91ci1Eb21pbm8tZGVwbG95bWVudAY7CFQ6CXJhbmtpBg%3D%3D--2e12632a4290dc88697cc8fed994ceee766d72d2)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGZU80CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kH--58a5cfd4f323f3f841d3b7a1b851d0e4dbe7366c)
*   [Domino Support: Operating Procedures](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEdXPtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSGZU80CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTkxODE1MS1Eb21pbm8tU3VwcG9ydC1PcGVyYXRpbmctUHJvY2VkdXJlcwY7CFQ6CXJhbmtpCA%3D%3D--80cf67376ded800529df3f110feb9cafcd8abdc5)"
https://tickets.dominodatalab.com/hc/en-us/articles/7370960701204-How-to-create-a-new-Organization-in-your-Domino-deployment,"Submitted by Gener Joseph Tomas

Please follow these steps to to create a new Organization in your Domino deployment

1) Login to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812841364/Screen_Shot_2021-06-28_at_9.06.13_AM.png)

2) After logging in, go to ""Account Settings.""

![Screen_Shot_2022-05-31_at_1.53.22_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6647329554196/Screen_Shot_2022-05-31_at_1.53.22_PM.png)

3) Navigate to ""Organization""

![Screen_Shot_2022-06-28_at_3.00.18_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/7370954878484/Screen_Shot_2022-06-28_at_3.00.18_PM.png)

4) Click into, ""New Organization""

![Screen_Shot_2022-06-28_at_3.00.31_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/7370941167508/Screen_Shot_2022-06-28_at_3.00.31_PM.png)

5) Add your ""Organization name"" and click ""create Organization""

![Screen_Shot_2022-06-28_at_3.00.41_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/7370941216276/Screen_Shot_2022-06-28_at_3.00.41_PM.png)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/6984526511892-How-to-logout-or-end-a-user-s-user-session-from-Domino,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6984526511892-How-to-logout-or-end-a-user-s-user-session-from-Domino/subscription.html ""Opens a sign-in dialog"")

Question:

How can an Admin logout a particular user, ending their user-session?

Answer: 

1\. Log into Keycloak, https://\[DOMINO-DOMAIN\]/auth/ .   Per the [Access Keycloak](https://docs.dominodatalab.com/en/latest/admin_guide/b5dd5a/keycloak-authentication-service/#_access_keycloak%20) section of the docs you can fetch the password for user 'keycloak' via:  

kubectl get secret -n domino-platform keycloak-http -ojsonpath='{.data.password}' | base64 --decode; echo 

2\. In DominoRealm choose ""Clients"" on the left, then ""domino-play"":

![Screen_Shot_2022-06-13_at_5.09.10_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6984099016852)

3\. Choose ""Sessions"" at the top, then on the resulting page choose ""Show Sessions"" on the right.   This will show you all users with active sessions.

4\. Then drill into your user in the table of users with a session, like my test-user named ""integration test"" here:

![Screen_Shot_2022-06-13_at_5.15.27_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6984298716564)

5\. Now that you're within the User ""integration-test"" proceed by selecting Sessions at top:

![Screen_Shot_2022-06-13_at_5.17.25_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6984366545044)

6\. Then select the ""log out all sessions"" button to end all user-sessions for that specific user.   The effect will take a few minutes depending on your Keycloak's ""Access Token Lifespan"" (typically 5 mins).   ""Access Token Lifespan"" is found at Clients -> domino-play -> settings -> Advanced settings (near bottom).

### Recently viewed articles

*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/articles/7370960701204-How-to-create-a-new-Organization-in-your-Domino-deployment)
*   [Switching Domino Users Roles](https://tickets.dominodatalab.com/hc/en-us/articles/9020763375124-Switching-Domino-Users-Roles)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set)
*   [What does the 'Domino Employee' setting do in the Admin>>User Dashboard?](https://tickets.dominodatalab.com/hc/en-us/articles/9706310341140-What-does-the-Domino-Employee-setting-do-in-the-Admin-User-Dashboard)
*   [Unable to Deactivate user from Admin UI page](https://tickets.dominodatalab.com/hc/en-us/articles/10492169969300-Unable-to-Deactivate-user-from-Admin-UI-page)

### Related articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2FODZaBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQY%3D--cb0ab7dc3163a22158e11a45b6a535a328414aac)
*   [When Does Domino Set A User as Inactive?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQgkaB9BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2FODZaBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzYwMzcxMjI5MTY1MDAtV2hlbi1Eb2VzLURvbWluby1TZXQtQS1Vc2VyLWFzLUluYWN0aXZlBjsIVDoJcmFua2kH--069922ca4e0824804b57326a7982435f0f023802)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2FODZaBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQg%3D--0f89fcc5508b18c82f8a7d6d181b368f6929f079)
*   [Workspace Volume Size](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKlpgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2FODZaBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzQ0MDkxOTY0MzE4OTItV29ya3NwYWNlLVZvbHVtZS1TaXplBjsIVDoJcmFua2kJ--6c7e344ac4366984900d2e549ee4156fab0f4487)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2FODZaBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQo%3D--a6d80306bbbab6898296e7effe1d9c68ed13abed)"
https://tickets.dominodatalab.com/hc/en-us/articles/6037122916500-When-Does-Domino-Set-A-User-as-Inactive,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6037122916500-When-Does-Domino-Set-A-User-as-Inactive/subscription.html ""Opens a sign-in dialog"")

When an employee or user leaves a company or stops using a certain program or application for various reasons, it would only make sense for their profile to be deactivated to save cost, for usernames to be recycled and used by another incoming player. Most of the time, programs, websites and applications automatically deactivates a user profile at an ""X"" amount of days for inactivity or failure to log in. 

So for Domino, when does this happen- short answer is, ""Domino does not set a user inactive""? Here are some facts

1\. There is no timeline or condition,Deactivation won’t be triggered by any period of inactivity.

2\. ""A **user should be deactivated by an Admin to make it inactive.""**  If they have an IDP, and a user is deactivated in the IDP, it will still be active in Domino and Keycloak (though of course it won’t be able to login).

3\. A user is becoming inactive only if it is deactivated from Admin / Users page, or directly in Keycloak and can’t log in to Domino.

4\. If he/she  is deactivated in Keycloak, it is still marked as active in Domino but can’t log in to Domino.

### Recently viewed articles

*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/6984526511892-How-to-logout-or-end-a-user-s-user-session-from-Domino)
*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/articles/7370960701204-How-to-create-a-new-Organization-in-your-Domino-deployment)
*   [Switching Domino Users Roles](https://tickets.dominodatalab.com/hc/en-us/articles/9020763375124-Switching-Domino-Users-Roles)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/articles/9120255872020-Error-activating-deactivating-user-User-user-does-not-have-idpId-set)
*   [What does the 'Domino Employee' setting do in the Admin>>User Dashboard?](https://tickets.dominodatalab.com/hc/en-us/articles/9706310341140-What-does-the-Domino-Employee-setting-do-in-the-Admin-User-Dashboard)

### Related articles

*   [Deactivation of a user](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTdnsd3BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgkaB9BToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzYwMTIwMDgzMjQ1MDAtRGVhY3RpdmF0aW9uLW9mLWEtdXNlcgY7CFQ6CXJhbmtpBg%3D%3D--280ac9541640757f8d1d81b71a8077d82288052d)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgkaB9BToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kH--ebf86555583e9fc415c2423277cc855d55e79fdd)
*   [Activating Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTiGhwBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgkaB9BToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI4MTMwMDIzODgtQWN0aXZhdGluZy1Ud28tRmFjdG9yLUF1dGhlbnRpY2F0aW9uBjsIVDoJcmFua2kI--e43abd014fb07609e7dcfb14d57fce15e797e7d6)
*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJi6IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgkaB9BToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MzAzMi1Ib3ctYXJlLWhhcmR3YXJlLXRpZXJzLXJlbGF0ZWQtdG8tQVdTLUVDMi1pbnN0YW5jZS10eXBlBjsIVDoJcmFua2kJ--545e685786504ef6237dacf5891c024e157151cf)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSe62WSEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQgkaB9BToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5MzIwNDcyODM3NjUyLUFkZGluZy1jdXN0b20taGVhZGVycy10by1Eb21pbm8tZnJvbnRlbmQGOwhUOglyYW5raQo%3D--b1d4f7e9692afa2d52c3bc69772a16a10e777b2b)"
https://tickets.dominodatalab.com/hc/en-us/articles/6012008324500-Deactivation-of-a-user,"Submitted by Gener Joseph Tomas

Please follow these steps to deactivate a user on your Domino deployment.

1) Sign in to your Domino deployment

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/23740603511572)

2) Go to ""Admin Settings"" after logging in.

![Screen_Shot_2022-05-03_at_1.16.42_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6011989585300)

3) Navigate to ""Users.""

![Screen_Shot_2022-05-03_at_1.15.16_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6011970313748)

4) Look for the user you want to deactivate.

![Screen_Shot_2022-05-03_at_1.17.31_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/6011978668692)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/4407007113108-Can-I-restrict-users-from-scheduling-workloads-or-creating-launchers,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4407007113108-Can-I-restrict-users-from-scheduling-workloads-or-creating-launchers/subscription.html ""Opens a sign-in dialog"")

The scheduling of workloads and creation of launchers can be restricted to users with the [sysadmin and supportstaff](https://docs.dominodatalab.com/en/latest/admin_guide/2611b7/roles/#_administrator_actions) roles.  Setting the following central configuration option, [com.cerebro.domino.restrictPublishing](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#authorization), to 'true' will put this restriction in place. 

Once this option is set and services have been restarted, users who do not have the sysadmin or supportstaff roles will see the following red toaster popup warning when trying to create a schedule...

![TOASTER.png](https://tickets.dominodatalab.com/hc/article_attachments/4407007052436)

Non syadmin/supportstaff users will get a 403 error when access the launcher page of a project...

![Screen_Shot_2021-09-16_at_10.34.04_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4407014406036)

### Related articles

*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTvFxYCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpBg%3D%3D--398d44872c2b59680a2ad61816985d773a381560)
*   [What is a Lite User/LightUser?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRC2f8BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTvFxYCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY2MzM5MDY3MDgtV2hhdC1pcy1hLUxpdGUtVXNlci1MaWdodFVzZXIGOwhUOglyYW5raQc%3D--74005870f3f3793d11ea775b22dfd817e3367efb)
*   [Model APIs: New builds fail with ""Error during image build and push: timed out waiting for replicator to prepare resources""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR1hq%2BACToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTvFxYCBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmS9oYy9lbi11cy9hcnRpY2xlcy8xMDQ0ODMwNTI4ODU5Ni1Nb2RlbC1BUElzLU5ldy1idWlsZHMtZmFpbC13aXRoLUVycm9yLWR1cmluZy1pbWFnZS1idWlsZC1hbmQtcHVzaC10aW1lZC1vdXQtd2FpdGluZy1mb3ItcmVwbGljYXRvci10by1wcmVwYXJlLXJlc291cmNlcwY7CFQ6CXJhbmtpCA%3D%3D--9e4eb297647b4466597958be63a99051955e74f4)"
https://tickets.dominodatalab.com/hc/en-us/articles/4410143508244-How-can-I-assign-a-hardware-tier-to-an-organization,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4410143508244-How-can-I-assign-a-hardware-tier-to-an-organization/subscription.html ""Opens a sign-in dialog"")

The organizational structure in Domino can be used to provide group level permissions to a set of users.  If for example, you have an expensive GPU tier that you would like to assign access to for a set of users it can be done from the organization administration screen.  

Navigate to Admin>>Users>>Organizations>>hardware tiers and select which hardware tiers you would like the org to have access to.  Note that global tiers are accessible to all orgs by default.

![Screen_Shot_2021-11-10_at_9.17.15_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4410136326164)

### Recently viewed articles

*   [Can I restrict users from scheduling workloads or creating launchers?](https://tickets.dominodatalab.com/hc/en-us/articles/4407007113108-Can-I-restrict-users-from-scheduling-workloads-or-creating-launchers)

### Related articles

*   [Can I restrict users from scheduling workloads or creating launchers?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTvFxYCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHCdECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ0MDcwMDcxMTMxMDgtQ2FuLUktcmVzdHJpY3QtdXNlcnMtZnJvbS1zY2hlZHVsaW5nLXdvcmtsb2Fkcy1vci1jcmVhdGluZy1sYXVuY2hlcnMGOwhUOglyYW5raQY%3D--b81c8e45dc6abfc1fbfa64f52320b2f2311c91fa)
*   [User Activity Report](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCyzIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHCdECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI5L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTEzMi1Vc2VyLUFjdGl2aXR5LVJlcG9ydAY7CFQ6CXJhbmtpBw%3D%3D--983f0a9a9972f32985a745110bd3608fb3a7acef)
*   [Invitation to Published App isn't allowing users to see the App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQpqZNSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHCdECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzgwNTEyNDYwNDk1NTYtSW52aXRhdGlvbi10by1QdWJsaXNoZWQtQXBwLWlzbi10LWFsbG93aW5nLXVzZXJzLXRvLXNlZS10aGUtQXBwBjsIVDoJcmFua2kI--32f6c72571cff137a9f092ff0577e97543f2ca7b)
*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSHfi%2B0BjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHCdECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzczNzA5NjA3MDEyMDQtSG93LXRvLWNyZWF0ZS1hLW5ldy1Pcmdhbml6YXRpb24taW4teW91ci1Eb21pbm8tZGVwbG95bWVudAY7CFQ6CXJhbmtpCQ%3D%3D--0f6a9ef3c14ee1dc9e79999891101cc46299d340)
*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSHCdECBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpCg%3D%3D--e0532fb9e03bd7e535da9a5833d9d6bf24d1ba41)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4410143508244-How-can-I-assign-a-hardware-tier-to-an-organization) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/4402813002388-Activating-Two-Factor-Authentication,"Submitted by Gener Joseph Tomas

To activate your Domino deployment's Two-Factor Authentication, kindly follow these steps.

1) log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/19902713789716)

2) After logging in, go to ""Account Settings""

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/19902691157268)

3) Go to ""Manage login profile""

![Screen_Shot_2021-06-28_at_9.09.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/19902713794068)

4) Go to ""Authenticator"" and Scan the QR code using an Authenticator app ![Screen_Shot_2021-06-28_at_9.22.46_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402820213780)

5) Enter the 6-digit code from your Authenticator app and click change

![Screen_Shot_2021-06-28_at_9.28.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402820232340)![Screen_Shot_2021-06-28_at_9.30.09_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402820232084)![Screen_Shot_2021-06-28_at_9.31.25_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812979220)

6) Logout and Re-login to your Domino deploy to check if the Two-Factor Authentication is set

![Screen_Shot_2021-06-28_at_9.32.58_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812988180)

**You're All Set!**"
https://tickets.dominodatalab.com/hc/en-us/articles/4402812797460-Changing-Account-Information-on-4-x,"Submitted by Gener Joseph Tomas

To change your Domino deployment's Account Information, kindly follow these steps.

1) log in to your Domino deploy

![Screen_Shot_2021-06-28_at_9.06.13_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402812841364)

2) After logging in, go to ""Account Settings""

![Screen_Shot_2021-06-28_at_9.17.20_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402820192148)

3) Go to ""Manage login profile""

![Screen_Shot_2021-06-28_at_9.09.28_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402820148372)

4) Change Account Information Such as Username, Email, First name, and Last name and click Change.

![Screen_Shot_2021-06-28_at_9.11.18_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4402820184212)

**You're All Set.**"
https://tickets.dominodatalab.com/hc/en-us/articles/4402327573140-Username-Changes-in-Domino,"## Username Changes in Domino

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4402327573140-Username-Changes-in-Domino/subscription.html ""Opens a sign-in dialog"")

Usernames in Domino are not treated as immutable keys, so can be changed at will with no impact to the application. 

Instead, it is the user's email address that is treated as immutable. As such, Domino Admins can freely pursue changes to the format of usernames either directly in the Domino UI, or in integrated SSO systems, as long as users are retaining their existing email addresses.

After a change to a username is made, all in application paths which reference the user object will show the updated username.

If your organization is using local usernames and passwords, you can change a username in the Domino UI with the following steps:

1.  Click your username icon on the lower left of the Domino navigation bar and select ""Account Settings.""
2.  Highlight ""Login Profile"" and click the ""Manage Login Profile"" button to the right.
3.  Here you can adjust your Domino profile as needed.

For integrated LDAP/AD and SSO systems please follow your vendor's guidance.

If your organization needs to pursue changes that involve the alteration of user email addresses, please engage Domino support for scoping and impact investigation.

### Recently viewed articles

*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4402812797460-Changing-Account-Information-on-4-x)
*   [Activating Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/4402813002388-Activating-Two-Factor-Authentication)
*   [What is a Lite User/LightUser?](https://tickets.dominodatalab.com/hc/en-us/articles/4406633906708-What-is-a-Lite-User-LightUser)
*   [How can I assign a hardware tier to an organization?](https://tickets.dominodatalab.com/hc/en-us/articles/4410143508244-How-can-I-assign-a-hardware-tier-to-an-organization)
*   [Can I restrict users from scheduling workloads or creating launchers?](https://tickets.dominodatalab.com/hc/en-us/articles/4407007113108-Can-I-restrict-users-from-scheduling-workloads-or-creating-launchers)

### Related articles

*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQY%3D--00971fe686e588df2608f6e835aec2154e92431a)
*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--1196a2950ae1ad99a9b7b1679f7ea1602c11458d)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kI--1c4e5accd460f944f0194c81e70fd76ef03f32bc)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kJ--cd59b3da3daffeeb2759420e3e5d83e36ca39451)
*   [Extract username from launcher runs in Python](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDCYddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTSK%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTg3NjcyMzk5NTYtRXh0cmFjdC11c2VybmFtZS1mcm9tLWxhdW5jaGVyLXJ1bnMtaW4tUHl0aG9uBjsIVDoJcmFua2kK--078676d64c14373b2087132b4aa0cf1e1f7afd65)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058497271-How-do-I-add-a-new-user,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058497271-How-do-I-add-a-new-user/subscription.html ""Opens a sign-in dialog"")

For all Domino deployments that use LDAP/SSO authentication, there is no manual way to add a user.  For a user account to be created on the Domino deployment all the user needs to do is login and their account will be created automatically. 

For deployments not using SSO/LDAP you will see the follow message at the bottom of the login screen, **Don't have an account yet? [Sign up](http://not.a.real.deploy/login)** (see below). Follow the link and fill out the user information and the account will be created.

**![Screen_Shot_2021-11-09_at_4.32.48_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4410057035796)**

It is possible to disable signups via a feature flag, so check the Admin>>Advanced>>Feature Flags menu to enable or disable signups via the ""**SignupsEnabled**"" flag.  

### Recently viewed articles

*   [Username Changes in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4402327573140-Username-Changes-in-Domino)
*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4402812797460-Changing-Account-Information-on-4-x)
*   [Activating Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/4402813002388-Activating-Two-Factor-Authentication)
*   [What is a Lite User/LightUser?](https://tickets.dominodatalab.com/hc/en-us/articles/4406633906708-What-is-a-Lite-User-LightUser)
*   [How can I assign a hardware tier to an organization?](https://tickets.dominodatalab.com/hc/en-us/articles/4410143508244-How-can-I-assign-a-hardware-tier-to-an-organization)

### Related articles

*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPeoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpBg%3D%3D--5fc64afdc6afd2c31e99a3ee947c6b306190c5c0)
*   [Reviewing Merge Changes](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQfjA4DBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPeoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzQ0MTExNzU0NzcxNDAtUmV2aWV3aW5nLU1lcmdlLUNoYW5nZXMGOwhUOglyYW5raQc%3D--8c8814eeec79fafbd7fe13e8905006569585829c)
*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPeoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpCA%3D%3D--2d21aa10d29f419e714518847b2f859d1a0f30b6)
*   [Javascript error when starting workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQyvfkBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPeoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDY1MzE0MDQ0MzYtSmF2YXNjcmlwdC1lcnJvci13aGVuLXN0YXJ0aW5nLXdvcmtzcGFjZQY7CFQ6CXJhbmtpCQ%3D%3D--0d13ffa355a7418d2f2d19be4b263113d4337383)
*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCPeoKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQo%3D--d9079e682780c7d908a808925168b5abb2af34b7)

### Comments

1 comment

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058497271-How-do-I-add-a-new-user) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/360058041132-User-Activity-Report,"## User Activity Report

![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058041132-User-Activity-Report/subscription.html ""Opens a sign-in dialog"")

Need to see which users are active on your Domino deployment, what license type they have, and what kinds of workloads they've recently run? There's a report for that. You can download the report for your preferred timeframe or use an undocumented API (subject to change in future versions of Domino) to pull down that information.

### Download the report from the Admin UI.

In your Domino deployment, when logged in as an Admin: navigate to Admin -> Advanced -> User Activity Report. Select your date range and download as a CSV.

[![Screen Shot Showing How to Access User Activity Report from UI](https://us.v-cdn.net/6031622/uploads/988/GCW5PQ2RUFD7.png)](https://us.v-cdn.net/6031622/uploads/988/GCW5PQ2RUFD7.png)

**Use** the undocumented API

There is an undocumented API that can be found at the handle `/admin/generateUserActivityReport` (subject to change). You can use this to view or download the report from a Domino workspace or job. This can also be run as a [scheduled job](https://docs.dominodatalab.com/en/latest/user_guide/5dce1f/schedule-jobs/) that emails you the results on a regular basis.

### Recently viewed articles

*   [How do I delete organizations in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496951-How-do-I-delete-organizations-in-Domino)
*   [How do I add a new user?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497271-How-do-I-add-a-new-user)
*   [Username Changes in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4402327573140-Username-Changes-in-Domino)
*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4402812797460-Changing-Account-Information-on-4-x)
*   [Activating Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/4402813002388-Activating-Two-Factor-Authentication)

### Related articles

*   [How to generate a User Activity Report by API call in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRImFsCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCyzIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDgxNzMxNTIyNzYtSG93LXRvLWdlbmVyYXRlLWEtVXNlci1BY3Rpdml0eS1SZXBvcnQtYnktQVBJLWNhbGwtaW4tRG9taW5vLTQteAY7CFQ6CXJhbmtpBg%3D%3D--f371a2964d269c386c06e8e0a7f494d2e4d8c29e)
*   [Isolate Hardware Tiers for User groups](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMecKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCyzIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDE1MS1Jc29sYXRlLUhhcmR3YXJlLVRpZXJzLWZvci1Vc2VyLWdyb3VwcwY7CFQ6CXJhbmtpBw%3D%3D--a650400b359c547811a1939add83c755447b4bbb)
*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR39rqPEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCyzIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzIxNTA4MDM3OTY1NzE2LU1vZGlmeWluZy1vci1jaGVja2luZy1kZXBsb3ltZW50LW5vdGlmaWNhdGlvbi10aGF0LWlzLXNldC1vbi10aGUtZGVwbG95bWVudAY7CFQ6CXJhbmtpCA%3D%3D--16b0a7ff53d4b82c168e0e85ca1259d15861fca5)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058496951-How-do-I-delete-organizations-in-Domino,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058496951-How-do-I-delete-organizations-in-Domino/subscription.html ""Opens a sign-in dialog"")

Unfortunately, you cannot currently delete organizations in Domino. Additionally, once an organization is created you cannot rename it. There is an existing feature request ticket to add this to the platform and we hope to include this functionality in a future version of Domino

### If I absolutely need an organization renamed, can an admin or Domino support do this for me?

Yes, if you absolutely need an organization renamed please write to us at [support@dominodatalab.com](https://tickets.dominodatalab.com/hc/en-us/articles/support@dominodatalab.com) for assistance (for example, if it was created in error and has a name that conflicts with another user's desired username). The process requires a database update so we can only do this in cases where there is an urgent need, but in such cases we are happy to help.

### **References/Internal Records:**

*   DOM-27043

### Recently viewed articles

*   [How do I add a new user?](https://tickets.dominodatalab.com/hc/en-us/articles/360058497271-How-do-I-add-a-new-user)
*   [Username Changes in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4402327573140-Username-Changes-in-Domino)
*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4402812797460-Changing-Account-Information-on-4-x)
*   [Activating Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/4402813002388-Activating-Two-Factor-Authentication)
*   [What is a Lite User/LightUser?](https://tickets.dominodatalab.com/hc/en-us/articles/4406633906708-What-is-a-Lite-User-LightUser)

### Related articles

*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kG--fc1c51dcd1b0ee920e59e257e8ec4ea7e5263d77)
*   [How to create a new Organization in your Domino deployment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSHfi%2B0BjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzczNzA5NjA3MDEyMDQtSG93LXRvLWNyZWF0ZS1hLW5ldy1Pcmdhbml6YXRpb24taW4teW91ci1Eb21pbm8tZGVwbG95bWVudAY7CFQ6CXJhbmtpBw%3D%3D--606aa5b5b052cd7500268f6aaa06236a848794a0)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQg%3D--ed3fad2b1bbaa954e279af091e8ea68881e2494c)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kJ--e5e812eab9ffad7ed48c342b3f22cacb9a2da3ac)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLenKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpCg%3D%3D--02e4a6aaeaabb663df35dd504337ffc8dbd5c88d)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14095165274900-test-ecd-health-py-Runbook&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/14095165274900-test-ecd-health-py-Runbook/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSIiZrdDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS7UcnRDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE1MjQ1NDMxNjM4MTY0LU11bHRpcGxlLWVudmlyb25tZW50cy1kby1ub3QtYnVpbGQtb3ItYXJlLXN0dWNrLWluLXF1ZXVlZC1zdGF0dXMGOwhUOglyYW5raQk%3D--4a44525a35b2deda72e6efa324bc23c3cead17f1,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15245431638164-Multiple-environments-do-not-build-or-are-stuck-in-queued-status/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

Domino 5.3 or later

* * *

## **Issue:**

Creating an environment results in the build not starting or stuck in Queued status:  
![](https://tickets.dominodatalab.com/hc/article_attachments/15244231671188)

In the build logs, you see the following logs only or no logs at all:

Mar 16 2023 12:05:11 -0400 Validating registry credentials  
Mar 16 2023 12:05:12 -0400 Leasing buildkit worker

If you are a Domino Admin, you may also see hephaestus-buildkit-0 pods in the domino-compute namespaces that are not ready or in error status:

% kubectl get pods -n domino-compute | grep build              
hephaestus-buildkit-0                             0/1     Running   0              10m
hephaestus-buildkit-1                             0/1     Running   0              10m

If you describe one of the pods, you also see these errors:

```
kubectl describe pod -n domino-compute hephaestus-buildkit-0...........Events:Type Reason Age From Message---- ------ ---- ---- -------Warning FailedMount 17m (x12 over 3h28m) kubelet Unable to attach or mount volumes: unmounted volumes=[cache], unattached volumes=[ca-bundle-vol cache config-vol mtls-vol]: timed out waiting for the conditionWarning FailedMount 8m34s (x18 over 4h4m) kubelet Unable to attach or mount volumes: unmounted volumes=[cache], unattached volumes=[cache config-vol mtls-vol ca-bundle-vol]: timed out waiting for the conditionWarning FailedMount 111s (x55 over 4h8m) kubelet Unable to attach or mount volumes: unmounted volumes=[cache], unattached volumes=[config-vol mtls-vol ca-bundle-vol cache]: timed out waiting for the conditionWarning FailedAttachVolume 3s (x122 over 4h6m) attachdetach-controller (combined from similar events): AttachVolume.Attach failed for volume ""pvc-6d4d555c-66d1-4be2-8169-b4a264e6bdd7"" : InvalidVolume.NotFound: The volume 'vol-05a6f85b95df5bdbe' does not exist.status code: 400, request id: 72a91157-3e22-41fe-a97a-773b33c50be1
```

* * *

## **Root Cause:**

The error `InvalidVolume.NotFound: The volume 'vol-05a6f85b95df5bdbe' does not exist`Is due to the underlying volume/storage being deleted or removed for the Persistent Volume that the PVC is made from. In this example, this is an Amazon EBS volume. Thus, the pod cannot mount that PVC.

* * *

## **Resolution:**

**NOTE: The following commands outlined in this article will delete PVC's associated with environment builds and require a Domino Admin with kubectl access to perform these steps. If you do not feel comfortable deleting these PVC's, please contact Domino Support for additional assistance.** 

1\. Find the number of replicas hephaestus-buildkit has:

% kubectl get sts -n domino-compute hephaestus-buildkit -o yaml | grep replicas
  replicas: 2
  replicas: 2

Note the number of replicas as you will need this information for a later step of this articles.

2\. Scale down the hephaestus-buildkit replicas to 0:

% kubectl scale sts -n domino-compute hephaestus-buildkit --replicas=0
statefulset.apps/hephaestus-buildkit scaled

3\. Find the cache-hephaestus PVCs for your deployment:

% kubectl get pvc -n domino-compute | grep cache-hephaestus
cache-hephaestus-buildkit-0          Bound    pvc-adac8d27-40c8-458c-8297-92f548a38e75   100Gi      RWO            dominodisk     109d
cache-hephaestus-buildkit-1          Bound    pvc-58ee9c93-580f-4e40-9463-5e15fa1dff22   100Gi      RWO            dominodisk     109d

The number of PVCs you will see from the output will vary between Domino deployments.

  
4\. Delete all the cache-hephaestus-buildkit PVCs that are noted in the command above:

% kubectl delete pvc cache-hephaestus-buildkit-0 cache-hephaestus-buildkit-1 -n domino-compute --grace-period=0 --force

5\. Scale the hephaestus-buildkit replicas back to the original number noted in the first step:

% kubectl scale sts -n domino-compute hephaestus-buildkit --replicas=2
statefulset.apps/hephaestus-buildkit scaled

  
6\. Restart the hephaestus-manager pod:

% kubectl get pods -n domino-platform | grep hephaestus
hephaestus-manager-6d79cf47d7-qndwt             2/2   Running   0       25m  
% kubectl delete pod hephaestus-manager-6d79cf47d7-qndwt -n domino-platform

It takes a few minutes for the pod to come back up and for builds to continue. You may need to cancel the builds and try them again for them to complete successfully.

* * *

## **Notes/Information:**

Please contact Domino Support for further assistance if the above steps do not work.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [User Activity Report](https://tickets.dominodatalab.com/hc/en-us/articles/360058041132-User-Activity-Report)
*   [How do I delete organizations in Domino?](https://tickets.dominodatalab.com/hc/en-us/articles/360058496951-How-do-I-delete-organizations-in-Domino)

### Related articles

*   [Build getting stuck as queued in 4.x, 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSEJK4qBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSIiZrdDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ1ODEzNTY3NjYyMjgtQnVpbGQtZ2V0dGluZy1zdHVjay1hcy1xdWV1ZWQtaW4tNC14LTUtMgY7CFQ6CXJhbmtpBg%3D%3D--5706f92575191b0d759bb2dd846f8b00ab040f11)
*   [Getting Started with Poetry in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTgAhM%2BBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSIiZrdDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzc5NjMxODgzMjIzMjQtR2V0dGluZy1TdGFydGVkLXdpdGgtUG9ldHJ5LWluLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--432aeea5686f52bf4a294aea09e4a0ce2db5f4c2)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSIiZrdDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQg%3D--b8cded49e7ecfe0baa8b08ada78be2eae629b963)
*   [Hephaestus environment build failures in Domino 5.2.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCSYhUBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSIiZrdDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzgwNTk2NDUxNjYyMjgtSGVwaGFlc3R1cy1lbnZpcm9ubWVudC1idWlsZC1mYWlsdXJlcy1pbi1Eb21pbm8tNS0yLTAGOwhUOglyYW5raQk%3D--64ffabc69173561c68734f18b91340c4899030ee)
*   [Salvaging a PVC (File Recovery) from within a workspace in an Error state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQB9XNGCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSIiZrdDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzEwMTk4MTk3Nzk3MTQwLVNhbHZhZ2luZy1hLVBWQy1GaWxlLVJlY292ZXJ5LWZyb20td2l0aGluLWEtd29ya3NwYWNlLWluLWFuLUVycm9yLXN0YXRlBjsIVDoJcmFua2kK--d64e5149f8f72ebad22734d0aa71cdd9711d0a72)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14095165274900-test-ecd-health-py-Runbook,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21507698477076-Assigning-hardware-tier-to-an-organization&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/21507698477076-Assigning-hardware-tier-to-an-organization/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRIuqaPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kH--78b7be88925aa8d80216f8e94868d027ff29aa41,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7585897710612-R-packages-such-as-RcppParallel-will-not-install-in-Rstudio-workspace/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All Domino versions.

Applies to Domino Standard Environments prior to 5.2.  Note that Domino Standard Environments are not version specific and can generally be used in any version of Domino.  They are however tagged with the version of Domino where they were released.  

## **Issue:**

R package install fails within the Rconsole of the Rstudio IDE.  If you are trying to install a package in the R console using for example...

install.packages(""RcppParallel"")  

You may run in to any number of failures during the install.  We'll use the RcppParallel as an example in this article, but the actual packages and failures may vary.  For this package the failure is below

\> install.packages(""RcppParallel"")
Installing package into ‘/usr/local/lib/R/site-library’
(as ‘lib’ is unspecified)
trying URL 'https://cran.us.r-project.org/src/contrib/RcppParallel\_5.1.5.tar.gz'
Content type 'application/octet-stream' length 1967672 bytes (1.9 MB)
\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=\=
downloaded 1.9 MB

\* installing \*source\* package ‘RcppParallel’ ...
\*\* package ‘RcppParallel’ successfully unpacked and MD5 sums checked
\*\* using staged installation
\*\* preparing to configure package 'RcppParallel' ...
\*\* finished configure for package 'RcppParallel'
\*\* libs
g++ -std=gnu++14 -I""/usr/share/R/include"" -DNDEBUG      -fpic  -g -O2 -fdebug-prefix-map=/build/r-base-asoVQd/r-base-4.2.1=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D\_FORTIFY\_SOURCE=2  -c init.cpp -o init.o
g++ -std=gnu++14 -I""/usr/share/R/include"" -DNDEBUG      -fpic  -g -O2 -fdebug-prefix-map=/build/r-base-asoVQd/r-base-4.2.1=. -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D\_FORTIFY\_SOURCE=2  -c options.cpp -o options.o
options.cpp:2:10: fatal error: RcppParallel.h: No such file or directory
    2 | #include <RcppParallel.h>
      |          ^~~~~~~~~~~~~~~~
compilation terminated.
make: \*\*\* \[/usr/lib/R/etc/Makeconf:177: options.o\] Error 1
ERROR: compilation failed for package ‘RcppParallel’
\* removing ‘/usr/local/lib/R/site-library/RcppParallel’
Warning in install.packages :
  installation of package ‘RcppParallel’ had non-zero exit status
The downloaded source packages are in
	‘/tmp/Rtmp3xuIxi/downloaded\_packages’

**Note:** Most R package installs fail due to package dependency issues.  These are not specific to Domino Environments and should be resolved by the user.  In general package install issues are out of scope for Domino Support.  But if you have been through the wringer with a package install, let us know and we'll try to give you some pointers.

## **Root Cause:**

In this case and in many R package install failures, the root cause is that the R package needs to be installed as the root user.  When you start a Domino workspace in Rstudio, the user in the Rstudio console is the ubuntu user.

## **Resolution:**

There are several ways to install as the root user.

 1) The most efficient method is to install the package directly in to the Compute Environment's docker definition.  This will add the package permanently to the image for the Environment.

`RUN R --no-save -e 'install.packages(""RcppParallel"")'`

   
2) You can also add the install as a script in to the 'Pre Run Script' section of the Compute Environment definition.  This will install the RcppParallel package at the start of each execution.   
   
`R --no-save -e 'install.packages(""RcppParallel"")'`  
   
3) From the Rstudio workspace switch to the terminal tab and switch to root...  
   
`#sudo su`  
   
then install RcppParallel...  
   
`#R --no-save -e 'install.packages(""RcppParallel"")'`

## **Notes/Information:**

Domino images created for 5.2 and beyond do not have this dependency and R packages can be installed without root privileges.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Modifying or checking deployment notification that is set on the deployment.](https://tickets.dominodatalab.com/hc/en-us/articles/21508037965716-Modifying-or-checking-deployment-notification-that-is-set-on-the-deployment)
*   [Model Monitoring : Configuring Health Dashboard](https://tickets.dominodatalab.com/hc/en-us/articles/14144830084884-Model-Monitoring-Configuring-Health-Dashboard)
*   [Multiple environments do not build or are stuck in queued status](https://tickets.dominodatalab.com/hc/en-us/articles/15245431638164-Multiple-environments-do-not-build-or-are-stuck-in-queued-status)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)

### Related articles

*   [ERROR: Could not install packages due to an EnvironmentError: \[Errno 13\] Permission denied:](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCZPcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQEvTrmBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ8L2hjL2VuLXVzL2FydGljbGVzLzQ0MDY0OTIwNTQwMzYtRVJST1ItQ291bGQtbm90LWluc3RhbGwtcGFja2FnZXMtZHVlLXRvLWFuLUVudmlyb25tZW50RXJyb3ItRXJybm8tMTMtUGVybWlzc2lvbi1kZW5pZWQGOwhUOglyYW5raQY%3D--ed1950d503332333228deb04b7c1365cf9ae5264)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS0cpdyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQEvTrmBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBii9oYy9lbi11cy9hcnRpY2xlcy83MDg5MjM2OTE1MzQ4LVJzdHVkaW8tcGxvdC1mdW5jdGlvbnMtZmFpbC13aXRoLVItZ3JhcGhpY3MtZW5naW5lLXZlcnNpb24tMTUtaXMtbm90LXN1cHBvcnRlZC1ieS10aGlzLXZlcnNpb24tb2YtUlN0dWRpbwY7CFQ6CXJhbmtpBw%3D%3D--bb9cfd095475af58fca827d7f9d3e2488fb4c80d)
*   [Git submodules in a ""read only"" use-case](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRpW2SXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQEvTrmBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzUwNDgyNzAyODUwNzYtR2l0LXN1Ym1vZHVsZXMtaW4tYS1yZWFkLW9ubHktdXNlLWNhc2UGOwhUOglyYW5raQg%3D--1f95404ece0d1daeae056af210d6c2ed995f2282)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQEvTrmBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kJ--01344113eb79b2e06e17a1ecdcd10c5b2cda60f4)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQEvTrmBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kK--87f12d63ca438c533911646138e8cfa08ccb73ac)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS3ZV0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRIuqaPEzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDg0MjU2MjAtQ2FuLUktcmVzdHJpY3QtYS1oYXJkd2FyZS10aWVyLXRvLWEtc3BlY2lmaWMtcHJvamVjdAY7CFQ6CXJhbmtpCA%3D%3D--c8ce1efd807d7e12d6ac701190c8c633dabe796a,"At this time it is not possible to restrict a hardware tier to a specific project. However, if you edit the hardware tier in the admin panel you will see a setting at the bottom that restricts the tier to a single organization. See docs here: [node pools](https://docs.dominodatalab.com/en/latest/admin_guide/908bd9/hardware-tier-best-practices/#isolating-workloads-and-users-using-node-pools)

If you set the project owner as a member of that organization, they will be able to use the restricted hardware tier. I suggest giving the hardware tier a proper title to remind the user it should be used for one specific project as they will have access to this hardware tier from other projects as well."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwES9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDc0ODgxMi1BcHAtUHVibGlzaGluZy00MDQtTm90LUZvdW5kLWVycm9yBjsIVDoJcmFua2kI--1cb6b84cd77946b598b498cb324b73e433849d68,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060748812-App-Publishing-404-Not-Found-error/subscription.html ""Opens a sign-in dialog"")

When you launch an app (Flask, Dash, or Shiny) and the app directs to a page with a 404 Not Found error that says nginx underneath like shown here:

![mceclip1.png](https://tickets.dominodatalab.com/hc/article_attachments/360095061851)

it's possible that there is a security setting in Domino that is turned on. In this circumstance, it's possible that some elements of the app are being blocked from rendering. A Domino admin can confirm this by checking the Feature Flag:

ShortLived.iFrameSecurityEnabled 

This Feature Flag controls iFrame security for the web application by adding the sandbox attribute to iFrame. To enable the application elements to render, the Flag can be set to False.

If you have any remaining questions on this issue, please contact Domino Support at [support@dominodatalab.com](mailto:support@dominodatalab.com). 

### Recently viewed articles

*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)

### Related articles

*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwES9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBg%3D%3D--210af33fd09bfd480093bb18ede64cff709faeac)
*   [404 errors during Running phase of newly launched workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSuPUFOCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwES9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzkxMzIxOTUwMzI1OTYtNDA0LWVycm9ycy1kdXJpbmctUnVubmluZy1waGFzZS1vZi1uZXdseS1sYXVuY2hlZC13b3Jrc3BhY2VzBjsIVDoJcmFua2kH--a3ede39a2855f19381fa26de501b19715a7c00c8)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwES9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCA%3D%3D--f744c2c8f8bb7c470afc90329666bcc78198d851)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwES9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpCQ%3D%3D--ca24f5791e19df25fd949acb23f1625e4a875fb2)
*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAwES9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpCg%3D%3D--419ef07515694afd2e3a4c17b0df2f89cda719d2)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30eR%2FDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrWw19CzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzEzNzQzNDM5MzI5MDQ0LUFjY2Vzc2luZy1WYXVsdC1SZXRyaWV2aW5nLVNlY3JldHMGOwhUOglyYW5raQo%3D--38d699fca4b2566c000c9bbca8f1b36ccbb56ce1,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets/subscription.html ""Opens a sign-in dialog"")

**Version:** 

Domino 5.x 

**What is Vault:**

HashiCorp Vault is a secret and encryption management solution based on identification. Everything that you wish to restrict access to, such as API encryption keys, passwords, and certificates, is considered a secret. Vault offers encryption services that are restricted by authentication and authorisation procedures. Access to secrets and other sensitive data may be securely saved and maintained, carefully regulated (limited), and auditable via Vault's UI, CLI, or HTTP API.

**What do we use it for at Domino Data Lab:**

As of Domino v5, we use [Hashicorp Vault](https://www.vaultproject.io/docs/what-is-vault ""https://www.vaultproject.io/docs/what-is-vault"") as the secure storage for sensitive information to secure, store, and control access to tokens, passwords, certificates, API keys, and other secrets including environmental variables(project, user).

Its important to note, different secrets were introduced to vault in different releases, here are some:

|     |     |
| --- | --- |
| **Secret** | **Version** |
| User environment variables | 5.0.0 |
| User API keys | 5.0.0 |
| Data source credentials | 5.0.0 |
| Project environment variables | 5.1.0 |
| Model Access Tokens | 5.1.0 |
| NVIDIA FleetCommand Tokens | 5.1.0 |

**How to access Vault:**

1\. Obtain the secret to Vault (Note, the namespace may need to be substituted below)

kubectl get secret vault-bank-vaults -ojsonpath='{.data.vault-root}' -n domino-platform |base64 -d;echo  
**x.xxxxxxxxxxxxxxxxxxxx**

2\. Exec into the vault container and use the secret obtained from previous step and export using variable VAULT\_TOKEN

kubectl -n domino-platform exec -it svc/vault -c vault -- /bin/sh  
export VAULT\_TOKEN=**<token from previous step>**

**Listing Secrets:**

To list all secrets and their relevant paths.

/ $ **vault secrets list**  
Path                Type      Accessor            Description  
\----                ----      --------            -----------  
cubbyhole/          cubbyhole cubbyhole\_6100f0c4  per-token private secret storage  
data-plane/transit/ transit   transit\_63258550    n/a  
domino/kv/          kv        kv\_edce4935         n/a  
identity/           identity  identity\_7c4cc20b   identity store  
rabbitmq/           rabbitmq  rabbitmq\_f28c9d56   n/a  
sys/                system    system\_ac4a5a2b     system endpoints used for control, policy and debugging

**Returning a list of Keys:**

The command **vault kv list** returns a list of key names at the supplied location. Folders are denoted by /. A folder must be used as the input; a list on a file will not produce a value. Keys are not subjected to policy-based screening; do not include sensitive information in key names. This command does not provide access to the values themselves.

/ $ **vault kv list domino/kv/nucleus/api-keys/**  
Keys  
\----  
62fd10e768b49c064ee197ba  
62fd3fc0e45b875b76a61676  
62fd4286e45a875b76a6157e  
62fd42bb6ef8d24bc49fb3a7  
62feae68ff4bfc6026224265  
62ff8f62dd4blc602622401a  
63013463745a3801ce32781d  
63074017f8wa8f4996b53s2a  
630774b5d2r12c2ba4220288

**Obtaining Key Values:**

This command obtains the value from the K/V secrets engine for the specified key name. If no key with that name exists, an error is returned. Nothing is returned if a key with the name exists but has no data.

**Example 1**

/ $ **vault kv get domino/kv/nucleus/api-keys/62fd10e768b49c064ee197ba**  
\====================== Secret Path ======================  
domino/kv/data/nucleus/api-keys/62fd10e768b49c064ee197ba

\======= Metadata =======  
Key             Value  
\---             -----  
created\_time    2023-02-27T20:21:59.610708152Z  
custom\_metadata <nil>  
deletion\_time   n/a  
destroyed       false  
version         1

\===== Data =====  
Key     Value  
\---     -----  
api-key 45930f31ca56051f875d108da552hf5e71ac8c2394a4b68c0cf68f7032f14208  
/ $

**Example 2**

/ $ **vault kv get domino/kv/nucleus/project-environment-variables/614dfg357b83836cbabfak9l**  
\================================ Secret Path ================================  
domino/kv/data/nucleus/project-environment-variables/614dfg357b83836cbabfak9l

\======= Metadata =======  
Key             Value  
\---             -----  
created\_time    2023-03-02T17:31:07.648330576Z  
custom\_metadata <nil>  
deletion\_time   n/a  
destroyed       false  
version         2

\=========== Data ===========  
Key                  Value  
\---                  -----  
Domino\_Test          xxxxxxxxxxxx  
SNOWFLAKE\_ACCOUNT    xxxxxxxxxxxx  
SNOWFLAKE\_PASSWORD   xxxxxxxxxxxx  
SNOWFLAKE\_USER       xxxxxxxxxxxx  
SNOWFLAKE\_WAREHOUSE  xxxxxxxxxxxx

**Notes:**

Vault CLI Commands: [https://developer.hashicorp.com/vault/docs/commands](https://developer.hashicorp.com/vault/docs/commands)

### Recently viewed articles

*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [App Publishing - 404 Not Found error](https://tickets.dominodatalab.com/hc/en-us/articles/360060748812-App-Publishing-404-Not-Found-error)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)

### Related articles

*   [Dispatcher message: ""Timed out waiting for entity reflector to become valid""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRSwhqbDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS30eR%2FDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzE0OTU5ODIwMDM0NTgwLURpc3BhdGNoZXItbWVzc2FnZS1UaW1lZC1vdXQtd2FpdGluZy1mb3ItZW50aXR5LXJlZmxlY3Rvci10by1iZWNvbWUtdmFsaWQGOwhUOglyYW5raQY%3D--93985434ef56b201f06ed9f8a0a4e03af4bc3caf)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS30eR%2FDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--f86e5b06bab13ceb51cc7a0cde669b3106cd0db8)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTEr%2BebCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS30eR%2FDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzk0NjU3MDAwMDg5ODAtQVBQUy1SZWFkLU9ubHktRXJyb3ItV2hlbi1TZXR0aW5nLVVwLVVSTC1Gb3ItQXBwLVVzaW5nLURhc2gtMi0xLTAGOwhUOglyYW5raQg%3D--bb9d2b8a40b943dae622f64a96eb1d5cf327893f)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS30eR%2FDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--18d18db006530f86bf423d73a087afc99873c56f)
*   [I am unable to run my model and see a warning that says ""consider increasing buffer size"" in the logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSKuGJBBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS30eR%2FDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy83OTc3NDEwNTI5OTQwLUktYW0tdW5hYmxlLXRvLXJ1bi1teS1tb2RlbC1hbmQtc2VlLWEtd2FybmluZy10aGF0LXNheXMtY29uc2lkZXItaW5jcmVhc2luZy1idWZmZXItc2l6ZS1pbi10aGUtbG9ncwY7CFQ6CXJhbmtpCg%3D%3D--b1fcd956e9247d241779f261c2560495dfca0e74)"
https://tickets.dominodatalab.com/hc/en-us/articles/11248084232212-Prometheus-fails-when-upgrading-to-5-3-x/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F12631722912660-Self-upgrade-failed-with-errors-for-executions-logback-config,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11248084232212-Prometheus-fails-when-upgrading-to-5-3-x&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTpmS9CCjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzExMjc5MzgyNzM1MjUyLVByb21ldGhldXMtYWRhcHRlci1oYXMtT09Na2lsbGVkLWZhaWx1cmUGOwhUOglyYW5raQY%3D--ef51e250059ac1ff81410b4544ca8b37b63d0842,"## Prometheus-adapter has OOMkilled failure

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/11279382735252-Prometheus-adapter-has-OOMkilled-failure/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 4.x & 5.x until 5.5.0

## **Issue:**

With default settings the prometheus-adapter pod may experience an Out Of Memory (OOM) condition and fail.  The prometheus-adapter takes metrics on running DMM jobs and horizontally scales the DMM spark worker instances to accommodate the load.  If you do not use DMM, failure of this pod will not have an impact to your Domino deployment. 

If you have found the pod to be failed, check the describe output of the pod to check the reason for failure.

\# kubectl get po -n domino-platform | grep prometheus-adapter  
prometheus-adapter-7d4db6cf6d-x4xrq 0/1 CrashLoopBackOff 1 6h49m

then describe the pod 

\# kubectl describe po -n domino-platform prometheus-adapterprometheus-adapter-7d4db6cf6d-x4xrq  

and check the following...

![prom-adapter-oom.png](https://tickets.dominodatalab.com/hc/article_attachments/11279019441044)

## **Root Cause:**

Initial deploys of this pod used a 'memory limit' of 256Mi.  In reality we have found the pod can use memory bursts up to 3Gi or higher.  

## **Resolution:**

If you find the pod has been OOMKilled, or in reality even if you find the memory limit set to 256mb as in the screenshot above then you should increase the memory limit to 3Gi.   

To increase memory limit on the pod edit the prometheus-adaptor deployment:  
  
`# kubectl edit deploy -n domino-platform prometheus-adapter`  
find the resources section:

```
resources:      limits:        cpu: 100m        memory: 256Mi
```

and change the memory limit to 3Gi

```
resources:      limits:        cpu: 100m        memory: 3Gi
```

  
Once you save this change the prometheus adaptor pod will restart with the larger limit.  Note that 3Gi is a number we have found to work for many deployments, but if you continue to see OOMs on the pod you may need to go higher.

## **Notes/Information:**

This has been remedied starting with Domino version 5.5.0.  See internal ticket DOM-38099 for more information.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)
*   [Can a Domino dataset be mounted as a shared dataset while a snapshots is in progress?](https://tickets.dominodatalab.com/hc/en-us/articles/14632423214996-Can-a-Domino-dataset-be-mounted-as-a-shared-dataset-while-a-snapshots-is-in-progress)
*   [App Publishing - 404 Not Found error](https://tickets.dominodatalab.com/hc/en-us/articles/360060748812-App-Publishing-404-Not-Found-error)
*   [Rstudio 'plot' functions fail with ""R graphics engine version 15 is not supported by this version of RStudio""](https://tickets.dominodatalab.com/hc/en-us/articles/7089236915348-Rstudio-plot-functions-fail-with-R-graphics-engine-version-15-is-not-supported-by-this-version-of-RStudio)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTpmS9CCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--213311eac10d6e5cd63a7d52a1dab5c88efc9fc2)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTpmS9CCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--5ab9aa0a4a6812e5034352e9f9f29ae507e6d17b)
*   [Prometheus has amnesia or missing metrics](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTpmS9CCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzYwNzEwODAwMDk0OTItUHJvbWV0aGV1cy1oYXMtYW1uZXNpYS1vci1taXNzaW5nLW1ldHJpY3MGOwhUOglyYW5raQg%3D--c05a299f3d69f055874182cc1feb4fa1ceb44dd8)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTpmS9CCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQk%3D--9b080db04711ddfe12a5380b9c30ceac6cfdb194)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTpmS9CCjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--5240c871c3ca4c09e51a08bb64ee70c9c815a8e9)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBedKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSoEOY6CjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDIzMS1EamFuZ28tb24tRG9taW5vBjsIVDoJcmFua2kK--7bd5c396c5a595fc274f15f2d669de512431aa18,"[Django](https://www.djangoproject.com/) is a Python-based web framework that is powerful and flexible. Domino is known to support [Flask](https://docs.dominodatalab.com/en/latest/user_guide/2039f2/publish-a-project-as-a-website-with-flask/) and [Dash](https://docs.dominodatalab.com/en/latest/user_guide/de2589/publish-a-python-app-with-dash/) for publishing Python apps, but we are happy to get a basic implementation of Django working on Domino as well.

_A word of caution before continuing, the Django application that I have tested is incredibly basic, so more complex Django applications may be missing some additional configuration or they may not work at all on Domino._

### Create a Compute Environment for your project

You'll need to edit or create a Compute Environment with a few packages installed first. If you are not familiar with how to do this, check the documentation here:

[https://docs.dominodatalab.com/en/latest/user\_guide/5dd2c1/edit-environment-definition/](https://docs.dominodatalab.com/en/latest/user_guide/5dd2c1/edit-environment-definition/)

Add the following to the _Dockerfile Instructions_ of your _Compute Environment_:  

USER root  
RUN pip install Django postgres gunicorn  
RUN apt update  
RUN apt install nginx -y

Once the environment successfully builds go back to your Domino project and under the project Settings select your newly built Environment as the default for the project.

### Create a basic Django example

1) From your Domino project start a workspace.  

2) Create a sample django project in your workspace called 'mysite' with the following command in the workspace terminal:

django-admin startproject mysite

3) First thing we need to do is open the `settings.py` file in `/mnt/mysite/mysite/settings.py` to make some changes to allow Domino to interact with our Django application. We need to add the following lines to the end of that file:

ALLOWED\_HOSTS = \['\*'\]
X\_FRAME\_OPTIONS = 'ALLOWALL'
XS\_SHARING\_ALLOWED\_METHODS = \['POST','GET','OPTIONS', 'PUT', 'DELETE'\]

These options are meant to open up some configuration settings in Django in order to allow traffic to be routed from Domino into the Django app. These settings could be modified to be a bit more secure, but for the purpose of this example, we will keep them fairly liberal.

4) Add a configuration file for NGINX. So let's create a file named `default` in the root of our project, `/mnt/default`:

  server {
	listen 8888 default\_server;
	listen \[::\]:8888 default\_server;
 
	client\_max\_body\_size 1024M;
 
	root /var/www/html;
 
	index index.html index.htm index.nginx-debian.html;
 
	server\_name \_;
 
	location / {
            proxy\_pass         http://127.0.0.1:55850/;
            proxy\_set\_header   Host $host;
            proxy\_set\_header   X-Real-IP $remote\_addr;
            proxy\_set\_header   X-Forwarded-For $proxy\_add\_x\_forwarded\_for;
            proxy\_set\_header   X-Forwarded-Host $server\_name;
            proxy\_read\_timeout 86400;
  }
}

This file tells NGINX what to do when its running and receives traffic. A couple things of note in here, \`listen 8888 default\_server;\` tells that NGINX will be listening on port 8888, which is the default app port that Domino will route traffic to. Secondly, \`proxy\_pass http://127.0.0.1:55850/;\` is saying that when NGINX receives a request, forward it to this address, which is where our Django app is going to be running. If you are interested learning about some of the other configuration fields, then head over to the [NGINX documentation.](https://nginx.org/en/docs/)

5) Next, Domino published apps need to have an app.sh in the root of the project in order to tell Domino how the app should be published. Let's go ahead and create that file now, with the following contents, `/mnt/app.sh`:

#!/usr/bin/env bash
cd $DOMINO\_WORKING\_DIR
sudo cp $DOMINO\_WORKING\_DIR/default /etc/nginx/sites-enabled/
sudo service nginx start
 
cd /mnt/mysite
gunicorn -b 0.0.0.0:55850 mysite.wsgi:application

The shell script above is responsible for starting NGINX and copying the config we made to the directory that NGINX expects it to be in, and then moves to start our app using [Gunicorn](https://gunicorn.org/), which is an HTTP server for Python.

6) Sync all of the changes in your workspace so they are saved to the Domino File System in your project.  You should see the file changes you have made when you go to the _Files_ dashboard in your Domino project.  You can now stop your workspace.

7) Now we should be in a position where we can publish the app from Domino and see our Django site running!  Go to the App dashboard in your project and publish your app.  For more information on publishing apps in Domino, check out our [documentation](https://docs.dominodatalab.com/en/latest/user_guide/2bb2a7/publish-a-domino-app/). 

8) Once successfully published, press _View App_ and you should see the below screenshot:

[![Screenshot 2020-06-16 13.09.57.png](https://us.v-cdn.net/6031622/uploads/8SUS2HK93TUJ/screenshot-2020-06-16-13-09-57.png)](https://us.v-cdn.net/6031622/uploads/8SUS2HK93TUJ/screenshot-2020-06-16-13-09-57.png)

In conclusion, this is a quick way to get Django up and running with Domino. To do some more complex workloads with Django, you may need to do more than this, but hopefully this is a good starting point!"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F11248084232212-Prometheus-fails-when-upgrading-to-5-3-x,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCH%2BlosYaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBT%2FlWRREjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIyL2hjL2VuLXVzL2FydGljbGVzLzExNTAwMTY5NzY2My1GZWF0dXJlLWZsYWdzBjsIVDoJcmFua2kI--d8fd38abd606d9cecc563b59ed2ed1ac40e51105,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [My new central configuration option does not seem to have taken effect.](https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [AWS EBS CSI driver for EKS 1.23 does not have to be installed separately when you’re also upgrading Domino to a version between 5.3.x and 5.5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x)
*   [Central config setting to prevent users from creating or editing environments](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments)
*   [How to restrict project permissions so that only Admins have the ability to share projects and invite collaborators](https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators)
*   [How to troubleshoot and debug pending backup jobs](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-pending-backup-jobs)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration)

## Feature flags

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/115001697663-Feature-flags/subscription.html ""Opens a sign-in dialog"")

Domino uses feature flags to control the functionality available to individual users, organizations, or entire deployments, giving administrators the ability to customize Domino’s functionality and safely test and release new features.

Administrators (and support staff) can access feature flags from the advanced drop down of the admin console (Username > Admin).

![Apr-03-2017_07-10-10.gif](https://tickets.dominodatalab.com/hc/article_attachments/115005086666)

From the feature flags console, user-specific flags (that only impact you) will show up in the “User-Scope Overrides” Section, while flags that impact all users appear in the “Deployment Global” Section. Also on this page you’ll find a brief description of what each flag does, any relevant warning messages, and an activation toggle.

**Setting Feature Flags**

1.  To set feature flags you must either be Support Staff or an administrator for your deployment.
2.  Navigate to the feature flags page of the admin console (Username > Admin > Advanced > Feature Flags)

*   From this page you can set **user-specific flags for yourself** or **global flags for all users**
*   For setting **user-specific flags for another user**, replace your username in the URL of the feature flags page with that of the desired user. _Note: Global feature flags do not depend on the username in the URL.  
    ![Apr-03-2017_09-54-23.gif](https://tickets.dominodatalab.com/hc/article_attachments/115005086706)  
    _

4.  Find the desired feature flag.
5.  Change the status of the flag using the drop down list - the default will be indicated.

*   While global flags require choosing true or false, user flags have the option to default to the global setting, which will simply match the value set in the global flag.

7.  After making a selection, a status message will verify that the flag was set successfully.

![Apr-03-2017_18-21-57.gif](https://tickets.dominodatalab.com/hc/article_attachments/115005086686)

**Additional Notes**

*   _Priority_ - User-specific flags will override global settings, allowing you to enable (or disable) a feature for a subset of users.

*   _Latency_ - Feature flag changes should propagate in only a few seconds, and do not require a restart of the server.

*   _Central Configuration Conflicts_ - Some feature flags override a setting defined in the [central configuration](https://support.dominodatalab.com/hc/en-us/articles/207459213-Central-Configuration). If this is the case, Domino will provide a warning and reference the relevant configuration setting, but will ignore the central configuration and adhere to the feature flag. If this is the case, we recommend you remove the setting from the central configuration to prevent future conflicts.

### Recently viewed articles

*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [Unable to create new projects due to role issue](https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue)
*   [Django on Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360058494231-Django-on-Domino)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/articles/5185124068884-Workspace-Logs-And-Support-Bundle-for-5-1-and-Above)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/articles/9874610714644-After-Domino-4-x-to-5-x-upgrade-executions-fail-with-HTTP-Error-400-Bad-Request-POSTing-to)

### Related articles

*   [Prometheus has amnesia or missing metrics](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCH%2BlosYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzYwNzEwODAwMDk0OTItUHJvbWV0aGV1cy1oYXMtYW1uZXNpYS1vci1taXNzaW5nLW1ldHJpY3MGOwhUOglyYW5raQY%3D--2f3b841fa909e543154f5cbaa31feb9b0973aa41)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ329nlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCH%2BlosYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzUzODUyNDkwNDQzNzItQWRtaW4tQ2VudHJhbC1Db25maWctU2V0dGluZ3MtVXBsb2FkLWZpbGVzLWxhcmdlci10aGFuLTU1ME1CBjsIVDoJcmFua2kH--45fd6e174b2a2efb861533ee5849a1d36f7e111c)
*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCH%2BlosYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kI--492cc5c9332e176d8b9a2206fe7a0b2ff04b708b)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDjYoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCH%2BlosYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNTU5MTAxNjQtVGlwcy1mb3Itc2V0dGluZy11cC1BV1MtY3JlZGVudGlhbC1wcm9wYWdhdGlvbgY7CFQ6CXJhbmtpCQ%3D%3D--5086c1b5eb136bd959dead5e644adafdfb9a9a45)
*   [Adding a new Git Repository to your project using Personal Access Token (PAT)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJReP%2FEBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCH%2BlosYaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDYzODg5NDA0MzYtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1QZXJzb25hbC1BY2Nlc3MtVG9rZW4tUEFUBjsIVDoJcmFua2kK--a755c2cba85a6c95ff6d321a6b8418285a74c3dc)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20140789202708-Practitioner-role-not-visible-for-Data-Analyst-users,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/10601074944660-How-to-run-the-Admin-Toolkit,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTS4BTlBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSsUQ%2BFDDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ%2BL2hjL2VuLXVzL2FydGljbGVzLzc1ODA5Njc1NTU3MzItRXJyb3ItUmVhZGluZXNzLXByb2JlLWZhaWxlZC1jYXQtdmFyLWxpYi1kb21pbm8taG9tZS1hcGktdG9rZW4tTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpCQ%3D%3D--97966e87c401553047905a96b844724e58acb0df,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7580967555732-Error-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory/subscription.html ""Opens a sign-in dialog"")

_**Version/Environment:**_  This applies to version 4.x

* * *

## **Issue:**

A few users have encountered pending or hung-up workspaces or jobs in which the support bundle, deployment logs and/or pod events list a specific error:

_Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory_

* * *

## **Root Cause:**

We haven't been able to reproduce this but we believe a buggy state or race-condition was triggered when the user's session had lapsed and handling or creation around authentication tokens broke.

* * *

## **Resolution:**

Re-authenticate by logging out, clearing cache & cookies, then logging back in thru your normal authentication process.

* * *

## **Notes/Information:**

If you determine you can easily reproduce this please file a support ticket for deeper investigation.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Admin Toolkit script usage](https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)
*   [test\_elasticsearch.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook)
*   [Feature flags](https://tickets.dominodatalab.com/hc/en-us/articles/115001697663-Feature-flags)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)

### Related articles

*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTS4BTlBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kG--006233e1208ae20dee7d45d9b6bd8efdc9bc2db1)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTS4BTlBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--13983c9a0aa9d2626cd4ae546bb9a13ecd3dae89)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTS4BTlBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQg%3D--f69c87fe8adce0a13b66312572fa359833cf56da)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTS4BTlBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQk%3D--298026c111892a9ffe2d3be6afedb01d355bee71)
*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTS4BTlBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpCg%3D%3D--4753f6294810f1012a206c8c6af7e95eb75820a8)"
https://tickets.dominodatalab.com/hc/en-us/articles/13078105644564--test-elasticsearch-py-Runbook/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRdyEvMEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRe1%2FvkCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBky9oYy9lbi11cy9hcnRpY2xlcy8xOTU2OTE0MjQyMjgwNC1Eb3dubG9hZGluZy1sYXJnZS1maWxlcy1mcm9tLURhdGFzZXRzLWZhaWwtaW1tZWRpYXRlbHktbmV2ZXItY29tcGxldGUtb3ItZmFpbC13aXRoLWFuLWVycm9yLVNpdGUtd2Fzbi10LWF2YWlsYWJsZQY7CFQ6CXJhbmtpCA%3D%3D--d6d42b88fcdcd1566289661ec6fbe97d786589e1,"![](https://tickets.dominodatalab.com/system/photos/10720231477268/20200224_205616.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/19569142422804-Downloading-large-files-from-Datasets-fail-immediately-never-complete-or-fail-with-an-error-Site-wasn-t-available/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

5.6.x, 5.7.x

* * *

## **Issue:**

When attempting to download large files from a dataset ( 1GB or greater) either through the ellipses on the side of it or through checking the box next to the file to download it, the file starts to be downloaded only to fail with an error like 'Site wasn't available:

![2023-09-27 16_00_11-Data - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569169179668)

* * *

## **Root Cause:**

This is due to the backend AWS classic load balancers being unable to handle the stream of data being loaded into memory and then streamed to the user. Thus, it crashes or fails the connection, resulting in this error occurring.

* * *

## **Resolution:**

How we handle downloading data from Datasets is tentatively addressed for Domino 5.8. However, a workaround is to download the dataset file through the Code section of Domino. This can be done when the file is copied from the dataset to your project directory (/mnt) and then synced to your project.

1\. Create a new workspace with an IDE that has access to a terminal. In this example, the Jupyter notebook is being used:  
![2023-09-27 16_11_33-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569183470356)  
2\. Locate the path of the dataset, which can be found in the Edit Settings or Additional Details page:

![2023-09-27 16_12_25-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569172346260)  
3\. In the terminal, copy the file from that path to your project files directory. In this case, I have a test ISO file that I'm copying from a dataset into my project:

![2023-09-27 16_23_12-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569156357524)

![2023-09-27 16_24_22-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569183484436)  
4\. Sync your workspace to Domino:

![2023-09-27 16_25_14-Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569152580756)  
5\. Navigate back to the Code page, where the file should appear. Click the ellipses on the right of the file, then Download:

![2023-09-27 16_29_26-Code - integration-test_adamp-quick-start - Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/19569156369940)

* * *

## **Notes/Information:**

This issue can occur intermittently. It may succeed in downloading large files from datasets on some tries but not others. 

### **References/Internal Records:**

*   PLAT-7110

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/articles/9320392052244-Setting-up-Domino-Model-Monitoring-DMM-using-the-Domino-API)

### Related articles

*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdyEvMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kG--f2b6288dbf0dcec4e49bde7e5379b4032543e469)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdyEvMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--92322f62745b8de38782fc818eb7612e0049b434)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdyEvMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQg%3D--f8c0a076fa3fd93d0fda6a7fd5602b84461d07ce)
*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2FODZaBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdyEvMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzY5ODQ1MjY1MTE4OTItSG93LXRvLWxvZ291dC1vci1lbmQtYS11c2VyLXMtdXNlci1zZXNzaW9uLWZyb20tRG9taW5vBjsIVDoJcmFua2kJ--cd27e0119e9ae80d0414487c273d46f2123cedf5)
*   [Troubleshooting On-Demand Ray Clusters in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSmNINhBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdyEvMEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzU5MTYzNzEyMzIyNzYtVHJvdWJsZXNob290aW5nLU9uLURlbWFuZC1SYXktQ2x1c3RlcnMtaW4tRG9taW5vBjsIVDoJcmFua2kK--1dbd5936af99e03454b4e2ad1adbcb64eb2147ff)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13078105644564--test-elasticsearch-py-Runbook,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14654941750036-How-to-disable-the-new-user-welcome-email&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/14654941750036-How-to-disable-the-new-user-welcome-email/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCDkPdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTjmB5UDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTg4ODY3Mi1JLWRlbGV0ZWQtb3ItYXJjaGl2ZWQtbXktNC0wLXRocnUtNC00LURhdGFzZXQtYnV0LUktbmVlZC1pdC1iYWNrBjsIVDoJcmFua2kI--9e139a3c3145c979c7c19153f313cabab0a6d0a6,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360059888672-I-deleted-or-archived-my-4-0-thru-4-4-Dataset-but-I-need-it-back/subscription.html ""Opens a sign-in dialog"")

This article only applies to datasets created prior to the introduction of Read/Write datasets in version 4.5.  So it only applies to datasets created prior to version 4.5.

When you archive a dataset, only a Domino Admin can make that action permanent. Normally it's possible to unarchive or restore the dataset.

Look up the dataset\_collection that matches your search for missing Dataset

db.dataset\_collection.find({name:""datasetName \[archived\]""}).pretty()

Look up the dataset\_collection to ensure we've still got the right one, and it's flagged as archived:

db.dataset\_collection.find({ ""\_id"" : ObjectId(""<Insert Dataset ID>""), archived: true}).pretty()

Here we're using the unique ""\_id"" to look it up. We'll use this ""\_id"" for the rest of the operations as well.

Next is the actual update command to run:

db.dataset\_collection.update({\_id: ObjectId(""<Insert Dataset ID>"")}, {$set: {""name"":""<Insert Old Name>"", ""archived"": false}})

If done successfully you should see an output that says WriteResult ({ ""nMatched"" : 1, ""nUpserted"" : 0, ""nModified"" : 1 }).  
_If you don't rename it, it will contain the text: \[archived\]_

Finally, look up the record one last time to ensure the changes were successful:

db.dataset\_collection.find({ ""\_id"" : ObjectId(""<Insert Dataset DatasetID>""), archived: false}).pretty()

Afterwards, the dataset will be seen right where it used to be.

Sometimes Datasets have tags, and the tag may be required as well - locate the Dataset and create the old tag if that is the case. Workspace startup will print the tag in the error output.

You can undo the restore operation and archive it manually or by setting the name (to DatasetName \[archived\]) and archived: true flag with the same commands used above.

### Recently viewed articles

*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/articles/9261784517140-500-Internal-Server-Error-when-user-tries-to-login-to-Domino-UI-after-upgrade-to-5-1-from-4-6)
*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/articles/12665978564756-Cluster-Status-not-healthy-DataPlane-Agent-error-invalid-secret-id)
*   [test\_keycloak.py | Runbook](https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook)
*   [Installing Python 3.11 in a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/articles/13409753230484-Installing-Python-3-11-in-a-Domino-Compute-Environment)

### Related articles

*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCDkPdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQY%3D--8e158dcb2912140126d67154079e64e44f3910b3)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCDkPdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQc%3D--df95e9e4e678e8f037d30e71837c94a8ae4fdab8)
*   [How to unarchive Domino environments](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQZjPBUCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCDkPdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzEyNDU5NDQwODcxNzAwLUhvdy10by11bmFyY2hpdmUtRG9taW5vLWVudmlyb25tZW50cwY7CFQ6CXJhbmtpCA%3D%3D--487a3c31795c0c9c701396432172b3a7e3060a29)
*   [Error: “Workspace could not be started. Your role does not authorize you to perform this action”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmh4K9CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCDkPdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy85NjEwMDMxNzUyNzI0LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Zb3VyLXJvbGUtZG9lcy1ub3QtYXV0aG9yaXplLXlvdS10by1wZXJmb3JtLXRoaXMtYWN0aW9uBjsIVDoJcmFua2kJ--63ea26e3e062c1963cbd1688d9ec59ddc3be375a)
*   [Error activating/deactivating user: ""User <user> does not have idpId set""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSMnHlLCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCDkPdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzkxMjAyNTU4NzIwMjAtRXJyb3ItYWN0aXZhdGluZy1kZWFjdGl2YXRpbmctdXNlci1Vc2VyLXVzZXItZG9lcy1ub3QtaGF2ZS1pZHBJZC1zZXQGOwhUOglyYW5raQo%3D--834d6ddb9f8235cd7e0d2420b433f427521fe8f1)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14654941750036-How-to-disable-the-new-user-welcome-email,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19904551448852-Unable-to-create-new-projects-due-to-role-issue&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19904551448852-Unable-to-create-new-projects-due-to-role-issue/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCHCwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRxiYNpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQzMi1Ib3ctdG8tUHVibGlzaC1hbi1BcHAtYXMtYS1Xb3Jrc3BhY2UGOwhUOglyYW5raQg%3D--eba9348c10c91e4c59be47088c0dbe850cde2f60,"![](https://tickets.dominodatalab.com/system/photos/360290850531/IMG_8999.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058040432-How-to-Publish-an-App-as-a-Workspace/subscription.html ""Opens a sign-in dialog"")

If you have an app that you would like to surface to end users via a workspace, you can do so through the Pluggable Workspace configs in your compute environment. Similar to how Domino uses the app.sh file to publish your app through the App Publishing feature of your project, running the app.sh file in the start config of the Pluggable Workspace Tools will launch whatever app you have defined in your app.sh as a workspace. In order to set this up you need to add a new config to the Pluggable Workspace Tools, see the example for Shiny below. This can be amended to work with Flask and Dash apps as well.

[![pluggables.png](https://us.v-cdn.net/6031622/uploads/NI3TK2UFWYAX/pluggables.png)](https://us.v-cdn.net/6031622/uploads/NI3TK2UFWYAX/pluggables.png)

You can choose whatever image you'd like for the imageUrl or you can delete that field and the workspace option will show up as a white box with the name of the workspace inside. When you go to launch a new app/workspace this is what it looks like.

[![Screen Shot 2020-07-31 at 1.43.15 PM.png](https://us.v-cdn.net/6031622/uploads/SU7V144ODTOR/screen-shot-2020-07-31-at-1-43-15-pm.png)](https://us.v-cdn.net/6031622/uploads/SU7V144ODTOR/screen-shot-2020-07-31-at-1-43-15-pm.png)

Once the workspace launches the app will reside where the normal workspace IDE resides and the normal workspace settings and menu bars will remain in place. There is no way to remove these menus for workspaces, so if you don't want those menu bars in your app you will need to publish your app through the regular app publishing feature.

[![Screen Shot 2020-07-31 at 1.44.53 PM.png](https://us.v-cdn.net/6031622/uploads/EWQ8JGNZ02TY/screen-shot-2020-07-31-at-1-44-53-pm.png)](https://us.v-cdn.net/6031622/uploads/EWQ8JGNZ02TY/screen-shot-2020-07-31-at-1-44-53-pm.png)

### Recently viewed articles

*   [Are there limits to how much data I can put in a dataset or scratch space?](https://tickets.dominodatalab.com/hc/en-us/articles/4402369455252-Are-there-limits-to-how-much-data-I-can-put-in-a-dataset-or-scratch-space)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands)
*   [Adding members in the Organization as organization owner](https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner)
*   [DMM Identifying stuck Ingestion Jobs and clearing them out](https://tickets.dominodatalab.com/hc/en-us/articles/19357501168276-DMM-Identifying-stuck-Ingestion-Jobs-and-clearing-them-out)
*   [Removing User Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/19903455705876-Removing-User-Two-Factor-Authentication)

### Related articles

*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpBg%3D%3D--592a10fba36e5719be04aafb993e921bacf3ca33)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpBw%3D%3D--27024f1eb4899223c909c469b8229931618d9dfd)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQg%3D--639e605d87d1b617ed7cba9cbb4709057fe4fa42)
*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCB%2BfKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDc1MS1JbmNyZWFzaW5nLXRoZS10aW1lb3V0LWZvci1TaGlueS1TZXJ2ZXIGOwhUOglyYW5raQk%3D--32f61676279af0a5b9b8e3455b81260724bc8b87)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHCwIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--75cc7bed0c912a86d26b425ccbcca57af6e1abad)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10348783038740-Blank-page-or-Failed-to-get-assets-while-viewing-Control-Center-Assets-page,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/13025090966292--test-keycloak-py-Runbook/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13025090966292--test-keycloak-py-Runbook&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13025090966292--test-keycloak-py-Runbook,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17116382802196-Adding-members-in-the-Organization-as-organization-owner/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17116382802196-Adding-members-in-the-Organization-as-organization-owner&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F6428493512852--errmsg-not-master-while-submitting-mongodb-commands&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/6428493512852--errmsg-not-master-while-submitting-mongodb-commands/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F6428493512852--errmsg-not-master-while-submitting-mongodb-commands,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17116323300372-Adding-members-in-the-Organization-via-Admin-Access&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17116323300372-Adding-members-in-the-Organization-via-Admin-Access/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/4402108838292-Measures-of-collaboration-v4-3/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4402108838292-Measures-of-collaboration-v4-3&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13022693813780-test-kube-events-py-Runbook&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/13022693813780-test-kube-events-py-Runbook/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13022693813780-test-kube-events-py-Runbook,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17116162101012-How-do-I-create-an-organization-in-Domino&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17116162101012-How-do-I-create-an-organization-in-Domino/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360001984251-Maintenance&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

The is relevant to Domino 4.x and above regarding objects/resources installed by the deployer/installer via Helm.

* * *

## **Issue:**

A customer accidentally deleted a statefulset resource instead of the pod controlled by the statefulset.   Example of the accident:

kubectl -n <your namespace> delete sts hephaestus-buildkit

* * *

## **Root Cause:**

The customer's command was accidentally issued due to miscommunication while troubleshooting a node level problem. Accidents happen, so theoretically other necessary kubernetes objects could be deleted, thus needing recovery.

* * *

## **Resolution:**

Re-deploying or installing is one option, but you might have others too.

1\. If you backed up your resources to yaml you can run:

kubectl apply -f /path/to/your/backup.yaml

2\. Or you may be able to use Helm to ""restore"" the state of your cluster with just a few commands as long as you haven't accidentally deleted the actual helm release.  First check history for the helm ""release"" that added your deleted resource, in this case hephaestus 

helm -n <your namespace> history hephaestus

Second, choose the newest release number, like 6 in the example below

dom@xyz552 \[/apps/domino\] $ helm -n domino-platform history hephaestus  
REVISION UPDATED STATUS CHART APP VERSION DESCRIPTION   
1 Tue Oct 18 21:43:49 2022 superseded hephaestus-0.1.20 0.1.20 Install complete   
2 Tue Oct 18 22:03:43 2022 failed hephaestus-0.1.20 0.1.20 Upgrade ""hephaestus"" failed: cannot patch ""hephaestus-buildkit"" with kind StatefulSet: StatefulSet.apps ""hephaestus-buildkit"" is invalid: spec: Forbidden: updates to statefulset spec for fields other than 'replicas', 'template', and 'updateStrategy' are forbidden  
3 Tue Oct 18 22:04:14 2022 superseded hephaestus-0.1.20 0.1.20 Rollback to 1   
4 Tue Oct 18 22:06:15 2022 superseded hephaestus-0.1.20 0.1.20 Upgrade complete   
5 Thu Mar 30 17:31:54 2023 superseded hephaestus-0.1.29 0.1.29 Upgrade complete   
6 Thu Mar 30 18:14:03 2023 deployed hephaestus-0.1.29 0.1.29 Upgrade complete                           

 and run

helm -n <your namespace> rollback hephaestus 6

kubectl -n <your namespace> get sts | grep hephaestus

* * *

## **Notes/Information:**

It is possible that your organization has used a specific machine to perform the install/upgrade in the past where Helm might already be installed, but theoretically you should be able to install and use Helm anywhere you have kubectl access.  Install info for helm is at [https://helm.sh/docs/intro/install/](https://helm.sh/docs/intro/install/)

### **References/Internal Records:**

include any keys to related Jiras here (OTs, Bugs, FRs, etc.) 

*   OT-2911

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Related articles

*   [Cluster Status not healthy, DataPlane Agent error ""invalid secret id""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQwJweFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTkzxFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzEyNjY1OTc4NTY0NzU2LUNsdXN0ZXItU3RhdHVzLW5vdC1oZWFsdGh5LURhdGFQbGFuZS1BZ2VudC1lcnJvci1pbnZhbGlkLXNlY3JldC1pZAY7CFQ6CXJhbmtpBg%3D%3D--0a94ab24ccf3a9f8abb8f459a178d6561e34da3a)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6cLTBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTkzxFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE1MTI1NjA3MTAzMTI0LWZhaWxlZC10by1wdWxsLWltYWdlLTYwMjQwMTE0MzQ1Mi1ka3ItZWNyLXVzLWVhc3QtMS1hbWF6b25hd3MtY29tLWVrcy1wYXVzZS0zLTUGOwhUOglyYW5raQc%3D--9d77840cb4e272f24a42aaa4439863365ab45456)
*   [htop – Interactive Process Viewer - A brief overview](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSNiU0HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTkzxFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzY2Mjg0MzUzOTgwMzYtaHRvcC1JbnRlcmFjdGl2ZS1Qcm9jZXNzLVZpZXdlci1BLWJyaWVmLW92ZXJ2aWV3BjsIVDoJcmFua2kI--4573f11de05a377fe79a771f6fbfefd918bc5e9b)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTkzxFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQk%3D--bcd99a458eed7b7af336bb7681a31b6ab8e162b1)
*   [Hephaestus environment build failures in Domino 5.2.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSCSYhUBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQTkzxFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzgwNTk2NDUxNjYyMjgtSGVwaGFlc3R1cy1lbnZpcm9ubWVudC1idWlsZC1mYWlsdXJlcy1pbi1Eb21pbm8tNS0yLTAGOwhUOglyYW5raQo%3D--b9468c595444d5846c21880b9ea7b0566343ca82)"
https://tickets.dominodatalab.com/hc/en-us/articles/16718145491732-My-MongoDB-replicaset-will-not-start-or-it-restarts-constantly,"## Issue

One of the replicasets of Mongo will not start or sync

## Potential cause

Sync of Mongo could be failing due to 300 second timeout in the sync/bootstrap container. We can mitigate this or remedy the problem by changing the timeout.

We identify this by seeing how the replicaset will stay running for approximately 300 seconds (5 minutes) and then restart, as well as kubectl describe will demonstrate activity in the container.

## Resolution

We find and verify the pvc/pods for Mongo (focus on the failing pod), modify parameters and scale back up.

If the failing pod is ""1"" then we can also try to scale down, then up to 2 replicas, and then up to 3 once the sync is done. This will ensure the sync is done from ""0"", otherwise the sync typically is done from the secondary.

prod-domino datadir-mongodb-replicaset-2 Bound pvc-cdedf3a3-edc2-44d6-a418-186035131005 75Gi RWO dominodisk 10m Filesystem

Pods:

prod-domino mongodb-replicaset-0 2/2 Running 0 76m 100.96.115.16 ip-10-10-10-81.us-west-2.compute.internal <none> <none>  
prod-domino mongodb-replicaset-1 2/2 Running 0 78m 100.96.186.11 ip-10-10-10-164.us-west-2.compute.internal <none> <none>  
prod-domino mongodb-replicaset-2 0/2 Terminating 0 18m 100.96.20.11 ip-10-10-10-124.us-west-2.compute.internal <none> <none>

Tolerations: node.kubernetes.io/not-ready:NoExecute for 300s  
node.kubernetes.io/unreachable:NoExecute for 300s

\---- this is the 300s item we can find, bootstrap has no liveness and no visible tolerations

#### Commands we run:

**Run at your own risk, although these assume a pod is already broken, deleting pvc's and Domino Components can cause your Domino deployment to stop working! Make sure you have backup of your Mongo database!**

kubectl delete pvc -n prod-domino datadir-mongodb-replicaset-2 ; \\  
kubectl edit sts -n prod-domino mongodb-replicaset ; \\  
kubectl delete pod -n prod-domino mongodb-replicaset-2 --force

Since the timeout could still happen, the above does start a sync, but could fail and we move to the remedy below.

  
The purpose of the activity is to scale MongoDB's statefulset down, make changes and then up to the required 3 pods/nodes.  
Suggestion is to change the configmap, script - update timeout=300 to timeout=900 to enable replication of failing Mongo Pod (some deployments may need longer!)

As much as we can, automate or avoid any input errors or find/replace in the above kubectl commands by using the following code:

\# STOP Dispatcher (this increases the success rate)  
\# kubectl edit deployments -n ""Platform Namespace"" nucleus-dispatcher

DISP=$( kubectl get deployments -A |grep nucleus-dispatcher | awk '{print $1 "" "" $2}' )  
kubectl patch deployments -n $DISP -p '{ ""spec"": { ""replicas"": 0 }}'

\# EDIT ConfigMap

CONMAP=$( kubectl get cm -A |grep mongodb-replicaset-init | awk '{print $1 "" "" $2}' )  
kubectl edit cm -n $CONMAP  
\> Locate timeout=300 and change to timeout=900 <

\# SCALE UP

STS=$( kubectl get sts -A |grep mongodb-replicaset | awk '{print $1 "" "" $2}' )  
kubectl patch sts -n $STS -p '{ ""spec"": { ""replicas"": 3 }}'

\# Find the PVC, change up to 75Gi or value needed to encapsulate the correct/full size of the database. This may not appear immediately, since SCALE UP can take time

VOLUME=$( kubectl get pvc -A |grep datadir-mongodb-replicaset-2 | awk '{print $1 "" "" $2}' )  
kubectl patch pvc -n $VOLUME -p '{ ""spec"": { ""resources"": { ""requests"": { ""storage"": ""75Gi"" }}}}'

\# Restart pod to ensure volume is resized  
kubectl delete pvc -n prod-domino datadir-mongodb-replicaset-2

Monitor rs.status() on MongoDB Primary, and kubectl pod status of the new pod (if restarting after 300s/5-7 minutes then this is not a solution or remedy, although it may simply need MORE time)

## Revert/fallback

If this fails, scale back down to two nodes:  
\# Revert to two nodes:

STS=$( kubectl get sts -A |grep mongodb-replicaset | awk '{print $1 "" "" $2}' )  
kubectl patch sts -n $STS -p '{ ""spec"": { ""replicas"": 2 }}'

\# Once the Mongo pod is running, start dispatcher (or has run for X minutes):

DISP=$( kubectl get deployments -A |grep nucleus-dispatcher | awk '{print $1 "" "" $2}' )  
kubectl patch deployments -n $DISP -p '{ ""spec"": { ""replicas"": 1 }}'

## Versions affected

This is mainly aimed at Domino 4 or later."
https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)
*   [Ideas for recovery if you accidentally delete a kubernetes resource](https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource)
*   [My MongoDB replicaset will not start, or it restarts constantly](https://tickets.dominodatalab.com/hc/en-us/articles/16718145491732-My-MongoDB-replicaset-will-not-start-or-it-restarts-constantly)
*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)
*   [The lsof utility - 'list open files'](https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance)

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files/subscription.html ""Opens a sign-in dialog"")

**What is it?**

**lsof** is a powerful command line utility - its main function is to **""list open files.""** It does this by displaying information about the file descriptor and the processes that have them open. It includes the ability to also show network connections and listening ports which can be filtered out based on various criteria. The information provided, i.e. _(file descriptor, process ID, and process name)_ can be used to diagnose issues on a linux based systems such as identifying processes that may be holding open locks on a file.

**Usage**

Here are a few ways in which **_lsof_** may be used to troubleshoot and analyse open files on a Linux system:

**Basic usage:**

*   Find all open files for a user:

\# lsof -u <username>

*   Find all open files associated with a particular process using a PID ID.

\# lsof -p <PID>

*   To list and locate all open socketfiles

\# lsof +D / -a -d sock  

*   Locate all open files that are listening over a specific port.

\# lsof -i :<port number>

*   Identify all open files linked to an application that is being written to or read from.

\# lsof -c <program name> -a -r <read/write>

**Advanced Usage**

*   **Display the process name, process ID, and file name for all open files, with a set time interval.**

\# lsof -n -r <time interval> +L -F pn -F f

*   **Locate all open files for a specific process (between set time interval) and sort them by process ID**

**\#** lsof -p <PID> -n -r <time interval> +L -s

*   **Find and show all open files, as well as the command line that opened them.**

\# lsof -c <command name> -a -c <command name> +L1

*   **Find all open files that are linked to a certain file descriptor.**

\# lsof -a -d <file descriptor>

**Notes**

Please keep in mind that **lsof** may require privilege elevation to run commands _(open files that belong to other users)_, therefore **sudo** may be required before commands.

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/23509446795412)

### Recently viewed articles

*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)
*   [My MongoDB replicaset will not start, or it restarts constantly](https://tickets.dominodatalab.com/hc/en-us/articles/16718145491732-My-MongoDB-replicaset-will-not-start-or-it-restarts-constantly)
*   [Ideas for recovery if you accidentally delete a kubernetes resource](https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource)

### Related articles

*   [The 'fuser' utility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvARkdCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQt9OoiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI4L2hjL2VuLXVzL2FydGljbGVzLzEyMjE5NjAxNDY1MjM2LVRoZS1mdXNlci11dGlsaXR5BjsIVDoJcmFua2kG--fee4e0891e930cdcb0e1d308314915f8524296d4)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQt9OoiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kH--743dbe3fdb54877b64008cce80b4db181515f5a0)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQt9OoiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kI--d736abb0e6f38f17873d59728df03f325accd662)
*   [Programmatically download a project’s files based on its id using Python rest APIs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTNqnpcEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQt9OoiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzE3OTg5MzgxMDQ5NzQ4LVByb2dyYW1tYXRpY2FsbHktZG93bmxvYWQtYS1wcm9qZWN0LXMtZmlsZXMtYmFzZWQtb24taXRzLWlkLXVzaW5nLVB5dGhvbi1yZXN0LUFQSXMGOwhUOglyYW5raQk%3D--2cb797cab15bbc16d650b8e3a478a84f2414dbc9)
*   [Project Transfer Ownership Combinations](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRIOZMZCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQt9OoiCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzEyMjA0NDcyMDkyODIwLVByb2plY3QtVHJhbnNmZXItT3duZXJzaGlwLUNvbWJpbmF0aW9ucwY7CFQ6CXJhbmtpCg%3D%3D--c6945a53bc47d3a96e04757d79863aefbdb6bd04)"
https://tickets.dominodatalab.com/hc/en-us/articles/12219601465236-The-fuser-utility,"## The 'fuser' utility

![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/12219601465236-The-fuser-utility/subscription.html ""Opens a sign-in dialog"")

**What is it?**

**fuser** is a command-line utility that detects processes that use a specific file, socket, or file system. It can be useful for troubleshooting issues, killing processes and provides details on the user owning the process and the type of access it has.

**Usage**

Here are a few examples of using the utility

*   To display the process IDs that are using a file:

$ fuser my-filename

*   To display the process IDs that are using a mount:

$ fuser -muv /mountpoint

*   To terminate all processes that are using a specific file or port:

$ fuser -k filename  
$ fuser -k 8080/tcp

*   To see the process IDs that are using a particular TCP or UDP port:

$ fuser -v -n tcp 443  
$ fuser -v -n udp 111

To see a full list of flags and what else the _fuser_ utility is capable of, please refer to the manual (man page) **_man fuser_** 

**Notes**

_fuser_ requires special permissions (e.g., root access) to display processes owned by other users.

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/23509419834772)

### Recently viewed articles

*   [The lsof utility - 'list open files'](https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files)
*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)
*   [My MongoDB replicaset will not start, or it restarts constantly](https://tickets.dominodatalab.com/hc/en-us/articles/16718145491732-My-MongoDB-replicaset-will-not-start-or-it-restarts-constantly)
*   [Ideas for recovery if you accidentally delete a kubernetes resource](https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource)

### Related articles

*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSvNHoGBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvARkdCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzc3MjQ0MDE0NzEyNTItSS1uZWVkLXRvLWRlbGV0ZS1vbGQtam9icy1mcm9tLXRoZS1xdWV1ZS1vci1vbGQtcnVucwY7CFQ6CXJhbmtpBg%3D%3D--0fb886b0e2f63ccca90cd40d5921487eb32ee0c0)
*   [Project Transfer Ownership Combinations](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRIOZMZCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvARkdCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzEyMjA0NDcyMDkyODIwLVByb2plY3QtVHJhbnNmZXItT3duZXJzaGlwLUNvbWJpbmF0aW9ucwY7CFQ6CXJhbmtpBw%3D%3D--d908f3ca26c5ec787e4f76779d2f332d945fdc5c)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvARkdCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQg%3D--36ba94330cf4798322b90cec02033d85dc8d47ac)
*   [The lsof utility - 'list open files'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQt9OoiCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvARkdCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzEyMjQ0NTk4NjY0NDY4LVRoZS1sc29mLXV0aWxpdHktbGlzdC1vcGVuLWZpbGVzBjsIVDoJcmFua2kJ--c9c423b84f3662d329f9ed3506b854b9151b3dc2)
*   [Database Locking](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSuSMQbCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvARkdCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI3L2hjL2VuLXVzL2FydGljbGVzLzEyMjEzODg1MTIwMDIwLURhdGFiYXNlLUxvY2tpbmcGOwhUOglyYW5raQo%3D--192bd58e6b0d0df43cc9e5a8ba4231cc0929cea1)"
https://tickets.dominodatalab.com/hc/en-us/articles/7213401358356-Pod-Disruption-Budget-prevents-cluster-maintenance,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/7213401358356-Pod-Disruption-Budget-prevents-cluster-maintenance/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Domino 5.1

Domino 5.2

## **Issue:**

Domino Model Manager (DMM) uses its own mongodb pods, separate from the Domino mongodb instances, mongodb-primary, mongodb-secondary, & mongodb-arbiter.  To prevent a situation where the primary and secondary are both unavailable, a [PodDisruptionBudget](https://kubernetes.io/docs/tasks/run-application/configure-pdb/) (PDB) of 1 has been added.  This will prevent a kubernetes node from being fully drained for maintenance in Domino 5.1 & 5.2.

## **Resolution:**

The following process can be used to remove the PDB and drain a node for maintenance.

1.  Cordon the dmm mongodb primary node

     

_$ kubectl cordon <initial mongo-primary node>_

2\. If the secondary and arbiter pods don't exist scale each to one replica  
     _$ kubectl scale statefulset mongodb-secondary --replicas=1 -n domino-platform_  
     _$ kubectl scale statefulset mongodb-arbiter --replicas=1 -n domino-platform_

3\. Edit mongodb-primary's pod disruption budget, change minAvailable to 0  
    _$ kubectl edit pdb mongodb-primary -n domino-platform_

4\. Delete the mongodb primary  
    _$ kubectl delete pod mongodb-primary-0 -n domino-platform_

5\. Wait for primary to be recreated  
6\. Uncordon the former mongodb primary node  
    _$ kubectl uncordon <initial mongo-primary node>_

7\. Reset the PDB to return everything to it's original state  
    _$ kubectl edit pdb mongodb-primary -n domino-platform_

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [The 'fuser' utility](https://tickets.dominodatalab.com/hc/en-us/articles/12219601465236-The-fuser-utility)
*   [The lsof utility - 'list open files'](https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files)
*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)
*   [My MongoDB replicaset will not start, or it restarts constantly](https://tickets.dominodatalab.com/hc/en-us/articles/16718145491732-My-MongoDB-replicaset-will-not-start-or-it-restarts-constantly)
*   [Ideas for recovery if you accidentally delete a kubernetes resource](https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource)

### Related articles

*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRRBd%2FsDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAOYCPBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzE3NTEwMDI4MzY2MTAwLUhvdy10by1yZXNpemUtdGhlLWRhdGFkaXItZm9yLW1vbmdvREItb3Itb3RoZXIta3ViZXJuZXRlcy12b2x1bWVzBjsIVDoJcmFua2kG--78a6ec9d91a1c104a781c299b058ba4b445e0a84)
*   [Use Nextflow andSnakemake with Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRT2myiBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAOYCPBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzYxOTUxNjkwODg0MDQtVXNlLU5leHRmbG93LWFuZFNuYWtlbWFrZS13aXRoLURvbWlubwY7CFQ6CXJhbmtpBw%3D%3D--6346cca0099a4beb9cdfe953030303970ba2abba)
*   [How to create a Dataset Snapshot from files in a workspace in Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2LCdgBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAOYCPBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzU5MTA1MzIyMjQ1MzItSG93LXRvLWNyZWF0ZS1hLURhdGFzZXQtU25hcHNob3QtZnJvbS1maWxlcy1pbi1hLXdvcmtzcGFjZS1pbi1Eb21pbm8tNS14BjsIVDoJcmFua2kI--18b4ba2c47beba1e55cbf5884022c4d02b9a47d9)
*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvZDkzBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAOYCPBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzU3MTc1NjQzMzgwNjgtVXNlZnVsLUxhYmVscy1mb3ItUnVubmluZy1LdWJlY3RsLUNvbW1hbmRzLUFnYWluc3QtUG9kcy1pbi10aGUtQ29tcHV0ZS1OYW1lc3BhY2UGOwhUOglyYW5raQk%3D--a7a715dd5a0c36425ab900346014988d044945a5)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTAOYCPBjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kK--75b5866c30c70cbfe232ce08f853e73d4b15f3d5)"
https://tickets.dominodatalab.com/hc/en-us/articles/5717564338068-Useful-Labels-for-Running-Kubectl-Commands-Against-Pods-in-the-Compute-Namespace,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/5717564338068-Useful-Labels-for-Running-Kubectl-Commands-Against-Pods-in-the-Compute-Namespace/subscription.html ""Opens a sign-in dialog"")

Depending on your needs there are useful labels applied to each of the pods Domino creates on the k8s cluster that can help you quickly isolate your target, or get a complete view of all runs of a certain type. Following below are examples of the labels and associated kubectl commands using the -l option to filter for pods of a certain label. Values enclosed in angle brackets are variable and may differ in your cluster.

To find all run pods associated with a project owned by a particular user:

label:

dominodatalab.com/project-owner-username=integration-test

example:

kubectl get pods -n <domino-compute> -l dominodatalab.com/project-owner-username=<domino-username>

To find all run pods started by a particular user:

label:

dominodatalab.com/starting-user-username=integration-test

example:

kubectl get pods -n <domino-compute> -l  dominodatalab.com/starting-user-username=<domino-username>

To find all run pods associated with a project:

label:

dominodatalab.com/project-name=<project-name>

example:

 kubectl get pods -n <domino-compute> -l dominodatalab.com/project-name=<project-name>

To find all Workspaces:

label:

dominodatalab.com/workload-type=Workspace

example:

kubectl get pods -n <domino-compute> -l dominodatalab.com/workload-type=Workspace

To find all Apps:

label:

dominodatalab.com/workload-type=App

example:

kubectl get pods -n <domino-compute> -l dominodatalab.com/workload-type=App

To find all Jobs:

label:

dominodatalab.com/workload-type=Batch

example:

kubectl get pods -n <domino-compute> -l dominodatalab.com/workload-type=Batch

To find all Scheduled Jobs:

label:

dominodatalab.com/workload-type=Scheduled

example:

kubectl get pods -n <domino-compute> -l dominodatalab.com/workload-type=Scheduled

Model APIs use slightly different labels, so will not be retrieved through the examples above. Examples of model API labels follow below:

To find all model pods its best to get all pods in the compute namespace and pipe to grep:

kubectl get pods -n <domino-compute> | grep model

To find all pods associated with a particular model:

labels:

modelName=<model-name>

examples:

kubectl get pods -n <domino-compute> -l modelName=<model-name>

If you've found a pod you're interested in, you can then use the kubectl describe command to perform further inspection:

kubectl describe pod -n <domino-compute> <pod-name>

You'll find additional labels that may be of use, and useful troubleshooting information in the events section of the describe.

If you've found an issue occurring in your cluster that requires further assistance, please open a ticket with us and share screenshots of the problematic pods, and the output from the kubectl describe command on affected pods.

### Recently viewed articles

*   [I need to delete old jobs from the queue or old runs](https://tickets.dominodatalab.com/hc/en-us/articles/7724401471252-I-need-to-delete-old-jobs-from-the-queue-or-old-runs)
*   [Pod Disruption Budget prevents cluster maintenance](https://tickets.dominodatalab.com/hc/en-us/articles/7213401358356-Pod-Disruption-Budget-prevents-cluster-maintenance)
*   [The 'fuser' utility](https://tickets.dominodatalab.com/hc/en-us/articles/12219601465236-The-fuser-utility)
*   [The lsof utility - 'list open files'](https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files)
*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)

### Related articles

*   [My SAS Workspace is notifying me it has insufficient space](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShDdwxBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvZDkzBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ2MTIxOTE3ODkzMzItTXktU0FTLVdvcmtzcGFjZS1pcy1ub3RpZnlpbmctbWUtaXQtaGFzLWluc3VmZmljaWVudC1zcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--4835f92ce971c0194a31bd258d2e1e6ec8afca87)
*   [Obtaining Support bundle Logs on a Workspace on Domino Version 4.3 up](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTnk0ICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvZDkzBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTM0MzQ5MDAtT2J0YWluaW5nLVN1cHBvcnQtYnVuZGxlLUxvZ3Mtb24tYS1Xb3Jrc3BhY2Utb24tRG9taW5vLVZlcnNpb24tNC0zLXVwBjsIVDoJcmFua2kH--3269d230d651d6e7a35f05661cb595d9daa3e302)
*   [Pod Disruption Budget prevents cluster maintenance](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTAOYCPBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvZDkzBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzcyMTM0MDEzNTgzNTYtUG9kLURpc3J1cHRpb24tQnVkZ2V0LXByZXZlbnRzLWNsdXN0ZXItbWFpbnRlbmFuY2UGOwhUOglyYW5raQg%3D--b5672699aa1829436a00fb88a744a9be85739765)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvZDkzBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQk%3D--c222ac12492e06da83cb5603b6ebd1dc859e57e8)
*   [How to exclude attachments from the Domino run notification emails](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSoSa%2FHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQvZDkzBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzYzNTUxOTc0NzA4NjgtSG93LXRvLWV4Y2x1ZGUtYXR0YWNobWVudHMtZnJvbS10aGUtRG9taW5vLXJ1bi1ub3RpZmljYXRpb24tZW1haWxzBjsIVDoJcmFua2kK--f98d6d90ae0fdacd41e47c3f5afd88d40387e583)"
https://tickets.dominodatalab.com/hc/en-us/articles/4856026515348-Azure-Access-the-nodes-w-o-ssh-or-teleport-access,"## I have an Azure deployment and need to review the nodes, can I access the nodes w/o Azure team providing ssh keys?

## Can I use kubectl to access 'nodes'?

The answer is, yes you can. See: [https://docs.microsoft.com/en-us/azure/aks/node-access](https://docs.microsoft.com/en-us/azure/aks/node-access)

Use this command:

kubectl debug node/${NODENAME} -it --image=mcr.microsoft.com/dotnet/runtime-deps:6.0"
https://tickets.dominodatalab.com/hc/en-us/articles/5083775716244-What-does-the-nucleus-error-The-Practitioner-global-role-is-not-implemented-Defaults-to-True-mean,"The following error in your nucleus logs...

ERROR \[d.w.a.WorkspaceAuthorizerImpl\] The Practitioner global role is not implemented. Defaults to True!  

...is benign and is actually just a placeholder for future work that is being done around the global roles in future versions.  Since the message is unnecessary and creates additional logging noise it is targeted to be removed in Domino v5.0."
https://tickets.dominodatalab.com/hc/en-us/articles/4426954837396-Mongo-Query-List-of-All-Projects-Owned-by-Deactivated-Users-and-Completed-timestamp-of-Runs-in-Project,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4426954837396-Mongo-Query-List-of-All-Projects-Owned-by-Deactivated-Users-and-Completed-timestamp-of-Runs-in-Project/subscription.html ""Opens a sign-in dialog"")

Mongo Query:

The following **query** should provide the **list of all projects owned by deactivated users** and the completed timestamp of runs in each of those projects:

rs.slaveOk();  
DBQuery.shellBatchSize = 2000;  
db.users.aggregate(\[  
{ ""$match"": {""deactivatedFlag"" : true} },  
{  
    $lookup: {  
            from: ""projects"",  
            localField: ""\_id"",  
            foreignField: ""ownerId"",  
            as: ""project""  
        }   
},  
{""$unwind"": ""$project""},  
{  
    $lookup: {  
            from: ""runs"",  
            localField: ""project.\_id"",  
            foreignField: ""projectId"",  
            as: ""runs""  
        }   
},  
{   
   $project: {  
           ""\_id"": 1,  
           ""loginId.id"": 1,  
           ""created"": 1,  
           ""project.name"": 1,  
           ""project.\_id"": 1,  
           ""project.created"": 1,  
           ""project.isArchived"": 1,  
           ""runs.completed"":1             
        }  
}  
\]).pretty()

* * *

If you have questions or need further assistance please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/articles/4587036354196-Nucleus-Services-Will-Not-Start-Due-to-Failing-Replication-in-MongoDB-Error-while-initializing-the-indexes)
*   [What does the nucleus error ""The Practitioner global role is not implemented. Defaults to True!"" mean?](https://tickets.dominodatalab.com/hc/en-us/articles/5083775716244-What-does-the-nucleus-error-The-Practitioner-global-role-is-not-implemented-Defaults-to-True-mean)
*   [Azure : Access the nodes w/o ssh or teleport access](https://tickets.dominodatalab.com/hc/en-us/articles/4856026515348-Azure-Access-the-nodes-w-o-ssh-or-teleport-access)
*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/5322288180628-Enable-Audit-Logging-in-Domino-Data-Lab-as-of-version-4-x)
*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/articles/5717564338068-Useful-Labels-for-Running-Kubectl-Commands-Against-Pods-in-the-Compute-Namespace)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQNErsGBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--85618d0672ee386320cf6e5a5583617159c09323)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ329nlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQNErsGBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzUzODUyNDkwNDQzNzItQWRtaW4tQ2VudHJhbC1Db25maWctU2V0dGluZ3MtVXBsb2FkLWZpbGVzLWxhcmdlci10aGFuLTU1ME1CBjsIVDoJcmFua2kH--9a5b17189e671714ed75e038867909414a3bef4c)
*   [404 !=200 or 401 !=200 MLflowException on API request to endpoint failure](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQF9v9qEzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQNErsGBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzIxMzUwMjgxNzc0MzU2LTQwNC0yMDAtb3ItNDAxLTIwMC1NTGZsb3dFeGNlcHRpb24tb24tQVBJLXJlcXVlc3QtdG8tZW5kcG9pbnQtZmFpbHVyZQY7CFQ6CXJhbmtpCA%3D%3D--01e233ad6cb7185a46b0d96ef90be812a23f631a)
*   [Garbage Collection in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR5EeIEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQNErsGBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzQ0MTkwMTkxNzYyMTItR2FyYmFnZS1Db2xsZWN0aW9uLWluLURvbWluby00LXgGOwhUOglyYW5raQk%3D--e906193fd93c6cf8e1d8dbc139f39d3a704668ee)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS2pKwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQNErsGBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM4Mjc4ODg2NjAtSG93LXRvLUZpbmQtVXNlci1JbmZvcm1hdGlvbi1pbi1hLURvbWluby1SdW4tUG9kBjsIVDoJcmFua2kK--a30f49bba801f1ccf97bf42861b50a5c3fd22536)"
https://tickets.dominodatalab.com/hc/en-us/articles/4419019176212-Garbage-Collection-in-Domino-4-x,"As of Domino 4.x, Domino no longer has any Garbage Collection (GC) provided by the Domino product.  Since we have moved to a Kubernetes architecture in Domino 4.x we now rely on Kubernetes GC.  Kubernetes GC polls every 5 minutes and checks to see if disk pressure exists.  The thresholds for disk pressure are configurable within kubelet but once these thresholds are met, Kubernetes GC will remove any unused images.  'Unused' should also include dangling references.  

For more information see the following two references...

[Kubernetes Garbage Collection](https://kubernetes.io/docs/concepts/architecture/garbage-collection/)

[Image Garbage Collection in OpenShift](https://cloud.redhat.com/blog/image-garbage-collection-in-openshift)"
https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod/subscription.html ""Opens a sign-in dialog"")

If you have access to the kubernetes cluster, and need to find user and project information from a given run id, you can find this information in the output of the kubectl describe command.

You can first grep for the run with:

kubectl get pods -n <domino-compute-namespace> | grep <run-id>

Once you identify the run in question, use the following:

kubectl describe pod <pod-name> -n <domino-compute-namespace>

Within the output of the describe, the user and project information will be associated with the Labels key:

![Screen_Shot_2022-01-19_at_11.41.25_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4416321455380/Screen_Shot_2022-01-19_at_11.41.25_AM.png)

If you have a need to kill the run pod from the backend, you will need to delete the kubernetes service and/or job associated with the run. These will have the same name as the run pod:

kubectl delete job <job-name> -n <domino-compute>

kubectl delete service <service-name> -n <domino-compute>

Please be cautious with delete commands and take care to delete the intended objects. As an extra precaution you can add the --dry-run=client option to the command to test its effect before committing to it.

### Recently viewed articles

*   [Garbage Collection in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4419019176212-Garbage-Collection-in-Domino-4-x)
*   [Mongo Query: List of All Projects Owned by Deactivated Users and Completed timestamp of Runs in Project](https://tickets.dominodatalab.com/hc/en-us/articles/4426954837396-Mongo-Query-List-of-All-Projects-Owned-by-Deactivated-Users-and-Completed-timestamp-of-Runs-in-Project)
*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/articles/4587036354196-Nucleus-Services-Will-Not-Start-Due-to-Failing-Replication-in-MongoDB-Error-while-initializing-the-indexes)
*   [What does the nucleus error ""The Practitioner global role is not implemented. Defaults to True!"" mean?](https://tickets.dominodatalab.com/hc/en-us/articles/5083775716244-What-does-the-nucleus-error-The-Practitioner-global-role-is-not-implemented-Defaults-to-True-mean)
*   [Azure : Access the nodes w/o ssh or teleport access](https://tickets.dominodatalab.com/hc/en-us/articles/4856026515348-Azure-Access-the-nodes-w-o-ssh-or-teleport-access)

### Related articles

*   [How To Get The Domino Username Of An App Viewer](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCP%2BqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS2pKwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTIzMS1Ib3ctVG8tR2V0LVRoZS1Eb21pbm8tVXNlcm5hbWUtT2YtQW4tQXBwLVZpZXdlcgY7CFQ6CXJhbmtpBg%3D%3D--78ff24b55e539d2048ff070eaed962b79c5eebdd)
*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvZDkzBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS2pKwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzU3MTc1NjQzMzgwNjgtVXNlZnVsLUxhYmVscy1mb3ItUnVubmluZy1LdWJlY3RsLUNvbW1hbmRzLUFnYWluc3QtUG9kcy1pbi10aGUtQ29tcHV0ZS1OYW1lc3BhY2UGOwhUOglyYW5raQc%3D--940a2295045505dd66e1b74871aa4a2229fff89f)
*   [Host: Central (StorageSample query violated High disk usage) in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQnNcwBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS2pKwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU3Njc1MTQwMDQtSG9zdC1DZW50cmFsLVN0b3JhZ2VTYW1wbGUtcXVlcnktdmlvbGF0ZWQtSGlnaC1kaXNrLXVzYWdlLWluLURvbWluby0zLXgGOwhUOglyYW5raQg%3D--ad91366cb680c25fd351549be295f1af26aaf632)
*   [Why did my run get stuck and how can I prevent this from happening? (3.6.x)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCy4IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS2pKwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MjQxMi1XaHktZGlkLW15LXJ1bi1nZXQtc3R1Y2stYW5kLWhvdy1jYW4tSS1wcmV2ZW50LXRoaXMtZnJvbS1oYXBwZW5pbmctMy02LXgGOwhUOglyYW5raQk%3D--248767a83cc45eccb9c4bb559905cd7ff50790ca)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS2pKwDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kK--1c6030a56ad679ef4ac28ffa3b98aa77c207bc29)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/4406166752916-I-ve-got-a-Disk-Space-Free-Space-Out-of-space-error-but-df-tells-me-differently,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4406166752916-I-ve-got-a-Disk-Space-Free-Space-Out-of-space-error-but-df-tells-me-differently/subscription.html ""Opens a sign-in dialog"")

## I've got a disk space error message but df shows plenty of space! What is wrong here?

Some error messages relate to disk free space but may be due to running out of inodes. Each file and directory requires an inode entry - and ext2/ext3/ext4 filesystems sometimes run out of inodes due to a large number of files being present.

Kubelet log may have keywords like  \[{""type"":""OutOfDisk""}...{""type"":""DiskPressure""}...\]

_Use_ **df -i** _to view inodes:_

\[user@host ~\]$ df -ih /  
Filesystem Inodes IUsed IFree IUse% Mounted on  
/dev/mapper/fedora-root 2,1M 401K 1,7M 20% /

The above example tells us about 401K files are present, but inode usage is only at 20% (safe) and could store about 5x the number of files. The disk space however may not:

\[user@host ~\]$ df -h /  
Filesystem Size Used Avail Use% Mounted on  
/dev/mapper/fedora-root 32G 19G 12G 62% /

The disk space can only grow about 50% more.

## How do I remedy the inode usage?

Typically you will have a process that creates a lot of files. Some instances are log files, mail files that cannot be sent, or dead-letter messages (Domino sometimes has these).

Use this command to locate the most populated folder on a filesystem, i.e. /var:

{ find /var -xdev -printf '%h\\n' | sort | uniq -c | sort -k 1 -n; } 2>/dev/null  
...  
 98 /var/lib/dnf/yumdb/s  
190 /var/lib/dnf/yumdb/g  
313 /var/lib/dnf/yumdb/p  
559 /var/lib/dnf/yumdb/l  
1023 /var/log

In this instance, the 'largest' folder is /var/log but your problematic folder will contain hundreds of thousands of files.

Once you've identified the folder, you should attempt to identify the content and on that basis purge, delete, compress or otherwise reduce the number of files. Deleting over 10K files may require it be done in steps or automating as '\*' will not work with too many files on the command line.

### Recently viewed articles

*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod)
*   [Garbage Collection in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4419019176212-Garbage-Collection-in-Domino-4-x)
*   [Mongo Query: List of All Projects Owned by Deactivated Users and Completed timestamp of Runs in Project](https://tickets.dominodatalab.com/hc/en-us/articles/4426954837396-Mongo-Query-List-of-All-Projects-Owned-by-Deactivated-Users-and-Completed-timestamp-of-Runs-in-Project)
*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/articles/4587036354196-Nucleus-Services-Will-Not-Start-Due-to-Failing-Replication-in-MongoDB-Error-while-initializing-the-indexes)
*   [What does the nucleus error ""The Practitioner global role is not implemented. Defaults to True!"" mean?](https://tickets.dominodatalab.com/hc/en-us/articles/5083775716244-What-does-the-nucleus-error-The-Practitioner-global-role-is-not-implemented-Defaults-to-True-mean)

### Related articles

*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQOAeQBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kG--6708a03e61ab70799521ab51f024e017add75b94)
*   [Service Level Agreement](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCPd8QNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQOAeQBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDA1ODg3MS1TZXJ2aWNlLUxldmVsLUFncmVlbWVudAY7CFQ6CXJhbmtpBw%3D%3D--dc409499f1a6e6a0ad98f35806b2be48f9c8a176)
*   [Workspace Volume Size](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKlpgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQOAeQBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzQ0MDkxOTY0MzE4OTItV29ya3NwYWNlLVZvbHVtZS1TaXplBjsIVDoJcmFua2kI--8ea86052fcf7172c6dfc35a4aad91355f6056a01)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQOAeQBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpCQ%3D%3D--69ff805d283851c5ab559c0372dd1bd7ff816806)
*   [Dominodatalab-data REST API Package Compatibility](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRP%2BMkDCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQOAeQBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJXL2hjL2VuLXVzL2FydGljbGVzLzg4MTIzNjY0MTc2ODQtRG9taW5vZGF0YWxhYi1kYXRhLVJFU1QtQVBJLVBhY2thZ2UtQ29tcGF0aWJpbGl0eQY7CFQ6CXJhbmtpCg%3D%3D--ac936fd968e811c46f4c9eeec64e348035f56e6b)"
https://tickets.dominodatalab.com/hc/en-us/articles/4405767514004-Host-Central-StorageSample-query-violated-High-disk-usage-in-Domino-3-x,"![](https://secure.gravatar.com/avatar/05a119b8b815eb77081ca8ce6a606064?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4405767514004-Host-Central-StorageSample-query-violated-High-disk-usage-in-Domino-3-x/subscription.html ""Opens a sign-in dialog"")

To troubleshoot this problem, ssh to the central server and run the following commands to check the disk usage:

sudo -i  
df -h

You will get output similar to this:

Filesystem              Size  Used Avail Use% Mounted on
...
/dev/nvme0n1p1           30G  6.3G   23G  22% /  
...
/dev/mapper/vg0-domino  996G  781G  214G  79% /domino
/dev/mapper/vg0-logs    7.8G   49M  7.3G   1% /domino/logs  
...

High disk usage is considered to be above 75%.

If you see high disk usage on the filesystem mounted on:

*   `/domino` - follow the rest of this article
*   `/domino/logs` - refer to [troubleshooting /domino/logs high disk usage](https://tickets.dominodatalab.com/hc/en-us/articles/4405281666452-Central-host-high-disk-usage-domino-logs-in-Domino-3-x-and-below)
*   anything else - refer to [troubleshooting / high disk usage](https://tickets.dominodatalab.com/hc/en-us/articles/4407057738900)

Now lets diagnose the cause of high disk usage:

du /domino/\* --max-depth=1 -kh 2>/dev/null | sort -hr | head

You will get output similar to this:

651G /domino/registry
51G  /domino/logging-elasticsearch
24G  /domino/elasticsearch
15G  /domino/docker
14G  /domino/mongodb
2.7G /domino/backup

If most of disk space is consumed by `registry` as in the example above, you need to **resize the volume**. If it is consumed by something else, or if you are not sure how to resize the volume, get in touch with Domino support.

### Recently viewed articles

*   [I've got a Disk Space/Free Space/Out of space error but df tells me differently!](https://tickets.dominodatalab.com/hc/en-us/articles/4406166752916-I-ve-got-a-Disk-Space-Free-Space-Out-of-space-error-but-df-tells-me-differently)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod)
*   [Garbage Collection in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4419019176212-Garbage-Collection-in-Domino-4-x)
*   [Mongo Query: List of All Projects Owned by Deactivated Users and Completed timestamp of Runs in Project](https://tickets.dominodatalab.com/hc/en-us/articles/4426954837396-Mongo-Query-List-of-All-Projects-Owned-by-Deactivated-Users-and-Completed-timestamp-of-Runs-in-Project)
*   [Nucleus Services Will Not Start Due to Failing Replication in MongoDB (Error while initializing the indexes)](https://tickets.dominodatalab.com/hc/en-us/articles/4587036354196-Nucleus-Services-Will-Not-Start-Due-to-Failing-Replication-in-MongoDB-Error-while-initializing-the-indexes)

### Related articles

*   [Central host high disk usage (/domino/logs) in Domino 3.x and below](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS1P68BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQnNcwBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDUyODE2NjY0NTItQ2VudHJhbC1ob3N0LWhpZ2gtZGlzay11c2FnZS1kb21pbm8tbG9ncy1pbi1Eb21pbm8tMy14LWFuZC1iZWxvdwY7CFQ6CXJhbmtpBg%3D%3D--7f23c36a69542b86f9dca16a11cfd69209dbf25f)
*   [How do I delete organizations in Domino?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCLenKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQnNcwBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njk1MS1Ib3ctZG8tSS1kZWxldGUtb3JnYW5pemF0aW9ucy1pbi1Eb21pbm8GOwhUOglyYW5raQc%3D--993ac8497ad69e757babeedd4c2f1c5a161e8d66)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQnNcwBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--f23c99a5d334aa102f2c6d52686ad4911e369acf)
*   [Sync fails after self upgrade to Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuCKwwBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQnNcwBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzc5MDU2MjYwNTgyNjAtU3luYy1mYWlscy1hZnRlci1zZWxmLXVwZ3JhZGUtdG8tRG9taW5vLTUteAY7CFQ6CXJhbmtpCQ%3D%3D--ae4529f39271ae1e4726fbfc6da479addf3f0ead)
*   [Run erroring due to being above save limit of 10000 files](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTt%2F4YJBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQnNcwBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzc3Mzc1MDEwMTk1NDAtUnVuLWVycm9yaW5nLWR1ZS10by1iZWluZy1hYm92ZS1zYXZlLWxpbWl0LW9mLTEwMDAwLWZpbGVzBjsIVDoJcmFua2kK--214a35473ff45f6fe5ec6d87ad32bc8ba9e91627)"
https://tickets.dominodatalab.com/hc/en-us/articles/4405281666452-Central-host-high-disk-usage-domino-logs-in-Domino-3-x-and-below,"![](https://secure.gravatar.com/avatar/05a119b8b815eb77081ca8ce6a606064?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4405281666452-Central-host-high-disk-usage-domino-logs-in-Domino-3-x-and-below/subscription.html ""Opens a sign-in dialog"")

To troubleshoot this problem, ssh to the central server and run the following commands to check the disk usage:

sudo -i  
df -h

You will get output similar to this:

Filesystem              Size  Used Avail Use% Mounted on
...
/dev/nvme0n1p1           30G  6.3G   23G  22% /  
...
/dev/mapper/vg0-domino   71G   25G   43G  37% /domino
/dev/mapper/vg0-logs    7.8G  7.3G   49M  99% /domino/logs  
...

High disk usage is considered to be above 75%.

If you see high disk usage on the filesystem mounted on:

*   `/domino/logs` - follow the rest of this article
*   `/domino` - refer to [troubleshooting /domino high disk usage](https://tickets.dominodatalab.com/hc/en-us/articles/4405767514004-Host-Central-StorageSample-query-violated-High-disk-usage-in-Domino-3-x)
*   anything else - refer to [troubleshooting / high disk usage](https://tickets.dominodatalab.com/hc/en-us/articles/4407057738900)

Now lets diagnose the cause of high disk usage:

du /domino/logs/\* --max-depth=1 -kh 2>/dev/null | sort -hr | head

You will get output similar to this:

5.9G /domino/logs/dispatcher/central
6.0G /domino/logs/dispatcher
16K  /domino/logs/lost+found
4.0K /domino/logs/upgrades

If most of disk space is consumed by `dispatcher/central` as in the example above, please follow the rest of this article. If it is consumed by something else, get in touch with Domino support.

Check the contents of `dispatcher/central` directory:

ls -lah /domino/logs/dispatcher/central

Sample output:

total 5.9G
drwxrwxr-x 2 domino domino 4.0K Apr  6 00:00 .
drwxr-x--- 3 domino domino 4.0K Apr  6 12:00 ..
-rw-r--r-- 1 domino domino 564M Apr  5 18:06 1616522817971-13
-rw-r--r-- 1 domino domino 5.4G Apr  6 12:39 1616522817971-14

To clean the disk we just remove the files from the `dispatcher/central` directory and then check its contents again:

rm /domino/logs/dispatcher/central/\*
ls -lah /domino/logs/dispatcher/central

Sample output:

total 8.0K
drwxrwxr-x 2 domino domino 4.0K Apr  6 00:00 .
drwxr-x--- 3 domino domino 4.0K Apr  6 12:00 ..

Check the disk usage again:

df -h /domino/logs

Sample output:

Filesystem            Size  Used Avail Use% Mounted on
/dev/mapper/vg0-logs  7.8G  1.1G  5.4G  19% /domino/logs

To make sure this doesn't happen in the future, change configuration settings that control logging. On the Admin page, go to Advanced > Central Config. Set values as below:

common: com.cerebro.domino.centralLogging.mode = ''
role=dispatcher: com.cerebro.domino.centralLogging.mode = ''
common: com.cerebro.domino.centralLogging.submitter.targetHost = ''

In order for changes to take effect, you’ll need to restart both the Domino frontend and dispatcher servers. Frontend can be restarted from the Admin UI and there is no impact to the users as the instances are restarted one by one.

Dispatcher on the other hand has one instance only, so there will be impact of less than 5 minutes when it is restarted. The impact is that new runs / jobs / workspaces may not start and active runs / jobs / workspaces may fail to sync. To restart the dispatcher you need to run the following command from the central host.

docker restart domino-dispatcher

### Recently viewed articles

*   [Host: Central (StorageSample query violated High disk usage) in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/articles/4405767514004-Host-Central-StorageSample-query-violated-High-disk-usage-in-Domino-3-x)
*   [I've got a Disk Space/Free Space/Out of space error but df tells me differently!](https://tickets.dominodatalab.com/hc/en-us/articles/4406166752916-I-ve-got-a-Disk-Space-Free-Space-Out-of-space-error-but-df-tells-me-differently)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod)
*   [Garbage Collection in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4419019176212-Garbage-Collection-in-Domino-4-x)
*   [Mongo Query: List of All Projects Owned by Deactivated Users and Completed timestamp of Runs in Project](https://tickets.dominodatalab.com/hc/en-us/articles/4426954837396-Mongo-Query-List-of-All-Projects-Owned-by-Deactivated-Users-and-Completed-timestamp-of-Runs-in-Project)

### Related articles

*   [Host: Central (StorageSample query violated High disk usage) in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQnNcwBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS1P68BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU3Njc1MTQwMDQtSG9zdC1DZW50cmFsLVN0b3JhZ2VTYW1wbGUtcXVlcnktdmlvbGF0ZWQtSGlnaC1kaXNrLXVzYWdlLWluLURvbWluby0zLXgGOwhUOglyYW5raQY%3D--3d7ffdf3fac6f6076860679d9e75661be339bcbf)
*   [Rancher One Year Certificate Expiration](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQZHVIBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS1P68BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM3MTkxMTcwNzYtUmFuY2hlci1PbmUtWWVhci1DZXJ0aWZpY2F0ZS1FeHBpcmF0aW9uBjsIVDoJcmFua2kH--b424724db9b250f561a1a657fbcbe69a1ae101f7)
*   [Dispatcher Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGSSUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS1P68BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExMjkzMi1EaXNwYXRjaGVyLVRyb3VibGVzaG9vdGluZwY7CFQ6CXJhbmtpCA%3D%3D--3f1ec399710f8964358bd726e28d807d56dd8cbc)
*   [log4j zero day vulnerability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQN%2F4wDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS1P68BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyOTY5MzgyNjAtLWxvZzRqLXplcm8tZGF5LXZ1bG5lcmFiaWxpdHkGOwhUOglyYW5raQk%3D--4cdc70b3768c5c622642ad2a4c2957486a260f64)
*   [Error: Workspace could not be started. Could not access Git Repository with URL (https://URL) : Please check the URL and your Git Credentials](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSYlJgCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJS1P68BBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBpi9oYy9lbi11cy9hcnRpY2xlcy80NDA5MTk2MzIwNzg4LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Db3VsZC1ub3QtYWNjZXNzLUdpdC1SZXBvc2l0b3J5LXdpdGgtVVJMLWh0dHBzLVVSTC1QbGVhc2UtY2hlY2stdGhlLVVSTC1hbmQteW91ci1HaXQtQ3JlZGVudGlhbHMGOwhUOglyYW5raQo%3D--fc0b2b025b157296ca07fcce15a8ce3bc8036e87)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061493471-Running-MongoDB-queries-with-only-kubectl-access,"If you have kubectl access but no UI access or area already logged in to kubectl and want to run a mongo query you can use the following: 

### 4.X Command Line Connection Example

The mongo client and mongodump commands are available in the mongo-replicaset container. Here are some sample commands for navigating.

1.  Find the service: 
    
    `kubectl get svc --all-namespaces -l app.kubernetes.io/name=mongodb-replicaset`
    
2.  Describe the service to get endpoint IPs: 
    
    `kubectl describe svc --all-namespaces -l app.kubernetes.io/name=mongodb-replicaset`
    
3.  Find mongo secrets: 
    
    `kubectl get secret --all-namespaces | grep mongo-replicaset-admin`
    
4.  Retrieve credentials:
    
    `kubectl get secret -n <domino-platform-namespace> mongodb-replicaset-admin -o yaml`
    
5.  Decode strings from secrets yaml:
    
    `1echo <user> | base64 --decode; echo; echo <password> | base64 --decode`
    
6.  Connect into the replicaset pod: 
    
    `kubectl exec -it -n <domino-platform-namespace> mongodb-replicaset-0 bash`
    
7.  Connect to db to run commands:

`mongo --username admin`

8\. Access domino database"
https://tickets.dominodatalab.com/hc/en-us/articles/4405146684308-Understanding-Maintenance-Mode-Alerts-in-Domino-3-x,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4405146684308-Understanding-Maintenance-Mode-Alerts-in-Domino-3-x/subscription.html ""Opens a sign-in dialog"")

Occasionally, Domino Support may reach out to inform Domino Admins that we were alerted to a high number of Executors having entered Maintenance Mode.

Below, we will explain what this means, and the steps required to take the Executors out of Maintenance Mode.

An executor will enter maintenance mode if any one of the following conditions are met:

1.  Dispatcher sends a health check request to the executor and doesn't get a valid response repeatedly fail for 15 minutes (_**most common**_).
2.  Dispatcher receives no response or signals from the executor (i.e. network or system issue). Status will be labeled **'Unreachable'**.
3.  Executor fails its own health checks and reports unhealthy to the Dispatcher.
4.  Admin's can manually place an executor into Maintenance Mode through the Dispatcher UI.

An executor in maintenance mode will exhibit the following effects:

1.  Active runs on an executor in Maintenance Mode will complete as normal, uninterrupted.
2.  No new runs are scheduled to the executor.
3.  Dispatcher will stop executor if it's been idle (no active runs) for longer than 120 minutes (configurable through central config)
4.  An executor cannot come out of Maintenance Mode unless manually unset by an admin through Dispatcher UI.
5.  Executors in MM will not be terminated by dispatcher.

Domino Admins will be able to take the executor's out of maintenance mode from within the Dispatcher UI in Domino's Admin section.

As seen below, from the Domino Admin menu, select Dispatcher in the navigation header, scroll down to your Executors, and select the Actions link on the right hand side. 

Executors in maintenance mode will be highlighted in yellow:

![Screen_Shot_2021-08-18_at_11.30.21_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4405381934612/Screen_Shot_2021-08-18_at_11.30.21_AM.png)

To take the Executor out of maintenance mode, first access the Actions menu, then start the Executor, and use the MM off button to remove the maintenance mode tag:

![Screen_Shot_2021-08-18_at_11.25.01_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4405381810708/Screen_Shot_2021-08-18_at_11.25.01_AM.png)

If the Executor fails to start, fails to exit maintenance mode, or immediately re-enters maintenance mode, at that time the executor can be terminated.

The system will then spin up new executors as needed based upon the user run queue.

I

### Recently viewed articles

*   [Central host high disk usage (/domino/logs) in Domino 3.x and below](https://tickets.dominodatalab.com/hc/en-us/articles/4405281666452-Central-host-high-disk-usage-domino-logs-in-Domino-3-x-and-below)
*   [Host: Central (StorageSample query violated High disk usage) in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/articles/4405767514004-Host-Central-StorageSample-query-violated-High-disk-usage-in-Domino-3-x)
*   [I've got a Disk Space/Free Space/Out of space error but df tells me differently!](https://tickets.dominodatalab.com/hc/en-us/articles/4406166752916-I-ve-got-a-Disk-Space-Free-Space-Out-of-space-error-but-df-tells-me-differently)
*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod)
*   [Garbage Collection in Domino 4.x](https://tickets.dominodatalab.com/hc/en-us/articles/4419019176212-Garbage-Collection-in-Domino-4-x)

### Related articles

*   [Central host high disk usage (/domino/logs) in Domino 3.x and below](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS1P68BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLNKcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDUyODE2NjY0NTItQ2VudHJhbC1ob3N0LWhpZ2gtZGlzay11c2FnZS1kb21pbm8tbG9ncy1pbi1Eb21pbm8tMy14LWFuZC1iZWxvdwY7CFQ6CXJhbmtpBg%3D%3D--c9fd3787390e26b8a48a19203a7aa14b9e21dc02)
*   [Where do I update LDAP credentials?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTSo3cBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLNKcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzNDg3MDMzODAtV2hlcmUtZG8tSS11cGRhdGUtTERBUC1jcmVkZW50aWFscwY7CFQ6CXJhbmtpBw%3D%3D--3ced680614a793126fa5e98b93191ae573fd620a)
*   [Errors during model build : Failed to establish a new connection: \[Errno -2\] Name or service not known')': /simple/prometheus-client/](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQUopKFCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQLNKcBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmy9oYy9lbi11cy9hcnRpY2xlcy8xMjY2ODMxODY1MTQxMi1FcnJvcnMtZHVyaW5nLW1vZGVsLWJ1aWxkLUZhaWxlZC10by1lc3RhYmxpc2gtYS1uZXctY29ubmVjdGlvbi1FcnJuby0yLU5hbWUtb3Itc2VydmljZS1ub3Qta25vd24tc2ltcGxlLXByb21ldGhldXMtY2xpZW50BjsIVDoJcmFua2kI--87c7484e67172a9f78b84775bb02ebfc61dca3f2)"
https://tickets.dominodatalab.com/hc/en-us/articles/4404348703380-Where-do-I-update-LDAP-credentials,"If you are on 3.6 version of Domino and want to update your LDAP credentials, you'll need to update the **/domino/ldap\_search\_credentials.conf** on both frontends and central server, then run restarts. 

You can do this by using the following commands on the frontends: 

#sudo su  
#docker restart domino-frontend  
#docker ps (to verify domino-frontend has restarted properly)  

And these commands on your central server

#sudo su  
#docker restart domino-dispatcher  
#docker ps (to verify domino-disptcher has restarted properly)  

And then on the deployer box, update the **/domino/deployer/ldap\_user.conf**

If you run into trouble please contact support and let them know you are in the process of updating your credentials."
https://tickets.dominodatalab.com/hc/en-us/articles/360058044392-Does-maintenance-mode-impact-garbage-collection,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [Domino MongoDB service scale down and remove replication member from Replica Set](https://tickets.dominodatalab.com/hc/en-us/articles/23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set)
*   [Old PVC with Pending status](https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [domino-workbench-backup fails: file changed as we read it](https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it)
*   [Viewing xlsx files in projects results in a crash](https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash)
*   [How to backup your kubernetes cluster artifacts](https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts)
*   [Ideas for recovery if you accidentally delete a kubernetes resource](https://tickets.dominodatalab.com/hc/en-us/articles/16790043431828-Ideas-for-recovery-if-you-accidentally-delete-a-kubernetes-resource)
*   [My MongoDB replicaset will not start, or it restarts constantly](https://tickets.dominodatalab.com/hc/en-us/articles/16718145491732-My-MongoDB-replicaset-will-not-start-or-it-restarts-constantly)
*   [Accessing Vault & Retrieving Secrets](https://tickets.dominodatalab.com/hc/en-us/articles/13743439329044-Accessing-Vault-Retrieving-Secrets)
*   [The lsof utility - 'list open files'](https://tickets.dominodatalab.com/hc/en-us/articles/12244598664468-The-lsof-utility-list-open-files)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360001984251-Maintenance)

![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

Petter Olsson

*   1 month ago
*   Updated

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058044392-Does-maintenance-mode-impact-garbage-collection/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: katie.shakman

**Question:** Does putting a machine into maintenance stop garbage collection processes on that machine?

**Answer:** No, garbage collection and logs keep being collected and existing Runs will keep going until finished.

### Recently viewed articles

*   [Where do I update LDAP credentials?](https://tickets.dominodatalab.com/hc/en-us/articles/4404348703380-Where-do-I-update-LDAP-credentials)
*   [Running MongoDB queries with only kubectl access](https://tickets.dominodatalab.com/hc/en-us/articles/360061493471-Running-MongoDB-queries-with-only-kubectl-access)
*   [Understanding Maintenance Mode Alerts in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/articles/4405146684308-Understanding-Maintenance-Mode-Alerts-in-Domino-3-x)
*   [Central host high disk usage (/domino/logs) in Domino 3.x and below](https://tickets.dominodatalab.com/hc/en-us/articles/4405281666452-Central-host-high-disk-usage-domino-logs-in-Domino-3-x-and-below)
*   [Host: Central (StorageSample query violated High disk usage) in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/articles/4405767514004-Host-Central-StorageSample-query-violated-High-disk-usage-in-Domino-3-x)

### Related articles

*   [Ideas for recovery if you accidentally delete a kubernetes resource](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQTkzxFDzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOi%2FIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzE2NzkwMDQzNDMxODI4LUlkZWFzLWZvci1yZWNvdmVyeS1pZi15b3UtYWNjaWRlbnRhbGx5LWRlbGV0ZS1hLWt1YmVybmV0ZXMtcmVzb3VyY2UGOwhUOglyYW5raQY%3D--a9b5bf70539b0896ee62394a78739e0d6b176437)
*   [My MongoDB replicaset will not start, or it restarts constantly](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSTH380DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOi%2FIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzE2NzE4MTQ1NDkxNzMyLU15LU1vbmdvREItcmVwbGljYXNldC13aWxsLW5vdC1zdGFydC1vci1pdC1yZXN0YXJ0cy1jb25zdGFudGx5BjsIVDoJcmFua2kH--6d10ea5c69ba558a6eb86259c56980876104c385)

### Comments

1 comment

[Date](https://tickets.dominodatalab.com/hc/en-us/articles/360058044392-Does-maintenance-mode-impact-garbage-collection?sort_by=created_at) [Votes](https://tickets.dominodatalab.com/hc/en-us/articles/360058044392-Does-maintenance-mode-impact-garbage-collection?sort_by=votes)

*   ![](https://assets.zendesk.com/hc/assets/default_avatar.png)
    
    Permanently deleted user
    
    *   3 years ago
    
    Hi,
    
    No, garbage collection and logs keep being collected and existing Runs will keep going until finished.
    
    Thanks,
    
    Petter
    
    Submitted by: petter.olsson
    
    [](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058044392%2Fcomments%2F360012253532 ""Yes"")0[](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058044392%2Fcomments%2F360012253532 ""No"")
    
    Comment actions [Permalink](https://tickets.dominodatalab.com/hc/en-us/articles/360058044392/comments/360012253532)
    

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F360058044392-Does-maintenance-mode-impact-garbage-collection) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/4403719117076-Rancher-One-Year-Certificate-Expiration,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4403719117076-Rancher-One-Year-Certificate-Expiration/subscription.html ""Opens a sign-in dialog"")

There is known issue that we have seen in rancher versions up to 2.3.6, where its certificates come with a default one year life span, and do not update automatically.

Once the certificate expires, you may be unable to access the rancher ui, or run kubectl commands against your cluster.

To work around this, please perform the following steps against the rancher container:

docker stop <rancher-container-name-or-id>  
docker start <rancher-container-name-or-id>  
docker exec -it <rancher-container-name-or-id> sh -c ""mv k3s/server/tls k3s/server/tls.bak""  
docker logs --tail 3 <rancher-container-name-or-id>  
\# Something similar to the below will appear:   
\# 2021/01/03 03:07:01 \[INFO\] Waiting for server to become available: Get https://localhost:6443/version?timeout=30s: x509: certificate signed by unknown authority  
\# 2021/01/03 03:07:03 \[INFO\] Waiting for server to become available: Get https://localhost:6443/version?timeout=30s: x509: certificate signed by unknown authority  
\# 2021/01/03 03:07:05 \[INFO\] Waiting for server to become available: Get https://localhost:6443/version?timeout=30s: x509: certificate signed by unknown authority  
docker stop <rancher-container-name-or-id>  
docker start <rancher-container-name-or-id>

This will pull in a new certificate to the rancher container, and should then allow access to the rancher ui and kubectl.

If this does not restore immediate access to the rancher ui, you may need to perform another docker stop / start cycle on the rancher container.

If this does not resolve the issue, or you require further guidance, please engage Domino support for assistance.

### Recently viewed articles

*   [Does maintenance mode impact garbage collection?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044392-Does-maintenance-mode-impact-garbage-collection)
*   [Where do I update LDAP credentials?](https://tickets.dominodatalab.com/hc/en-us/articles/4404348703380-Where-do-I-update-LDAP-credentials)
*   [Running MongoDB queries with only kubectl access](https://tickets.dominodatalab.com/hc/en-us/articles/360061493471-Running-MongoDB-queries-with-only-kubectl-access)
*   [Understanding Maintenance Mode Alerts in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/articles/4405146684308-Understanding-Maintenance-Mode-Alerts-in-Domino-3-x)
*   [Central host high disk usage (/domino/logs) in Domino 3.x and below](https://tickets.dominodatalab.com/hc/en-us/articles/4405281666452-Central-host-high-disk-usage-domino-logs-in-Domino-3-x-and-below)

### Related articles

*   [Swagger- Domino Public API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRfE6QDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZHVIBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2ODQxNDU5NDAtU3dhZ2dlci1Eb21pbm8tUHVibGljLUFQSQY7CFQ6CXJhbmtpBg%3D%3D--d012fccaf87ffd86ed9c074a3f306060461025a7)
*   [Dispatcher Troubleshooting](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGSSUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZHVIBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2FL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExMjkzMi1EaXNwYXRjaGVyLVRyb3VibGVzaG9vdGluZwY7CFQ6CXJhbmtpBw%3D%3D--fb08fa3148213f6252b7a68494365123e92d18bf)
*   [How to add a CAcert to a Domino Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOTEL9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZHVIBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODk2MzE3Mi1Ib3ctdG8tYWRkLWEtQ0FjZXJ0LXRvLWEtRG9taW5vLUNvbXB1dGUtRW52aXJvbm1lbnQGOwhUOglyYW5raQg%3D--6cadb1b46180b93e622188fa17d1bd8bb32099a9)
*   [Workspace fails to launch after adding git repo to project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJy7IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZHVIBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MzI5Mi1Xb3Jrc3BhY2UtZmFpbHMtdG8tbGF1bmNoLWFmdGVyLWFkZGluZy1naXQtcmVwby10by1wcm9qZWN0BjsIVDoJcmFua2kJ--3b962e90d81bcc7455fdca1fba0816f413246d54)
*   [Extending a LV from existing disks](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTl6mH2BToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQZHVIBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzY1NTU3NjI4Nzc3MTYtRXh0ZW5kaW5nLWEtTFYtZnJvbS1leGlzdGluZy1kaXNrcwY7CFQ6CXJhbmtpCg%3D%3D--3d144c062ff355215d8bddf98944672de852f2fc)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061112932-Dispatcher-Troubleshooting,"## Dispatcher Troubleshooting

![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061112932-Dispatcher-Troubleshooting/subscription.html ""Opens a sign-in dialog"")

## General Information

The Dispatcher is a core component of the Domino application and it has multiple responsibilities.

*   Schedule runs to executors
    
*   Get the state of each executor and run
    
*   Scale-up and turn down executors
    
*   Get active run information and update the database
    
*   Execute health checks on executors, marking them unhealthy as needed
    

## Troubleshooting

### Restarting the Dispatcher

This is needed if there are changes made to the Dispatcher configuration or Central Config or as a general troubleshooting measure.

### Domino ≤ 3.6.x

This process takes ~30 seconds and **will be disruptive** to any new runs attempting to be scheduled or runs that are syncing back during the restart period.

Active runs and executors are not affected.

docker restart domino-dispatcher

The Dispatcher should come back within 30 seconds. View logs to ensure it comes up properly.

docker logs --tail 20 --follow domino-dispatcher  
...  
...  
\[info\] \[Global\] Application started. correlationId=""PSjLQsw08d""

Domino ≥ 4.x  

In 4.x deployments deleting the pod for nucleus-dispatcher-\* is the standard way to restart the dispatcher, since there is a replica set associated with it, to rebuild. 

kubectl -n aws-staging-domino logs nucleus-dispatcher-55dcd5b87d-knwx6 --timestamps   
kubectl -n aws-staging-domino logs nucleus-dispatcher-55dcd5b87d-knwx6 --timestamps --tail=300

### Related articles

*   [Sync fails with logged error of ""Exception caught during execution of rm command""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS30fGXCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGSSUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk0NDg2OTAxMzY4NTItU3luYy1mYWlscy13aXRoLWxvZ2dlZC1lcnJvci1vZi1FeGNlcHRpb24tY2F1Z2h0LWR1cmluZy1leGVjdXRpb24tb2Ytcm0tY29tbWFuZAY7CFQ6CXJhbmtpBg%3D%3D--3561c0423ed8ef10365c4cd74bf7a442f7a989a6)
*   [Setting up Domino Model Monitoring (DMM) using the Domino API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBROqBJ6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGSSUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzkzMjAzOTIwNTIyNDQtU2V0dGluZy11cC1Eb21pbm8tTW9kZWwtTW9uaXRvcmluZy1ETU0tdXNpbmctdGhlLURvbWluby1BUEkGOwhUOglyYW5raQc%3D--7f8750035554bbd16dd5a3d3fe8f6abdfe48b099)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGSSUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--5f720a55372b838a8e0f9742cc8c1679b033ff24)
*   [Central host high disk usage (/domino/logs) in Domino 3.x and below](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS1P68BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGSSUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDUyODE2NjY0NTItQ2VudHJhbC1ob3N0LWhpZ2gtZGlzay11c2FnZS1kb21pbm8tbG9ncy1pbi1Eb21pbm8tMy14LWFuZC1iZWxvdwY7CFQ6CXJhbmtpCQ%3D%3D--79a53d21f88db4c2b777968b75df3316d915a208)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGSSUNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzMzA2NzQzMjQtRXhlY3V0aW9ucy1TdHVjay1pbi1RdWV1ZWQtaW4tU2luZ2xlLUhhcmR3YXJlLVRpZXIGOwhUOglyYW5raQo%3D--e5b57f083c315749b376ed6c6d6da9398015c2cd)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13017506294676-Admin-Toolkit-script-usage&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/13017506294676-Admin-Toolkit-script-usage/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F13017506294676-Admin-Toolkit-script-usage,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F23340069783572-Authentication&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/23340069783572-Authentication/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/23340069783572-Authentication/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation/subscription.html ""Opens a sign-in dialog"")

If you've setup AWS credential, as described in our docs [here](https://docs.dominodatalab.com/en/latest/admin_guide/eb6a88/aws-credential-propagation/), but are still not seeing the refresh work properly, the best place to start is the workspace logs. Logs can be observed in the workspace page in the Domino UI or by accessing kubectl and running:  

kubectl logs <podname> -n <namespace> -c <container-name>

Any attempts to refresh the credentials should show up there, whether they are successful or not. Here's an example: 

2021-12-14T20:40:03.908Z: INFO:\_\_main\_\_:-- Refreshing access token -- 2021-12-14T20:40:04.719Z: -- refreshing AWS credentials Domino-credential-propagation-role 

If you see an error such as: 

2021-12-14T20:38:04.619Z: Error assuming role 2021-12-14T20:38:04.619Z: An error occurred (AccessDenied) when calling the AssumeRole  
 operation: User: arn:aws:sts::<userid>:  
assumed-role/Domino-credential-propagation-role/<userid> is not authorized   
to perform: sts:TagSession on resource: arn:aws:iam::<id>:role/  
Domino-credential-propagation-role 

it means the AWS role that is setup for credential propagation is missing some necessary privileges. 

This specific error can be resolved by adding sts:TagSession under the role's permitted actions. 

Here's an example of the AWS role with the sts:TagSession permission added: 

![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/4413255896724)

### Recently viewed articles

*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/7580967555732-Error-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)
*   [Using SAS in Domino - Getting Started and Best Practices](https://tickets.dominodatalab.com/hc/en-us/articles/360058492771-Using-SAS-in-Domino-Getting-Started-and-Best-Practices)

### Related articles

*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDjYoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQY%3D--e3d206d4a3a2dcc88649ae69085bc090b158f4c2)
*   [Workspaces with Spark clusters suddenly fail during assigning, no endpoints available for service ""distributed-compute-operator-webhook-server""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQE7SP6CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDjYoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBrS9oYy9lbi11cy9hcnRpY2xlcy85ODcwNDM3NTgxOTcyLVdvcmtzcGFjZXMtd2l0aC1TcGFyay1jbHVzdGVycy1zdWRkZW5seS1mYWlsLWR1cmluZy1hc3NpZ25pbmctbm8tZW5kcG9pbnRzLWF2YWlsYWJsZS1mb3Itc2VydmljZS1kaXN0cmlidXRlZC1jb21wdXRlLW9wZXJhdG9yLXdlYmhvb2stc2VydmVyBjsIVDoJcmFua2kH--087262463a367713f9d800945755b1c88384e1f3)
*   [Error ""Workspace could not be started. environment \_\_\_\_ not valid or authorized""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRhEaEDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDjYoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2MzM2ODM3MzItRXJyb3ItV29ya3NwYWNlLWNvdWxkLW5vdC1iZS1zdGFydGVkLWVudmlyb25tZW50LW5vdC12YWxpZC1vci1hdXRob3JpemVkBjsIVDoJcmFua2kI--27d1610c78d5e0cab345119701a50c373fa54908)
*   [Seeing 99+ merge conflicts when I try to sync](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrGooDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDjYoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDg0MzI5MTYtU2VlaW5nLTk5LW1lcmdlLWNvbmZsaWN0cy13aGVuLUktdHJ5LXRvLXN5bmMGOwhUOglyYW5raQk%3D--83f15ea3c78fc0649e812d3c3fb59126db0a4877)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQDjYoDBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--3ab274f4d7a351b67a3470e367a9bd08794516bc)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Removing User Two-Factor Authentication](https://tickets.dominodatalab.com/hc/en-us/articles/19903455705876-Removing-User-Two-Factor-Authentication)
*   [UI 503 errors and Keycloak API errors due to Keycloak's default memory settings being insufficient](https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient)
*   [Keycloak: Recommended settings for session and token timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [Users being asked to login too frequently](https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)
*   [How to disable user signup](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup)

## FAQ: What is LDAP?

![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP/subscription.html ""Opens a sign-in dialog"")

Sometimes users have heard of LDAP and have questions about what it is or how we use it.

*   LDAP stands for Lightweight Directory Access Protocol.
*   LDAP is used to interact with AD, which stands for Active Directory.
*   AD is a service for keeping track of e.g. user identities (usually these identities are shared across a set of services that a company uses).

How is it used in Domino? 

*   Domino can be set up to use LDAP. The decision to enable LDAP rests with the Admin and/or IT department.
*   In Domino, information about the collection of users can be populated by manually creating a new user each time someone wants a Domino account, or by connecting to another service that looks up identities and creates users automatically.
*   Configuring Domino to use LDAP to create users is one way to automatically create users on-demand without needing an admin in the loop.
*   If LDAP is enabled, then when a new user tries to log into Domino for the first time, they should use their LDAP credentials (provided by their company) and Domino will look up those credentials via their LDAP service. If the user is found and is a member of the Domino group in their LDAP system (if such a group exists), then an account will be automatically created for the new user and they will be logged into Domino with that account.

See also:

[https://tickets.dominodatalab.com/hc/en-us/articles/207619436-Are-authentication-systems-like-LDAP-supported-](https://tickets.dominodatalab.com/hc/en-us/articles/207619436-Are-authentication-systems-like-LDAP-supported-)

### Recently viewed articles

*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/7580967555732-Error-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)
*   [I need to install the admin toolkit but I am airgapped](https://tickets.dominodatalab.com/hc/en-us/articles/13765627194516-I-need-to-install-the-admin-toolkit-but-I-am-airgapped)

### Related articles

*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kG--243ae13c8a80f320e41dbfd74159da43cbb68356)
*   [I need to test connectivity to my MS-SQL server from a Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRONSYCBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzQ0MDcyNzc0NzM0MjgtSS1uZWVkLXRvLXRlc3QtY29ubmVjdGl2aXR5LXRvLW15LU1TLVNRTC1zZXJ2ZXItZnJvbS1hLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--06bd587d0640eb05a057e27e5cd4a647abbbd636)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCLizIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MTI3Mi1Nb2RpZnlpbmctRG9taW5vLUZpcnN0LUJyb2tlci1Mb2dpbgY7CFQ6CXJhbmtpCA%3D%3D--47fe9e539693fcaea3184fd8fb7182284c549efe)
*   [Are authentication systems like LDAP supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEbAVgDDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzIwNzYxOTQzNi1BcmUtYXV0aGVudGljYXRpb24tc3lzdGVtcy1saWtlLUxEQVAtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--52235e9bae1e94e882fbda0dbad44a57f7c45e21)
*   [Git submodules in a ""read only"" use-case](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRpW2SXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNjAIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzUwNDgyNzAyODUwNzYtR2l0LXN1Ym1vZHVsZXMtaW4tYS1yZWFkLW9ubHktdXNlLWNhc2UGOwhUOglyYW5raQo%3D--359a592a5cd1e5ea3258e56773dc85b63836c510)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login/subscription.html ""Opens a sign-in dialog"")

Due to a bug in Keycloak v8.0.2, users could run into issues when logging in

Here are the details of the bug - [https://issues.redhat.com/browse/KEYCLOAK-12319](https://issues.redhat.com/browse/KEYCLOAK-12319)

To implement the workaround -

1- Login to keycloak admin console

2- Go to Authentication --> Flows

3- Click on a ""New""

4- Add Alias as ""Domino First Broker Login"" (this needs to be unique, and if already used, you will have to use a different string)

5- Add Execution and select ""Review Profile"". Mark this as Required

6- Add Flow; alias should be ""Create Or Link Existing Account"". Mark this as Required

7- For Flow ""Create Or Link Existing Account"" --> Go to Actions --> Add Execution

8- Select ""Create User if Unique"". Mark it as ""Alternative""

9 - For Flow ""Create Or Link Existing Account"" --> Go to Actions --> Add Execution

10- Select ""Automatically Set Existing User"". Mark it as ""Alternative""

After running through all the steps your ""Domino First Broker Login"" should look like this -->

[![Screen Shot 2020-03-31 at 5.49.57 PM.png](https://us.v-cdn.net/6031622/uploads/920/A26106PUDQ8O.png)](https://us.v-cdn.net/6031622/uploads/920/A26106PUDQ8O.png)

11- navigate to Identity Providers--> click on your identity provider

12- In First Login Flow --> select the ""Domino First Broker Login""

### Recently viewed articles

*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/7580967555732-Error-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/articles/8626017849748-Can-I-reload-my-app-dynamically)

### Related articles

*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ9U410CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLizIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzkyOTY2ODAyNzEyNTItU1NPLVNBTUwtT2t0YS1MREFQLUFERlMtQXV0aGVudGljYXRpb24td2l0aC1Eb21pbm8tNS14BjsIVDoJcmFua2kG--3d7c7399387e6f605a4ef11ceac61bb883eba7b4)
*   [Static IP for Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEOoKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLizIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI8L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NzA5MS1TdGF0aWMtSVAtZm9yLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--c7e41b39c5d05f00d0c454319798e1884b496b5e)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNjAIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLizIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI1L2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0NDYzMi1GQVEtV2hhdC1pcy1MREFQBjsIVDoJcmFua2kI--140175b0017c00b557413a4ea8ba6301b9cd5599)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLizIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--c5843fabfc621d8dbb06396da8749e13fc913d64)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRiQJUbCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCLizIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy84OTE0NTYxMTYzNzk2LVdoYXQtaGFwcGVucy13aGVuLXlvdS1yZXN0YXJ0LXNlcnZpY2VzLXZpYS10aGUtVUktYWZ0ZXItbWFraW5nLWEtQ2VudHJhbC1Db25maWd1cmF0aW9uLWNoYW5nZQY7CFQ6CXJhbmtpCg%3D%3D--1e6e4623f21d9ef2065523e4ffc2a0fdf49b7445)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 4.x+

## **Issue:**

By default, we allow users to signup to Domino and create a local account if they don't have one yet.  The user accounts created this way are local to domino only.  In environments where user auth is tied to a single sign on system, this may not be needed or desirable.  This guide will show you how you can disable that functionality and disable local signups.

## **Resolution:**

Firstly, we'll need to [get access to the keycloak UI](https://docs.dominodatalab.com/en/latest/admin_guide/1a7dfa/keycloak-set-up/#tr1) which is available at http(s)://<domino-domain>/auth/ (e.g http://domino.example.com/auth/) - _Note: that the trailing slash is required to get to the frontend._

Once you're at the UI, click on Administration Console.

Run the below command to get the keycloak admin password - _Note: To get the password you'll need kubectl access to the cluster_:

kubectl get secret keycloak-http -n domino-platform -ojsonpath='{.data.password}' | base64 --decode;echo

Once you're logged in you should see a page similar to the below:

[![keycloak-ui.png](https://us.v-cdn.net/6031622/uploads/080/W5O6TGNVJ116.png)](https://us.v-cdn.net/6031622/uploads/080/W5O6TGNVJ116.png)

From here, click on the 'Login' tab.

[![keycloak-login-ui.png](https://us.v-cdn.net/6031622/uploads/183/WUKIC0DKYSBK.png)](https://us.v-cdn.net/6031622/uploads/183/WUKIC0DKYSBK.png)

Mark the 'User registration' setting to OFF and click save.

User registrations will now no longer be accepted and the sign up link will be removed from the login screen.

[![login-signup-disable.png](https://us.v-cdn.net/6031622/uploads/216/5Q4G369XLGTF.png)](https://us.v-cdn.net/6031622/uploads/216/5Q4G369XLGTF.png)

If you have any questions, please let us know in the comment section below.

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)
*   [Error - Readiness probe failed: cat: /var/lib/domino/home/.api/token: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/articles/7580967555732-Error-Readiness-probe-failed-cat-var-lib-domino-home-api-token-No-such-file-or-directory)

### Related articles

*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKCjIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBg%3D%3D--1c43589aeb86cacb6cf4be6f1051abe9284982c1)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQzDBwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKCjIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MTE0MDE5NzQ1NDgtU3luY2luZy1maWxlcy1mcm9tLXB1Ymxpc2hlZC1BcHBzBjsIVDoJcmFua2kH--3d00c3fd9280077c84bdc328e8673d9cf3cf808b)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCKCjIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQg%3D--2308655633ba135fbb06a3c6989c9ccc80d5d5a9)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360000206626-Configuration&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

All versions

* * *

## **Issue:**

In some organizations, Domino Admins may need to restrict users so that they cannot create new environments or edit existing environments.

* * *

## **Resolution:**

Domino Admins can add this [Central Config setting related to Environments](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#tr140) and set it to `false`:

`com.cerebro.domino.environments.canNonSysAdminsCreateEnvironments`

*   If set to **true** (default), non-admins can create and edit environments.
*   If set to **false** only system administrators can create and edit environments.

Reminder that you must restart the Domino services for changes to take effect. 

* * *

When set to `true`, users can create new environments. Users can also edit their existing environments. 

![Create_Button.png](https://tickets.dominodatalab.com/hc/article_attachments/15713034802708)

**Environment Visibility**

When a user [creates a new environment](https://docs.dominodatalab.com/en/latest/user_guide/fa8137/create-an-environment/), the visibility is **Private** by default. Users do not have permissions to edit visibility. Only Admins can make the environment **Globally Accessible**, which makes it available to all projects. Users would need to ask the Admins to switch their environment's visibility to **Globally Accessible** or **Available to an Organization**.

* * *

When set to `false`, users cannot create new environments. There is no **Create Environment** button available to users.

![When_false_-_no_Create_Button.png](https://tickets.dominodatalab.com/hc/article_attachments/15713088874772)

Users cannot edit environments that they had previously created. They'll see a message: _You are not authorized to create compute environments. Please contact your Domino Admin if you have any questions._

 ![You_are_not_authorized_to_create_compute_environments.png](https://tickets.dominodatalab.com/hc/article_attachments/15713093715988)

* * *

## **Notes/Information:**

Related: [Which Central Config key dictates who can edit Compute Environments?](https://tickets.dominodatalab.com/hc/en-us/articles/5000956002452)

For more about making a specific environment available to a specific group of users, please see [Typical uses for organizations > Share compute environments](https://docs.dominodatalab.com/en/latest/user_guide/526a62/organizations/).

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to disable user signup](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/articles/7087846321556-Connecting-to-Bitbucket)

### Related articles

*   [Which Central Config key dictates who can edit Compute Environments?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTANGCMBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUaYpKDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJpL2hjL2VuLXVzL2FydGljbGVzLzUwMDA5NTYwMDI0NTItV2hpY2gtQ2VudHJhbC1Db25maWcta2V5LWRpY3RhdGVzLXdoby1jYW4tZWRpdC1Db21wdXRlLUVudmlyb25tZW50cwY7CFQ6CXJhbmtpBg%3D%3D--87543babb8e1c7964ebe5cab933b6488bf891350)
*   [Getting started with Streamlit in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUaYpKDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTM5Mi1HZXR0aW5nLXN0YXJ0ZWQtd2l0aC1TdHJlYW1saXQtaW4tRG9taW5vBjsIVDoJcmFua2kH--2bcf2739f25e9a95fae81a798648f103e23cdff4)
*   [Error ""Workspace could not be started. environment \_\_\_\_ not valid or authorized""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRhEaEDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUaYpKDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM2MzM2ODM3MzItRXJyb3ItV29ya3NwYWNlLWNvdWxkLW5vdC1iZS1zdGFydGVkLWVudmlyb25tZW50LW5vdC12YWxpZC1vci1hdXRob3JpemVkBjsIVDoJcmFua2kI--b15bfbf5c5cbe61d4e253752e3a959e306ce642e)
*   [Configure A Compute Environment To Use Private Cran Conda Pypi Mirrors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCFylStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUaYpKDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyNDU3Mi1Db25maWd1cmUtQS1Db21wdXRlLUVudmlyb25tZW50LVRvLVVzZS1Qcml2YXRlLUNyYW4tQ29uZGEtUHlwaS1NaXJyb3JzBjsIVDoJcmFua2kJ--39b6d79f530ec5ccd3aaf3a2d3d0a7f435e95510)
*   [Why can't I update the compute environment?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCO%2BmKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSUaYpKDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njc1MS1XaHktY2FuLXQtSS11cGRhdGUtdGhlLWNvbXB1dGUtZW52aXJvbm1lbnQGOwhUOglyYW5raQo%3D--1c3f669811e9404d1f6aeae255ee0d750b7349ef)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies when upgrading Domino to versions 5.3.x to 5.5.x and Amazon Elastic Kubernetes Service (EKS) to version 1.23. Please see our [compatibility table](https://docs.dominodatalab.com/en/5.4/admin_guide/7b2cbe/compatibility-with-kubernetes/#_amazon_elastic_kubernetes_service_eks).

* * *

## **Issue:**

The Amazon Elastic Block Store (Amazon EBS) Container Storage Interface (CSI) driver allows Amazon Elastic Kubernetes Service (Amazon EKS) clusters to manage the lifecycle of Amazon EBS volumes for persistent volumes.

The Amazon EKS docs below indicate that you should install the EBS CSI driver in the cluster before you upgrade to EKS 1.23. However, you’re unsure if you’d still have to install the driver if you’re also upgrading Domino to a version between 5.3.x and 5.5.x.

[Per Amazon EKS Kubernetes Version 1.23](https://docs.aws.amazon.com/eks/latest/userguide/kubernetes-versions.html)

If you use Amazon EBS volumes in an existing cluster, install the Amazon EBS CSI driver in your cluster before you update your cluster to version 1.23.

If you don't install the driver before updating an existing cluster, interruptions to your workloads might occur.

If you plan to deploy workloads that use Amazon EBS volumes in a new 1.23 cluster, install the Amazon EBS CSI driver in your cluster before deploying the workloads your cluster.

[Per Amazon EBS CSI driver](https://docs.aws.amazon.com/eks/latest/userguide/ebs-csi.html) 

If you have a 1.22 or earlier cluster that you currently run Pods on that use Amazon EBS volumes, and you don't currently have this driver installed on your cluster, then be sure to install this driver to your cluster _before_ updating the cluster to 1.23.

If you don't install this driver before updating your cluster to 1.23, you might experience workload interruption.

For more information or to get answers to frequently asked questions about this requirement, see [Kubernetes 1.23](https://docs.aws.amazon.com/eks/latest/userguide/kubernetes-versions.html#kubernetes-1.23) or [Amazon EBS CSI migration frequently asked questions](https://docs.aws.amazon.com/eks/latest/userguide/ebs-csi-migration-faq.html).

The Amazon EBS CSI driver isn't installed when you first create a cluster. To use the driver, you must add it as an Amazon EKS add-on or as a self-managed add-on.

* * *

## **Resolution:**

You do not have to install the EBS CSI driver because we install it as part of Domino. When you upgrade Domino to a version between 5.3.x and 5.5.x, the cluster will already include the driver so you will not have to add it on separately before upgrading to EKS 1.23.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Central config setting to prevent users from creating or editing environments](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments)
*   [How to disable user signup](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/articles/4413255910164-Tips-for-setting-up-AWS-credential-propagation)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrzSNWDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--be121b31c7ad0cc2dcd5d8328b81a4c62912dd51)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCONJZNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrzSNWDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJDL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjQwNTA5MS1Ib3ctVG8tV2hpdGVsaXN0LWFuLUlQLUFkZHJlc3MGOwhUOglyYW5raQc%3D--ff11fe3a2ec8bc6a4030abe9754c61eb4fb7c270)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6cLTBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrzSNWDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE1MTI1NjA3MTAzMTI0LWZhaWxlZC10by1wdWxsLWltYWdlLTYwMjQwMTE0MzQ1Mi1ka3ItZWNyLXVzLWVhc3QtMS1hbWF6b25hd3MtY29tLWVrcy1wYXVzZS0zLTUGOwhUOglyYW5raQg%3D--8c3ec6f026b6439b5b456c82e0b49cb98786d043)
*   [Misleading error: ""java.lang.IllegalStateException: PVC PersistentVolumeClaimId(default,workspace-6008d4902ddf203ba1f1ed36) is in use""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT4tkIEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrzSNWDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBoi9oYy9lbi11cy9hcnRpY2xlcy80NDE2MzQ1NjY3NzMyLU1pc2xlYWRpbmctZXJyb3ItamF2YS1sYW5nLUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbi1QVkMtUGVyc2lzdGVudFZvbHVtZUNsYWltSWQtZGVmYXVsdC13b3Jrc3BhY2UtNjAwOGQ0OTAyZGRmMjAzYmExZjFlZDM2LWlzLWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--18bdc4819018830e54dd77e6bc26d4f5c994077f)
*   [Files were deleted by accident - can I bring them back?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRAr7wBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRrzSNWDjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDU1MDcwODAzNDAtRmlsZXMtd2VyZS1kZWxldGVkLWJ5LWFjY2lkZW50LWNhbi1JLWJyaW5nLXRoZW0tYmFjawY7CFQ6CXJhbmtpCg%3D%3D--e0eba6e112c33febd474c7f838b173f75f851e07)"
https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

Your organization needs to restrict the ability to share projects so that only Admins can invite collaborators. If there is restricted data in a project, this will prevent the project owner and collaborators from sharing the project with those who are not permitted to view the restricted data. Your organization needs this setting to be applied deployment-wide.

* * *

## **Resolution:**

1)  Go to the [Admin portal > Advanced > Central Config](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/).

2)  Set these two [settings related to authorization](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/#authorization) to true:

`com.cerebro.domino.authorization.restrictManageCollaborators`

Default is false. If **true**, Project Owners can manage project collaborators. However, the Invite button in the Collaborators and permissions section on the Access & Sharing tab in Project Settings is not available for other users, even if they are collaborators. See [Invite Collaborators](https://docs.dominodatalab.com/en/latest/user_guide/c59589/invite-collaborators/).

`com.cerebro.domino.authorization.limitProjectSharing`

The `limitProjectSharing` key enforces a stricter policy than `restrictManageCollaborators`. Default is false. If **true**, then only users with the Project Manager Domino user role or administrators can manage project permissions. See [Settings permissions](https://docs.dominodatalab.com/en/latest/user_guide/26332c/collaborator-permissions/#_publishing_permissions). 

![01_Central_Config_settings_both_set_to_true.png](https://tickets.dominodatalab.com/hc/article_attachments/15629802770964)

3) [Restart Domino services](https://tickets.dominodatalab.com/hc/en-us/articles/8914561163796-What-happens-when-you-restart-services-via-the-UI-after-making-a-Central-Configuration-change-) for the changes to take effect.

After you restart services, the settings will be applied globally to your deployment. Only Admins will be able to share projects and [invite collaborators to the project](https://docs.dominodatalab.com/en/latest/user_guide/c59589/invite-collaborators/). Project Owners and collaborators will not be able to since the “Invite Collaborators” feature will be disabled for them.

![02_Admin_can_Invite_collaborators_-_Project_Owner_cannot.png](https://tickets.dominodatalab.com/hc/article_attachments/15629794637972)

If the Admin then invites a new collaborator (e.g. a Practitioner as a Contributor), the new collaborator cannot invite other collaborators:

![03_Admin_invited_collaborator_-_newly_invited_collaborator_cannot_invite_other_collaborators.png](https://tickets.dominodatalab.com/hc/article_attachments/15629802819860)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [AWS EBS CSI driver for EKS 1.23 does not have to be installed separately when you’re also upgrading Domino to a version between 5.3.x and 5.5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x)
*   [Central config setting to prevent users from creating or editing environments](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments)
*   [How to disable user signup](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)
*   [FAQ: What is LDAP?](https://tickets.dominodatalab.com/hc/en-us/articles/360058044632-FAQ-What-is-LDAP)

### Related articles

*   [Merge Conflict - Neither 'overwrite with mine' nor 'save both' successfully sync's my files -OR- Sync error 'Cannot start processing because currently processing.'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTGR7lzBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2BCE3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBuS9oYy9lbi11cy9hcnRpY2xlcy80ODk1MDc2MjM4ODY4LU1lcmdlLUNvbmZsaWN0LU5laXRoZXItb3ZlcndyaXRlLXdpdGgtbWluZS1ub3Itc2F2ZS1ib3RoLXN1Y2Nlc3NmdWxseS1zeW5jLXMtbXktZmlsZXMtT1ItU3luYy1lcnJvci1DYW5ub3Qtc3RhcnQtcHJvY2Vzc2luZy1iZWNhdXNlLWN1cnJlbnRseS1wcm9jZXNzaW5nBjsIVDoJcmFua2kG--90ed7e0597a3c5c4255068d396771209039e209a)
*   [Can I reload my app dynamically?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTRumbYBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2BCE3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJFL2hjL2VuLXVzL2FydGljbGVzLzg2MjYwMTc4NDk3NDgtQ2FuLUktcmVsb2FkLW15LWFwcC1keW5hbWljYWxseQY7CFQ6CXJhbmtpBw%3D%3D--8b50650a526cba6a292bed825e169b9c05d541eb)
*   [R packages such as RcppParallel will not install in Rstudio workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQEvTrmBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2BCE3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzc1ODU4OTc3MTA2MTItUi1wYWNrYWdlcy1zdWNoLWFzLVJjcHBQYXJhbGxlbC13aWxsLW5vdC1pbnN0YWxsLWluLVJzdHVkaW8td29ya3NwYWNlBjsIVDoJcmFua2kI--e63301f97ab4a3da5f5706fe367cd9505087c17c)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRlLH0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2BCE3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJxL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQ0NDE1Mzk4NjAtLTQwMy1Gb3JiaWRkZW4tYW5kLUpXVC10b2tlbi1leHBpcmF0aW9uLWluLWxvbmctcnVubmluZy1weXRob24tZG9taW5vLXVzYWdlBjsIVDoJcmFua2kJ--a385671039806f0ea7a242b6b79eee0b8014a706)
*   [Why can't I update the compute environment?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCO%2BmKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBR2BCE3DjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Njc1MS1XaHktY2FuLXQtSS11cGRhdGUtdGhlLWNvbXB1dGUtZW52aXJvbm1lbnQGOwhUOglyYW5raQo%3D--e45b0b9803163954689de0282f10408fd6ef2530)"
https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-pending-backup-jobs,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-pending-backup-jobs/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

Backups have failed. Failure to backup results in the inability to [restore backups](https://docs.dominodatalab.com/en/latest/admin_guide/b73853/restore-backups/) after an incident. 

Here is an example of a cronjob in a bad **Pending** state (instead of a good **Completed** state):

kubectl get pods -A --sort-by=.metadata.creationTimestamp | grep backup  
domino-platform   nucleus-backup-1645142400-z8pbk                             0/1     Pending                    0          20h  
domino-platform   git-backup-1645142400-xdqfb                                 0/1     Pending                    0          20h

* * *

## **Background:**

#### **Legacy (versions <5.0)**

Prior to version 5.0.0, Domino has [Legacy backups](https://docs.dominodatalab.com/en/4.6/admin_guide/72ff13/backup-and-restore/) distributed as two cronjobs: `nucleus-backup` and `git-backup`:

kubectl get cronjob -A  
NAMESPACE              NAME             SCHEDULE   SUSPEND   ACTIVE   LAST SCHEDULE   AGE  
domino-platform   git-backup       @daily     False     0        20h             268d  
domino-platform   nucleus-backup   @daily     False     0        20h             268d

Examples of **Legacy** (versions <5.0) cronjobs in a **Completed** state:

kubectl get pods -A --sort-by=.metadata.creationTimestamp |grep backup  
domino-platform   nucleus-backup-1645142400-z8pbk                             0/1     Completed                    0          20h  
domino-platform   git-backup-1645142400-xdqfb                                 0/1     Completed                    0          20h

#### **Current (versions >5.0)**

Starting with version 5.0.0, the [Domino backup system](https://docs.dominodatalab.com/en/latest/admin_guide/72ff13/backup-and-restore/) unifies all Domino user data (Workbench and Domino app configuration) into a single cron job, producing a single tarball backup. This cron job is called `domino-workbench-backup`. It contains the mongo, git, keycloak, vault, and model secrets, as well as a config file for the backup:

kubectl get cronjob -A  
NAMESPACE                NAME                         SCHEDULE   SUSPEND   ACTIVE   LAST SCHEDULE   AGE  
domino-platform   dmm-config-backup            @daily     False     0        19h             380d  
domino-platform   dmm-parquet-cleanup-job      @daily     False     0        19h             380d  
domino-platform   dmm-parquet-conversion-job   @hourly    False     0        54m             380d  
domino-platform   domino-workbench-backup      @daily     False     0        19h             419d

Examples of **Current** (versions >5.0) cronjobs in a **Completed** state:

kubectl get pods -A --sort-by=.metadata.creationTimestamp |grep backup  
domino-platform   dmm-config-backup-27924480-7bp6x                                  0/2     Completed          0          2d20h  
domino-platform   domino-workbench-backup-27924480-mrjnw                            0/2     Completed          0          2d20h  
domino-platform   dmm-config-backup-27925920-nmg6j                                  0/2     Completed          0          44h  
domino-platform   domino-workbench-backup-27925920-sntcr                            0/2     Completed          0          44h  
domino-platform   dmm-config-backup-27927360-qr595                                  0/2     Completed          0          20h  
domino-platform   domino-workbench-backup-27927360-k27dk                            0/2     Completed          0          20h

* * *

## **Troubleshooting:**

**1\. Run the Admin Toolkit and check the backup jobs test results**

The [Admin Toolkit](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-a-system-scan/) runs tests to verify backup jobs in Domino. The tests will fail if there are failed backup jobs and will print the status, completion time and failure reason.

Example of test output:

\------------------------------------- live log call --------------------------------------  
INFO root:test\_backup.py:20 Domino Version: 5.3.0  
INFO root:test\_backup.py:42 Nucleus backup job name: domino-workbench-backup  
INFO root:test\_backup.py:71 Backup job name: domino-workbench-backup-1660229400, Status: Complete, Backup completion time: 2022-08-11 14:50:09  
ERROR root:test\_backup.py:77 Backup job name: domino-workbench-backup-1660230000, Status: Failed, Reason: BackoffLimitExceeded, Message: Job has reached the specified backoff limit  
INFO root:test\_backup.py:71 Backup job name: domino-workbench-backup-1660230600, Status: Complete, Backup completion time: 2022-08-11 15:10:20  
INFO root:test\_backup.py:71 Backup job name: domino-workbench-backup-1660231200, Status: Complete, Backup completion time: 2022-08-11 15:20:12  
FAILED \[100%\]

\======================================== FAILURES ========================================  
\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_ test\_backup\_job\_status \_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_\_  
FAILURE:  
assert 'Failed' == 'Complete'  
\- Complete  
\+ Failed  
checks/test\_backup.py:67 in test\_backup\_job\_status() -> check.equal(status, 'Complete')  
\------------------------------------------------------------  
Failed Checks: 1

**2\. Get more information on the Pending backup job**

Do a `kubectl describe` on the pod to get more details on the Pending state. The output could point in the direction as to why the pod cannot be scheduled on to a node, either due to cluster capacity or a scaling issue.

*   **Legacy (versions <5.0)**

kubectl describe pods git-backup-1645142400-xdqfb  -n domino-platform

*   **Current** (versions <5.0)

kubectl describe pods domino-workbench-backup-27927360-k27dk  -n domino-platform

* * *

## **Notes/Information:**

If your backup cronjobs are failing with the `secrets is forbidden` error after self-upgrading Domino, please see: [After self-upgrading Domino, nucleus backup cronjobs fail with a ""secrets is forbidden"" error](https://tickets.dominodatalab.com/hc/en-us/articles/12929182528788)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [How to restrict project permissions so that only Admins have the ability to share projects and invite collaborators](https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators)
*   [AWS EBS CSI driver for EKS 1.23 does not have to be installed separately when you’re also upgrading Domino to a version between 5.3.x and 5.5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x)
*   [Central config setting to prevent users from creating or editing environments](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments)
*   [How to disable user signup](https://tickets.dominodatalab.com/hc/en-us/articles/360058037152-How-to-disable-user-signup)
*   [Modifying Domino First Broker Login](https://tickets.dominodatalab.com/hc/en-us/articles/360058041272-Modifying-Domino-First-Broker-Login)

### Related articles

*   [After self-upgrading Domino, nucleus backup cronjobs fail with a ""secrets is forbidden"" error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT1VE%2FCCzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTVx1vWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfC9oYy9lbi11cy9hcnRpY2xlcy8xMjkyOTE4MjUyODc4OC1BZnRlci1zZWxmLXVwZ3JhZGluZy1Eb21pbm8tbnVjbGV1cy1iYWNrdXAtY3JvbmpvYnMtZmFpbC13aXRoLWEtc2VjcmV0cy1pcy1mb3JiaWRkZW4tZXJyb3IGOwhUOglyYW5raQY%3D--812ee5291ffa98fd2f076b3fedd6b4a39ce7643a)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQleFgXCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTVx1vWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJQL2hjL2VuLXVzL2FydGljbGVzLzk5OTU4NzMxNjY3NDAtRXJyb3ItRXJyb3ItZ2V0dGluZy1kYXRhLWluLUNvbnRyb2wtQ2VudGVyBjsIVDoJcmFua2kH--fd2b1c6f19e16c7bb61301c353a877cd81b0f485)
*   [Passing arguments and starting Jobs via Domino REST API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQjhsD0CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTVx1vWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJdL2hjL2VuLXVzL2FydGljbGVzLzk4NDcyOTUwNTg3MDgtUGFzc2luZy1hcmd1bWVudHMtYW5kLXN0YXJ0aW5nLUpvYnMtdmlhLURvbWluby1SRVNULUFQSQY7CFQ6CXJhbmtpCA%3D%3D--f56a0f9135a817b3e79a4a4a0dc05eeaf783e408)
*   [Obtaining jobs support bundle logs on Domino version 4.x to 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQWzv2%2BCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTVx1vWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzk2MTYzOTQ5NTAyOTItT2J0YWluaW5nLWpvYnMtc3VwcG9ydC1idW5kbGUtbG9ncy1vbi1Eb21pbm8tdmVyc2lvbi00LXgtdG8tNS14BjsIVDoJcmFua2kJ--d1f5af9e37bde78c11e80f1db568f54b8c26ccca)
*   [Changing Account Information on 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTCFxwBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTVx1vWCzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzQ0MDI4MTI3OTc0NjAtQ2hhbmdpbmctQWNjb3VudC1JbmZvcm1hdGlvbi1vbi00LXgGOwhUOglyYW5raQo%3D--4ca8a40809a3df33e5bdcc0bfecd7929024823c9)"
https://tickets.dominodatalab.com/hc/en-us/articles/12929182528788-After-self-upgrading-Domino-nucleus-backup-cronjobs-fail-with-a-secrets-is-forbidden-error,"#### _**Version/Environment (if relevant):**_

Self-upgrading from 5.0.x

* * *

## **Issue:**

After self-upgrading, cron backup jobs fail to run and you get the `secrets is forbidden` error:

\+ \[\[ -n domino-platform \]\]  
++ kubectl -n domino-platform get secrets -o name  
++ grep '\\-bank-vaults'  
Error from server (Forbidden): secrets is forbidden: User ""system:serviceaccount:domino-platform:nucleus"" cannot list resource ""secrets"" in API group """" in the namespace ""domino-platform""  
\+ vaults=

* * *

## **Root Cause:**

Prior to version 5.0.0, Domino has legacy backups distributed as two cronjobs: `nucleus-backup` and `git-backup`:

![nucleus-backup_and_git-backup.png](https://tickets.dominodatalab.com/hc/article_attachments/12928802659476)

Starting with version 5.0.0, the [Domino backup system](https://docs.dominodatalab.com/en/latest/admin_guide/72ff13/backup-and-restore/) unifies all Domino user data (Workbench and Domino app configuration) into a single cron job, producing a single tarball backup. Backups live in the `domino-data-importer` chart and are called `domino-workbench-backup-`. Backups are bundled into tarballs containing the mongo, git, keycloak, vault, and model secrets, as well as a config file for the backup.

For example, after upgrading to 5.3.0, only these cronjobs should be listed:

![post-upgrade_domino-workbench-backup.png](https://tickets.dominodatalab.com/hc/article_attachments/12978704921108)

Backups were removed from the nucleus chart starting in nucleus chart version 0.80.0. Post upgrade, your nucleus chart version should be 0.80.0 or newer, e.g. `helm.sh/chart=nucleus-0.84.2`. To check your version, run:

kubectl describe clusterrole domino-domino-platform-nucleus-platform-secrets

![describe_to_get_nucleus_chart_version.png](https://tickets.dominodatalab.com/hc/article_attachments/12978910499348)

* * *

## **Resolution:**

Check if the `domino-data-importer` backup works correctly and was triggered as expected after the upgrade and then delete the old cronjobs.

1) Check the logs from the last backup job:

kubectl -n domino-platform logs <your domino-workbench-backup-12345678-9abcd namespace>

The output should look like this:

Loading config from /app/config-4x-example.yaml...  
Setting source type to 'manual' for backup mode...  
Only including the following migrations:  
\['mongo', 'keycloak', 'dbmigrations', 'vault', 'git', 'datasets', 'logjam', 'blobs', 'registry', 'model\_secrets'\]  
Migrating the following services, in order:  
\['mongo', 'keycloak', 'vault', 'blobs', 'dbmigrations', 'git', 'datasets', 'registry', 'logjam', 'model\_secrets'\]  
Processing \[10\] migration(s):  
Skipping blacklisted backup service: blobs  
Skipping blacklisted backup service: datasets  
Skipping blacklisted backup service: registry  
Skipping blacklisted backup service: logjam

Performing backup using MongoImportWorker for mongo  
Running Mongo backup  
Backing up local mongo to /opt/scratch/migration-sessions/20230131-090710/mongo\_archive\_local-backup.gz for safety...

Performing backup using KeycloakImportWorker for keycloak  
Running keycloak backup...  
Backing up local postgres db to /opt/scratch/migration-sessions/20230131-090710/keycloak-postgres\_archive\_local-backup.gz...  
Running: \['pg\_dump', '-h', 'postgresql', '-U', 'postgres', '-Z', '9', 'keycloak'\], piping to /opt/scratch/migration-sessions/20230131-090710/keycloak-postgres\_archive\_local-backup.gz

Performing backup using VaultImportWorker for vault  
Running vault k8s secrets backup...  
Backing up vault k8s secrets to /opt/scratch/migration-sessions/20230131-090710/vault-k8s-secrets\_local-backup.yaml...  
Running vault backup...  
Backing up local postgres db to /opt/scratch/migration-sessions/20230131-090710/vault-postgres\_archive\_local-backup.gz...  
Running: \['pg\_dump', '-h', 'postgresql', '-U', 'postgres', '-Z', '9', 'vault'\], piping to /opt/scratch/migration-sessions/20230131-090710/vault-postgres\_archive\_local-backup.gz

Performing backup using DBMigrationsImportWorker for dbmigrations

Performing backup using TarImportWorker for git  
Tar import worker: Backing up /opt/git// to /opt/scratch/migration-sessions/20230131-090710/git.tar.gz...  
Running: tar -czf /opt/scratch/migration-sessions/20230131-090710/git.tar.gz projectrepos in /opt/git//

Performing backup using K8sSecretsImportWorker for model\_secrets  
Running model\_secrets k8s secrets backup...  
Backup config written to: /opt/scratch/migration-sessions/20230131-090710/config.yaml  
Tarring to /opt/scratch/migration-sessions/20230131-090710.tar.gz...  
Uploading backup with command: \['aws', 's3', 'cp', '/opt/scratch/migration-sessions/20230131-090710.tar.gz', 's3://nizarn1513-backups/2023/01/', '--region', 'us-west-2', '--sse', 'AES256'\]  
Removing backup archive /opt/scratch/migration-sessions/20230131-090710.tar.gz  
Removing backup session path /opt/scratch/migration-sessions/20230131-090710  
OK

2) If everything looks good, backup the cronjobs yaml manifests before deleting them:

kubectl -n domino-platform get cronjob git-backup -o yaml > git-backup.yaml

kubectl -n domino-platform get cronjob nucleus-backup -o yaml > nucleus-backup.yaml  

3) Lastly, delete the old cronjobs:

kubectl -n domino-platform delete cronjob git-backup nucleus-backup 

* * *

## **Notes/Information:**

For more on debugging backup jobs, please see: [How to troubleshoot and debug backup jobs](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748)

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/12793871315092-Is-it-possible-to-disable-datasets,"In Domino 5.3.1 Datasets can be setting ShortLived.FastStartDataSets to FALSE

This setting can be found in the Admin panel under Feature Flags 

Please note that this setting will remove Global Data tabs and Project Data tab along with External Data Volumes and Data Sources."
https://tickets.dominodatalab.com/hc/en-us/articles/10347954034452-javax-net-ssl-SSLException-Unsupported-or-unrecognized-SSL-message,"![](https://tickets.dominodatalab.com/system/photos/5378087245972/headshot3.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/10347954034452-javax-net-ssl-SSLException-Unsupported-or-unrecognized-SSL-message/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

Not version specific

* * *

## **Issue:**

After specifying new SMTP settings for email notifications in Central Config a customer failed to receive any notifications.   To find more detail we triggered a quick job and tailed the nucleus-dispatcher log.  We found an exception occurring.  The ""caused by"" provided a clue:

```
Caused by: javax.net.ssl.SSLException: Unsupported or unrecognized SSL messageat java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411)at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:626)at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:400)at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:238)at com.sun.mail.smtp.SMTPTransport.openServer(SMTPTransport.java:2175)... 22 common frames omitted
```

* * *

## **Root Cause:**

`javax.net.ssl.SSLException: Unsupported or unrecognized SSL message` can occur if protocols are incorrect.   For example if your specify a port that is **NOT** SSL but you chose settings that trying to connect via SSL, this can occur.  It is the equivalent of trying to browse https protocol on a webserver port that is only listening for http protocol.  

* * *

## **Resolution:**

You need to correct either the port or the protocol.   Double-check your values for`com.cerebro.domino.email.smtp.ssl` and `com.cerebro.domino.email.channel` and ensure they're aligned with the mailserver's specifications on the port you've designated. 

For example if your mailserver administrator told you to use port 25 then you probably need `com.cerebro.domino.email.smtp.ssl=false` rather than true since 25 is usually is not SSL-based.

If your mailserver requires TLS then use:  
`com.cerebro.domino.email.smtp.ssl`: false  
`com.cerebro.domino.email.smtp.channel` : starttls  
and your port would likely be 587 (but confirm with your mailserver admin).

* * *

## **Notes/Information:**

Tail dispatcher with timestamps:  
kubectl logs deployment.apps/nucleus-dispatcher -n <your namespace> --container=nucleus-frontend --follow --timestamps=true

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Is it possible to disable datasets?](https://tickets.dominodatalab.com/hc/en-us/articles/12793871315092-Is-it-possible-to-disable-datasets)
*   [After self-upgrading Domino, nucleus backup cronjobs fail with a ""secrets is forbidden"" error](https://tickets.dominodatalab.com/hc/en-us/articles/12929182528788-After-self-upgrading-Domino-nucleus-backup-cronjobs-fail-with-a-secrets-is-forbidden-error)
*   [How to troubleshoot and debug pending backup jobs](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-pending-backup-jobs)
*   [How to restrict project permissions so that only Admins have the ability to share projects and invite collaborators](https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators)
*   [AWS EBS CSI driver for EKS 1.23 does not have to be installed separately when you’re also upgrading Domino to a version between 5.3.x and 5.5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x)

### Related articles

*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTHT3kBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTXH1JpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzNzY3NDk4NDQtQ29uZmlndXJpbmctU01UUC1Ob3RpZmljYXRpb25zLWluLURvbWlubwY7CFQ6CXJhbmtpBg%3D%3D--a4d3e027d4707a39fd04aa3c69150da75ff6d99c)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTXH1JpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBw%3D%3D--24236586e361167780a5868424b7b05b644f2b50)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTXH1JpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpCA%3D%3D--3fa0cc1233c59c5a9d73e3905a1e91add372f972)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTXH1JpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCQ%3D%3D--51f7282ed721f47593530c6e8e719d3690db51e8)
*   [uwsgi: error while loading shared libraries: libpcre.so.1: cannot open shared object file: No such file or directory](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIisIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTXH1JpCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBkC9oYy9lbi11cy9hcnRpY2xlcy8zNjAwNTgwMzk0MzItdXdzZ2ktZXJyb3Itd2hpbGUtbG9hZGluZy1zaGFyZWQtbGlicmFyaWVzLWxpYnBjcmUtc28tMS1jYW5ub3Qtb3Blbi1zaGFyZWQtb2JqZWN0LWZpbGUtTm8tc3VjaC1maWxlLW9yLWRpcmVjdG9yeQY7CFQ6CXJhbmtpCg%3D%3D--291f6e93c171daff70b1f91970fc3167cf25dbc0)"
https://tickets.dominodatalab.com/hc/en-us/articles/8914561163796-What-happens-when-you-restart-services-via-the-UI-after-making-a-Central-Configuration-change,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8914561163796-What-happens-when-you-restart-services-via-the-UI-after-making-a-Central-Configuration-change/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment:**_

This applies to all versions of Domino.

* * *

## **Issue:**

After making a central configuration change, the setting did not get applied immediately.

* * *

## **Resolution:**

When Admins change a [Central Configuration](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/) setting by going to **Admin** > **Advanced** > **Central Configuration**, they must restart services for the change to take effect. Once restarted, the frontend servers are restarted, including the executor, frontend, and dispatcher containers.

![Central_config_-_Click_here_to_restart_services.png](https://tickets.dominodatalab.com/hc/article_attachments/8914205003284)

* * *

## **Notes/Information:**

### When should I restart services to prevent downtime? 

When you restart services on the Admin page, generally, the UI experiences no downtime since the frontend servers are restarted as a ""rolling restart"". This means the pods shut down and restart one at a time so that the UI remains ""up"" and workspaces, runs, syncs, etc remain unaffected. This method prevents service outages and ensures high-availability by always having a pod running. That being said, out of caution, some customers do prefer to do restarts after-hours in case there is a disruption in service. 

### Will the config change be applied to all my projects?

Central config changes may not apply to projects created _prior_ to changing the setting. For example, let’s say you changed the default setting for _**com.cerebro.domino.workspaceAutoShutdown.globalMaximumLifetimeInSeconds**_ from the default 259200 seconds (72 hours) to 28800 seconds (8 hours). Workspaces that were started before the change will not be limited to the new 8-hour setting. If you wish for the new setting to apply, there will be no choice but to recreate the workspace.

### **Notice: Known Issue When Restarting Dispatcher In Versions 5.3 and Later**  

As noted in our latest alerts on: [https://tickets.dominodatalab.com/](https://tickets.dominodatalab.com/)

![Notice Known Issue When Restarting Dispatcher In Versions 5-3 and Later.png](https://tickets.dominodatalab.com/hc/article_attachments/21415891253908)

### References/Internal Records:

*   DOM-48812

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center)

### Related articles

*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRiQJUbCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kG--3c23cd275d245d4496a0a2b63b50e65874114988)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRiQJUbCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--00947d6a6a8d776c5999e98d8e7656825f2000fb)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRiQJUbCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--b2f1c7001c65dc56c4cf56a20626748791f3d011)
*   [Exotic IDE/VNC or Compute Environment Support - why is it not supported?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRdul3ACDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRiQJUbCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJrL2hjL2VuLXVzL2FydGljbGVzLzk2MjIyOTkyMzc3ODAtRXhvdGljLUlERS1WTkMtb3ItQ29tcHV0ZS1FbnZpcm9ubWVudC1TdXBwb3J0LXdoeS1pcy1pdC1ub3Qtc3VwcG9ydGVkBjsIVDoJcmFua2kJ--661e88f5f6d92bbea838f991a157c8dcb8d6961d)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRiQJUbCDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCg%3D%3D--b28f4724b30bb18bb08e547c9b6ec65a3efc37ed)"
https://tickets.dominodatalab.com/hc/en-us/articles/8777410665108-Feature-Flag-ShortLived-EnableUserNotifications-is-exposed-in-Domino-5-0-2-but-has-no-effect,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/8777410665108-Feature-Flag-ShortLived-EnableUserNotifications-is-exposed-in-Domino-5-0-2-but-has-no-effect/subscription.html ""Opens a sign-in dialog"")

#### _**Version:**_

Domino 5.0.2

## **Issue:**

The global feature flag ShortLived.EnableUserNotifications is exposed in Domino v5.0.2 but has no effect.  The new [User Notifications](https://docs.dominodatalab.com/release_notes/5-1-0/#_notifications) system is a 5.1 feature and in 5.0.2 this flag has no effect.  

## **Root Cause:**

The feature flag was accidentally exposed in Domino 5.0.2.

## **Notes/Information:**

The new global User Notification system is on by default in Domino 5.1 and this flag will be set to true by default.  Documentation on this feature is located here:

[https://docs.dominodatalab.com/en/5.1/admin\_guide/ba9786/notifications/](https://docs.dominodatalab.com/en/5.1/admin_guide/ba9786/notifications/)

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/articles/8914561163796-What-happens-when-you-restart-services-via-the-UI-after-making-a-Central-Configuration-change)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center)

### Related articles

*   [Prometheus has amnesia or missing metrics](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTacab7BzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzYwNzEwODAwMDk0OTItUHJvbWV0aGV1cy1oYXMtYW1uZXNpYS1vci1taXNzaW5nLW1ldHJpY3MGOwhUOglyYW5raQY%3D--64c558bbd1f76748c5f6ca69a251ad8ade343be7)"
https://tickets.dominodatalab.com/hc/en-us/articles/6071080009492-Prometheus-has-amnesia-or-missing-metrics,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/6071080009492-Prometheus-has-amnesia-or-missing-metrics/subscription.html ""Opens a sign-in dialog"")

After upgrading to Domino 5, some metrics are lost

I have labels but data is not reaching Prometheus?

It seems that kube-state-metrics has, since v2.0, added an option “--metrics-labels-allowlist” which allows you to whitelist labels for kube-state-metrics to report, with the default not matching the original behavior and instead blacklisting nearly everything.

Bring the labels back by editing the prometheus-kube-state-metrics deployment and add the argument to the arg list:

```
    spec:      containers:      - args:        - --port=8080        - --resources=daemonsets,deployments,endpoints,pods,replicasets,services,statefulsets        - --telemetry-port=8081        - --metric-labels-allowlist=pods=[dominodatalab.com/starting-user-username]
```

You can also specify multiple labels, or specify wildcards, though this will increase resource usage.

### Recently viewed articles

*   [Feature Flag ShortLived.EnableUserNotifications is exposed in Domino 5.0.2 but has no effect](https://tickets.dominodatalab.com/hc/en-us/articles/8777410665108-Feature-Flag-ShortLived-EnableUserNotifications-is-exposed-in-Domino-5-0-2-but-has-no-effect)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/articles/8914561163796-What-happens-when-you-restart-services-via-the-UI-after-making-a-Central-Configuration-change)
*   [Error: “Error getting data” in Control Center](https://tickets.dominodatalab.com/hc/en-us/articles/9995873166740-Error-Error-getting-data-in-Control-Center)

### Related articles

*   [My SAS Workspace is notifying me it has insufficient space](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShDdwxBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ2MTIxOTE3ODkzMzItTXktU0FTLVdvcmtzcGFjZS1pcy1ub3RpZnlpbmctbWUtaXQtaGFzLWluc3VmZmljaWVudC1zcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--b16f90f1782ecdc4b8e97dd5207a5624577680fd)
*   [HTTP/2 web sockets connections cause Chrome to crash](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS8BDEpBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ1NzQ5NjI1NjQxMTYtSFRUUC0yLXdlYi1zb2NrZXRzLWNvbm5lY3Rpb25zLWNhdXNlLUNocm9tZS10by1jcmFzaAY7CFQ6CXJhbmtpBw%3D%3D--ec431cb299d8e75bf569700e2c386cbef6ad235a)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ329nlBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJiL2hjL2VuLXVzL2FydGljbGVzLzUzODUyNDkwNDQzNzItQWRtaW4tQ2VudHJhbC1Db25maWctU2V0dGluZ3MtVXBsb2FkLWZpbGVzLWxhcmdlci10aGFuLTU1ME1CBjsIVDoJcmFua2kI--c80c2593f6e3f43ff8dd472c028f3fb1e2855187)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQk%3D--84e8b7f21b37e7c7d92ba0404214672e04b70f84)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6cLTBDToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ%2FkYiFBToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzE1MTI1NjA3MTAzMTI0LWZhaWxlZC10by1wdWxsLWltYWdlLTYwMjQwMTE0MzQ1Mi1ka3ItZWNyLXVzLWVhc3QtMS1hbWF6b25hd3MtY29tLWVrcy1wYXVzZS0zLTUGOwhUOglyYW5raQo%3D--65ddb12235cee282225dbc5105838280c1117604)"
https://tickets.dominodatalab.com/hc/en-us/articles/5385249044372-Admin-Central-Config-Settings-Upload-files-larger-than-550MB,"Out of the box, Domino limits the size of a file that can be uploaded through the Web UI to 550MB.

_Note: If you are using an on premises or VPC deployment of Domino, this size limit is configurable by your administrator, thus your limit may be different._

Below are the settings in central config to allow uploading of larger files. Please check with your local Domino admin on those settings, or reach out to Domino's Support team. 

com.cerebro.domino.upload.maxUploadFileSizeInMegabytes

and 

play.http.parser.maxDiskBuffer

* * *

If you have questions or need further assistance please [contact](https://tickets.dominodatalab.com/hc/en-us/requests/new) Domino Technical support

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)"
https://tickets.dominodatalab.com/hc/en-us/articles/4574962564116-HTTP-2-web-sockets-connections-cause-Chrome-to-crash,"Known issue upgrading to 4.6.4 or 5.0.2

During a recent investigation, we found that something in a user's network did not cooperate with browsers going directly to Domino 5.0 k8s via DNS RR with HTTP/2 enabled, leading to Chrome exhausting its socket pool. Disabling HTTP/2 fixed the issue (using HTTP 1.1 instead). 

*   **Symptom**:  
    Domino UI slowness, UI hangs, Chromium-based browsers crash
    
*   **Resolution**:  
    Edit the nginx-ingress-controller configmap to set `use-http2` to `false`"
https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [My new central configuration option does not seem to have taken effect.](https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect)
*   [""Failed to create the setting"" error when trying to add a Central Config setting that already exists](https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists)
*   [Why are there SuperUser settings in Central Config?](https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config)
*   [Adding Custom Certificates to Domino - Pre & Post Installation (Configmaps)](https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps)
*   [Adding custom headers to Domino frontend.](https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend)
*   [Can you deploy Domino in any AWS region?](https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region)
*   [AWS EBS CSI driver for EKS 1.23 does not have to be installed separately when you’re also upgrading Domino to a version between 5.3.x and 5.5.x](https://tickets.dominodatalab.com/hc/en-us/articles/15763130641300-AWS-EBS-CSI-driver-for-EKS-1-23-does-not-have-to-be-installed-separately-when-you-re-also-upgrading-Domino-to-a-version-between-5-3-x-and-5-5-x)
*   [Central config setting to prevent users from creating or editing environments](https://tickets.dominodatalab.com/hc/en-us/articles/15713312543764-Central-config-setting-to-prevent-users-from-creating-or-editing-environments)
*   [How to restrict project permissions so that only Admins have the ability to share projects and invite collaborators](https://tickets.dominodatalab.com/hc/en-us/articles/15629939930644-How-to-restrict-project-permissions-so-that-only-Admins-have-the-ability-to-share-projects-and-invite-collaborators)
*   [How to troubleshoot and debug pending backup jobs](https://tickets.dominodatalab.com/hc/en-us/articles/13015290729748-How-to-troubleshoot-and-debug-pending-backup-jobs)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206626-Configuration)

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino/subscription.html ""Opens a sign-in dialog"")

Depending on your version of Domino there are two sets of keys which should be targeted with the values of the SMTP host.

1.  smtp.from, **com.cerebro.domino.email.smtp.from**: This can be any real email address.  
    
2.  smtp.ssl, **com.cerebro.domino.email.smtp.ssl**: Set to ""true"" if using SSL, ""false"" if not  
    
3.  smtp.host, **com.cerebro.domino.email.smtp.host**: The name of the smtp server.  
    
4.  smtp.port, **com.cerebro.domino.email.smtp.port**: This will be port 25 if not using SSL, port 465 if SSL is enabled, and port 587 if STARTTLS is enabled.  
    
5.  Should STARTTLS be required explicitly, i.e on port 25 set:  
    
    **\*com.cerebro.domino.email.smtp.ssl** : false
    
    **\*com.cerebro.domino.email.channel** : starttls
    
6.  smtp.user, **com.cerebro.domino.email.smtp.user**: Can be blank if no username is required for the SMTP host.  
    
7.  smtp.password, **com.cerebro.domino.email.smtp.password**: Can be blank if no password is required for the SMTP host.  
    
8.  email.notificationFromAddress, **com.cerebro.domino.email.notificationFromAddress**: Should be the same as the smtp.from key

After populating these keys, Domino services will need to be restarted as with any Central Configuration change.

This can be done from within the menu at Admin -> Advanced -> Restart Services.

If you encounter an issue after populating these keys, or need further assistance with the configuration, please contact Domino Support.  

### Recently viewed articles

*   [HTTP/2 web sockets connections cause Chrome to crash](https://tickets.dominodatalab.com/hc/en-us/articles/4574962564116-HTTP-2-web-sockets-connections-cause-Chrome-to-crash)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/articles/5385249044372-Admin-Central-Config-Settings-Upload-files-larger-than-550MB)
*   [Prometheus has amnesia or missing metrics](https://tickets.dominodatalab.com/hc/en-us/articles/6071080009492-Prometheus-has-amnesia-or-missing-metrics)
*   [Feature Flag ShortLived.EnableUserNotifications is exposed in Domino 5.0.2 but has no effect](https://tickets.dominodatalab.com/hc/en-us/articles/8777410665108-Feature-Flag-ShortLived-EnableUserNotifications-is-exposed-in-Domino-5-0-2-but-has-no-effect)
*   [What happens when you restart services via the UI after making a Central Configuration change?](https://tickets.dominodatalab.com/hc/en-us/articles/8914561163796-What-happens-when-you-restart-services-via-the-UI-after-making-a-Central-Configuration-change)

### Related articles

*   [Sometimes I see a ""Lost connection with Domino server"" and ""Reconnected to Domino server"" when starting/running a workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTwiUeJCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTHT3kBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85Mzg1NzAzNzY0MTE2LVNvbWV0aW1lcy1JLXNlZS1hLUxvc3QtY29ubmVjdGlvbi13aXRoLURvbWluby1zZXJ2ZXItYW5kLVJlY29ubmVjdGVkLXRvLURvbWluby1zZXJ2ZXItd2hlbi1zdGFydGluZy1ydW5uaW5nLWEtd29ya3NwYWNlBjsIVDoJcmFua2kG--3ab1e1f318917bacda3719eaafa4e49f1b6792be)
*   [Bintray repository fix - E: Failed to fetch https://dl.bintray.com/sbt/debian/InRelease](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRxHDgBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTHT3kBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ4L2hjL2VuLXVzL2FydGljbGVzLzQ0MDMyODI4NjY0NTItQmludHJheS1yZXBvc2l0b3J5LWZpeC1FLUZhaWxlZC10by1mZXRjaC1odHRwcy1kbC1iaW50cmF5LWNvbS1zYnQtZGViaWFuLUluUmVsZWFzZQY7CFQ6CXJhbmtpBw%3D%3D--ccc5270378c63b1fc97be7362a964fed1fe2f4b2)
*   [Publish and Unpublish Apps using Scheduled Jobs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJOeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTHT3kBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDYxMS1QdWJsaXNoLWFuZC1VbnB1Ymxpc2gtQXBwcy11c2luZy1TY2hlZHVsZWQtSm9icwY7CFQ6CXJhbmtpCA%3D%3D--658d6360bbbca8dd20635e654b7462a616a8c26d)
*   [How to add a “Support” button to 4.1.x-4.3.x deployments (if it is missing)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGeYKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTHT3kBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzAzMS1Ib3ctdG8tYWRkLWEtU3VwcG9ydC1idXR0b24tdG8tNC0xLXgtNC0zLXgtZGVwbG95bWVudHMtaWYtaXQtaXMtbWlzc2luZwY7CFQ6CXJhbmtpCQ%3D%3D--d80a00034bea76ec1ee2dae2f13649c3b2883252)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTHT3kBBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQo%3D--bfa3a1f74c3826bdd7bd5934f7010dd629de3725)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058495891-How-to-change-the-timezone-on-your-executors,"![](https://tickets.dominodatalab.com/system/photos/360278014832/IMG_1530.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058495891-How-to-change-the-timezone-on-your-executors/subscription.html ""Opens a sign-in dialog"")

The timezone in your run logs may not match your local timezone. For example, inside of your RStudio notebook, you may notice that it's running on Coordinated Universal Time (UTC) whereas your runs dashboard shows time in Central Time Zone (CT):

[![image.png](https://us.v-cdn.net/6031622/uploads/496/3X7J312ZKJ7J.png)](https://us.v-cdn.net/6031622/uploads/496/3X7J312ZKJ7J.png)

Inside of your Rstudio notebook and Runs dashboard:

[![image.png](https://us.v-cdn.net/6031622/uploads/255/J3NR31XXZZN1.png)](https://us.v-cdn.net/6031622/uploads/255/J3NR31XXZZN1.png)

In order to synchronize this, you will need to add the following lines to the [Dockerfile instructions](https://support.dominodatalab.com/hc/en-us/articles/115000392643-Compute-Environment-Management) for your environment:

#change time zone
env TZ=America/Chicago 
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

This particular example sets the timezone to Central Standard Time on the executor, which will be reflected in your RStudio workspace. [Here’s the full list of locales.](https://www.vmware.com/support/developer/vc-sdk/visdk400pubs/ReferenceGuide/timezone.html)

### Recently viewed articles

*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/articles/360062405091-How-To-Whitelist-an-IP-Address)
*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino)
*   [HTTP/2 web sockets connections cause Chrome to crash](https://tickets.dominodatalab.com/hc/en-us/articles/4574962564116-HTTP-2-web-sockets-connections-cause-Chrome-to-crash)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/articles/5385249044372-Admin-Central-Config-Settings-Upload-files-larger-than-550MB)
*   [Prometheus has amnesia or missing metrics](https://tickets.dominodatalab.com/hc/en-us/articles/6071080009492-Prometheus-has-amnesia-or-missing-metrics)

### Related articles

*   [Changing the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIcxrNFTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJOjKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJML2hjL2VuLXVzL2FydGljbGVzLzM2MDAwMDAwODU4My1DaGFuZ2luZy10aGUtdGltZXpvbmUtb24teW91ci1leGVjdXRvcnMGOwhUOglyYW5raQY%3D--82f49ff7056fd71510454ae1a8f4da80e7c1d665)
*   [Overhead for Spark Workers (Executors)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBCsIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJOjKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODAzOTMxMi1PdmVyaGVhZC1mb3ItU3BhcmstV29ya2Vycy1FeGVjdXRvcnMGOwhUOglyYW5raQc%3D--350fbf7407cab207f1d3cf3cee9aaacaeabb96f4)
*   [I cannot install the pywin32 package on Domino using pip install](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQCsOZqDjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJOjKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJnL2hjL2VuLXVzL2FydGljbGVzLzE1ODUyMjk5NjE2OTE2LUktY2Fubm90LWluc3RhbGwtdGhlLXB5d2luMzItcGFja2FnZS1vbi1Eb21pbm8tdXNpbmctcGlwLWluc3RhbGwGOwhUOglyYW5raQg%3D--89c9b370db8592ebbb91acc2545f4ea973ffb9b4)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058498091-Hiding-the-Support-button,"## Hiding the Support button

![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058498091-Hiding-the-Support-button/subscription.html ""Opens a sign-in dialog"")

Submitted originally by: katie.shakman_**  
Version/Environment :**_

Domino 4.x, 5.x

* * *

## **  
Issue:**

In some cases, the Support button can cover up elements that the user needs to see or interact with, and they will ask Domino to move or hide the Support button.

* * *

## **Root Cause:**

By default, we display a Support button in the Domino software's lower right-hand corner of every screen.

[![Screen Shot 2019-03-29 at 12.17.25 PM.png](https://us.v-cdn.net/6031622/uploads/374/WGAAUCUC37C8.png)](https://us.v-cdn.net/6031622/uploads/374/WGAAUCUC37C8.png)

![6a9ae0d2-ea2a-42ff-9473-eb12973b39bd.png](https://tickets.dominodatalab.com/hc/article_attachments/16725626506772)

* * *

## **Resolution:**

Currently, we have a way to hide the button for everyone who uses a particular Domino deployment/domain, but not for individuals. If needed, we can hide the button for all users -- this decision would be made by the Domino admin for that deployment and implemented by the Domino support team.

This is located on the **Admin > Advanced > Central Config** page. The flag that controls this functionality is:

com.cerebro.domino.frontend.analytics.intercom

Setting it to **false** will remove the widget from Domino.

**Note:** This will disable the ability to open a ticket through the Support button for all users.

* * *

### **References/Internal Records:**

*   DOM-26265

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png) 

### Recently viewed articles

*   [How to change the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/articles/360058495891-How-to-change-the-timezone-on-your-executors)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/articles/360062405091-How-To-Whitelist-an-IP-Address)
*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino)
*   [HTTP/2 web sockets connections cause Chrome to crash](https://tickets.dominodatalab.com/hc/en-us/articles/4574962564116-HTTP-2-web-sockets-connections-cause-Chrome-to-crash)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/articles/5385249044372-Admin-Central-Config-Settings-Upload-files-larger-than-550MB)

### Related articles

*   [How to add a “Support” button to 4.1.x-4.3.x deployments (if it is missing)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGeYKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCusKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzAzMS1Ib3ctdG8tYWRkLWEtU3VwcG9ydC1idXR0b24tdG8tNC0xLXgtNC0zLXgtZGVwbG95bWVudHMtaWYtaXQtaXMtbWlzc2luZwY7CFQ6CXJhbmtpBg%3D%3D--877ec3ff933d2724d6f6b830803f01c8d504346c)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058493031-How-to-add-a-Support-button-to-4-1-x-4-3-x-deployments-if-it-is-missing,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058493031-How-to-add-a-Support-button-to-4-1-x-4-3-x-deployments-if-it-is-missing/subscription.html ""Opens a sign-in dialog"")

The “Support” button that was previously present in the Domino UI is currently unavailable in 4.x deployments (from 4.1.x to 4.3.x). Domino’s Engineering team is aware that the button is unavailable in these versions, and is planning to re-introduce the button in an upcoming release of 4.x. 

In the meantime, an interim solution is available (described below). Like the default behavior in previous versions, it enables a “Support” button on the right side of the screen of any page of the Domino UI, and will allow you to contact Domino Support directly from the application. However, this button sends ticket submissions to our Support team via email (unlike the official solution, which creates tickets via a web form).

**Requirement:** To use the button created via the interim solution described below, users must have a default email client configured for their browser. 

**TIP**: If users need a web-based default email client (instead of a desktop mail client), Google Chrome can be configured to handle email directly by following these instructions: [https://support.google.com/a/users/answer/9308783?hl=en](https://support.google.com/a/users/answer/9308783?hl=en).

This interim fix involves configuring the Support button in the UI via the Central Config options and a JSON snippet. It can be applied by following these steps:

1) Within the Domino app, go to Admin (lower left menu) -> Advanced -> Central Config 

2) Check if the parameter “**com.cerebro.domino.whitelabel.jsonConfig**” already exists in your list of parameters

3) If it does not exist, _add the new parameter_ by clicking the “Add Record” button in the top right of the screen 

4) Select a visibility option for the button in the left column ([common, instance, or role](https://admin.dominodatalab.com/en/4.3.3/configuration/Central_configuration.html?highlight=central%20config)). 

5) The second column should be blank

6) Please make sure the correct parameter name appears in the third column: “**com.cerebro.domino.whitelabel.jsonConfig**”

7) In the fourth column, set the value to the following JSON-formatted text:

    { 
       ""showSupportButton"": true, 
       ""supportEmail"": ""support@dominodatalab.com"", 
       ""errorPageContactEmail"": ""support@dominodatalab.com""
    }

8) Please restart Domino (any change in Central Config requires restarting Domino). You will see a link at the top of the Central Config screen (see Click here to restart services.) 

9) To complete the restart, you will be prompted to enter a brief “motive” (text). Then, click the “Restart Services” link.

10) After your restart is complete, the Support button will be displayed on the lower right portion of your Domino UI pages.

If you have any questions about this process, please contact Domino Support at [support@dominodatalab.com](mailto:support@dominodatalab.com).

### Recently viewed articles

*   [Hiding the Support button](https://tickets.dominodatalab.com/hc/en-us/articles/360058498091-Hiding-the-Support-button)
*   [How to change the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/articles/360058495891-How-to-change-the-timezone-on-your-executors)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/articles/360062405091-How-To-Whitelist-an-IP-Address)
*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino)
*   [HTTP/2 web sockets connections cause Chrome to crash](https://tickets.dominodatalab.com/hc/en-us/articles/4574962564116-HTTP-2-web-sockets-connections-cause-Chrome-to-crash)

### Related articles

*   [Spring4Shell framework vulnerability (CVE-2022-22965)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSgT62fBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzcyODI4NzcyNDM0MTItU3ByaW5nNFNoZWxsLWZyYW1ld29yay12dWxuZXJhYmlsaXR5LUNWRS0yMDIyLTIyOTY1BjsIVDoJcmFua2kG--934042150ece84b930ae15a67f8274a8f6c3772f)
*   [""errmsg"" : ""not master"" while submitting mongodb commands](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSAEsDYBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzY0Mjg0OTM1MTI4NTItLWVycm1zZy1ub3QtbWFzdGVyLXdoaWxlLXN1Ym1pdHRpbmctbW9uZ29kYi1jb21tYW5kcwY7CFQ6CXJhbmtpBw%3D%3D--f98baaa86d0426f73a780df52d48d895c0ff9c07)
*   [Project clone succeeds but creates error, ""Your metadata headers exceed the maximum allowed metadata size""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjMPMABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBiC9oYy9lbi11cy9hcnRpY2xlcy80NDAyMTI2NTYyMDY4LVByb2plY3QtY2xvbmUtc3VjY2VlZHMtYnV0LWNyZWF0ZXMtZXJyb3ItWW91ci1tZXRhZGF0YS1oZWFkZXJzLWV4Y2VlZC10aGUtbWF4aW11bS1hbGxvd2VkLW1ldGFkYXRhLXNpemUGOwhUOglyYW5raQg%3D--16714fed93832bb111127f71e4a5ab207aa2e973)
*   [Scope of Support Coverage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwIONVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1OTUwNDY1Mi1TY29wZS1vZi1TdXBwb3J0LUNvdmVyYWdlBjsIVDoJcmFua2kJ--e7a1e720894ee27ff728bab21d54a72cd67bd9fc)
*   [lookup failures 'mongodb-replicaset on 10.85.0.10:53: no such host'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRe96kFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCGeYKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJmL2hjL2VuLXVzL2FydGljbGVzLzc3MjA5MDc3OTIwMjAtbG9va3VwLWZhaWx1cmVzLW1vbmdvZGItcmVwbGljYXNldC1vbi0xMC04NS0wLTEwLTUzLW5vLXN1Y2gtaG9zdAY7CFQ6CXJhbmtpCg%3D%3D--163ba9b43335416d0b9d0c041c46f74326af49cb)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058039312-Overhead-for-Spark-Workers-Executors,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058039312-Overhead-for-Spark-Workers-Executors/subscription.html ""Opens a sign-in dialog"")

In Domino 4.x, users can specify [on-demand Spark](https://docs.dominodatalab.com/en/latest/reference/spark/on_demand_spark/On_demand_spark_overview.html) clusters to be launched along with their interactive workspace. The Spark worker pods (also called executors) will have some additional overhead beyond that of regular Domino run pods, and this needs to be accounted for when admins are setting up hardware tiers that will be used with on-demand Spark.

**Memory overhead for Spark workers:**

The overhead defaults are a minimum of 384MiB memory overhead + 10% recommended additional overhead. The memory overhead is configurable by admins using Central Configuration (CC or Central Config) settings:

`com.cerebro.domino.workbench.onDemandSpark.worker.memoryOverheadFactor` (default: 0.1)

`com.cerebro.domino.workbench.onDemandSpark.worker.memoryOverheadMinMiB` (default: 384)

[https://docs.dominodatalab.com/en/latest/reference/spark/on\_demand\_spark/Working\_with\_your\_cluster.html#resource-overhead](https://docs.dominodatalab.com/en/latest/user_guide/f11f6a/work-with-your-cluster/#_resource_overhead)

**CPU overhead for Spark workers:**

There should not be any CPU overhead for Spark workers. However, keep in mind that the requested CPU will be rounded up to the next integer.

### Recently viewed articles

*   [How to add a “Support” button to 4.1.x-4.3.x deployments (if it is missing)](https://tickets.dominodatalab.com/hc/en-us/articles/360058493031-How-to-add-a-Support-button-to-4-1-x-4-3-x-deployments-if-it-is-missing)
*   [Hiding the Support button](https://tickets.dominodatalab.com/hc/en-us/articles/360058498091-Hiding-the-Support-button)
*   [How to change the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/articles/360058495891-How-to-change-the-timezone-on-your-executors)
*   [How To Whitelist an IP Address](https://tickets.dominodatalab.com/hc/en-us/articles/360062405091-How-To-Whitelist-an-IP-Address)
*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino)

### Related articles

*   [Connecting Glue Catalog to Domino for use with On Demand Spark](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCISwIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDQ1Mi1Db25uZWN0aW5nLUdsdWUtQ2F0YWxvZy10by1Eb21pbm8tZm9yLXVzZS13aXRoLU9uLURlbWFuZC1TcGFyawY7CFQ6CXJhbmtpBg%3D%3D--9a37cf687b7214c41392a8f5378e1ee4ae1d3d1c)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kH--f7b0999934b4264d58ea91c44461c8bb3680f915)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--0f2f8befe8e323ec677cca9da9ae7d06b454a67f)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQk%3D--a878cc13e6ecd4d8aae85d60bf08d84ad395d92a)
*   [Connecting to Bitbucket](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTtj0RyBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBCsIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzcwODc4NDYzMjE1NTYtQ29ubmVjdGluZy10by1CaXRidWNrZXQGOwhUOglyYW5raQo%3D--44f721b88076ab3998125bdf47578c6eb8606291)"
https://tickets.dominodatalab.com/hc/en-us/articles/360033046152-How-to-check-your-version-of-Domino,"Any user can look up the details of their Domino version by going to: <your domino url>/version. For example, a deployment running 5.1.2 might display: 

![domino_version.JPG](https://tickets.dominodatalab.com/hc/article_attachments/12128674289300)

Beginning with Domino 5.3.0, the Domino version is also visible in the bottom-left of the UI:

![domino_version_ui.png](https://tickets.dominodatalab.com/hc/article_attachments/12128900651156)

To learn more about the features in your release, you can consult the Domino [release notes](https://docs.dominodatalab.com/release_notes/)."
https://tickets.dominodatalab.com/hc/en-us/articles/360028266051-Change-the-default-project-for-new-users,"![](https://tickets.dominodatalab.com/system/photos/360012766666/Screen_Shot_2018-03-05_at_11.41.41_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360028266051-Change-the-default-project-for-new-users/subscription.html ""Opens a sign-in dialog"")

#### **Overview**

* * *

By default, every new user in Domino is the owner of a `quick-start` project. This project is created when the user signs up, and it contains many useful sample files that show how to take advantage of Domino features, plus a detailed README.

![Screen_Shot_2019-05-11_at_10.53.46_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/360028240111/Screen_Shot_2019-05-11_at_10.53.46_AM.png)

In Domino 3.4.5+, it is possible to replace the default `quick-start` with one or more customized new-user default projects.

**Prerequisites**

*   Domino 3.4.5+

#### **Setting custom new-user default projects**

* * *

First, create the projects that you want all new users to own a copy of upon signup. These projects should have names, descriptions, and READMEs that make it clear to new users what they'll find in the project. These projects can be owned by any user.

Record the username and project name paths for these projects. For example:

admin-user/getting-started-project
admin-user/sample-app-project

Note that the name of the project will be reproduced for new users. If you set the example projects above as default projects, all new users will own copies at:

new-username/getting-started-project
new-username/sample-app-project

Once your projects are ready for use by new users, set the following central configuration option.

**Namespace**: `common`  
**Key**: `com.cerebro.domino.frontend.overrideDefaultProject`  
**Value**: string of comma separated project paths

For the examples shown above, the value of this setting would be:  
`admin-user/getting-started-project, admin-user/sample-app-project`

![Screen_Shot_2019-05-11_at_11.17.18_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/360028240291/Screen_Shot_2019-05-11_at_11.17.18_AM.png)

### Recently viewed articles

*   [How to check your version of Domino](https://tickets.dominodatalab.com/hc/en-us/articles/360033046152-How-to-check-your-version-of-Domino)
*   [Overhead for Spark Workers (Executors)](https://tickets.dominodatalab.com/hc/en-us/articles/360058039312-Overhead-for-Spark-Workers-Executors)
*   [How to add a “Support” button to 4.1.x-4.3.x deployments (if it is missing)](https://tickets.dominodatalab.com/hc/en-us/articles/360058493031-How-to-add-a-Support-button-to-4-1-x-4-3-x-deployments-if-it-is-missing)
*   [Hiding the Support button](https://tickets.dominodatalab.com/hc/en-us/articles/360058498091-Hiding-the-Support-button)
*   [How to change the timezone on your executors](https://tickets.dominodatalab.com/hc/en-us/articles/360058495891-How-to-change-the-timezone-on-your-executors)

### Related articles

*   [Feature flags](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCH%2BlosYaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCENeW9NTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIyL2hjL2VuLXVzL2FydGljbGVzLzExNTAwMTY5NzY2My1GZWF0dXJlLWZsYWdzBjsIVDoJcmFua2kG--a65e53da791edae75b4be1fb3e7e19c32d3297bf)
*   [Diagnosing a stuck queue](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMsRi8YaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCENeW9NTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzExNTAwMDE1MjUyMy1EaWFnbm9zaW5nLWEtc3R1Y2stcXVldWUGOwhUOglyYW5raQc%3D--7d66774333ab2e45db4f29b6f349b629dfca8d7c)"
https://tickets.dominodatalab.com/hc/en-us/articles/19903455705876-Removing-User-Two-Factor-Authentication/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19903455705876-Removing-User-Two-Factor-Authentication&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSNiU0HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ7aCIaEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJWL2hjL2VuLXVzL2FydGljbGVzLzY2Mjg0MzUzOTgwMzYtaHRvcC1JbnRlcmFjdGl2ZS1Qcm9jZXNzLVZpZXdlci1BLWJyaWVmLW92ZXJ2aWV3BjsIVDoJcmFua2kJ--d4206901b39f71acc84957c55d0820c0a6adeb7f,"htop is a sophisticated terminal-based system monitoring tool that displays statistics on various system processes and their resource usage in a human-readable, color-coded, and simple-to-use style. htop is a substitute for, or rather a complement to, the well-known, tried-and-true ""top,"" adding features like mouse support, direct process termination, whilst providing a more human-readable output. It allows admins to monitor system processes as well as their entire command lines to determine the cause of load by each process

## Installation

htop is easy to install because it is available in most major distributions' standard repositories, its as simple to install as: 

_On any Debian based derivative:_ 

sudo apt-get install htop –y 

 _On any Redhat based derivative:_ 

sudo yum install htop –y 

## How does one run htop? 

Simple, just type in _htop_ and hit enter. 

## The user interface explained

There are four sections to the user interface. 

*   You receive bar-like interactive gauges that you may customise in section (1).
*   A fast overview of running tasks, load average, and uptime in section (2).
*   A thorough view of running processes in section (3).
*   A quick list of the most frequent keyboard shortcuts, which you can access with a mouse in section (4). 

![Screenshot_2022-05-28_at_18.55.37.png](https://tickets.dominodatalab.com/hc/article_attachments/6628193619988)

## What does it all mean? 

#### Section 1: Processors and Memory 

CPU and memory resources are displayed here. In this example we can see that this is a 4 core server by looking at the numbers 0 through 3. A five-core will have five bars, a six-core will have 6 bars, and so forth. One CPU is represented by each number/bar. On the right-hand side of each bar is a percentage that indicates how much CPU is being used. 

![Screenshot_2022-05-30_at_09.50.21.png](https://tickets.dominodatalab.com/hc/article_attachments/6628179938324)

Colour coding is used to categorise CPU utilisation by processes: 

*   **Blue:** The % of CPU used by low priority processes 
*   **Green:** The % of CPU used for user processes 
*   **Red:** The % of CPU used by system/kernel processes 
*   **Yellow/Orange:** The % of CPU used by IRQ time 
*   **Magenta:** The % of CPU used by Soft IRQ time
*   **Grey:** The % of CPU by IO Wait time 
*   **Cyan:** The % of CPU by Steal 

What we want to identify is how busy the CPU/s are. The bars in this scenario are generally empty, indicating that the CPU is mostly idle. Generally, the more CPU you utilise, the busier your system becomes, affecting the overall performance of your server. 

High CPU usage is not really indicative of an issue, yet continuously high CPU usage is something that merits attention.

#### RAM AND SWAP UTILISATION 

This section displays information on the system's memory use. We have RAM and Swap - Swap is a component of your hard drive that your server uses similarly to RAM. You can clearly see that only   383MB of RAM is being utilised in this scenario. 

  usage is displayed by colors:  

**Green**: Used memory pages 

**Blue**: Buffer pages 

**Yellow**: Cache pages 

If you run out of RAM, you can fall back on swap space. High swap and RAM use will have an impact on your system's capacity to handle tasks effectively, leading to poor overall performance. Per this scenario, you can see I have 0 swap space set up denoted by 0K/0K. 

## Section 2 – Processes & Load Average 

Processes are essentially tasks, as you can see there are 33 processes in total, with 1 presently running. 18 ""thr"" here stands for ""threads."" So we have 33 processes that are divided into 18 threads. 

![Screenshot_2022-05-30_at_09.50.36.png](https://tickets.dominodatalab.com/hc/article_attachments/6628097466900)

Load average / (proc\_q\_length) , is the average system load calculated over one, five, and fifteen minutes, denoted by the numbers ‘0.14’, ‘0.07’ and ‘0.04’ in this example.  A general rule of thumb on measuring, if your server is under high load is to use a formula like ‘4 x CPUCores’, if the number returned exceeds what you’re seeing as per the load average, then this merits an investigation. High CPU load is a more indicative of an issue present on a server then high CPU usage.  Other tools such as 'sysstat' do a great job of collating these stats. 

Server uptime is also presented in this section and displays how long the server has been up. 

## Section 3 – Process Information  

If you're noticing a lot of resource utilisation, we need to look at the processes to determine what's causing it. The active process list is shown below: 

![Screenshot_2022-05-30_at_09.50.54.png](https://tickets.dominodatalab.com/hc/article_attachments/6628129287444)

Per the man page for htop, the columns displayed by default should be read as follows: 

*   **PID**: The process ID. 
*   **USER**: The username of the process owner or the user ID if the name can’t be determined. 
*   **PRI**: The kernels internal priority for the process, usually just its NI value plus twenty. Different for real-time processes.
*   **NI**: The nice value of a process, from 19 (low priority) to -20 (high priority). A high value means the process is being nice, letting others have a higher relative priority. Only root can lower the value. 
*   **VIRT**: Size in memory of the total program size. 
*   **RES**: The resident set size, i.e. the size of the text and data sections, plus stack usage. 
*   **SHR**: The size of the process’s shared pages. 
*   **S**: The state of the process. 
    *   **S**: for sleeping (idle) 
    *   **R**: for running 
    *   **D**: for disk sleep (uninterruptible) 
    *   **Z**: for zombie (waiting for parent to read its exit status) 
    *   **T**: for traced or suspended (e.g by SIGTSTP)
    *   **W**: for paging 
*   **CPU%**: The percentage of the CPU time that the process is currently using. 
*   **MEM%**: The percentage of memory the process is currently using (based on the process’s resident memory size, see M\_RESIDENT below). 
*   **TIME+**: The time, measured in clock ticks that the process has spent in user and system time (see UTIME, STIME above). 
*   **Command**: Full path of the command. 

## SECTION 4 - Shortcuts for the keyboard 

Aside from its configurability, the main strength of htop rests in its many features, which are available via shortkeys. The shortcuts at the bottom are all self-explanatory, configurable and mouse clickable. 

![Screenshot_2022-05-30_at_09.51.29.png](https://tickets.dominodatalab.com/hc/article_attachments/6628168761492)

There is no doubt that htop is one of the finest process managers. This article should have helped you grasp the basics of htop, for further in depth detail and information on htop, its configurability, flags etc I’ll refer you to the _man (manual)_ page and the developers website: [https://htop.dev/](https://htop.dev/) 

man htop"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4404040244116-My-new-central-configuration-option-does-not-seem-to-have-taken-effect/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F23145955128468-Domino-MongoDB-service-scale-down-and-remove-replication-member-from-Replica-Set,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F22484849953684-Old-PVC-with-Pending-status&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/22484849953684-Old-PVC-with-Pending-status/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F22484849953684-Old-PVC-with-Pending-status,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRmh4K9CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQzkMFbDToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfS9oYy9lbi11cy9hcnRpY2xlcy85NjEwMDMxNzUyNzI0LUVycm9yLVdvcmtzcGFjZS1jb3VsZC1ub3QtYmUtc3RhcnRlZC1Zb3VyLXJvbGUtZG9lcy1ub3QtYXV0aG9yaXplLXlvdS10by1wZXJmb3JtLXRoaXMtYWN0aW9uBjsIVDoJcmFua2kJ--04cc2c91a8d50a82233b1d548c4d1c75f1541ffd,"![](https://tickets.dominodatalab.com/system/photos/8051557505940/viv-871kb.JPG)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9610031752724-Error-Workspace-could-not-be-started-Your-role-does-not-authorize-you-to-perform-this-action/subscription.html ""Opens a sign-in dialog"")

#### _**Version/Environment (if relevant):**_

This applies to all versions of Domino.

* * *

## **Issue:**

You run into this error when trying to create new workspaces or launch existing workspaces: 

Workspace could not be started. Your role does not authorize you to perform this action

![Workspace_could_not_be_started_Your_role_does_not_authorize_you_to_perform_this_action.png](https://tickets.dominodatalab.com/hc/article_attachments/9609926708244)

* * *

## **Root Cause:**

This error is related to a lack of permissions and usually occurs when a user has not been assigned a Practitioner role in Domino. This is the role required to perform [Workspace actions](https://docs.dominodatalab.com/en/latest/admin_guide/2611b7/roles/#_workspace_actions) as described in our [Roles documentation](https://admin.dominodatalab.com/en/latest/admin_guide/2611b7/roles/#tr8.sysadmin):

![Roles - Workspace Actions.png](https://tickets.dominodatalab.com/hc/article_attachments/24350038341524)

A user might also run into this error if it’s the first time they are accessing Domino or if it's been a long time since they last accessed Domino. 

* * *

## **Resolution:**

Please reach out to your Domino admins and request a [Domino account that's configured with the correct role](https://admin.dominodatalab.com/en/latest/admin_guide/2611b7/roles/), e.g. a Practitioner role.

* * *

![DOMINO SUPPORT Help Center home page](https://theme.zdassets.com/theme_assets/365104/bcc12b7b04cda121fcc91342a5cfd91d380b3414.png)

### Recently viewed articles

*   [Running D-tale in Jupyter notebook](https://tickets.dominodatalab.com/hc/en-us/articles/9921535835156-Running-D-tale-in-Jupyter-notebook)
*   [SSO SAML, Okta, LDAP, ADFS Authentication with Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/articles/360058493851-How-to-Troubleshoot-Autoscaling-ASG-Issues)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [Can I upgrade my Environment to Python 3.10?](https://tickets.dominodatalab.com/hc/en-us/articles/19423266573588-Can-I-upgrade-my-Environment-to-Python-3-10)

### Related articles

*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ%2B9hIVCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmh4K9CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ1L2hjL2VuLXVzL2FydGljbGVzLzk5ODYxMTcwOTA5NjQtRXJyb3ItQXV0aGVudGljYXRpb24taXMtcmVxdWlyZWQtYnV0LW5vLUNyZWRlbnRpYWxzUHJvdmlkZXItaGFzLWJlZW4tcmVnaXN0ZXJlZAY7CFQ6CXJhbmtpBg%3D%3D--d43228756bb6f8a58bbcc1cd0090f43c7c0adde8)
*   [User is logged out automatically after logging in or accessing their project](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTVmamxCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmh4K9CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzk1NTkxNDc2NjQ2NjAtVXNlci1pcy1sb2dnZWQtb3V0LWF1dG9tYXRpY2FsbHktYWZ0ZXItbG9nZ2luZy1pbi1vci1hY2Nlc3NpbmctdGhlaXItcHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--652e3aa72d5dc2deca055e947204c3804df545fc)
*   [Error adding Azure devops git repository | Cannot access Git repository with URI](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRyhJLSBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmh4K9CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ0L2hjL2VuLXVzL2FydGljbGVzLzg2MDA5ODI2ODAyMTItRXJyb3ItYWRkaW5nLUF6dXJlLWRldm9wcy1naXQtcmVwb3NpdG9yeS1DYW5ub3QtYWNjZXNzLUdpdC1yZXBvc2l0b3J5LXdpdGgtVVJJBjsIVDoJcmFua2kI--5e5afdda1adfa25aced11b16a1e9c0bb73030981)
*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmh4K9CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kJ--4e310e6997310ba8066ff2ba98c64db41e21e4f1)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRmh4K9CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--81eccfefdf722cae3ccc7b1dca5ed61c65bfe787)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F9610031752724-Error-Workspace-could-not-be-started-Your-role-does-not-authorize-you-to-perform-this-action) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F14687740638100-UI-503-errors-and-Keycloak-API-errors-due-to-Keycloak-s-default-memory-settings-being-insufficient,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F21409444102676--Failed-to-create-the-setting-error-when-trying-to-add-a-Central-Config-setting-that-already-exists,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F10544348106388-Keycloak-Recommended-settings-for-session-and-token-timeouts,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTQ6801CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRSO9h%2BEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBqi9oYy9lbi11cy9hcnRpY2xlcy85MDI3MTgxMDcyNTMyLVJlcGxpY2F0b3ItZXJyb3Itd2hlbi1idWlsZGluZy1Nb2RlbC1BUEktNTAwLUludGVybmFsLVNlcnZlci1FcnJvci1Vbmtub3duLWVycm9yLWNhdXNlZC1ieS1qYXZhLWlvLUlPRXhjZXB0aW9uLVVuYWJsZS10by1kZWxldGUtZGlyZWN0b3J5BjsIVDoJcmFua2kJ--96710ccbe9dfd0d9db9d2110a4764adce9b4ecde,"![](https://secure.gravatar.com/avatar/a2b001af0834d974d2d6e9781c5f188b?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9027181072532-Replicator-error-when-building-Model-API-500-Internal-Server-Error-Unknown-error-caused-by-java-io-IOException-Unable-to-delete-directory/subscription.html ""Opens a sign-in dialog"")

**Version:**

All Domino Versions

**Issue:**

User attempts to publish a new Model API version and gets an error in the Model build logs:

`500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory /domino/shared/replicatorStorage/cached/ <directory>`

**Root Cause**

This has occurred during upgrades between Domino versions, this error crops up when a git repository exists pre-upgrade, which caches a directory on the replicator pod and the new version of Model API being published with the same repository is configured slightly differently post-upgrade

**Resolution**

Quite simple, log on to the replicator pod and navigate to the directory in question '/domino/shared/replicatorStorage/cached/ <directory>'. You can then rename the directory or move it to another directory and republish the Model.

**Notes**

If this does not resolve the issue, then please get in touch with Domino support and ensure that you submit the Model logs by selecting the Model > Select the Version Tab > Select the Build and Instance logs of the model you're having trouble with.

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/9027173347732)

### Recently viewed articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/articles/9151903649812-500-and-400-errors-due-to-com-bettercloud-vault-VaultException-using-K8s-1-21-on-Domino-4-6-x-5-x-up-to-5-2-2-and-5-3-0)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)
*   [Configuring SMTP Notifications in Domino](https://tickets.dominodatalab.com/hc/en-us/articles/4404376749844-Configuring-SMTP-Notifications-in-Domino)
*   [CLI: How to download output files from a job into your local machine via the Domino CLI](https://tickets.dominodatalab.com/hc/en-us/articles/10548188472724-CLI-How-to-download-output-files-from-a-job-into-your-local-machine-via-the-Domino-CLI)
*   [Error: “Authentication is required but no CredentialsProvider has been registered”](https://tickets.dominodatalab.com/hc/en-us/articles/9986117090964-Error-Authentication-is-required-but-no-CredentialsProvider-has-been-registered)

### Related articles

*   [Model APIs: New builds fail with ""Error during image build and push: timed out waiting for replicator to prepare resources""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR1hq%2BACToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQ6801CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmS9oYy9lbi11cy9hcnRpY2xlcy8xMDQ0ODMwNTI4ODU5Ni1Nb2RlbC1BUElzLU5ldy1idWlsZHMtZmFpbC13aXRoLUVycm9yLWR1cmluZy1pbWFnZS1idWlsZC1hbmQtcHVzaC10aW1lZC1vdXQtd2FpdGluZy1mb3ItcmVwbGljYXRvci10by1wcmVwYXJlLXJlc291cmNlcwY7CFQ6CXJhbmtpBg%3D%3D--ba975f3196f4f1fd93c156e2808262d6613d5c7c)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQ6801CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQc%3D--fd1411e8393b96cf18272f705d5d66146791336f)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQ6801CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--57fc6febb318596fd165a150f5fffde67066dcd1)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQ6801CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kJ--190020518a6013c65084c3eca310cc1a00076842)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTQ6801CDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpCg%3D%3D--c9f22124f4fc64ec085e3b2d58115785d662cfdd)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20336002945684-Adding-Custom-Certificates-to-Domino-Pre-Post-Installation-Configmaps,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20789708965524-Why-are-there-SuperUser-settings-in-Central-Config&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCD%2BhTNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTGN3voEjoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDg1NDU5MS1SU3R1ZGlvLTEtNC14LWluLURvbWluby1UZW1wb3Jhcnktc29sdXRpb24GOwhUOglyYW5raQg%3D--380b9ac7a87eb0ed962f4d09d5616a36fb9c346d,"![](https://tickets.dominodatalab.com/system/photos/360145430912/avatar-1543886561.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060854591-RStudio-1-4-x-in-Domino-Temporary-solution/subscription.html ""Opens a sign-in dialog"")

This article demonstrates how to upgrade RStudio to version 1.4.x in Domino Analytics Distribution (DAD) environments that come with an older version of RStudio. **Please note that many of our newer Domino Standard Environments already come with RStudio version 1.4+.** Unless you have a specific need to use an older image and upgrade RStudio, we recommend simply choosing a newer base image. You can check out the latest offerings in our [Compute Environment Catalog](https://docs.dominodatalab.com/en/latest/user_guide/71a047/tech-ecosystem/#compute-environment-catalog) (be sure to check the dropdown for your Domino version).

### To upgrade RStudio to 1.4.x in older images

The following has a Dockerfile component, a Pluggable Workspace and a PreRun script which should Build against a DAD image.

Please read carefully that there is a difference in implementing this on 4.2/4.3 and 4.4.X (more stuff needed on 4.2.2 configMaps). This should also work on Domino 4.6.X and 5.0.X (this needs no configMap changes on 5.0.0!!!)

This is a draft version of the updates needed, and you may already have built some of the needed parts.

Dockerfile build this with DAD image as base (and yes, some redundancy going on):

\# Cleanup old rstudio-server  
RUN apt install -y gnupg  
RUN apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9  
RUN apt-get remove rstudio-server -y && \\  
rm -rf /usr/local/lib/rstudio-server && \\  
rm /usr/local/bin/pandoc && \\  
rm /usr/local/bin/pandoc-citeproc  
\# Install rstudio-server 1.4  
RUN mkdir -p /tmp/rstudio-temp && \\  
cd /tmp/rstudio-temp && \\  
wget https://download2.rstudio.org/server/bionic/amd64/rstudio-server-1.4.1103-amd64.deb && \\  
\# (https://download2.rstudio.org/server/bionic/amd64/rstudio-server-1.4.1103-amd64.deb) && \\  
gdebi --non-interactive rstudio-server-1.4.1103-amd64.deb && \\  
ln -s /usr/lib/rstudio-server /usr/local/lib/rstudio-server  
RUN cd ~ && \\  
rm -rf /tmp/rstudio-temp && \\  
#Make rmarkdown::render work outside of rstudio. https://github.com/rstudio/rmarkdown/blob/master/PANDOC.md  
ln -s /usr/lib/rstudio-server/bin/pandoc/pandoc /usr/local/bin && \\  
ln -s /usr/lib/rstudio-server/bin/pandoc/pandoc-citeproc /usr/local/bin && \\  
rm -rf /var/lib/apt/lists/\*  
RUN echo ""export DISABLE\_AUTH=true"" > /home/ubuntu/.bashrc  
RUN echo ""export DISABLE\_AUTH=true"" > /etc/profile.d/rstudio.conf  
RUN chown -R ubuntu /var/lib/rstudio-server && rm -rf /tmp/rstudio-server && chown -R ubuntu /usr/lib/rstudio-server  
\# Version 1  
RUN echo ""export DISABLE\_AUTH=true"" > /etc/rc.local.script && \\  
 echo ""/usr/lib/rstudio-server/bin/rserver --server-data-dir=/home/ubuntu/rstudio-server --server-daemonize=0 --auth-none=1"" >> /etc/rc.local.script  
RUN echo ""www-port=8888"" >> /etc/rstudio/rserver.conf  
RUN sudo chown -R ubuntu ~ubuntu  
RUN chmod +x /etc/rc.local.script

  
Pluggable Workspace Tools (careful about indentation):

jupyter:  
 title: ""Jupyter (Python, R, Julia)""  
 iconUrl: ""/assets/images/workspace-logos/Jupyter.svg""  
 start: \[ ""/var/opt/workspaces/jupyter/start"" \]  
 httpProxy:  
  port: 8888  
  rewrite: false  
  internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/{{#if pathToOpen}}tree/{{pathToOpen}}{{/if}}""  
  requireSubdomain: false  
  supportedFileExtensions: \[ "".ipynb"" \]  
jupyterlab:  
 title: ""JupyterLab""  
 iconUrl: ""/assets/images/workspace-logos/jupyterlab.svg""  
 start: \[ /var/opt/workspaces/Jupyterlab/start.sh \]  
 httpProxy:  
  internalPath: ""/{{ownerUsername}}/{{projectName}}/{{sessionPathComponent}}/{{runId}}/{{#if pathToOpen}}tree/{{pathToOpen}}{{/if}}""  
  port: 8888  
  rewrite: false  
  requireSubdomain: false  
vscode:  
 title: ""vscode""  
 iconUrl: ""/assets/images/workspace-logos/vscode.svg""  
 start: \[ ""/var/opt/workspaces/vscode/start"" \]  
 httpProxy:  
  port: 8888  
  requireSubdomain: false  
rstudio:  
 title: ""RStudio""  
 iconUrl: ""/assets/images/workspace-logos/Rstudio.svg""  
 start: \[ ""/etc/rc.local.script"" \]  
 httpProxy:  
  port: 8888  
  requireSubdomain: false

  
Run Setup Script/Pre (**optional**, likely to end up in a more appropriate folder in R Terminal):

\[ -d /mnt/projects \] && echo 'setwd(""/mnt/projects"")' >> ~ubuntu/.Rprofile  
\[ -d /mnt/projects \] || echo 'setwd(""/mnt"")' >> ~ubuntu/.Rprofile

  
Inside your Central Node, run :

kubectl edit cm nucleus-nginx-conf -n $NAMESPACE

Got to line 150 or close to it:  
:150 or :151 Should be within # Reverse proxying for workspaces without subdomains.

IF YOU HAVE 4.4.X add:

proxy\_set\_header X-RStudio-Root-Path ""/$dominoprefix"";

IF YOU HAVE 4.2.X/4.3.X add:

set $current\_scheme https;  
set $fqdn <YOUR DOMINO FQDN>; # <<< Insert the FQDN from your Domino URL it is in the surrounding lines. Don't loose the ; at the end here!!!  
\# i.e.: set $fqdn domino-test.vmware.com;  
proxy\_redirect /$dominoprefix https://$fqdn/$dominoprefix;  
proxy\_redirect / https://$fqdn/$dominoprefix/;  
proxy\_redirect $upstream\_base\_url/$dominoprefix https://$fqdn/$dominoprefix;  
proxy\_redirect $upstream\_base\_url/ https://$fqdn/;  
proxy\_redirect $upstream\_base\_url https://$fqdn/;  
proxy\_set\_header X-RStudio-Root-Path ""/$dominoprefix"";  
proxy\_set\_header X-RStudio-Request $current\_scheme://$host:443$request\_uri;  
proxy\_set\_header X-Forwarded-Host $host;  
proxy\_set\_header X-Forwarded-Proto $current\_scheme;  
proxy\_set\_header Forwarded ""by=nucleus-nginx;for=whatever;host=$fqdn;proto=$current\_scheme"";

  
Then you need kubectl delete frontend-nucleus-<id> to re-read config. Please allow for the time required to restart frontend pods (may be different for each deployment)

kubectl get po -A |grep nucleus-frontend | awk '{print $2}' | xargs -I{} kubectl delete po {} -n $NAMESPACE

### Recently viewed articles

*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/articles/9874429027476-Writing-to-the-Domino-File-System-from-a-Model-API)
*   [Admin Central Config Settings - Upload files larger than 550MB](https://tickets.dominodatalab.com/hc/en-us/articles/5385249044372-Admin-Central-Config-Settings-Upload-files-larger-than-550MB)
*   [Replicator error when building Model API - 500 Internal Server Error, Unknown error caused by: java.io.IOException: Unable to delete directory](https://tickets.dominodatalab.com/hc/en-us/articles/9027181072532-Replicator-error-when-building-Model-API-500-Internal-Server-Error-Unknown-error-caused-by-java-io-IOException-Unable-to-delete-directory)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/articles/9151903649812-500-and-400-errors-due-to-com-bettercloud-vault-VaultException-using-K8s-1-21-on-Domino-4-6-x-5-x-up-to-5-2-2-and-5-3-0)
*   [Connecting to Domino Model Monitor (DMM) MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/19223206628244-Connecting-to-Domino-Model-Monitor-DMM-MongoDB)

### Related articles

*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCD%2BhTNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kG--373a2f5212e91b6364dee410b01ff09c248768ba)
*   [How to create a Dataset Snapshot from files in a workspace in Domino 5.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR2LCdgBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCD%2BhTNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzU5MTA1MzIyMjQ1MzItSG93LXRvLWNyZWF0ZS1hLURhdGFzZXQtU25hcHNob3QtZnJvbS1maWxlcy1pbi1hLXdvcmtzcGFjZS1pbi1Eb21pbm8tNS14BjsIVDoJcmFua2kH--674bf1e158e6f3ff1cb091460b25cadd5c491cb6)
*   [Hiding the Support button](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCusKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCD%2BhTNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5ODA5MS1IaWRpbmctdGhlLVN1cHBvcnQtYnV0dG9uBjsIVDoJcmFua2kI--4ece3cd3ef864432b9523cf365bc59df76c39932)
*   [Publish a react app through Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCDCvIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCD%2BhTNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDExMi1QdWJsaXNoLWEtcmVhY3QtYXBwLXRocm91Z2gtRG9taW5vBjsIVDoJcmFua2kJ--41cd486aeaf464690ffc963a6bcf486166ff25e1)
*   [Can I download files from Domino DFS and system?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ7vmMFCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCD%2BhTNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzk5MTg3NTI4OTc5NDAtQ2FuLUktZG93bmxvYWQtZmlsZXMtZnJvbS1Eb21pbm8tREZTLWFuZC1zeXN0ZW0GOwhUOglyYW5raQo%3D--7fa93653309e1bfcbe9593a2f620d662da8025c4)"
https://tickets.dominodatalab.com/hc/en-us/articles/20789708965524-Why-are-there-SuperUser-settings-in-Central-Config/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F20789708965524-Why-are-there-SuperUser-settings-in-Central-Config,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F9296680271252-SSO-SAML-Okta-LDAP-ADFS-Authentication-with-Domino-5-x,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17813895482004-domino-workbench-backup-fails-file-changed-as-we-read-it,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17262042428564-Viewing-xlsx-files-in-projects-results-in-a-crash,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4841495768340-Users-being-asked-to-login-too-frequently/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCEOAX9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjA5MTMzMS1DYW5ub3QtTG9naW4tQ2xpZW50LURpc2FibGVkBjsIVDoJcmFua2kH--a257d284a085fdb0b4aa3ce7cb9716081b295a4d,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360062091331-Cannot-Login-Client-Disabled/subscription.html ""Opens a sign-in dialog"")

![mceclip2.png](https://tickets.dominodatalab.com/hc/article_attachments/360096739872)

If you or a user see this error after trying to log in, a setting that is enabled by default setting may have gotten switched off.

To fix this issue, [log into the Keycloak UI](https://docs.dominodatalab.com/en/latest/admin_guide/1a7dfa/keycloak-set-up/#tr1), click on the ""Clients"" tab on the left side of the screen, select the domino-play (or whatever it may have been renamed to), and ensure that the ""Enabled"" toggle is switched to ""ON"".

![Screen_Shot_2021-05-27_at_2.59.04_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/360096746812)

If you have further questions, feel free to contact us at support@dominodatalab.com.

### Recently viewed articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)

### Related articles

*   [Adding a new Git Repository to your project using SSH key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTukUICBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOAX9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzQ0MDc3NTMzMDU2MjAtQWRkaW5nLWEtbmV3LUdpdC1SZXBvc2l0b3J5LXRvLXlvdXItcHJvamVjdC11c2luZy1TU0gta2V5BjsIVDoJcmFua2kG--fd8d0efcac6102b23d6dfacce21adaf0cee52504)
*   [Domino Product Version Lifecycle and Support Policies](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTrDHcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOAX9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzQ0MDQzMzg4MTM3MTYtRG9taW5vLVByb2R1Y3QtVmVyc2lvbi1MaWZlY3ljbGUtYW5kLVN1cHBvcnQtUG9saWNpZXMGOwhUOglyYW5raQc%3D--82172a45c758f3bc97ce9bdb275e4a411233a2e2)
*   [Invalid Credentials, Incorrect login or wrong username/password](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCKiVT9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOAX9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTA0ODIzMi1JbnZhbGlkLUNyZWRlbnRpYWxzLUluY29ycmVjdC1sb2dpbi1vci13cm9uZy11c2VybmFtZS1wYXNzd29yZAY7CFQ6CXJhbmtpCA%3D%3D--088c15624ede6bb26f7764dc441a845549114b1f)
*   [Hiding the Support button](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCusKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOAX9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5ODA5MS1IaWRpbmctdGhlLVN1cHBvcnQtYnV0dG9uBjsIVDoJcmFua2kJ--470f888266395700a4c2035252c28b906e29ff57)
*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCEOAX9VTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kK--4685155341c28a5cb896b148e394694aabfe9ca4)"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBS%2Bl05iBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBStoj9nBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJoL2hjL2VuLXVzL2FydGljbGVzLzQ4MjAyNzE4NzM1NTYtUmVzdGFydGluZy1Gcm9udGVuZC1EaXNwYXRjaGVyLVJhYmJpdE1RLWxvZ3Mtb24tRG9taW5vLXZlcnNpb24tMy14BjsIVDoJcmFua2kK--9ff1cccc64ce9f1dff686ffcc24141f6740760e0,"![](https://secure.gravatar.com/avatar/660d3b218142ec808c52b328dd2a871d?default=https%3A%2F%2Fassets.zendesk.com%2Fhc%2Fassets%2Fdefault_avatar.png&r=g)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4820271873556-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-3-x/subscription.html ""Opens a sign-in dialog"")

The dispatcher has a separate host and it runs a docker container, domino-dispatcher and it can simply be restarted with `docker restart domino-dispatcher`. 

The Frontend can simply be restarted with`docker restart domino-frontend`. 

If you suspect an intermittent or otherwise unknown connectivity issue between the three RabbitMQ cluster nodes, a rolling restart can be attempted:

1.  `kubectl rollout restart -n <platform namespace> sts/rabbitmq-ha-ord`
2.  `If there is no rabbitmq-ha-ord statefulset, you may need to try`
3.  `kubectl rollout restart -n <platform namespace> sts/rabbitmq-ha`

### Recently viewed articles

*   [Azure : Access the nodes w/o ssh or teleport access](https://tickets.dominodatalab.com/hc/en-us/articles/4856026515348-Azure-Access-the-nodes-w-o-ssh-or-teleport-access)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage)
*   [Cannot Login - Client Disabled](https://tickets.dominodatalab.com/hc/en-us/articles/360062091331-Cannot-Login-Client-Disabled)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)

### Related articles

*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2Bl05iBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQY%3D--d31a523db108f58aeb1f3b9de92be96e73cce2a0)
*   [""PKIX path building failed"" when using Domino CLI - How to resolve on a Windows machine](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTYpYgDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBS%2Bl05iBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ6L2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyMjM5ODMyNTItLVBLSVgtcGF0aC1idWlsZGluZy1mYWlsZWQtd2hlbi11c2luZy1Eb21pbm8tQ0xJLUhvdy10by1yZXNvbHZlLW9uLWEtV2luZG93cy1tYWNoaW5lBjsIVDoJcmFua2kH--76c941c555f9702feaaa4c17b747333185900831)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4841495768340-Users-being-asked-to-login-too-frequently,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19320472837652-Adding-custom-headers-to-Domino-frontend&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/19320472837652-Adding-custom-headers-to-Domino-frontend/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCCiiStVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBSe62WSEToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDcyMzc1Mi1Db250ZW50LVNlY3VyaXR5LVBvbGljaWVzBjsIVDoJcmFua2kG--f643c322b12e6cbc59f9b2a1aadf18826e6b7a5d,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""No such file or directory"" Error for files on External Data Volume when starting App](https://tickets.dominodatalab.com/hc/en-us/articles/23287498392596--No-such-file-or-directory-Error-for-files-on-External-Data-Volume-when-starting-App)
*   [App authors cannot pass their Domino username in the header for Apps](https://tickets.dominodatalab.com/hc/en-us/articles/21383015617940-App-authors-cannot-pass-their-Domino-username-in-the-header-for-Apps)
*   [Broken css reference breaks Gradio App](https://tickets.dominodatalab.com/hc/en-us/articles/17475308971156-Broken-css-reference-breaks-Gradio-App)
*   [Shiny App shows a gray screen after sometime or timeouts](https://tickets.dominodatalab.com/hc/en-us/articles/14794822159124-Shiny-App-shows-a-gray-screen-after-sometime-or-timeouts)
*   [Unable to stop older version of the App from Admin Execution UI page](https://tickets.dominodatalab.com/hc/en-us/articles/14637132635668-Unable-to-stop-older-version-of-the-App-from-Admin-Execution-UI-page)
*   [APPS: Read Only Error When Setting Up URL For App (Using Dash 2.1.0+)](https://tickets.dominodatalab.com/hc/en-us/articles/9465700008980-APPS-Read-Only-Error-When-Setting-Up-URL-For-App-Using-Dash-2-1-0)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/articles/8430827274516-Running-Apps-using-JupyterLab-Proxy-AND-as-App-not-working-since-port-in-use)
*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/articles/7898767525012-Failed-to-connect-to-localhost-port-9000-Connection-refused)
*   [Can Not Access App: Unauthorized : you must be authenticated to access this page](https://tickets.dominodatalab.com/hc/en-us/articles/4651161065364-Can-Not-Access-App-Unauthorized-you-must-be-authenticated-to-access-this-page)
*   [I see strange timeouts - 300 seconds - in my App. Can I fix this?](https://tickets.dominodatalab.com/hc/en-us/articles/4415873313428-I-see-strange-timeouts-300-seconds-in-my-App-Can-I-fix-this)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/21799671323796-Apps)

## Content Security Policies

![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360060723752-Content-Security-Policies/subscription.html ""Opens a sign-in dialog"")

## Content security policies for web apps

## Overview

Your web app may behave in unexpected ways if your Domino deployment has iFrame security enabled or if it requires a content security policy to be defined for web apps. Specifically, this could affect your web app's access to external resources (images, APIs, etc.). If your web app requires access to certain resources to function properly, your Domino administrator may need to whitelist those resources.

## Identifying resources that need to be whitelisted

To give your web app access to external resources that may be blocked, you’ll need to identify and gather the URLs of those resources using your web browser.

1.  Open your preferred web browser.
2.  Navigate to your web app in Domino.
3.  Start and open your web app.
4.  Once the app is open and running, open your browser’s web console.
5.  Locate the URL(s) of the resources your app needs to access. In Chrome, they’re highlighted in red and are typically preceded by a message like “Refused to connect to…” (or similar).
6.  Share these URLs with your Domino administrator and request that the URLs be whitelisted.
7.  After the URLs are whitelisted, stop and restart your Domino web app. Your web app should now have access to these resources.

If you’re a Domino administrator, please refer to the following documentation in the Administrator’s Guide: [Web App Central Configuration](https://docs.dominodatalab.com/en/latest/admin_guide/71d6ad/central-configuration/).

### Recently viewed articles

*   [Restarting Frontend, Dispatcher, & RabbitMQ logs on Domino version 3.x](https://tickets.dominodatalab.com/hc/en-us/articles/4820271873556-Restarting-Frontend-Dispatcher-RabbitMQ-logs-on-Domino-version-3-x)
*   [Azure : Access the nodes w/o ssh or teleport access](https://tickets.dominodatalab.com/hc/en-us/articles/4856026515348-Azure-Access-the-nodes-w-o-ssh-or-teleport-access)
*   [""403 Forbidden"" and JWT token expiration in long-running python-domino usage](https://tickets.dominodatalab.com/hc/en-us/articles/4404441539860--403-Forbidden-and-JWT-token-expiration-in-long-running-python-domino-usage)
*   [Cannot Login - Client Disabled](https://tickets.dominodatalab.com/hc/en-us/articles/360062091331-Cannot-Login-Client-Disabled)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in)

### Related articles

*   [Publishing A Flask Web App In Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMOqUNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCiiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTExOTE3MS1QdWJsaXNoaW5nLUEtRmxhc2stV2ViLUFwcC1Jbi1Eb21pbm8GOwhUOglyYW5raQY%3D--49118570604d2eacfea7f5abcb5ef5d3b0c20bda)
*   [App Publishing - 404 Not Found error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAwES9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCiiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDc0ODgxMi1BcHAtUHVibGlzaGluZy00MDQtTm90LUZvdW5kLWVycm9yBjsIVDoJcmFua2kH--ab88e7956bbd5e82e431e4b2e011d995f81b2a92)
*   [Voilà Dashboards in Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCC%2BeKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCiiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NDUxMS1Wb2lsJUMzJUEwLURhc2hib2FyZHMtaW4tRG9taW5vBjsIVDoJcmFua2kI--6996378e07483c9eecd87a1a3de6ccf36b133fbf)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCiiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kJ--2521251df462d963aa2e72c3dc9b62e550f6021b)
*   [Spark Examples needed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQNGHjkBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCCiiStVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI7L2hjL2VuLXVzL2FydGljbGVzLzc1NzgzMzcxNTIyNzYtU3BhcmstRXhhbXBsZXMtbmVlZGVkBjsIVDoJcmFua2kK--fb8c6a361ce0d31663794f9a6b7046c052451f76)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F19320472837652-Adding-custom-headers-to-Domino-frontend,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/16791046837140-How-to-backup-your-kubernetes-cluster-artifacts/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16791046837140-How-to-backup-your-kubernetes-cluster-artifacts&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBShDdwxBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTTYXhFDzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJgL2hjL2VuLXVzL2FydGljbGVzLzQ2MTIxOTE3ODkzMzItTXktU0FTLVdvcmtzcGFjZS1pcy1ub3RpZnlpbmctbWUtaXQtaGFzLWluc3VmZmljaWVudC1zcGFjZQY7CFQ6CXJhbmtpBw%3D%3D--56d93dbe4ed7d79af36c7a85494f0efafb00f652,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4612191789332-My-SAS-Workspace-is-notifying-me-it-has-insufficient-space/subscription.html ""Opens a sign-in dialog"")

### I have an error in SAS about insufficient space, but df -h shows I do have space

### I see : ERROR: Insufficient space in file WORK.\* but I should have space

There are _three_ possible scenarios here. _First_ is that your Project's Volume Size is too small for your work area. The total Volume Size for a Project must encompass your 'Files' size, any imported Projects, and Repos added to the project. This is compounded as well, since the Imported Projects may import additional projects as well.

The _Second_ cause could be that your SAS WORK area is full. Since Domino has Resumable Workspaces, and you could sync things back - the WORK area may need to be pruned before you start working. Normally, SAS will prune this once you exit SAS. If you're resuming workspaces, you may need to establish a cadence for this since stopping a Workspace is not the same as stopping SAS!

The _third_ item to note, is that during data ingestion - SAS may require up to 4x (four times) the amount of storage space in relation to the actual data to be processed! Therefore, the Volume Size and df -h may only have 1/4 of the story/resources needed to actually handle your workload.

Prune your WORK data before commencing work:

**proc datasets** library=work kill nolist;  
**quit**;

Please see the additional SAS documentation: [https://communities.sas.com/t5/SAS-Data-Management/ERROR-Insufficient-space-in-file-WORK/td-p/465942](https://communities.sas.com/t5/SAS-Data-Management/ERROR-Insufficient-space-in-file-WORK/td-p/465942)

You can also use workarounds, like compressing WORK

From one of our SAS knowledgable people: Try compressing the WORK dataset as well. Unless you have COMPRESS = YES as a session option WORK datasets will not be compressed.

out=work.basefile (compress = yes)

Also, ensure you know where your WORK is, you might have WORKs on different physical volumes of different size/free space left. If you're in need of previous iterations of your WORK data, then moving the WORK off /tmp to /mnt will enable using the more expected work volume, and allow you to monitor more closely how the space is used.

Find your WORK dir:

**proc options** option = work;  
**run;**

If that doesn't work, a SAS community page says try:  

Right click on the work library and you can find the work library path.

Or run this:

proc sql;  
select path from dictionary.libnames  
where libname='WORK';  
quit;

Or run a macro like:  
%let work\_path=%sysfunc(pathname(work));  
%put &work\_path ;

Set your WORK location either permanently in the .cfg file, or temporary using the USER options. We leave this up to the SAS user.

### Recently viewed articles

*   [How to Find User Information in a Domino Run Pod](https://tickets.dominodatalab.com/hc/en-us/articles/4413827888660-How-to-Find-User-Information-in-a-Domino-Run-Pod)
*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/articles/5717564338068-Useful-Labels-for-Running-Kubectl-Commands-Against-Pods-in-the-Compute-Namespace)
*   [Apps: Feature request to automatically shut down apps](https://tickets.dominodatalab.com/hc/en-us/articles/11731707451412-Apps-Feature-request-to-automatically-shut-down-apps)
*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/articles/4413240677396-Page-redirects-are-not-working-in-my-flask-app)
*   [Overhead for Spark Workers (Executors)](https://tickets.dominodatalab.com/hc/en-us/articles/360058039312-Overhead-for-Spark-Workers-Executors)

### Related articles

*   [Build error for nvidia GPG key](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRLvZCMBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShDdwxBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzYxMDEyODE4ODUwNzYtQnVpbGQtZXJyb3ItZm9yLW52aWRpYS1HUEcta2V5BjsIVDoJcmFua2kG--c88088919a63d2ae81b0d9f1d4a49d4186ac4cdc)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShDdwxBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kH--17f080d5647d85d78ce376ca18c7d608e74b6e4b)
*   [Useful Labels for Running Kubectl Commands Against Pods in the Compute Namespace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQvZDkzBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShDdwxBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ2L2hjL2VuLXVzL2FydGljbGVzLzU3MTc1NjQzMzgwNjgtVXNlZnVsLUxhYmVscy1mb3ItUnVubmluZy1LdWJlY3RsLUNvbW1hbmRzLUFnYWluc3QtUG9kcy1pbi10aGUtQ29tcHV0ZS1OYW1lc3BhY2UGOwhUOglyYW5raQg%3D--65bb8f903fc1412e9e18adb8fcefa21b1ef7ec39)
*   [Authenticated timeout or duration, how long can a user stay logged-in?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTd8XFXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShDdwxBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJqL2hjL2VuLXVzL2FydGljbGVzLzQ3NzM2MjAzNDIwMzYtQXV0aGVudGljYXRlZC10aW1lb3V0LW9yLWR1cmF0aW9uLWhvdy1sb25nLWNhbi1hLXVzZXItc3RheS1sb2dnZWQtaW4GOwhUOglyYW5raQk%3D--b2f5a991c9f87615261e6cb4348a6ef9b5dc3a37)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBShDdwxBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--f689b3cd8f4cafe076ae08280d85bc7cc0316795)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16791046837140-How-to-backup-your-kubernetes-cluster-artifacts,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F16079751547796-Can-you-deploy-Domino-in-any-AWS-region&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/16079751547796-Can-you-deploy-Domino-in-any-AWS-region/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [Connecting to Domino Model Monitor (DMM) Redis](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604-Connecting-to-Domino-Model-Monitor-DMM-Redis)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)
*   [Update your domino.yaml with resource updates to persist across runs of the installer.](https://tickets.dominodatalab.com/hc/en-us/articles/17466471934228-Update-your-domino-yaml-with-resource-updates-to-persist-across-runs-of-the-installer)
*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)
*   [FailedMount event ""efs.csi.aws.com not found in the list of registered CSI drivers""](https://tickets.dominodatalab.com/hc/en-us/articles/15124626807188-FailedMount-event-efs-csi-aws-com-not-found-in-the-list-of-registered-CSI-drivers)
*   [Dataset(s) & Snapshot visibility in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/13945870768404-Dataset-s-Snapshot-visibility-in-MongoDB)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Unable to register a Model Monitor that uses a file from S3 Datasource](https://tickets.dominodatalab.com/hc/en-us/articles/5381843170580-Unable-to-register-a-Model-Monitor-that-uses-a-file-from-S3-Datasource)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206726-Resource-Management)

![](https://tickets.dominodatalab.com/system/photos/360342143651/Screen_Shot_2019-09-05_at_4.25.28_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert/subscription.html ""Opens a sign-in dialog"")

Domino does an admirable job of controlling costs for dynamic workloads. It primarily achieves this through a number of central configuration values and its ability to scale resources to meet demand. However, it is still possible to be surprised by a high AWS bill if we’re not totally in tune with everything running in the account. AWS offers solutions to monitor and estimate spend to keep costs in line. Here we’ll describe how to set up a cost budget for EC2 instance spend which will send a notification once a set threshold is met.

1.  In the AWS console navigate to **Billing > Budgets > Create Budget**. 
2.  Select **Cost budget** and click **Next**.  
     ![Budget_types.jpg](https://tickets.dominodatalab.com/hc/article_attachments/4417236295188/Budget_types.jpg)
3.  Fill out the fields under **Set budget amount**.
    
    1.  Period: Monthly - the usual cadence for AWS billing.
        
    2.  Budget effective date: Recurring budget - the budget will be applied based on the period selected.
        
    3.  Start month: Current month and year.
        
    4.  Choose how to budget: Fixed
        
    5.  Enter your budgeted amount ($): Pick an estimate that makes sense for your Domino. This can be based on historical data.  
        ![Set_budget_amount.jpg](https://tickets.dominodatalab.com/hc/article_attachments/4417245591572/Set_budget_amount.jpg)  
         
        
4.  **Budget scoping** allows filtering on a specific service or dimension.
    
    1.  In this example we want to track EC2 spend for running instances. Under **Parameters** **\> Filters** click **Add filter.**
        
    2.  For **Dimension** select **Usage type group**.
        
    3.  For **Values** select **EC2: Running Hours**. You may choose to select more than one value here if you wish.
        
    4.  Click **Apply filter**. You’ll notice the graph under **Unblended costs** will update to show data based on your selections.  
        ![budget_scoping.png](https://tickets.dominodatalab.com/hc/article_attachments/4417236440852/budget_scoping.png)  
         
        
5.  In the **Details** section enter a name for this budget and then click **Next.**
    
    1.  Ours will be named _Domino-EC2-Running-Instances-spend.  
        ![Details.png](https://tickets.dominodatalab.com/hc/article_attachments/4417245738772/Details.png)  
        _ 
        
6.  On the next screen we need to add **alert thresholds** so we can be notified. Click **Add an alert threshold**.
    
    1.  Choose the desired **Threshold** and **Trigger** for the alert. We recommend setting a percentage of your budgeted amount. The trigger can be either spend that reaches the _actual_ amount or a _forecasted_ amount.
        
    2.  Notification preferences should be configured to send the alerts. Here we’re just supplying an email address, however configuration through SNS is also a good option.
        
    3.  Add additional alert thresholds if you wish. Click **Next** once done.  
        ![Alert.png](https://tickets.dominodatalab.com/hc/article_attachments/4417236538388/Alert.png)  
         
        
7.  We won’t be adding any actions (which require IAM permissions to run) so we’ll click **Next** one last time.  
    ![Alert_again.png](https://tickets.dominodatalab.com/hc/article_attachments/4417245952020/Alert_again.png) 
8.  Review to make sure everything is set as you intended and then click on **Create budget**. That's it!
    

### Recently viewed articles

*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code)

### Related articles

*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRdSqAEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwV3cEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ7L2hjL2VuLXVzL2FydGljbGVzLzQ0MTc5MTU2MDgzNDAtTWFwcGluZy1hLW5ldHdvcmstZm9sZGVyLXRvLWEtRG9taW5vLXBvZC1pcy1naXZpbmctbWUtY2lmcy1tb3VudC1mYWlsZWQtdy1yZXR1cm4tY29kZQY7CFQ6CXJhbmtpBg%3D%3D--cdb53b89db1b8f701840455308042c6fd98abeb2)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJTyrmMEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwV3cEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJtL2hjL2VuLXVzL2FydGljbGVzLzQ0MTY4OTg3OTAwMzYtQVdTLVBvbGljeS10by1jbGVhbnVwLXVuYXR0YWNoZWQtdm9sdW1lcy1kZWxldGVkLXJlc3RhcnRhYmxlLXdvcmtzcGFjZXMGOwhUOglyYW5raQc%3D--6a33488d57dfeedfa918a6afb0c04c8d1dea4675)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS3ZV0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwV3cEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDg0MjU2MjAtQ2FuLUktcmVzdHJpY3QtYS1oYXJkd2FyZS10aWVyLXRvLWEtc3BlY2lmaWMtcHJvamVjdAY7CFQ6CXJhbmtpCA%3D%3D--63cce60c0b4da882863357f2ff219ffda65bc648)
*   [How to check your version of Domino](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCIhOpNNTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwV3cEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJIL2hjL2VuLXVzL2FydGljbGVzLzM2MDAzMzA0NjE1Mi1Ib3ctdG8tY2hlY2steW91ci12ZXJzaW9uLW9mLURvbWlubwY7CFQ6CXJhbmtpCQ%3D%3D--1a3208e1aa99f0e7eb6917955939fc428e525516)
*   [Diagnosing a stuck queue](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMsRi8YaADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSwV3cEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI9L2hjL2VuLXVzL2FydGljbGVzLzExNTAwMDE1MjUyMy1EaWFnbm9zaW5nLWEtc3R1Y2stcXVldWUGOwhUOglyYW5raQo%3D--e6600161da6c25ed07ec1eaadcaf9ba2d58c22fb)"
https://tickets.dominodatalab.com/hc/en-us/articles/13945870768404-Dataset-s-Snapshot-visibility-in-MongoDB,"**Version:** 

Domino 5.x 

**What are dataset snapshots:**

Dataset snapshots in Domino Data Lab are a point-in-time replica of a data set, including all of its data and metadata, that records the status of the data set at a certain point in time. Snapshots may be used to create repeatable analyses and experiments, as well as to ensure that the data utilised in an analysis does not change over time.

With Domino, you can also utilise data set snapshots to build branches of your data set for various purposes like as testing or validation. You may construct a different branch of a data set that can be utilised for a specific purpose without impacting the original data set by producing a snapshot of the data set and then making modifications to it.

Overall, data set snapshots are an effective technique for guaranteeing data analysis workflow repeatability and consistency.

**Listing dataset snapshots for a project (With Admin UI Access)**

To list the dataset snapshots you will need to have appropriate admin access, from the Admin UI, select Advanced > MongoDB

In the MongoDB terminal, substitute in the Project name in the command below

```
rs.secondaryOk()
```

This will give you output similar to:

```
{""_id"" : ObjectId(""6410b67b7ce95f628cb5d62c""),""ownerId"" : ObjectId(""631f593e8802f91dd1632a94""),""name"" : ""Project Name"",
```

Once you've captured the **ObjectId** above, substitute it into the command below:

```
rs.secondaryOk()db.datasetrw.find({""metadata.labels.project-object-id"": ""6410b67b7ce95f628cb5d62c""})
```

Datasets for the project will be displayed below along with their snapshots (**Note:** _you may need to scroll down the MongoDB Output to find the correct dataset, if working with multiple datasets_):

{
	""\_id"" : ObjectId(""**641999e84564ec6408e7eafc**""),
	""name"" : ""**test-data-set**"",
	""description"" : ""Abduls"",
	""author"" : ObjectId(""6410b6787ce95f628cb5d62a""),
	""snapshots"" : \[
		ObjectId(""641999e84564ec6408e7eafb""),
		ObjectId(""64199a0e4564ec6408e7eb15""),
		ObjectId(""64199f654564ec6408e7ebe2""),
		ObjectId(""6419e9224564ec6408e7ede2""),
		ObjectId(""6419ecb04564ec6408e7ee44"")
	\],
	""metadata"" : {
		""labels"" : {
			""project-object-id"" : ""6410b67b7ce95f628cb5d62c""
		},
		""creationDateMillis"" : NumberLong(""1679399400160"")
	},
	""tags"" : {
		""**64199f654564ec6408e7ebe2**"" : \[
			""snap2""
		\],
		""**6419e9224564ec6408e7ede2**"" : \[
			""sanp3""
		\],
		""**64199a0e4564ec6408e7eb15**"" : \[
			""Snap1""
		\],
		""**6419ecb04564ec6408e7ee44**"" : \[
			""snap4""
		\]
	},

**Checking the status of a dataset snapshot**

To check the status of a snapshot, we refer to its LifecycleStatus, you can use the following command in MongoDB and substitute in the collection objectId from the above output to view the status of each snapshot in a dataset:

db.datasetrw\_snapshot.find({""collectionId"": ObjectId(""**641999e84564ec6408e7eafc**"")}, {""status"": 1})

The output would be similar to:

{
	""\_id"" : ObjectId(""**641999e84564ec6408e7eafb**""),
	""status"" : {
		""lifecycleStatus"" : **""Active""**,
		""statusLastUpdatedDateMillis"" : NumberLong(""1679420609546""),
		""statusLastUpdatedBy"" : ObjectId(""000000000000000000000000"")
	}
}
{
	""\_id"" : ObjectId(""**64199a0e4564ec6408e7eb15**""),
	""status"" : {
		""lifecycleStatus"" : **""Active""**,
		""statusLastUpdatedDateMillis"" : NumberLong(""1679399452395""),
		""statusLastUpdatedBy"" : ObjectId(""000000000000000000000000"")
	}
}
{
	""\_id"" : ObjectId(""64199f654564ec6408e7ebe2""),
	""status"" : {
		""lifecycleStatus"" : **""Deleted"",**
		""statusLastUpdatedDateMillis"" : NumberLong(""1681210000025""),
		""statusLastUpdatedBy"" : ObjectId(""6410b6787ce95f628cb5d62a"")
	}
}
{
	""\_id"" : ObjectId(""**6419e9224564ec6408e7ede2**""),
	""status"" : {
		""lifecycleStatus"" : **""Active"",**
		""statusLastUpdatedDateMillis"" : NumberLong(""1679419696810""),
		""statusLastUpdatedBy"" : ObjectId(""000000000000000000000000"")
	}
}
{
	""\_id"" : ObjectId(""**6419ecb04564ec6408e7ee44**""),
	""status"" : {
		""lifecycleStatus"" : **""Active"",**
		""statusLastUpdatedDateMillis"" : NumberLong(""1679420609548""),
		""statusLastUpdatedBy"" : ObjectId(""000000000000000000000000"")
	}
}

**Common Issues:**

If you get the following output when looking up the datasets for a project

Error: error: {  
""ok"" : 0,  
""errmsg"": ""node is not in primary or recovering state"",  
""code"": 13436,  
""codeName"" : ""NotMasterOrSecondary""  
}

Its quite possible that you are looking at a project that has already been archived and that another project with the same name exists that is not and this is the one you require, look out for '  **""isArchived"" : true'** in the mongo output when searching for projects.

**Notes:**

Dataset Admin Docs: **[https://docs.dominodatalab.com/en/5.0/user\_guide/0a8d11/datasets/](https://docs.dominodatalab.com/en/5.0/user_guide/0a8d11/datasets/)**

![domino_logo.png](https://tickets.dominodatalab.com/hc/article_attachments/14837842316692)"
https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code/subscription.html ""Opens a sign-in dialog"")

If you are trying to mount an external folder to Domino, these admin docs should help you through the process: [https://admin.dominodatalab.com/en/4.6/data-management/external-data-volumes.html#overview](https://admin.dominodatalab.com/en/4.6/data-management/external-data-volumes.html#overview)

Occasionally we'll see some issues come up which can be difficult to troubleshoot. Here's one of the errors we've seen come up in this process: 

kernel: CIFS VFS: cifs\_mount failed w/return code = -22

If you see that error, please verify whether worker nodes from your autoscaler have cifs-utils installed. If you continue to struggle with the network mapping, please reach create a ticket with the support team that includes steps you have already taken, and any error messages you are seeing from your system. 

### Related articles

*   [Workspace cannot be deleted from current state](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ%2Fn3aIEDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdSqAEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzE4MTc4MjkxNzQ0NTMyLVdvcmtzcGFjZS1jYW5ub3QtYmUtZGVsZXRlZC1mcm9tLWN1cnJlbnQtc3RhdGUGOwhUOglyYW5raQY%3D--28a199bddf84a7afb19ac72624afb25de04d898f)
*   [Set up an AWS Budget and Alert](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSwV3cEBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdSqAEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzQ0MTcyMjg2MTU4MjgtU2V0LXVwLWFuLUFXUy1CdWRnZXQtYW5kLUFsZXJ0BjsIVDoJcmFua2kH--a347cea9d70f4dd218c6ffb20c002e14226712a6)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBRdSqAEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzQ0MDIzMzA2NzQzMjQtRXhlY3V0aW9ucy1TdHVjay1pbi1RdWV1ZWQtaW4tU2luZ2xlLUhhcmR3YXJlLVRpZXIGOwhUOglyYW5raQg%3D--2ebe8a95e0396b651ce1fa6f25fca675dda6d9d3)"
https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier,"![](https://assets.zendesk.com/hc/assets/default_avatar.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier/subscription.html ""Opens a sign-in dialog"")

If executions for one Hardware Tier are getting stuck in the 'Queued' state, it's possible that a large number of concurrent runs were initiated in a way that violates the limits that have been enacted on your Domino deployment. You can confirm that this is the case by checking the Dispatcher logs for errors like the following:

2021-06-07 12:07:36,581 level=INFO \[DispatcherActionProcessor\]   
Dispatcher: Action SkipQueuedRunExceedingPerUserLimit processed in   
0ms correlationId=""HTRKQN3DvJ"" thread=""application-akka.actor.default-dispatcher-183""

For more information on troubleshooting the dispatcher, see [Dispatcher Troubleshooting.](https://tickets.dominodatalab.com/hc/en-us/articles/360061112932)

Once it is confirmed that this error is present in the logs, there are basically two options: 1) tell the user that they're using too many concurrent runs, or 2) you can increase the limit of runs per user with the configurable setting in Central Config called:

com.cerebro.domino.dispatcher.maxRunsPerUserOnDefaultClass

Please note above setting only applicable in Domino versions of 3.x and 4.x. It has been removed from versions 5.x. 

If you have any further questions, please contact Domino Support at support@dominodatalab.com.

### Recently viewed articles

*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/articles/4403908425620-Can-I-restrict-a-hardware-tier-to-a-specific-project)
*   [Set up an AWS Budget and Alert](https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert)
*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code)

### Related articles

*   [Enable Audit Logging in Domino Data Lab as of version 4.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJStGDHXBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzUzMjIyODgxODA2MjgtRW5hYmxlLUF1ZGl0LUxvZ2dpbmctaW4tRG9taW5vLURhdGEtTGFiLWFzLW9mLXZlcnNpb24tNC14BjsIVDoJcmFua2kG--94e1205d57b26122f81bdec339f3b5e3b84edb0f)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kH--1cb52891e77ef9064893417eb491da0b108586e6)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCAzkUdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTE5OTM3Mi1Nb25nby1RdWVyaWVzLWZvci1EdXJhYmxlLVdvcmtzcGFjZXMGOwhUOglyYW5raQg%3D--5566dee05ea24722f81c798139939b3015526f78)
*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQk%3D--313cb0b461d38486fd37c1291e5a1b5a361fa9fb)
*   [Build getting stuck as queued in 4.x, 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSEJK4qBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQkW%2F8ABDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ1ODEzNTY3NjYyMjgtQnVpbGQtZ2V0dGluZy1zdHVjay1hcy1xdWV1ZWQtaW4tNC14LTUtMgY7CFQ6CXJhbmtpCg%3D%3D--0c3a813baa34967f034be6a27846be69377efeb5)"
https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces,"![](https://tickets.dominodatalab.com/system/photos/361254859151/Screen_Shot_2021-12-01_at_7.17.31_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces/subscription.html ""Opens a sign-in dialog"")

### Durable workspaces brought some new mongo fields which may be helpful to know when troubleshooting. 

An excerpt from the durable workspaces runbook (found [here](https://dominodatalab.atlassian.net/wiki/spaces/ENG/pages/1269170393/Resumable+Restartable+Workspaces)): 

#### _State Storage_

_The state of durable workspaces resides in the workspace Mongo collection. This stores all of the configuration for a durable workspace. Each start of the workspace generates an associated Workspace Session in the workspace\_session collection. The most important piece of state stored by the session is the execution\_id, which is the id of the Run that is backing interaction for this session._

#### The hierarchy of the new mongo fields:

1.  `workspace`, which is long lived and can have multiple `run` and `workspace_session` records
2.  `workspace_session`, which has a 1:1 relationship with `run`. A workspace session will have a `workspaceId` corresponding to the `workspaceId` and a `executionId` corresponding to a `run`
3.  `run`, which is the lowest level execution unit you are more familiar with

Note that `runId` is distinct from the `workspaceId`

#### Sample queries

Find a user's id: 

db.users.findOne({""loginId.lowercaseId"":""<userId>""})

Find a user's workspaces: 

db.workspace.find({""ownerId"" : ObjectId(""60664a847b00fa4df622030e"")})

Next, narrow down to workspace sessions using workspaceId:

db.workspace\_session.find({""workspaceId"" : ObjectId(""6086eb5cc50ea61fec092733"")}).pretty()

### Recently viewed articles

*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/articles/4403908425620-Can-I-restrict-a-hardware-tier-to-a-specific-project)
*   [Set up an AWS Budget and Alert](https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert)
*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code)

### Related articles

*   [Running MongoDB queries with only kubectl access](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCN9gVtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAzkUdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJVL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTQ5MzQ3MS1SdW5uaW5nLU1vbmdvREItcXVlcmllcy13aXRoLW9ubHkta3ViZWN0bC1hY2Nlc3MGOwhUOglyYW5raQY%3D--8b683c420347042aba1fc39696e5aaff1555877f)
*   [Resumable workspace cannot be stopped, opened, or deleted (Domino 4.4.0 - 4.6.x)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCMgGWtVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAzkUdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJvL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MTczMjU1Mi1SZXN1bWFibGUtd29ya3NwYWNlLWNhbm5vdC1iZS1zdG9wcGVkLW9wZW5lZC1vci1kZWxldGVkLURvbWluby00LTQtMC00LTYteAY7CFQ6CXJhbmtpBw%3D%3D--8fb0b34590b9bfb52bb6b5ae175f000c123a0352)
*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJi6IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAzkUdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MzAzMi1Ib3ctYXJlLWhhcmR3YXJlLXRpZXJzLXJlbGF0ZWQtdG8tQVdTLUVDMi1pbnN0YW5jZS10eXBlBjsIVDoJcmFua2kI--4fcdbc838fe76c8423571548cd08750db4f7ea5e)
*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOyxIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAzkUdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDgxMi1SZXR1cm5pbmctbGFyZ2UtbnVtYmVycy1vZi1yZXN1bHRzLWluLU1vbmdvREIGOwhUOglyYW5raQk%3D--fdbda33b147eec31f68c0510111e7338e7736319)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCAzkUdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpCg%3D%3D--20217dbe29f194fc2e6485b693be0ee04478abd7)"
https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent,"![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent/subscription.html ""Opens a sign-in dialog"")

As an admin you may have noticed that the hardware tier cost in the hardware tier definition under admin>>advanced>>hardware tier does not seem to match what is presented to end users when they select a hardware tier to use on a workload.  The difference occurs because the hardware tier definition for cost is in Cents per minute and in the end user settings in the project UI settings is in Dollars per minute.

As an example note the ""small (kubernetes)"" hardware tier definition below.  The cost per minute is 0.00020 cents per minute.

![Screen_Shot_2021-08-31_at_11.29.29_AM.png](https://tickets.dominodatalab.com/hc/article_attachments/4406112148244)

Notice here though in the launch new workspace UI, the cost per minute is $0.  This is just the cost in cents, 0.00020, being converted to dollars $0.0000020 and then being rounded to 0.  

![Screen_Shot_2021-08-31_at_12.05.52_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/4406116965396)

Although the cost is not actually $0, the cost of this particular tier is so small that rounding to $0 for user purposes is a fairly close approximation.

Note that this is just an example and many tiers are not this inexpensive.

### Recently viewed articles

*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/articles/4403908425620-Can-I-restrict-a-hardware-tier-to-a-specific-project)
*   [Set up an AWS Budget and Alert](https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert)

### Related articles

*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRP0uABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kG--0943e57437ddec1c59797fd2e9fdd7ca11a0673b)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS3ZV0BBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRP0uABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzQ0MDM5MDg0MjU2MjAtQ2FuLUktcmVzdHJpY3QtYS1oYXJkd2FyZS10aWVyLXRvLWEtc3BlY2lmaWMtcHJvamVjdAY7CFQ6CXJhbmtpBw%3D%3D--05def319614a6288d6349e9d429a01b1c3aaef59)
*   [Data Science Pipelines: Domino + Airflow](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOugKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRP0uABBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5NTIxMS1EYXRhLVNjaWVuY2UtUGlwZWxpbmVzLURvbWluby1BaXJmbG93BjsIVDoJcmFua2kI--4b88b2e6973b9ce0d028ea6b6dba7d929b9b3613)"
https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces,"![](https://tickets.dominodatalab.com/system/photos/360876353312/2000px-Flag_of_Iceland.svg.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces/subscription.html ""Opens a sign-in dialog"")

### It's possible to have an AWS policy which removes EBS volumes that are not attached to EC2 instances. Is this dangerous to my restartable workspace?

### I cannot resume my Workspace, there is a error on PVC missing?

### I would like to save AWS fees by removing unused EBS Volumes?

Restartable Workspaces will unmount the volume and remain 'Bound'. This however may fall within AWS cleanup policies of 'unattached' volumes. If you remove a Workspace volume, it may cause dataloss for the user if there are 'unsynced' files on the PVC.

To avoid this, create tags/labels and exclude the Domino Volumes. This required Domino 5.X!

% helm list -A | grep aws  
aws-ebs-csi-driver          	domino-platform	1       	2022-01-06 01:46:42.427851259 +0000 UTC	deployed	aws-ebs-csi-driver-2.2.1-0.0.3     	1.3.0  
aws-efs-csi-driver          	domino-platform	1       	2022-01-06 01:46:42.430041096 +0000 UTC	deployed	aws-efs-csi-driver-2.2.0-0.2.1     	1.3.3

Then find the deployment in the domino-platform namespace. Edit the deployment:

kubectl edit deployment aws-ebs-csi-driver-controller -n domino-platform

Added a new “foo=bar” key/value pair to the “extra-volume-tags”

    spec:  
      containers:  
      - args:  
        - controller  
        - --endpoint=$(CSI\_ENDPOINT)  
        - --extra-volume-tags=deploy\_id=DeploymentID,foo=bar  
        - --k8s-tag-cluster-id=DeploymentOD  
        - --logtostderr  
        - --v=2

You could make these changes to the Helm chart too.

### Recently viewed articles

*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/articles/4403908425620-Can-I-restrict-a-hardware-tier-to-a-specific-project)
*   [Set up an AWS Budget and Alert](https://tickets.dominodatalab.com/hc/en-us/articles/4417228615828-Set-up-an-AWS-Budget-and-Alert)
*   [Mapping a network folder to a Domino pod is giving me ""cifs\_mount failed w/return code""](https://tickets.dominodatalab.com/hc/en-us/articles/4417915608340-Mapping-a-network-folder-to-a-Domino-pod-is-giving-me-cifs-mount-failed-w-return-code)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTyrmMEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--cb513273c4dd4139a6fbdf632a33fd86cf7363ad)
*   [Tips for setting up AWS credential propagation](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQDjYoDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTyrmMEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNTU5MTAxNjQtVGlwcy1mb3Itc2V0dGluZy11cC1BV1MtY3JlZGVudGlhbC1wcm9wYWdhdGlvbgY7CFQ6CXJhbmtpBw%3D%3D--52b777b9436e65055e9722615958c9449e682d34)
*   [Syncing files from published Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQzDBwDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTyrmMEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJHL2hjL2VuLXVzL2FydGljbGVzLzQ0MTE0MDE5NzQ1NDgtU3luY2luZy1maWxlcy1mcm9tLXB1Ymxpc2hlZC1BcHBzBjsIVDoJcmFua2kI--2d8997d97fc0c0e06cd1ecee18973923f227415a)
*   [My Workspace appears to have died - did python run out of memory?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJR4lOsABDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTyrmMEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJkL2hjL2VuLXVzL2FydGljbGVzLzQ0MDE5OTg4ODcwNjAtTXktV29ya3NwYWNlLWFwcGVhcnMtdG8taGF2ZS1kaWVkLWRpZC1weXRob24tcnVuLW91dC1vZi1tZW1vcnkGOwhUOglyYW5raQk%3D--8a56e085b64ebb3adcebf8f4838ab5baf8ab0f4a)
*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTyrmMEBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQo%3D--f666b8695e7283321b84f85245b0c7190649230e)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings,"## Execution memory settings

![](https://tickets.dominodatalab.com/system/photos/360028154863/Screen_Shot_2018-05-14_at_8.15.28_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings/subscription.html ""Opens a sign-in dialog"")

There are three places to impact the memory of an execution run pod. Execution pods contain three separate containers, Run, Executor & Nginx. The Kubernetes Memory Requests can be resized in the following ways.

**Run Container**

This is set from the Hardware Tier definition page, Admin>>Advanced>>Hardware Tiers. Memory Requests set here will size the Run container memory where user executions occur.

[![Screen Shot 2021-02-16 at 2.46.37 PM.png](https://us.v-cdn.net/6031622/uploads/JV1C6ACB64LE/screen-shot-2021-02-16-at-2-46-37-pm.png)](https://us.v-cdn.net/6031622/uploads/JV1C6ACB64LE/screen-shot-2021-02-16-at-2-46-37-pm.png)

**Executor container**

The memory request size for this container where the domino executor runs can be set by the central config setting,

`com.cerebro.domino.computegrid.kubernetes.executor.memoryRequestedMiB`

default value: 1500Mib

We have seen failures related to this setting when importing large projects. Imported projects in the 10s of GB range can cause run execution failures during the preparing phase of startup. If you are seeing this failure mode you can add additional memory here. Update this setting cautiously as it will use the additional memory resources on every execution.

Memory errors can express in a variety of ways, but an example of the execution logging we have seen related to this failure looks like this...

2021-02-11T08:18:48.718Z: Preparing working directory.
2021-02-11T08:19:18.904Z: Preparing working directory.
2021-02-11T08:19:44.888Z: Caught termination signal!
2021-02-11T08:19:44.888Z: -- killed by pod termination --
2021-02-11T08:19:44.964Z: Trapped error signal in start-run, exiting

**Nginx container**

The memory request for the nginx container in the execution can be similarly set in Central Config,

`com.cerebro.domino.computegrid.kubernetes.apps.nginx.memoryRequestedMiB`

default value: 50Mib

This setting is the total memory for nginx and should be set higher than client\_max\_body\_size. The client\_max\_body\_size controls the maximum size of individual files that can be uploaded to the execution.

`com.cerebro.domino.computegrid.kubernetes.apps.nginx.clientBodyMaxSizeMiB`

default value: 25mb

If you need to increase this setting then you will need to ensure the memory request setting for nginx is increased as well.

More information on updating values in central config is [here](https://admin.dominodatalab.com/en/4.3.2/configuration/Central_configuration.html).

### Recently viewed articles

*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier)
*   [Can I restrict a hardware tier to a specific project?](https://tickets.dominodatalab.com/hc/en-us/articles/4403908425620-Can-I-restrict-a-hardware-tier-to-a-specific-project)

### Related articles

*   [Failed to connect to localhost port 9000: Connection refused](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSEOxMvBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNuXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJhL2hjL2VuLXVzL2FydGljbGVzLzc4OTg3Njc1MjUwMTItRmFpbGVkLXRvLWNvbm5lY3QtdG8tbG9jYWxob3N0LXBvcnQtOTAwMC1Db25uZWN0aW9uLXJlZnVzZWQGOwhUOglyYW5raQY%3D--6268afd8e35cca098b55be30226c5630d0f5a7f5)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSTOZgtBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNuXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJ5L2hjL2VuLXVzL2FydGljbGVzLzY3OTI4OTcyMDUxNDAtRG9taW5vLVJ1bi13aXRoLUxhcmdlLVJlcG8tRmFpbHMtdG8tU3RhcnQtRHVlLXRvLUpWTS1IZWFwLVNwYWNlLU91dC1vZi1NZW1vcnktRXJyb3IGOwhUOglyYW5raQc%3D--665740733177512f7796f4f14a4b16d417df5849)
*   [Why did my execution fail with the error 'No space left on device'?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGRtTdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNuXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJlL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MDkwNjg1Mi1XaHktZGlkLW15LWV4ZWN1dGlvbi1mYWlsLXdpdGgtdGhlLWVycm9yLU5vLXNwYWNlLWxlZnQtb24tZGV2aWNlBjsIVDoJcmFua2kI--cf5b6703726e7c971014f9571065c15fcd3c7044)
*   [Build getting stuck as queued in 4.x, 5.2](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSEJK4qBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNuXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJOL2hjL2VuLXVzL2FydGljbGVzLzQ1ODEzNTY3NjYyMjgtQnVpbGQtZ2V0dGluZy1zdHVjay1hcy1xdWV1ZWQtaW4tNC14LTUtMgY7CFQ6CXJhbmtpCQ%3D%3D--9ad9249084dbb57f25d69e6c07d6dd719b7b5c11)
*   [How to add a “Support” button to 4.1.x-4.3.x deployments (if it is missing)](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGeYKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCNuXKNVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJsL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5MzAzMS1Ib3ctdG8tYWRkLWEtU3VwcG9ydC1idXR0b24tdG8tNC0xLXgtNC0zLXgtZGVwbG95bWVudHMtaWYtaXQtaXMtbWlzc2luZwY7CFQ6CXJhbmtpCg%3D%3D--77cfbd3a8a3f00bbe2310292ebaf7706373662a9)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058043032-How-are-hardware-tiers-related-to-AWS-EC2-instance-type,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058043032-How-are-hardware-tiers-related-to-AWS-EC2-instance-type/subscription.html ""Opens a sign-in dialog"")

If you're running Domino on AWS machines, then each hardware tier is based on an underlying AWS instance type with some additional options that your Domino admins can configure

**Can I have multiple hardware tiers per instance type?**

Yes, you can have multiple hardware tiers per instance type (put another way, there can be more than one tier built off a certain instance type). For example if you could have a 'Shared' tier that is based on m5.xlarge and allows 4 different runs or jobs to share the same machine, and you could have another 'Dedicated' tier that is based on m5.xlarge where only one run or job can use the machine at a time such that it has the full resources of that machine available to it at all times. (Each of these hardware tiers can have multiple executors going at once, so for example you can have 8 jobs sharing 2 m5.xlarge instances on the 'Shared' tier and 3 jobs each using their own machine on the 'Dedicated' tier for a total of 5 machines. The jobs could be coming from multiple users or all from one user. ) Each hardware tier definition should say what ec2 type it is in one of the fields, so if you're an admin on your Domino you can check what instance type underlies each tier.

**What happens if I need to spin up a machine and there is room for more of that specific hardware tier, but another hardware tier of the same EC2 instance type has our account at the limit for that instance type? Can I manually create the one that I need?**

If you have multiple tiers built on the same instance type, call them tiers A and B, and you hit your AWS instance limit by launching machines on A, then you will get an error when you try to launch machines in tier B letting you know that you have hit an AWS instance limit.

**Does the machine limit in Domino reflect the limit in the respective AWS account configuration?**

The Domino instance limits can be totally different from the AWS instance limits for their AWS account, as the Domino limits are set separately from the AWS limits. So for example, if you have an AWS instance limit of 100 for the m5.xlarge instance type, you could have whatever instance limits you want for the Domino hardware tiers built on it, and you would stop being able to launch machines when you hit the lowest limit -- so if you set the Domino limit for a tier built on m5.xlarge to 50, then you could only launch 50 machines of that tier in Domino, and if you set the hardware tier limit in Domino to 150 you would get an error once you have launched 100 machines letting you know you've hit your AWS instance limit.

### Recently viewed articles

*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces)

### Related articles

*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCOyxIdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJi6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MDgxMi1SZXR1cm5pbmctbGFyZ2UtbnVtYmVycy1vZi1yZXN1bHRzLWluLU1vbmdvREIGOwhUOglyYW5raQY%3D--0163aad8836ea64165c147b02431f1f4537d4bd0)
*   [How to increase nginx timeout for Domino Apps](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRobcddBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJi6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJTL2hjL2VuLXVzL2FydGljbGVzLzY5OTk4NDc1NjEzNjQtSG93LXRvLWluY3JlYXNlLW5naW54LXRpbWVvdXQtZm9yLURvbWluby1BcHBzBjsIVDoJcmFua2kH--623d367d2b89149f26f55ca2f19234fe101bde36)
*   [Troubleshooting common problems](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGkEzdw1DDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJi6IdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJBL2hjL2VuLXVzL2FydGljbGVzLzIwNDg1NjUyNS1Ucm91Ymxlc2hvb3RpbmctY29tbW9uLXByb2JsZW1zBjsIVDoJcmFua2kI--1c8262517f174427b667f812342c11b60e582575)"
https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB,"![](https://tickets.dominodatalab.com/system/photos/360123247052/insight-headshot-linkedin-version.jpeg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB/subscription.html ""Opens a sign-in dialog"")

If you need to run a query in the MongoDB Admin UI and want to return more than the default 100 results, you can specify

DBQuery.shellBatchSize

For example, this projects query would return 500 results :

rs.slaveOk()
DBQuery.shellBatchSize = 500;
db.projects.find({}, {""\_id"": 1, ""ownerId"":1, ""name"": 1})

Note: Always use the Mongo Admin panel with caution, and if you have any questions please do not hesitate to reach out to your Domino team for best practices or assistance.

### Recently viewed articles

*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces)
*   [AWS Policy to cleanup unattached volumes deleted 'restartable workspaces'?](https://tickets.dominodatalab.com/hc/en-us/articles/4416898790036-AWS-Policy-to-cleanup-unattached-volumes-deleted-restartable-workspaces)
*   [Executions Stuck in Queued in Single Hardware Tier](https://tickets.dominodatalab.com/hc/en-us/articles/4402330674324-Executions-Stuck-in-Queued-in-Single-Hardware-Tier)

### Related articles

*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCNuXKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOyxIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSI%2BL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mjg5MS1FeGVjdXRpb24tbWVtb3J5LXNldHRpbmdzBjsIVDoJcmFua2kG--7cc977c9371038d5d312b39d1a1ff31ca4d8c0ff)
*   [After Domino 4.x to 5.x upgrade executions fail with ""HTTP Error 400: Bad Request POSTing to...""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBT4qRz7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCOyxIdVTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBey9oYy9lbi11cy9hcnRpY2xlcy85ODc0NjEwNzE0NjQ0LUFmdGVyLURvbWluby00LXgtdG8tNS14LXVwZ3JhZGUtZXhlY3V0aW9ucy1mYWlsLXdpdGgtSFRUUC1FcnJvci00MDAtQmFkLVJlcXVlc3QtUE9TVGluZy10bwY7CFQ6CXJhbmtpBw%3D%3D--bf666366b24a8cb6237dda1d5ed295140c5e0c3d)"
https://tickets.dominodatalab.com/hc/en-us/articles/360024559051-Model-resource-quotas,"## Model resource quotas

![](https://tickets.dominodatalab.com/system/photos/360012766666/Screen_Shot_2018-03-05_at_11.41.41_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360024559051-Model-resource-quotas/subscription.html ""Opens a sign-in dialog"")

#### **Overview**

The nodes that host [Model APIs](https://support.dominodatalab.com/hc/en-us/sections/360000206566-API-ENDPOINTS) have hardware specifications based on resource quotas set by Domino system administrators. A resource quota determines the CPU and memory resources available to the Model that uses it.

Resource quotas are separate from the [hardware tiers](https://support.dominodatalab.com/hc/en-us/articles/206486616) that are used by [Domino Runs](https://support.dominodatalab.com/hc/en-us/articles/211974486). Users will be able to access resource quotas from a dropdown menu on the [Model deployment page](https://support.dominodatalab.com/hc/en-us/articles/115002511063).

![Screen_Shot_2019-02-25_at_1.38.09_PM.png](https://tickets.dominodatalab.com/hc/article_attachments/360022726932)

#### **Create and edit resource quotas**

From the admin home, click **Advanced** -> **Resource Quotas** to open the management interface.

From here you can create, edit, and set default resource quotas. Resource quotas cannot be permanently deleted. 

Resource quotas have the following properties:

*   **Visible**  
    Leave this checkbox selected for a resource quota to be listed in the menu for users publishing Models. Clear the checkbox to make a resource quota unavailable for use.
*   **Memory (GB) - Request**   
    The amount of RAM reserved for a model with this quota.
*   **Memory (GB) - Limit  
    ** If the hosting node has RAM available, a model running this quota can make use of additional memory up to this limit.
*   **CPU (# of Cores) - Request**  
    The number of cores reserved for a Model with this quota.
*   **CPU (# of Cores) - Limit  
    **If the hosting node has idle cores available, a model running this quota can use additional cores up to this limit.
*   **Default  
    **The resource quota with this set to true will be used for all newly published Models by default.

### Recently viewed articles

*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/articles/360058043032-How-are-hardware-tiers-related-to-AWS-EC2-instance-type)
*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent)
*   [Mongo Queries for Durable Workspaces](https://tickets.dominodatalab.com/hc/en-us/articles/360061199372-Mongo-Queries-for-Durable-Workspaces)

### Related articles

*   [Change the default project for new users](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCENeW9NTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMvNItNTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJNL2hjL2VuLXVzL2FydGljbGVzLzM2MDAyODI2NjA1MS1DaGFuZ2UtdGhlLWRlZmF1bHQtcHJvamVjdC1mb3ItbmV3LXVzZXJzBjsIVDoJcmFua2kG--300f93015daa048a0f96f0f0400924b3a300ec91)
*   [500 Internal Server Error when user tries to login to Domino UI after upgrade to 5.1 from 4.6](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRKYG1sCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMvNItNTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBfi9oYy9lbi11cy9hcnRpY2xlcy85MjYxNzg0NTE3MTQwLTUwMC1JbnRlcm5hbC1TZXJ2ZXItRXJyb3Itd2hlbi11c2VyLXRyaWVzLXRvLWxvZ2luLXRvLURvbWluby1VSS1hZnRlci11cGdyYWRlLXRvLTUtMS1mcm9tLTQtNgY7CFQ6CXJhbmtpBw%3D%3D--f0461b4a198fe93197c12665d2c07c74dbc5132b)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMvNItNTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kI--1cc8f2c42eace3b2640364921daf32ae1baf5139)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMvNItNTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQk%3D--9ab913ce2ccdb3ce914723feea404280098b0fd3)
*   [Packages in the requirements.txt file are not being installed](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSA%2BQMHBToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMvNItNTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJjL2hjL2VuLXVzL2FydGljbGVzLzU1Mjc2ODk1OTI4NTItUGFja2FnZXMtaW4tdGhlLXJlcXVpcmVtZW50cy10eHQtZmlsZS1hcmUtbm90LWJlaW5nLWluc3RhbGxlZAY7CFQ6CXJhbmtpCg%3D%3D--b4a5543cc1640ef73db718eb05d6da97594ea713)"
https://tickets.dominodatalab.com/hc/en-us/articles/360000354426-Executor-lifecycle-management,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [Should this PV (persistentVolume) still be in my system in Retain status?](https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status)
*   [Connecting to Domino Model Monitor (DMM) Redis](https://tickets.dominodatalab.com/hc/en-us/articles/19364459123604-Connecting-to-Domino-Model-Monitor-DMM-Redis)
*   [How to resize the datadir for mongoDB or other kubernetes volumes](https://tickets.dominodatalab.com/hc/en-us/articles/17510028366100-How-to-resize-the-datadir-for-mongoDB-or-other-kubernetes-volumes)
*   [Update your domino.yaml with resource updates to persist across runs of the installer.](https://tickets.dominodatalab.com/hc/en-us/articles/17466471934228-Update-your-domino-yaml-with-resource-updates-to-persist-across-runs-of-the-installer)
*   [Installer fails validation checks](https://tickets.dominodatalab.com/hc/en-us/articles/17406620185748-Installer-fails-validation-checks)
*   [failed to pull image 602401143452.dkr.ecr.us-east-1.amazonaws.com/eks/pause:3.5](https://tickets.dominodatalab.com/hc/en-us/articles/15125607103124-failed-to-pull-image-602401143452-dkr-ecr-us-east-1-amazonaws-com-eks-pause-3-5)
*   [FailedMount event ""efs.csi.aws.com not found in the list of registered CSI drivers""](https://tickets.dominodatalab.com/hc/en-us/articles/15124626807188-FailedMount-event-efs-csi-aws-com-not-found-in-the-list-of-registered-CSI-drivers)
*   [Dataset(s) & Snapshot visibility in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/13945870768404-Dataset-s-Snapshot-visibility-in-MongoDB)
*   [Domino Run with Large Repo Fails to Start Due to JVM Heap Space Out of Memory Error](https://tickets.dominodatalab.com/hc/en-us/articles/6792897205140-Domino-Run-with-Large-Repo-Fails-to-Start-Due-to-JVM-Heap-Space-Out-of-Memory-Error)
*   [Unable to register a Model Monitor that uses a file from S3 Datasource](https://tickets.dominodatalab.com/hc/en-us/articles/5381843170580-Unable-to-register-a-Model-Monitor-that-uses-a-file-from-S3-Datasource)

[See more](https://tickets.dominodatalab.com/hc/en-us/sections/360000206726-Resource-Management)

## Executor lifecycle management

![](https://tickets.dominodatalab.com/system/photos/380339863/Screen_Shot_2017-11-01_at_9.18.15_AM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/360000354426-Executor-lifecycle-management/subscription.html ""Opens a sign-in dialog"")

This article describes the behavior of the [EC2 instances](https://tickets.dominodatalab.com/hc/en-us/articles/360058497371-What-AWS-instances-are-supported-for-Domino-in-the-cloud-) launched by Domino for use as executors.

When a run or workspace is launched, it is scheduled to run on a specific EC2 instance. This could mean launching a new EC2 instance of the target hardware tier, or starting one that has been stopped. EC2 instances that are stopped are put to sleep, but are not terminated.

Once an executor becomes idle, it will be subject to lifecycle management by the Domino application:

*   If no runs have been scheduled on a machine for 120 minutes, it will be stopped. This time period is controlled by the executorStopTimeout configuration point. When the instance is stopped, the only AWS costs it will generate are for the EBS volumes attached to it.
    
    You can view how long an instance has been idle or stopped under the **Instance State** column on the Dispatcher page. In the example below, prod-exec-d-free-107 has been in the stopped state for approximately 13 hours.
    
    ![Dispatcher_-_Domino.png](https://tickets.dominodatalab.com/hc/article_attachments/360000784286/Dispatcher_-_Domino.png)
    

*   While in the stopped state, an executor can be woken up for a run if it is needed. This is preferred over immediately terminating the executor as it is more efficient for the machine to go from Stopped to Running than to launch a new one.
*   After the executorTerminateTimeout has passed, the executor will be terminated. The default for this is 3 days. Once terminated, the machine no longer exists, and there are no longer charges to AWS.

### Recently viewed articles

*   [Model resource quotas](https://tickets.dominodatalab.com/hc/en-us/articles/360024559051-Model-resource-quotas)
*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/articles/360058043032-How-are-hardware-tiers-related-to-AWS-EC2-instance-type)
*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings)
*   [The hardware tier cost seems inconsistent](https://tickets.dominodatalab.com/hc/en-us/articles/4406113357716-The-hardware-tier-cost-seems-inconsistent)

### Related articles

*   [Auto Shut Down: Long Running Workspace](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSjJ6UDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHp4sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzQ0MTM3MDIyNTEyODQtQXV0by1TaHV0LURvd24tTG9uZy1SdW5uaW5nLVdvcmtzcGFjZQY7CFQ6CXJhbmtpBg%3D%3D--796ce65565c53f6cee6761b2c2e4da9404ef6fa9)
*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJi6IdVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHp4sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJcL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODA0MzAzMi1Ib3ctYXJlLWhhcmR3YXJlLXRpZXJzLXJlbGF0ZWQtdG8tQVdTLUVDMi1pbnN0YW5jZS10eXBlBjsIVDoJcmFua2kH--aa848f322b5e13ccdb853686ee3e77d2749c66ad)
*   [I am unable to run my model and see a warning that says ""consider increasing buffer size"" in the logs](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSKuGJBBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHp4sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBhC9oYy9lbi11cy9hcnRpY2xlcy83OTc3NDEwNTI5OTQwLUktYW0tdW5hYmxlLXRvLXJ1bi1teS1tb2RlbC1hbmQtc2VlLWEtd2FybmluZy10aGF0LXNheXMtY29uc2lkZXItaW5jcmVhc2luZy1idWZmZXItc2l6ZS1pbi10aGUtbG9ncwY7CFQ6CXJhbmtpCA%3D%3D--0fc62edcd16249817c9a586275672d631278c889)
*   [Understanding Maintenance Mode Alerts in Domino 3.x](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQLNKcBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHp4sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzQ0MDUxNDY2ODQzMDgtVW5kZXJzdGFuZGluZy1NYWludGVuYW5jZS1Nb2RlLUFsZXJ0cy1pbi1Eb21pbm8tMy14BjsIVDoJcmFua2kJ--52787ffb173a587203c49dff030e0472d5a913ba)
*   [Environment build fails with GPG error](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCGTYX9VTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCHp4sdFTADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzM2MDA2MjExMzg5Mi1FbnZpcm9ubWVudC1idWlsZC1mYWlscy13aXRoLUdQRy1lcnJvcgY7CFQ6CXJhbmtpCg%3D%3D--8279e08f263589810081498db187c4672b2cdc79)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203503-Security-and-Privacy/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/115000152523-Diagnosing-a-stuck-queue,"## Diagnosing a stuck queue

![](https://tickets.dominodatalab.com/system/photos/380952943/Screen_Shot_2017-11-02_at_3.40.20_PM.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/115000152523-Diagnosing-a-stuck-queue/subscription.html ""Opens a sign-in dialog"")

**This article applies to Domino version 3.6**

SysAdmins of VPC deployments: If you are tasked with diagnosing the reason for a stuck Queue (see also: [this article](http://support.dominodatalab.com/hc/en-us/articles/213556403)), please find possible explanations below.

In a VPC deployment, a run is stuck in the Queued state means that no machines in the chosen [hardware tier](http://support.dominodatalab.com/hc/en-us/articles/204187149-What-hardware-will-my-code-run-on-) are currently available. A new machine will need to spin up, which can take a few minutes. If your run remains queued after several minutes, it's possible that a capacity limit has been reached, or there may be some problem with the system.

**First, check to see if the hardware tier's capacity limit has been reached:**

Navigate to the Dispatcher page, and locate the description of the stuck hardware tier near the top of the page. If Current INST >= Max INST, then you've reached the limit. You can launch additional instances beyond this limit via the ""Launch Instance"" button - these will run until they timeout. If this is a recurring problem, you can [configure a higher limit in the hardware tier definition](https://support.dominodatalab.com/hc/en-us/articles/206486616-Cluster-Controls).

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/210212546/Screen_Shot_2016-11-03_at_7.18.20_PM.png)

**Next, check for a stuck executor:**

In rare cases, a machine can get into a stuck or crashed state where it can't accept jobs, but also blocks other machines from spinning up, resulting in a blocked queue. A stuck machine can be identified by an Instance State of Running (and no version number), but an empty Executor State (rather than Available):

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/210212826/Screen_Shot_2016-11-03_at_7.23.55_PM.png)

In contrast, a healthy executor:

![](https://tickets.dominodatalab.com/hc/en-us/article_attachments/210212786/Screen_Shot_2016-11-03_at_7.23.15_PM.png)

Note that an executor that has just started will look like a stuck one until the Domino service comes online (this can take a few minutes). One sign of an executor that has just started is a recent LaunchExecutorDispatcherAction of the same tier, visible in the Actions section near the bottom of the Dispatcher page.

If you do indeed have a stuck machine, first put it in [maintenance mode](http://support.dominodatalab.com/hc/en-us/articles/206486616-Cluster-Controls). Once you've done so, a new machine will start up to unblock the queue. You can then stop the stuck executor and take it out of maintenance mode, after optionally pulling logs or otherwise inspecting the machine.

**Check for an AWS resource limitation:**

If there are no stuck machines, and Max INST < Current INST, then you may have reached an AWS-imposed limit on a resource. These limits include:

*   number of running machines of a given instance type
*   total running instances
*   total number of EBS volumes

Dispatcher logs will indicate whether this is the case - look for a LimitExceeded exception, e.g. InstanceLimitExceeded. These limits can be increased via a request to AWS.

It's also possible for AWS to run out of capacity for the selected instance type in your deployment's availability zone. Try manually launching an instance via the tier's ""Launch"" button at the top of the dispatcher page - an error message will pop up if there is insufficient capacity available. You should also see an InsufficientInstanceCapacity exception in the Dispatcher logs. If this happens, there isn't anything you can do but wait for AWS to provide additional capacity - you'll probably want to advise users to switch to a different hardware tier in the meantime.

**Check the AWS status page:**

If you see other AWS-related exceptions in the Dispatcher logs, check [https://status.aws.amazon.com](https://status.aws.amazon.com/) for outages.

**If none of these explain the problem:**

There may be some other issue with the system. Please reach out to [support@dominodatalab.com](mailto:support@dominodatalab.com) for additional assistance.

### Recently viewed articles

*   [Executor lifecycle management](https://tickets.dominodatalab.com/hc/en-us/articles/360000354426-Executor-lifecycle-management)
*   [Model resource quotas](https://tickets.dominodatalab.com/hc/en-us/articles/360024559051-Model-resource-quotas)
*   [How are hardware tiers related to AWS EC2 instance type?](https://tickets.dominodatalab.com/hc/en-us/articles/360058043032-How-are-hardware-tiers-related-to-AWS-EC2-instance-type)
*   [Returning large numbers of results in MongoDB](https://tickets.dominodatalab.com/hc/en-us/articles/360058040812-Returning-large-numbers-of-results-in-MongoDB)
*   [Execution memory settings](https://tickets.dominodatalab.com/hc/en-us/articles/360058492891-Execution-memory-settings)

### Related articles

*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMsRi8YaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kG--1b648da56b3d829313353ae93374feb6ae5cd3cf)
*   [Model Tester Returns “Failed to call Model”](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQcxyQHBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMsRi8YaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc3NTE1NjY0ODQtTW9kZWwtVGVzdGVyLVJldHVybnMtRmFpbGVkLXRvLWNhbGwtTW9kZWwGOwhUOglyYW5raQc%3D--fb37d3e9322cb7cdf2324453f5aed864af65ee7f)
*   [Workspace stuck in ""Assigning"" stage -""user is over quota""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBTlux8HBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMsRi8YaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJbL2hjL2VuLXVzL2FydGljbGVzLzY2Mjc2NjY5NDUzMDAtV29ya3NwYWNlLXN0dWNrLWluLUFzc2lnbmluZy1zdGFnZS11c2VyLWlzLW92ZXItcXVvdGEGOwhUOglyYW5raQg%3D--b228501f9920d41ada5c35b71b6fdd723bdad833)
*   [Workspace Logs And Support Bundle for 5.1 and Above](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRuekG3BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMsRi8YaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJZL2hjL2VuLXVzL2FydGljbGVzLzUxODUxMjQwNjg4ODQtV29ya3NwYWNlLUxvZ3MtQW5kLVN1cHBvcnQtQnVuZGxlLWZvci01LTEtYW5kLUFib3ZlBjsIVDoJcmFua2kJ--51ff18150c2eeee9599044123d8712c87c7bc75f)
*   [Workspace stuck at Pulling stage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRIPAYrBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCMsRi8YaADoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzQ1ODI4MzQ3MTg4NjgtV29ya3NwYWNlLXN0dWNrLWF0LVB1bGxpbmctc3RhZ2UGOwhUOglyYW5raQo%3D--4f27ea8a6d13f884ea6ef39064b3f0641b2a9287)"
https://tickets.dominodatalab.com/hc/en-us/sections/360000203503-Security-and-Privacy/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F360000203503-Security-and-Privacy&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/articles/4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSXze46BDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBTd8XFXBDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJzL2hjL2VuLXVzL2FydGljbGVzLzQ2NTExNjEwNjUzNjQtQ2FuLU5vdC1BY2Nlc3MtQXBwLVVuYXV0aG9yaXplZC15b3UtbXVzdC1iZS1hdXRoZW50aWNhdGVkLXRvLWFjY2Vzcy10aGlzLXBhZ2UGOwhUOglyYW5raQg%3D--9777c662fc54b4456e770ca746f3410fbaf4a9e6,"![](https://tickets.dominodatalab.com/system/photos/360330287191/test.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/4651161065364-Can-Not-Access-App-Unauthorized-you-must-be-authenticated-to-access-this-page/subscription.html ""Opens a sign-in dialog"")

We have seen some users reporting an issue when trying to download files from an app created thru Flask. 

Below is the error that the user gets:

 ""Unauthorized : you must be authenticated to access this page"" .

To resolve this issue, check your code for the below line (this could also be listed under POST action):

form action

The above code can cause problems due to routing/reverse proxy setups, and this can be resolved by following these steps:

Change the ""form action"" code to one of the following:

<form action=""#""> or <form action=""""> 

If you use ""/"" as shown below, the url prefix for your app will be stripped, and you'll end up sending your request to <base\_domain>/ (this will result in the aforementioned authentication error).

<form action=""/"">

So, removing ""/"" from POST request should fix this problem.

### Recently viewed articles

*   [Increasing the timeout for Shiny Server](https://tickets.dominodatalab.com/hc/en-us/articles/360058494751-Increasing-the-timeout-for-Shiny-Server)
*   [How to logout or end a user's user-session from Domino](https://tickets.dominodatalab.com/hc/en-us/articles/6984526511892-How-to-logout-or-end-a-user-s-user-session-from-Domino)
*   [Diagnosing a stuck queue](https://tickets.dominodatalab.com/hc/en-us/articles/115000152523-Diagnosing-a-stuck-queue)
*   [Executor lifecycle management](https://tickets.dominodatalab.com/hc/en-us/articles/360000354426-Executor-lifecycle-management)
*   [Model resource quotas](https://tickets.dominodatalab.com/hc/en-us/articles/360024559051-Model-resource-quotas)

### Related articles

*   [Page redirects are not working in my flask app](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBSUpIkDBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXze46BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJUL2hjL2VuLXVzL2FydGljbGVzLzQ0MTMyNDA2NzczOTYtUGFnZS1yZWRpcmVjdHMtYXJlLW5vdC13b3JraW5nLWluLW15LWZsYXNrLWFwcAY7CFQ6CXJhbmtpBg%3D%3D--b7a28557bbef640341c8af110ffc0e50f65fbcd2)
*   [Working With Project Files From a Domino App](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBR3E8vBBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXze46BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJSL2hjL2VuLXVzL2FydGljbGVzLzUyMzAzODIyNDk3NDgtV29ya2luZy1XaXRoLVByb2plY3QtRmlsZXMtRnJvbS1hLURvbWluby1BcHAGOwhUOglyYW5raQc%3D--cb8bd87fe9904c41802103238998377fff36f74c)
*   [GPU Workspace not able to start and exits with error.](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQmDtKiCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXze46BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJaL2hjL2VuLXVzL2FydGljbGVzLzk0OTU0MDE4NjY5MDAtR1BVLVdvcmtzcGFjZS1ub3QtYWJsZS10by1zdGFydC1hbmQtZXhpdHMtd2l0aC1lcnJvcgY7CFQ6CXJhbmtpCA%3D%3D--7d627404407a2b12cd99d51d6f7830572d1be4b9)
*   [Running Apps using JupyterLab Proxy AND as App not working since 'port in use'](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQBd%2FSqBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXze46BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJyL2hjL2VuLXVzL2FydGljbGVzLzg0MzA4MjcyNzQ1MTYtUnVubmluZy1BcHBzLXVzaW5nLUp1cHl0ZXJMYWItUHJveHktQU5ELWFzLUFwcC1ub3Qtd29ya2luZy1zaW5jZS1wb3J0LWluLXVzZQY7CFQ6CXJhbmtpCQ%3D%3D--9d1923c64fdbe4a7ac16110875dc3011f6eb76ef)
*   [Simple sample App using dash\_uploader](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS26A%2BTBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJSXze46BDoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzUwMjk2NzM2MTI5NDgtU2ltcGxlLXNhbXBsZS1BcHAtdXNpbmctZGFzaC11cGxvYWRlcgY7CFQ6CXJhbmtpCg%3D%3D--96f34957fd07186ab0706b053fde5b84a1a493b4)"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F4773620342036-Authenticated-timeout-or-duration-how-long-can-a-user-stay-logged-in,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Fsections%2F17419429292436-Grafana&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana/subscription.html?subscribe_to_grandchildren=false,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana/subscription.html?subscribe_to_grandchildren=true,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/articles/19030813568020-Grafana-Alerting-Cluster-Autoscaler)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)
*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform)

![](https://tickets.dominodatalab.com/system/photos/360206466051/IMAG0166.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability/subscription.html ""Opens a sign-in dialog"")

## Deployment Replicas Mismatch

## StatefulSet Replicas Mismatch

Checks if a Kubernetes Deployment or StatefulSet is healthy by comparing the desired number of replicas with the available replicas. It also ensures that there have been no updates to the replicas in the last 10 minutes. If both conditions are true, it indicates that the deployment is stable and functioning correctly, if not trigger an alert.

Gather information:

*   Run the admin toolkit to collect a fresh report.  
    [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
    
*   If there are insufficient resources (CPU, memory, etc.) available in the cluster to schedule the desired number of replicas, the available replicas may be lower than the desired replicas.
    
*   If some pods fail to start or encounter errors during initialisation, it can lead to a lower number of available replicas compared to the desired replicas.
    
*   If there are network issues or communication problems within the cluster, it can prevent the desired replicas from becoming available.
    
*   If there are ongoing rolling updates or deployments being performed on the Kubernetes deployment, it may cause temporary discrepancies between the desired and available replicas until the updates are completed.
    
*   If there are problems with collecting metrics from the Kubernetes cluster, the metric values used in the query may not be accurate, leading to unexpected results.
    

![ReplicasMismatch.png](https://tickets.dominodatalab.com/hc/article_attachments/17290104024596)

Useful troubleshooting links  

There can be other factors specific to the Kubernetes environment, application configuration, or infrastructure setup that can affect the desired and available replica counts. Troubleshooting and investigating logs, events, and metrics can help identify the root cause of the issue.

*   [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
*   [https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedeploymentreplicasmismatch](https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubedeploymentreplicasmismatch)
*   [https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubestatefulsetreplicasmismatch](https://github.com/kubernetes-monitoring/kubernetes-mixin/tree/master/runbook.md#alert-name-kubestatefulsetreplicasmismatch)
*   [https://kubernetes.io/docs/tasks/debug/debug-application/](https://kubernetes.io/docs/tasks/debug/debug-application/)
*   [https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#troubleshooting](https://kubernetes.io/docs/concepts/workloads/controllers/deployment/#troubleshooting)
*   [https://kubernetes.io/docs/tasks/debug/debug-application/debug-pods/](https://kubernetes.io/docs/tasks/debug/debug-application/debug-pods/)
*   [https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/](https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/)

### Related articles

*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSP5GcjEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbtam5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE4ODQzNzY0NTU5NzY0LUdyYWZhbmEtQWxlcnRpbmctTm9kZS1SZWFkaW5lc3MtRmxhcHBpbmcGOwhUOglyYW5raQY%3D--045277f2a28cfa4859bc901fdd94a5bde56e38d8)
*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbtam5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMTE0Nzc0MDM2LUdyYWZhbmEtQWxlcnRpbmctRnJvbnRlbmQtU3ludGV0aGljcwY7CFQ6CXJhbmtpBw%3D%3D--4e42dbc43e80672f6668efd2dea28ddfe55f9b25)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ3K6u5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbtam5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJJL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMTE1MTAyNDg0LUdyYWZhbmEtQWxlcnRpbmctUGxhdGZvcm0tUFYtVXNhZ2UGOwhUOglyYW5raQg%3D--c662e8cbfb1246bd38b58a59fc2df759fde8b529)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSMNKq5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJQbtam5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJGL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMDk4OTM2OTgwLUdyYWZhbmEtQWxlcnRpbmctRG9taW5vLUJhY2t1cHMGOwhUOglyYW5raQk%3D--8195900efde58ae706d20c0d2696669208ed9b63)"
https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/articles/19030813568020-Grafana-Alerting-Cluster-Autoscaler)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)
*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform)

![](https://tickets.dominodatalab.com/system/photos/360206466051/IMAG0166.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads/subscription.html ""Opens a sign-in dialog"")

## Domino Executions

Domino executions are code execution tasks (jobs, workspace sessions, web apps) assigned to a Domino executor. They run as pods in Kubernetes and their health is determined by the pod's phase status.  
If an alert is raised, check the linked Workload Executions Dashboard. Ensure you're familiar with the workspace dashboard.

Next gather Information:

*   Run the admin toolkit to collect a fresh report. [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
*   Select a failed workspace and check its support bundle for diagnostic details.
*   Note any end-user statements or observations of failed jobs or workspace pages.
*   Determine if the failure affects all users or specific ones.
*   Verify if it occurs in all projects or only certain ones.
*   Investigate if it relates to all hardware types (HWT) or specific ones.
*   Narrow down the issue to specific users, projects, or hardware types based on gathered information.

If the issue persists after troubleshooting, contact support providing detailed information collected above and the relevant support bundles.

![WorkloadExecutions.png](https://tickets.dominodatalab.com/hc/article_attachments/17290114842388)

Useful troubleshooting links  

*   [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
*   [https://docs.dominodatalab.com/en/latest/user\_guide/4474ab/executions/](https://docs.dominodatalab.com/en/latest/user_guide/4474ab/executions/)
*   [https://tickets.dominodatalab.com/hc/en-us/categories/360005759691-Product-Areas](https://tickets.dominodatalab.com/hc/en-us/categories/360005759691-Product-Areas)

### Recently viewed articles

*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)

### Related articles

*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTt2Ki5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJLL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMTE0Nzc0MDM2LUdyYWZhbmEtQWxlcnRpbmctRnJvbnRlbmQtU3ludGV0aGljcwY7CFQ6CXJhbmtpBg%3D%3D--2f3295aed3bafc806457ed6ef9a3323a33f58d2f)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQe8FbBEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTt2Ki5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE5NTIyMDg0OTM3MzY0LUdyYWZhbmEtQWxlcnRpbmctRE5TLWFuZC1Db3JlRE5TLXJ1bmJvb2sGOwhUOglyYW5raQc%3D--f1c7351134f19ed4f180a0618c77237f50209d96)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSP5GcjEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTt2Ki5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE4ODQzNzY0NTU5NzY0LUdyYWZhbmEtQWxlcnRpbmctTm9kZS1SZWFkaW5lc3MtRmxhcHBpbmcGOwhUOglyYW5raQg%3D--97efe9e7d2b3aa9bc770d9b1a8b1ea67386f81a1)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTt2Ki5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kJ--a1c14dc55100de929ff7c0bd8d66411bfb63a4ad)
*   [No Output Received From an On-Demand Spark Job Running on Large HW Tiers](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJS5mtBIBDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJTt2Ki5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJuL2hjL2VuLXVzL2FydGljbGVzLzQ3MTA3ODM5NTczOTYtTm8tT3V0cHV0LVJlY2VpdmVkLUZyb20tYW4tT24tRGVtYW5kLVNwYXJrLUpvYi1SdW5uaW5nLW9uLUxhcmdlLUhXLVRpZXJzBjsIVDoJcmFua2kK--b68ea2cddbb62da3a9bb284ff05fab2c8fff2d29)"
https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics,"![](https://theme.zdassets.com/theme_assets/365104/2ea97b456786940847f99c65b4279046d9fbf5c8.png)

### Articles in this section

*   [""missing saved state"" error when using Grafana SSO](https://tickets.dominodatalab.com/hc/en-us/articles/21793179378964--missing-saved-state-error-when-using-Grafana-SSO)
*   [Grafana Alerting - DNS and CoreDNS runbook](https://tickets.dominodatalab.com/hc/en-us/articles/19522084937364-Grafana-Alerting-DNS-and-CoreDNS-runbook)
*   [Grafana Alerting - Cluster Autoscaler](https://tickets.dominodatalab.com/hc/en-us/articles/19030813568020-Grafana-Alerting-Cluster-Autoscaler)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/articles/18843764559764-Grafana-Alerting-Node-Readiness-Flapping)
*   [Grafana Alerting - Platform PV Usage](https://tickets.dominodatalab.com/hc/en-us/articles/17290115102484-Grafana-Alerting-Platform-PV-Usage)
*   [Grafana Alerting - Domino Backups](https://tickets.dominodatalab.com/hc/en-us/articles/17290098936980-Grafana-Alerting-Domino-Backups)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)
*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform)

![](https://tickets.dominodatalab.com/system/photos/360206466051/IMAG0166.jpg)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics/subscription.html ""Opens a sign-in dialog"")

## Frontend Availability

The Domino Frontend Availability Check alert is a vital component of the Domino platform as it ensures the availability of the frontend service.

Operating as a synthetic check, this alert regularly assesses the frontend service's status and performance by evaluating a predefined set of rules and conditions. Leveraging Prometheus as the data source, it retrieves real-time information to determine the health of the frontend service. If the specified conditions are not met, indicating a potential issue or failure, the alert is triggered.

This critical alert is closely associated with the domino\_synthetics dashboard, allowing for quick and efficient debugging. A triggered alert serves as an immediate indicator that the frontend services may be compromised, necessitating swift investigation and remedial action to maintain the overall system's availability, stability and reliability.

Collect information:

*   Run the admin toolkit to collect a fresh report. Use the CLI if the UI is not available.  
    [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)  
    
*   Check if the frontend pods are running.  
    [https://kubernetes.io/docs/tasks/debug/debug-application/determine-reason-pod-failure/](https://kubernetes.io/docs/tasks/debug/debug-application/determine-reason-pod-failure/) 
*   Check the individual containers in the frontend pods are up.  
    [https://kubernetes.io/docs/concepts/workloads/pods/#containers](https://kubernetes.io/docs/concepts/workloads/pods/#containers)  
    
*   Look at the frontend nginx error and access logs for errors / problems with routing.  
    [https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-ingress-controller/](https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-ingress-controller/)
*   If the pods/containers/nginx are working correctly, check your frontend load-balancer/ingress. This is usually site specific for each deployment.

![Synthetics_FrontendAvailability.png](https://tickets.dominodatalab.com/hc/article_attachments/17290090408468)Useful troubleshooting links  

*   [https://docs.dominodatalab.com/en/latest/admin\_guide/9c6da7/run-the-admin-toolkit/](https://docs.dominodatalab.com/en/latest/admin_guide/9c6da7/run-the-admin-toolkit/)
*   [https://kubernetes.io/docs/tasks/debug/debug-application/determine-reason-pod-failure/](https://kubernetes.io/docs/tasks/debug/debug-application/determine-reason-pod-failure/) 
*   [https://kubernetes.io/docs/concepts/workloads/pods/#containers](https://kubernetes.io/docs/concepts/workloads/pods/#containers) 
*   [https://komodor.com/learn/exit-codes-in-containers-and-kubernetes-the-complete-guide/](https://komodor.com/learn/exit-codes-in-containers-and-kubernetes-the-complete-guide/)
*   [https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-ingress-controller/](https://docs.nginx.com/nginx-ingress-controller/troubleshooting/troubleshoot-ingress-controller/)

### Recently viewed articles

*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)

### Related articles

*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQbtam5DzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJRL2hjL2VuLXVzL2FydGljbGVzLzE3MjkwMDkwNTg0OTgwLUdyYWZhbmEtQWxlcnRpbmctUGxhdGZvcm0tUG9kLUF2YWlsYWJpbGl0eQY7CFQ6CXJhbmtpBg%3D%3D--c3adb051c74865b22c6ec817a1f62e23e1534889)
*   [Grafana Alerting - Node Readiness Flapping](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSP5GcjEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzE4ODQzNzY0NTU5NzY0LUdyYWZhbmEtQWxlcnRpbmctTm9kZS1SZWFkaW5lc3MtRmxhcHBpbmcGOwhUOglyYW5raQc%3D--0efd9a581d22251888e37e92638f3993b8bc011d)
*   [How to Troubleshoot Autoscaling(ASG) Issues](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJubKNVTADoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJPL2hjL2VuLXVzL2FydGljbGVzLzM2MDA1ODQ5Mzg1MS1Ib3ctdG8tVHJvdWJsZXNob290LUF1dG9zY2FsaW5nLUFTRy1Jc3N1ZXMGOwhUOglyYW5raQg%3D--4c8729782c55a4fc438eeef4ad933dc26bc04e0c)
*   [Workspace stuck in 'Preparing' with Multi-Attach error for volume ""pvc-xxxxx""](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRfKYR%2FEToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJwL2hjL2VuLXVzL2FydGljbGVzLzE5MjM5Mzc1ODIyNzQwLVdvcmtzcGFjZS1zdHVjay1pbi1QcmVwYXJpbmctd2l0aC1NdWx0aS1BdHRhY2gtZXJyb3ItZm9yLXZvbHVtZS1wdmMteHh4eHgGOwhUOglyYW5raQk%3D--202d2a41909618ab529bb44702cbf60f37ad7dd4)
*   [Accessing Grafana in Domino platform](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJRHxBwKCToYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCBQ0Jqu5DzoLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJKL2hjL2VuLXVzL2FydGljbGVzLzk5MzkwMzY5NDgzNzItQWNjZXNzaW5nLUdyYWZhbmEtaW4tRG9taW5vLXBsYXRmb3JtBjsIVDoJcmFua2kK--7213d59c6c1de5d6ad62e22666eb0646463a1970)

### Comments

0 comments

Please [sign in](https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F17290114774036-Grafana-Alerting-Frontend-Syntethics) to leave a comment."
https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform,"## Accessing Grafana in Domino platform

![](https://tickets.dominodatalab.com/system/photos/9939194119060/download.png)

[Follow](https://tickets.dominodatalab.com/hc/en-us/articles/9939036948372-Accessing-Grafana-in-Domino-platform/subscription.html ""Opens a sign-in dialog"")

## **What is Grafana:** 

Grafana - is a multi-platform open source analytics and interactive visualization web application. It provides charts, graphs, and alerts for the web when connected to supported data sources like Prometheus. 

## **Access:**

For production deployments, a Grafana instance is deployed and externally accessible at `https://<DOMINO_URL>/grafana`.

For deployments of Domino using the standalone installer or deployer versions >= v13, the default username is `grafana` and the password is stored in the cluster:

 # on macos, may be necessary to use base64 -D instead of -d  
kubectl get secret -n {platform namespace} grafana -ojsonpath='{.data.admin-password}' | base64 -d; echo

## **How to find existing dashboards:** 

A set of default dashboards for a variety of platform services (such as Elasticsearch, MongoDB, and  
Redis) are installed during the initial deployment.

Note: Prior to Domino 4.6.0, dashboards are installed as configMap objects in the platform namespace  
through helm charts. From Domino 4.6.0 onwards, these dashboards are injected into docker image of  
Grafana during build time.

  
Once logged into Grafana, you can navigate in the left panel using “Search” or “Manage”

![mceclip0.png](https://tickets.dominodatalab.com/hc/article_attachments/9938974904852)

A default set of dashboards are populated under “General”

![mceclip1.png](https://tickets.dominodatalab.com/hc/article_attachments/9938976310036)

## **Related articles:**

**[https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana](https://tickets.dominodatalab.com/hc/en-us/sections/17419429292436-Grafana)** 

### Recently viewed articles

*   [Grafana Alerting - Frontend Syntethics](https://tickets.dominodatalab.com/hc/en-us/articles/17290114774036-Grafana-Alerting-Frontend-Syntethics)
*   [Grafana Alerting - Domino Workloads](https://tickets.dominodatalab.com/hc/en-us/articles/17290076155284-Grafana-Alerting-Domino-Workloads)
*   [Grafana Alerting - Platform Pod Availability](https://tickets.dominodatalab.com/hc/en-us/articles/17290090584980-Grafana-Alerting-Platform-Pod-Availability)

### Related articles

*   [Does Domino support IMDSv2?](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJQ6oL3JCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHxBwKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJAL2hjL2VuLXVzL2FydGljbGVzLzk2NjI1NjI4NDMyODQtRG9lcy1Eb21pbm8tc3VwcG9ydC1JTURTdjIGOwhUOglyYW5raQY%3D--8b1c943087fecde3f5618626ab5548a8465efeb7)
*   [Downloading files from Dataset](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJT2uwOFBzoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHxBwKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJEL2hjL2VuLXVzL2FydGljbGVzLzgyNjc4NzQ2OTQ4MDQtRG93bmxvYWRpbmctZmlsZXMtZnJvbS1EYXRhc2V0BjsIVDoJcmFua2kH--157bd66d27b25c21800ad00bc6b3a604ad3084ed)
*   [Configure Certificates for A Specific Compute Environment](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBReSNgPBjoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHxBwKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJfL2hjL2VuLXVzL2FydGljbGVzLzY2NjUxMjI4OTc0MjgtQ29uZmlndXJlLUNlcnRpZmljYXRlcy1mb3ItQS1TcGVjaWZpYy1Db21wdXRlLUVudmlyb25tZW50BjsIVDoJcmFua2kI--18835af4412659bdf8853ec7eda19bc23a391ffb)
*   [500 and 400 errors due to com.bettercloud.vault.VaultException using K8s 1.21+ on Domino 4.6.x, 5.x up to 5.2.2 and 5.3.0](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCBRQ99dSCDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHxBwKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSIBmC9oYy9lbi11cy9hcnRpY2xlcy85MTUxOTAzNjQ5ODEyLTUwMC1hbmQtNDAwLWVycm9ycy1kdWUtdG8tY29tLWJldHRlcmNsb3VkLXZhdWx0LVZhdWx0RXhjZXB0aW9uLXVzaW5nLUs4cy0xLTIxLW9uLURvbWluby00LTYteC01LXgtdXAtdG8tNS0yLTItYW5kLTUtMy0wBjsIVDoJcmFua2kJ--8dd7a94edf3f80bb17fd9881333f570b8c02f196)
*   [Writing to the Domino File System from a Model API](https://tickets.dominodatalab.com/hc/en-us/related/click?data=BAh7CjobZGVzdGluYXRpb25fYXJ0aWNsZV9pZGwrCJSk1RH7CDoYcmVmZXJyZXJfYXJ0aWNsZV9pZGwrCJRHxBwKCToLbG9jYWxlSSIKZW4tdXMGOgZFVDoIdXJsSSJYL2hjL2VuLXVzL2FydGljbGVzLzk4NzQ0MjkwMjc0NzYtV3JpdGluZy10by10aGUtRG9taW5vLUZpbGUtU3lzdGVtLWZyb20tYS1Nb2RlbC1BUEkGOwhUOglyYW5raQo%3D--c7972be8ea822e8da2109726ff23ca7c019f2397)"
https://tickets.dominodatalab.com/hc/en-us/articles/15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status/subscription.html,"## oops

## The page you were looking for doesn't exist

You may have mistyped the address or the page may have moved

[Take me back to the home page](https://tickets.dominodatalab.com/hc/en-us ""Home"")"
https://tickets.dominodatalab.com/hc/en-us/signin?return_to=https%3A%2F%2Ftickets.dominodatalab.com%2Fhc%2Fen-us%2Farticles%2F15117223324948-Should-this-PV-persistentVolume-still-be-in-my-system-in-Retain-status&locale=en-us,"![](https://popup.dominodatalab.com/datapopup/wp-content/uploads/datalab-horizontal-color-e1538288948929.png)

*   Log In
*   Sign Up

or

Don't remember your password?"
